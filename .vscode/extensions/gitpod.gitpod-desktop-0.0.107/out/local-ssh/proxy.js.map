{"version":3,"file":"local-ssh/proxy.js","mappings":"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","sources":[".././node_modules/@gitpod/supervisor-api-grpc/lib/port_pb.js",".././node_modules/@grpc/proto-loader/build/src/index.js",".././node_modules/@grpc/proto-loader/build/src/util.js",".././node_modules/@grpc/proto-loader/node_modules/long/src/long.js",".././node_modules/@microsoft/dev-tunnels-ssh-keys/defaultKeyFormatter.js",".././node_modules/@microsoft/dev-tunnels-ssh-keys/importExport.js",".././node_modules/@microsoft/dev-tunnels-ssh-keys/index.js",".././node_modules/@microsoft/dev-tunnels-ssh-keys/jsonWebKeyFormatter.js",".././node_modules/@microsoft/dev-tunnels-ssh-keys/keyData.js",".././node_modules/@microsoft/dev-tunnels-ssh-keys/keyFormatter.js",".././node_modules/@microsoft/dev-tunnels-ssh-keys/pkcs1KeyFormatter.js",".././node_modules/@microsoft/dev-tunnels-ssh-keys/pkcs8KeyFormatter.js",".././node_modules/@microsoft/dev-tunnels-ssh-keys/publicKeyFormatter.js",".././node_modules/@microsoft/dev-tunnels-ssh-keys/sec1KeyFormatter.js",".././node_modules/@microsoft/dev-tunnels-ssh-tcp/events/forwardedPort.js",".././node_modules/@microsoft/dev-tunnels-ssh-tcp/events/forwardedPortEventArgs.js",".././node_modules/@microsoft/dev-tunnels-ssh-tcp/events/forwardedPortsCollection.js",".././node_modules/@microsoft/dev-tunnels-ssh-tcp/index.js",".././node_modules/@microsoft/dev-tunnels-ssh-tcp/ipAddressConversions.js",".././node_modules/@microsoft/dev-tunnels-ssh-tcp/messages/portForwardChannelOpenMessage.js",".././node_modules/@microsoft/dev-tunnels-ssh-tcp/messages/portForwardRequestMessage.js",".././node_modules/@microsoft/dev-tunnels-ssh-tcp/messages/portForwardSuccessMessage.js",".././node_modules/@microsoft/dev-tunnels-ssh-tcp/portForwardMessageFactory.js",".././node_modules/@microsoft/dev-tunnels-ssh-tcp/services/localPortForwarder.js",".././node_modules/@microsoft/dev-tunnels-ssh-tcp/services/portForwardingService.js",".././node_modules/@microsoft/dev-tunnels-ssh-tcp/services/remotePortConnector.js",".././node_modules/@microsoft/dev-tunnels-ssh-tcp/services/remotePortForwarder.js",".././node_modules/@microsoft/dev-tunnels-ssh-tcp/services/remotePortStreamer.js",".././node_modules/@microsoft/dev-tunnels-ssh-tcp/services/streamForwarder.js",".././node_modules/@microsoft/dev-tunnels-ssh-tcp/sshClient.js",".././node_modules/@microsoft/dev-tunnels-ssh-tcp/sshServer.js",".././node_modules/@microsoft/dev-tunnels-ssh-tcp/tcpListenerFactory.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/ecdsaCurves.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/encryptionAlgorithm.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/hmacAlgorithm.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/keyExchangeAlgorithm.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/node/keyFormatters.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/node/nodeECDsa.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/node/nodeEncryption.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/node/nodeHmac.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/node/nodeKeyExchange.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/node/nodeRandom.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/node/nodeRsa.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/publicKeyAlgorithm.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/sshAlgorithms.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/web/jsonWebKeyFormatter.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/web/webECDsa.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/web/webEncryption.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/web/webHmac.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/web/webKeyExchange.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/web/webRandom.js",".././node_modules/@microsoft/dev-tunnels-ssh/algorithms/web/webRsa.js",".././node_modules/@microsoft/dev-tunnels-ssh/errors.js",".././node_modules/@microsoft/dev-tunnels-ssh/events/sshAuthenticatingEventArgs.js",".././node_modules/@microsoft/dev-tunnels-ssh/events/sshChannelClosedEventArgs.js",".././node_modules/@microsoft/dev-tunnels-ssh/events/sshChannelOpeningEventArgs.js",".././node_modules/@microsoft/dev-tunnels-ssh/events/sshRequestEventArgs.js",".././node_modules/@microsoft/dev-tunnels-ssh/events/sshSessionClosedEventArgs.js",".././node_modules/@microsoft/dev-tunnels-ssh/index.js",".././node_modules/@microsoft/dev-tunnels-ssh/io/bigInt.js",".././node_modules/@microsoft/dev-tunnels-ssh/io/derData.js",".././node_modules/@microsoft/dev-tunnels-ssh/io/sshData.js",".././node_modules/@microsoft/dev-tunnels-ssh/io/sshProtocol.js",".././node_modules/@microsoft/dev-tunnels-ssh/messages/authenticationMessages.js",".././node_modules/@microsoft/dev-tunnels-ssh/messages/connectionMessages.js",".././node_modules/@microsoft/dev-tunnels-ssh/messages/kexMessages.js",".././node_modules/@microsoft/dev-tunnels-ssh/messages/sshMessage.js",".././node_modules/@microsoft/dev-tunnels-ssh/messages/transportMessages.js",".././node_modules/@microsoft/dev-tunnels-ssh/metrics/channelMetrics.js",".././node_modules/@microsoft/dev-tunnels-ssh/metrics/sessionContour.js",".././node_modules/@microsoft/dev-tunnels-ssh/metrics/sessionMetrics.js",".././node_modules/@microsoft/dev-tunnels-ssh/multiChannelStream.js",".././node_modules/@microsoft/dev-tunnels-ssh/node_modules/vscode-jsonrpc/lib/cancellation.js",".././node_modules/@microsoft/dev-tunnels-ssh/node_modules/vscode-jsonrpc/lib/events.js",".././node_modules/@microsoft/dev-tunnels-ssh/node_modules/vscode-jsonrpc/lib/is.js",".././node_modules/@microsoft/dev-tunnels-ssh/node_modules/vscode-jsonrpc/lib/linkedMap.js",".././node_modules/@microsoft/dev-tunnels-ssh/node_modules/vscode-jsonrpc/lib/main.js",".././node_modules/@microsoft/dev-tunnels-ssh/node_modules/vscode-jsonrpc/lib/messageReader.js",".././node_modules/@microsoft/dev-tunnels-ssh/node_modules/vscode-jsonrpc/lib/messageWriter.js",".././node_modules/@microsoft/dev-tunnels-ssh/node_modules/vscode-jsonrpc/lib/messages.js",".././node_modules/@microsoft/dev-tunnels-ssh/node_modules/vscode-jsonrpc/lib/pipeSupport.js",".././node_modules/@microsoft/dev-tunnels-ssh/node_modules/vscode-jsonrpc/lib/socketSupport.js",".././node_modules/@microsoft/dev-tunnels-ssh/pipeExtensions.js",".././node_modules/@microsoft/dev-tunnels-ssh/secureStream.js",".././node_modules/@microsoft/dev-tunnels-ssh/services/authenticationService.js",".././node_modules/@microsoft/dev-tunnels-ssh/services/connectionService.js",".././node_modules/@microsoft/dev-tunnels-ssh/services/keyExchangeService.js",".././node_modules/@microsoft/dev-tunnels-ssh/services/serviceActivation.js",".././node_modules/@microsoft/dev-tunnels-ssh/services/sshService.js",".././node_modules/@microsoft/dev-tunnels-ssh/sshChannel.js",".././node_modules/@microsoft/dev-tunnels-ssh/sshClientSession.js",".././node_modules/@microsoft/dev-tunnels-ssh/sshRpcMessageStream.js",".././node_modules/@microsoft/dev-tunnels-ssh/sshServerSession.js",".././node_modules/@microsoft/dev-tunnels-ssh/sshSession.js",".././node_modules/@microsoft/dev-tunnels-ssh/sshSessionAlgorithms.js",".././node_modules/@microsoft/dev-tunnels-ssh/sshSessionConfiguration.js",".././node_modules/@microsoft/dev-tunnels-ssh/sshStream.js",".././node_modules/@microsoft/dev-tunnels-ssh/sshVersionInfo.js",".././node_modules/@microsoft/dev-tunnels-ssh/streams.js",".././node_modules/@microsoft/dev-tunnels-ssh/trace.js",".././node_modules/@microsoft/dev-tunnels-ssh/util/cancellation.js",".././node_modules/@microsoft/dev-tunnels-ssh/util/promiseCompletionSource.js",".././node_modules/@microsoft/dev-tunnels-ssh/util/queue.js",".././node_modules/@microsoft/dev-tunnels-ssh/util/semaphore.js",".././node_modules/@protobufjs/aspromise/index.js",".././node_modules/@protobufjs/base64/index.js",".././node_modules/@protobufjs/codegen/index.js",".././node_modules/@protobufjs/eventemitter/index.js",".././node_modules/@protobufjs/fetch/index.js",".././node_modules/@protobufjs/float/index.js",".././node_modules/@protobufjs/inquire/index.js",".././node_modules/@protobufjs/path/index.js",".././node_modules/@protobufjs/pool/index.js",".././node_modules/@protobufjs/utf8/index.js",".././node_modules/abort-controller-x/es/AbortError.js",".././node_modules/abort-controller-x/es/execute.js",".././node_modules/abort-controller-x/es/abortable.js",".././node_modules/abort-controller-x/es/delay.js",".././node_modules/abort-controller-x/es/forever.js",".././node_modules/abort-controller-x/es/waitForEvent.js",".././node_modules/abort-controller-x/es/all.js",".././node_modules/abort-controller-x/es/race.js",".././node_modules/abort-controller-x/es/retry.js",".././node_modules/abort-controller-x/es/spawn.js",".././node_modules/abort-controller-x/es/run.js",".././node_modules/diffie-hellman/index.js",".././node_modules/google-protobuf/google-protobuf.js",".././node_modules/lodash.camelcase/index.js",".././node_modules/nice-grpc-common/lib/Metadata.js",".././node_modules/nice-grpc-common/lib/MethodDescriptor.js",".././node_modules/nice-grpc-common/lib/Status.js",".././node_modules/nice-grpc-common/lib/client/CallOptions.js",".././node_modules/nice-grpc-common/lib/client/ClientError.js",".././node_modules/nice-grpc-common/lib/client/ClientMiddleware.js",".././node_modules/nice-grpc-common/lib/client/composeClientMiddleware.js",".././node_modules/nice-grpc-common/lib/index.js",".././node_modules/nice-grpc-common/lib/server/CallContext.js",".././node_modules/nice-grpc-common/lib/server/ServerError.js",".././node_modules/nice-grpc-common/lib/server/ServerMiddleware.js",".././node_modules/nice-grpc-common/lib/server/composeServerMiddleware.js",".././node_modules/nice-grpc/lib/client/Client.js",".././node_modules/nice-grpc/lib/client/ClientFactory.js",".././node_modules/nice-grpc/lib/client/channel.js",".././node_modules/nice-grpc/lib/client/createBidiStreamingMethod.js",".././node_modules/nice-grpc/lib/client/createClientStreamingMethod.js",".././node_modules/nice-grpc/lib/client/createServerStreamingMethod.js",".././node_modules/nice-grpc/lib/client/createUnaryMethod.js",".././node_modules/nice-grpc/lib/client/wrapClientError.js",".././node_modules/nice-grpc/lib/index.js",".././node_modules/nice-grpc/lib/server/Server.js",".././node_modules/nice-grpc/lib/server/ServiceImplementation.js",".././node_modules/nice-grpc/lib/server/createCallContext.js",".././node_modules/nice-grpc/lib/server/createErrorStatusObject.js",".././node_modules/nice-grpc/lib/server/handleBidiStreamingCall.js",".././node_modules/nice-grpc/lib/server/handleClientStreamingCall.js",".././node_modules/nice-grpc/lib/server/handleServerStreamingCall.js",".././node_modules/nice-grpc/lib/server/handleUnaryCall.js",".././node_modules/nice-grpc/lib/service-definitions/grpc-js.js",".././node_modules/nice-grpc/lib/service-definitions/index.js",".././node_modules/nice-grpc/lib/service-definitions/ts-proto.js",".././node_modules/nice-grpc/lib/utils/convertMetadata.js",".././node_modules/nice-grpc/lib/utils/isAsyncIterable.js",".././node_modules/nice-grpc/lib/utils/patchClientWritableStream.js",".././node_modules/nice-grpc/lib/utils/readableToAsyncIterable.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/admin.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/backoff-timeout.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/call-credentials.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/call-interface.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/call-number.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/call.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/channel-credentials.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/channel-options.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/channel.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/channelz.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/client-interceptors.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/client.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/compression-algorithms.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/compression-filter.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/connectivity-state.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/constants.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/control-plane-status.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/deadline.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/duration.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/error.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/experimental.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/filter-stack.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/filter.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/http_proxy.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/index.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/internal-channel.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/load-balancer-child-handler.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/load-balancer-outlier-detection.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/load-balancer-pick-first.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/load-balancer-round-robin.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/load-balancer.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/load-balancing-call.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/logging.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/make-client.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/max-message-size-filter.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/metadata.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/picker.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/resolver-dns.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/resolver-ip.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/resolver-uds.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/resolver.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/resolving-call.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/resolving-load-balancer.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/retrying-call.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/server-call.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/server-credentials.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/server.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/service-config.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/status-builder.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/stream-decoder.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/subchannel-address.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/subchannel-call.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/subchannel-interface.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/subchannel-pool.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/subchannel.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/tls-helpers.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/transport.js",".././node_modules/nice-grpc/node_modules/@grpc/grpc-js/build/src/uri-parser.js",".././node_modules/protobufjs/ext/descriptor/index.js",".././node_modules/protobufjs/index.js",".././node_modules/protobufjs/minimal.js",".././node_modules/protobufjs/src/common.js",".././node_modules/protobufjs/src/converter.js",".././node_modules/protobufjs/src/decoder.js",".././node_modules/protobufjs/src/encoder.js",".././node_modules/protobufjs/src/enum.js",".././node_modules/protobufjs/src/field.js",".././node_modules/protobufjs/src/index-light.js",".././node_modules/protobufjs/src/index-minimal.js",".././node_modules/protobufjs/src/index.js",".././node_modules/protobufjs/src/mapfield.js",".././node_modules/protobufjs/src/message.js",".././node_modules/protobufjs/src/method.js",".././node_modules/protobufjs/src/namespace.js",".././node_modules/protobufjs/src/object.js",".././node_modules/protobufjs/src/oneof.js",".././node_modules/protobufjs/src/parse.js",".././node_modules/protobufjs/src/reader.js",".././node_modules/protobufjs/src/reader_buffer.js",".././node_modules/protobufjs/src/root.js",".././node_modules/protobufjs/src/roots.js",".././node_modules/protobufjs/src/rpc.js",".././node_modules/protobufjs/src/rpc/service.js",".././node_modules/protobufjs/src/service.js",".././node_modules/protobufjs/src/tokenize.js",".././node_modules/protobufjs/src/type.js",".././node_modules/protobufjs/src/types.js",".././node_modules/protobufjs/src/util.js",".././node_modules/protobufjs/src/util/longbits.js",".././node_modules/protobufjs/src/util/minimal.js",".././node_modules/protobufjs/src/verifier.js",".././node_modules/protobufjs/src/wrappers.js",".././node_modules/protobufjs/src/writer.js",".././node_modules/protobufjs/src/writer_buffer.js",".././node_modules/ts-error/lib/es.js",".././src/common/async.ts",".././src/local-ssh/logger.ts",".././src/local-ssh/proxy.ts",".././src/proto/typescript/ipc/v1/ipc.ts",".././node_modules/vscode-jsonrpc/lib/cancellation.js",".././node_modules/vscode-jsonrpc/lib/events.js",".././node_modules/vscode-jsonrpc/lib/is.js",".././node_modules/vscode-jsonrpc/lib/linkedMap.js",".././node_modules/vscode-jsonrpc/lib/main.js",".././node_modules/vscode-jsonrpc/lib/messageReader.js",".././node_modules/vscode-jsonrpc/lib/messageWriter.js",".././node_modules/vscode-jsonrpc/lib/messages.js",".././node_modules/vscode-jsonrpc/lib/pipeSupport.js",".././node_modules/vscode-jsonrpc/lib/socketSupport.js",".././node_modules/ws/index.js",".././node_modules/ws/lib/buffer-util.js",".././node_modules/ws/lib/constants.js",".././node_modules/ws/lib/event-target.js",".././node_modules/ws/lib/extension.js",".././node_modules/ws/lib/limiter.js",".././node_modules/ws/lib/permessage-deflate.js",".././node_modules/ws/lib/receiver.js",".././node_modules/ws/lib/sender.js",".././node_modules/ws/lib/stream.js",".././node_modules/ws/lib/subprotocol.js",".././node_modules/ws/lib/validation.js",".././node_modules/ws/lib/websocket-server.js",".././node_modules/ws/lib/websocket.js","../external commonjs2 \"bufferutil\"","../external commonjs2 \"node-rsa\"","../external commonjs2 \"utf-8-validate\"","../external node-commonjs \"buffer\"","../external node-commonjs \"crypto\"","../external node-commonjs \"dns\"","../external node-commonjs \"events\"","../external node-commonjs \"fs\"","../external node-commonjs \"http\"","../external node-commonjs \"http2\"","../external node-commonjs \"https\"","../external node-commonjs \"net\"","../external node-commonjs \"os\"","../external node-commonjs \"path\"","../external node-commonjs \"stream\"","../external node-commonjs \"tls\"","../external node-commonjs \"url\"","../external node-commonjs \"util\"","../external node-commonjs \"zlib\"","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/startup"],"sourcesContent":["// source: port.proto\n/**\n * @fileoverview\n * @enhanceable\n * @suppress {missingRequire} reports error on implicit type usages.\n * @suppress {messageConventions} JS Compiler reports an error if a variable or\n *     field starts with 'MSG_' and isn't a translatable message.\n * @public\n */\n// GENERATED CODE -- DO NOT EDIT!\n/* eslint-disable */\n// @ts-nocheck\n\nvar jspb = require('google-protobuf');\nvar goog = jspb;\nvar global = (function() { return this || window || global || self || Function('return this')(); }).call(null);\n\ngoog.exportSymbol('proto.supervisor.AutoTunnelRequest', null, global);\ngoog.exportSymbol('proto.supervisor.AutoTunnelResponse', null, global);\ngoog.exportSymbol('proto.supervisor.CloseTunnelRequest', null, global);\ngoog.exportSymbol('proto.supervisor.CloseTunnelResponse', null, global);\ngoog.exportSymbol('proto.supervisor.EstablishTunnelRequest', null, global);\ngoog.exportSymbol('proto.supervisor.EstablishTunnelRequest.OutputCase', null, global);\ngoog.exportSymbol('proto.supervisor.EstablishTunnelResponse', null, global);\ngoog.exportSymbol('proto.supervisor.RetryAutoExposeRequest', null, global);\ngoog.exportSymbol('proto.supervisor.RetryAutoExposeResponse', null, global);\ngoog.exportSymbol('proto.supervisor.TunnelPortRequest', null, global);\ngoog.exportSymbol('proto.supervisor.TunnelPortResponse', null, global);\ngoog.exportSymbol('proto.supervisor.TunnelVisiblity', null, global);\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.supervisor.TunnelPortRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.supervisor.TunnelPortRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.supervisor.TunnelPortRequest.displayName = 'proto.supervisor.TunnelPortRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.supervisor.TunnelPortResponse = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.supervisor.TunnelPortResponse, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.supervisor.TunnelPortResponse.displayName = 'proto.supervisor.TunnelPortResponse';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.supervisor.CloseTunnelRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.supervisor.CloseTunnelRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.supervisor.CloseTunnelRequest.displayName = 'proto.supervisor.CloseTunnelRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.supervisor.CloseTunnelResponse = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.supervisor.CloseTunnelResponse, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.supervisor.CloseTunnelResponse.displayName = 'proto.supervisor.CloseTunnelResponse';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.supervisor.EstablishTunnelRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, proto.supervisor.EstablishTunnelRequest.oneofGroups_);\n};\ngoog.inherits(proto.supervisor.EstablishTunnelRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.supervisor.EstablishTunnelRequest.displayName = 'proto.supervisor.EstablishTunnelRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.supervisor.EstablishTunnelResponse = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.supervisor.EstablishTunnelResponse, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.supervisor.EstablishTunnelResponse.displayName = 'proto.supervisor.EstablishTunnelResponse';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.supervisor.AutoTunnelRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.supervisor.AutoTunnelRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.supervisor.AutoTunnelRequest.displayName = 'proto.supervisor.AutoTunnelRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.supervisor.AutoTunnelResponse = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.supervisor.AutoTunnelResponse, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.supervisor.AutoTunnelResponse.displayName = 'proto.supervisor.AutoTunnelResponse';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.supervisor.RetryAutoExposeRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.supervisor.RetryAutoExposeRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.supervisor.RetryAutoExposeRequest.displayName = 'proto.supervisor.RetryAutoExposeRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.supervisor.RetryAutoExposeResponse = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.supervisor.RetryAutoExposeResponse, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.supervisor.RetryAutoExposeResponse.displayName = 'proto.supervisor.RetryAutoExposeResponse';\n}\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.supervisor.TunnelPortRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.supervisor.TunnelPortRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.supervisor.TunnelPortRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.TunnelPortRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    port: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    targetPort: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    visibility: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    clientId: jspb.Message.getFieldWithDefault(msg, 4, \"\")\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.supervisor.TunnelPortRequest}\n */\nproto.supervisor.TunnelPortRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.supervisor.TunnelPortRequest;\n  return proto.supervisor.TunnelPortRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.supervisor.TunnelPortRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.supervisor.TunnelPortRequest}\n */\nproto.supervisor.TunnelPortRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPort(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTargetPort(value);\n      break;\n    case 3:\n      var value = /** @type {!proto.supervisor.TunnelVisiblity} */ (reader.readEnum());\n      msg.setVisibility(value);\n      break;\n    case 4:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setClientId(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.supervisor.TunnelPortRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.supervisor.TunnelPortRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.supervisor.TunnelPortRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.TunnelPortRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getPort();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n  f = message.getTargetPort();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getVisibility();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      3,\n      f\n    );\n  }\n  f = message.getClientId();\n  if (f.length > 0) {\n    writer.writeString(\n      4,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 port = 1;\n * @return {number}\n */\nproto.supervisor.TunnelPortRequest.prototype.getPort = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.supervisor.TunnelPortRequest} returns this\n */\nproto.supervisor.TunnelPortRequest.prototype.setPort = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * optional uint32 target_port = 2;\n * @return {number}\n */\nproto.supervisor.TunnelPortRequest.prototype.getTargetPort = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.supervisor.TunnelPortRequest} returns this\n */\nproto.supervisor.TunnelPortRequest.prototype.setTargetPort = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional TunnelVisiblity visibility = 3;\n * @return {!proto.supervisor.TunnelVisiblity}\n */\nproto.supervisor.TunnelPortRequest.prototype.getVisibility = function() {\n  return /** @type {!proto.supervisor.TunnelVisiblity} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {!proto.supervisor.TunnelVisiblity} value\n * @return {!proto.supervisor.TunnelPortRequest} returns this\n */\nproto.supervisor.TunnelPortRequest.prototype.setVisibility = function(value) {\n  return jspb.Message.setProto3EnumField(this, 3, value);\n};\n\n\n/**\n * optional string client_id = 4;\n * @return {string}\n */\nproto.supervisor.TunnelPortRequest.prototype.getClientId = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 4, \"\"));\n};\n\n\n/**\n * @param {string} value\n * @return {!proto.supervisor.TunnelPortRequest} returns this\n */\nproto.supervisor.TunnelPortRequest.prototype.setClientId = function(value) {\n  return jspb.Message.setProto3StringField(this, 4, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.supervisor.TunnelPortResponse.prototype.toObject = function(opt_includeInstance) {\n  return proto.supervisor.TunnelPortResponse.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.supervisor.TunnelPortResponse} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.TunnelPortResponse.toObject = function(includeInstance, msg) {\n  var f, obj = {\n\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.supervisor.TunnelPortResponse}\n */\nproto.supervisor.TunnelPortResponse.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.supervisor.TunnelPortResponse;\n  return proto.supervisor.TunnelPortResponse.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.supervisor.TunnelPortResponse} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.supervisor.TunnelPortResponse}\n */\nproto.supervisor.TunnelPortResponse.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.supervisor.TunnelPortResponse.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.supervisor.TunnelPortResponse.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.supervisor.TunnelPortResponse} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.TunnelPortResponse.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.supervisor.CloseTunnelRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.supervisor.CloseTunnelRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.supervisor.CloseTunnelRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.CloseTunnelRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    port: jspb.Message.getFieldWithDefault(msg, 1, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.supervisor.CloseTunnelRequest}\n */\nproto.supervisor.CloseTunnelRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.supervisor.CloseTunnelRequest;\n  return proto.supervisor.CloseTunnelRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.supervisor.CloseTunnelRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.supervisor.CloseTunnelRequest}\n */\nproto.supervisor.CloseTunnelRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPort(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.supervisor.CloseTunnelRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.supervisor.CloseTunnelRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.supervisor.CloseTunnelRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.CloseTunnelRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getPort();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 port = 1;\n * @return {number}\n */\nproto.supervisor.CloseTunnelRequest.prototype.getPort = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.supervisor.CloseTunnelRequest} returns this\n */\nproto.supervisor.CloseTunnelRequest.prototype.setPort = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.supervisor.CloseTunnelResponse.prototype.toObject = function(opt_includeInstance) {\n  return proto.supervisor.CloseTunnelResponse.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.supervisor.CloseTunnelResponse} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.CloseTunnelResponse.toObject = function(includeInstance, msg) {\n  var f, obj = {\n\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.supervisor.CloseTunnelResponse}\n */\nproto.supervisor.CloseTunnelResponse.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.supervisor.CloseTunnelResponse;\n  return proto.supervisor.CloseTunnelResponse.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.supervisor.CloseTunnelResponse} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.supervisor.CloseTunnelResponse}\n */\nproto.supervisor.CloseTunnelResponse.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.supervisor.CloseTunnelResponse.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.supervisor.CloseTunnelResponse.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.supervisor.CloseTunnelResponse} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.CloseTunnelResponse.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n};\n\n\n\n/**\n * Oneof group definitions for this message. Each group defines the field\n * numbers belonging to that group. When of these fields' value is set, all\n * other fields in the group are cleared. During deserialization, if multiple\n * fields are encountered for a group, only the last value seen will be kept.\n * @private {!Array<!Array<number>>}\n * @const\n */\nproto.supervisor.EstablishTunnelRequest.oneofGroups_ = [[1,2]];\n\n/**\n * @enum {number}\n */\nproto.supervisor.EstablishTunnelRequest.OutputCase = {\n  OUTPUT_NOT_SET: 0,\n  DESC: 1,\n  DATA: 2\n};\n\n/**\n * @return {proto.supervisor.EstablishTunnelRequest.OutputCase}\n */\nproto.supervisor.EstablishTunnelRequest.prototype.getOutputCase = function() {\n  return /** @type {proto.supervisor.EstablishTunnelRequest.OutputCase} */(jspb.Message.computeOneofCase(this, proto.supervisor.EstablishTunnelRequest.oneofGroups_[0]));\n};\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.supervisor.EstablishTunnelRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.supervisor.EstablishTunnelRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.supervisor.EstablishTunnelRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.EstablishTunnelRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    desc: (f = msg.getDesc()) && proto.supervisor.TunnelPortRequest.toObject(includeInstance, f),\n    data: msg.getData_asB64()\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.supervisor.EstablishTunnelRequest}\n */\nproto.supervisor.EstablishTunnelRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.supervisor.EstablishTunnelRequest;\n  return proto.supervisor.EstablishTunnelRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.supervisor.EstablishTunnelRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.supervisor.EstablishTunnelRequest}\n */\nproto.supervisor.EstablishTunnelRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new proto.supervisor.TunnelPortRequest;\n      reader.readMessage(value,proto.supervisor.TunnelPortRequest.deserializeBinaryFromReader);\n      msg.setDesc(value);\n      break;\n    case 2:\n      var value = /** @type {!Uint8Array} */ (reader.readBytes());\n      msg.setData(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.supervisor.EstablishTunnelRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.supervisor.EstablishTunnelRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.supervisor.EstablishTunnelRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.EstablishTunnelRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getDesc();\n  if (f != null) {\n    writer.writeMessage(\n      1,\n      f,\n      proto.supervisor.TunnelPortRequest.serializeBinaryToWriter\n    );\n  }\n  f = /** @type {!(string|Uint8Array)} */ (jspb.Message.getField(message, 2));\n  if (f != null) {\n    writer.writeBytes(\n      2,\n      f\n    );\n  }\n};\n\n\n/**\n * optional TunnelPortRequest desc = 1;\n * @return {?proto.supervisor.TunnelPortRequest}\n */\nproto.supervisor.EstablishTunnelRequest.prototype.getDesc = function() {\n  return /** @type{?proto.supervisor.TunnelPortRequest} */ (\n    jspb.Message.getWrapperField(this, proto.supervisor.TunnelPortRequest, 1));\n};\n\n\n/**\n * @param {?proto.supervisor.TunnelPortRequest|undefined} value\n * @return {!proto.supervisor.EstablishTunnelRequest} returns this\n*/\nproto.supervisor.EstablishTunnelRequest.prototype.setDesc = function(value) {\n  return jspb.Message.setOneofWrapperField(this, 1, proto.supervisor.EstablishTunnelRequest.oneofGroups_[0], value);\n};\n\n\n/**\n * Clears the message field making it undefined.\n * @return {!proto.supervisor.EstablishTunnelRequest} returns this\n */\nproto.supervisor.EstablishTunnelRequest.prototype.clearDesc = function() {\n  return this.setDesc(undefined);\n};\n\n\n/**\n * Returns whether this field is set.\n * @return {boolean}\n */\nproto.supervisor.EstablishTunnelRequest.prototype.hasDesc = function() {\n  return jspb.Message.getField(this, 1) != null;\n};\n\n\n/**\n * optional bytes data = 2;\n * @return {!(string|Uint8Array)}\n */\nproto.supervisor.EstablishTunnelRequest.prototype.getData = function() {\n  return /** @type {!(string|Uint8Array)} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/**\n * optional bytes data = 2;\n * This is a type-conversion wrapper around `getData()`\n * @return {string}\n */\nproto.supervisor.EstablishTunnelRequest.prototype.getData_asB64 = function() {\n  return /** @type {string} */ (jspb.Message.bytesAsB64(\n      this.getData()));\n};\n\n\n/**\n * optional bytes data = 2;\n * Note that Uint8Array is not supported on all browsers.\n * @see http://caniuse.com/Uint8Array\n * This is a type-conversion wrapper around `getData()`\n * @return {!Uint8Array}\n */\nproto.supervisor.EstablishTunnelRequest.prototype.getData_asU8 = function() {\n  return /** @type {!Uint8Array} */ (jspb.Message.bytesAsU8(\n      this.getData()));\n};\n\n\n/**\n * @param {!(string|Uint8Array)} value\n * @return {!proto.supervisor.EstablishTunnelRequest} returns this\n */\nproto.supervisor.EstablishTunnelRequest.prototype.setData = function(value) {\n  return jspb.Message.setOneofField(this, 2, proto.supervisor.EstablishTunnelRequest.oneofGroups_[0], value);\n};\n\n\n/**\n * Clears the field making it undefined.\n * @return {!proto.supervisor.EstablishTunnelRequest} returns this\n */\nproto.supervisor.EstablishTunnelRequest.prototype.clearData = function() {\n  return jspb.Message.setOneofField(this, 2, proto.supervisor.EstablishTunnelRequest.oneofGroups_[0], undefined);\n};\n\n\n/**\n * Returns whether this field is set.\n * @return {boolean}\n */\nproto.supervisor.EstablishTunnelRequest.prototype.hasData = function() {\n  return jspb.Message.getField(this, 2) != null;\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.supervisor.EstablishTunnelResponse.prototype.toObject = function(opt_includeInstance) {\n  return proto.supervisor.EstablishTunnelResponse.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.supervisor.EstablishTunnelResponse} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.EstablishTunnelResponse.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    data: msg.getData_asB64()\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.supervisor.EstablishTunnelResponse}\n */\nproto.supervisor.EstablishTunnelResponse.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.supervisor.EstablishTunnelResponse;\n  return proto.supervisor.EstablishTunnelResponse.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.supervisor.EstablishTunnelResponse} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.supervisor.EstablishTunnelResponse}\n */\nproto.supervisor.EstablishTunnelResponse.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {!Uint8Array} */ (reader.readBytes());\n      msg.setData(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.supervisor.EstablishTunnelResponse.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.supervisor.EstablishTunnelResponse.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.supervisor.EstablishTunnelResponse} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.EstablishTunnelResponse.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getData_asU8();\n  if (f.length > 0) {\n    writer.writeBytes(\n      1,\n      f\n    );\n  }\n};\n\n\n/**\n * optional bytes data = 1;\n * @return {!(string|Uint8Array)}\n */\nproto.supervisor.EstablishTunnelResponse.prototype.getData = function() {\n  return /** @type {!(string|Uint8Array)} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/**\n * optional bytes data = 1;\n * This is a type-conversion wrapper around `getData()`\n * @return {string}\n */\nproto.supervisor.EstablishTunnelResponse.prototype.getData_asB64 = function() {\n  return /** @type {string} */ (jspb.Message.bytesAsB64(\n      this.getData()));\n};\n\n\n/**\n * optional bytes data = 1;\n * Note that Uint8Array is not supported on all browsers.\n * @see http://caniuse.com/Uint8Array\n * This is a type-conversion wrapper around `getData()`\n * @return {!Uint8Array}\n */\nproto.supervisor.EstablishTunnelResponse.prototype.getData_asU8 = function() {\n  return /** @type {!Uint8Array} */ (jspb.Message.bytesAsU8(\n      this.getData()));\n};\n\n\n/**\n * @param {!(string|Uint8Array)} value\n * @return {!proto.supervisor.EstablishTunnelResponse} returns this\n */\nproto.supervisor.EstablishTunnelResponse.prototype.setData = function(value) {\n  return jspb.Message.setProto3BytesField(this, 1, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.supervisor.AutoTunnelRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.supervisor.AutoTunnelRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.supervisor.AutoTunnelRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.AutoTunnelRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    enabled: jspb.Message.getBooleanFieldWithDefault(msg, 1, false)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.supervisor.AutoTunnelRequest}\n */\nproto.supervisor.AutoTunnelRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.supervisor.AutoTunnelRequest;\n  return proto.supervisor.AutoTunnelRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.supervisor.AutoTunnelRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.supervisor.AutoTunnelRequest}\n */\nproto.supervisor.AutoTunnelRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {boolean} */ (reader.readBool());\n      msg.setEnabled(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.supervisor.AutoTunnelRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.supervisor.AutoTunnelRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.supervisor.AutoTunnelRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.AutoTunnelRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getEnabled();\n  if (f) {\n    writer.writeBool(\n      1,\n      f\n    );\n  }\n};\n\n\n/**\n * optional bool enabled = 1;\n * @return {boolean}\n */\nproto.supervisor.AutoTunnelRequest.prototype.getEnabled = function() {\n  return /** @type {boolean} */ (jspb.Message.getBooleanFieldWithDefault(this, 1, false));\n};\n\n\n/**\n * @param {boolean} value\n * @return {!proto.supervisor.AutoTunnelRequest} returns this\n */\nproto.supervisor.AutoTunnelRequest.prototype.setEnabled = function(value) {\n  return jspb.Message.setProto3BooleanField(this, 1, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.supervisor.AutoTunnelResponse.prototype.toObject = function(opt_includeInstance) {\n  return proto.supervisor.AutoTunnelResponse.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.supervisor.AutoTunnelResponse} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.AutoTunnelResponse.toObject = function(includeInstance, msg) {\n  var f, obj = {\n\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.supervisor.AutoTunnelResponse}\n */\nproto.supervisor.AutoTunnelResponse.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.supervisor.AutoTunnelResponse;\n  return proto.supervisor.AutoTunnelResponse.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.supervisor.AutoTunnelResponse} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.supervisor.AutoTunnelResponse}\n */\nproto.supervisor.AutoTunnelResponse.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.supervisor.AutoTunnelResponse.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.supervisor.AutoTunnelResponse.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.supervisor.AutoTunnelResponse} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.AutoTunnelResponse.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.supervisor.RetryAutoExposeRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.supervisor.RetryAutoExposeRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.supervisor.RetryAutoExposeRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.RetryAutoExposeRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    port: jspb.Message.getFieldWithDefault(msg, 1, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.supervisor.RetryAutoExposeRequest}\n */\nproto.supervisor.RetryAutoExposeRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.supervisor.RetryAutoExposeRequest;\n  return proto.supervisor.RetryAutoExposeRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.supervisor.RetryAutoExposeRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.supervisor.RetryAutoExposeRequest}\n */\nproto.supervisor.RetryAutoExposeRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPort(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.supervisor.RetryAutoExposeRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.supervisor.RetryAutoExposeRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.supervisor.RetryAutoExposeRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.RetryAutoExposeRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getPort();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 port = 1;\n * @return {number}\n */\nproto.supervisor.RetryAutoExposeRequest.prototype.getPort = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.supervisor.RetryAutoExposeRequest} returns this\n */\nproto.supervisor.RetryAutoExposeRequest.prototype.setPort = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.supervisor.RetryAutoExposeResponse.prototype.toObject = function(opt_includeInstance) {\n  return proto.supervisor.RetryAutoExposeResponse.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.supervisor.RetryAutoExposeResponse} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.RetryAutoExposeResponse.toObject = function(includeInstance, msg) {\n  var f, obj = {\n\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.supervisor.RetryAutoExposeResponse}\n */\nproto.supervisor.RetryAutoExposeResponse.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.supervisor.RetryAutoExposeResponse;\n  return proto.supervisor.RetryAutoExposeResponse.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.supervisor.RetryAutoExposeResponse} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.supervisor.RetryAutoExposeResponse}\n */\nproto.supervisor.RetryAutoExposeResponse.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.supervisor.RetryAutoExposeResponse.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.supervisor.RetryAutoExposeResponse.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.supervisor.RetryAutoExposeResponse} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.supervisor.RetryAutoExposeResponse.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n};\n\n\n/**\n * @enum {number}\n */\nproto.supervisor.TunnelVisiblity = {\n  NONE: 0,\n  HOST: 1,\n  NETWORK: 2\n};\n\ngoog.object.extend(exports, proto.supervisor);\n","\"use strict\";\n/**\n * @license\n * Copyright 2018 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadFileDescriptorSetFromObject = exports.loadFileDescriptorSetFromBuffer = exports.fromJSON = exports.loadSync = exports.load = exports.isAnyExtension = exports.Long = void 0;\nconst camelCase = require(\"lodash.camelcase\");\nconst Protobuf = require(\"protobufjs\");\nconst descriptor = require(\"protobufjs/ext/descriptor\");\nconst util_1 = require(\"./util\");\nconst Long = require(\"long\");\nexports.Long = Long;\nfunction isAnyExtension(obj) {\n    return ('@type' in obj) && (typeof obj['@type'] === 'string');\n}\nexports.isAnyExtension = isAnyExtension;\nconst descriptorOptions = {\n    longs: String,\n    enums: String,\n    bytes: String,\n    defaults: true,\n    oneofs: true,\n    json: true,\n};\nfunction joinName(baseName, name) {\n    if (baseName === '') {\n        return name;\n    }\n    else {\n        return baseName + '.' + name;\n    }\n}\nfunction isHandledReflectionObject(obj) {\n    return (obj instanceof Protobuf.Service ||\n        obj instanceof Protobuf.Type ||\n        obj instanceof Protobuf.Enum);\n}\nfunction isNamespaceBase(obj) {\n    return obj instanceof Protobuf.Namespace || obj instanceof Protobuf.Root;\n}\nfunction getAllHandledReflectionObjects(obj, parentName) {\n    const objName = joinName(parentName, obj.name);\n    if (isHandledReflectionObject(obj)) {\n        return [[objName, obj]];\n    }\n    else {\n        if (isNamespaceBase(obj) && typeof obj.nested !== 'undefined') {\n            return Object.keys(obj.nested)\n                .map(name => {\n                return getAllHandledReflectionObjects(obj.nested[name], objName);\n            })\n                .reduce((accumulator, currentValue) => accumulator.concat(currentValue), []);\n        }\n    }\n    return [];\n}\nfunction createDeserializer(cls, options) {\n    return function deserialize(argBuf) {\n        return cls.toObject(cls.decode(argBuf), options);\n    };\n}\nfunction createSerializer(cls) {\n    return function serialize(arg) {\n        if (Array.isArray(arg)) {\n            throw new Error(`Failed to serialize message: expected object with ${cls.name} structure, got array instead`);\n        }\n        const message = cls.fromObject(arg);\n        return cls.encode(message).finish();\n    };\n}\nfunction createMethodDefinition(method, serviceName, options, fileDescriptors) {\n    /* This is only ever called after the corresponding root.resolveAll(), so we\n     * can assume that the resolved request and response types are non-null */\n    const requestType = method.resolvedRequestType;\n    const responseType = method.resolvedResponseType;\n    return {\n        path: '/' + serviceName + '/' + method.name,\n        requestStream: !!method.requestStream,\n        responseStream: !!method.responseStream,\n        requestSerialize: createSerializer(requestType),\n        requestDeserialize: createDeserializer(requestType, options),\n        responseSerialize: createSerializer(responseType),\n        responseDeserialize: createDeserializer(responseType, options),\n        // TODO(murgatroid99): Find a better way to handle this\n        originalName: camelCase(method.name),\n        requestType: createMessageDefinition(requestType, fileDescriptors),\n        responseType: createMessageDefinition(responseType, fileDescriptors),\n    };\n}\nfunction createServiceDefinition(service, name, options, fileDescriptors) {\n    const def = {};\n    for (const method of service.methodsArray) {\n        def[method.name] = createMethodDefinition(method, name, options, fileDescriptors);\n    }\n    return def;\n}\nfunction createMessageDefinition(message, fileDescriptors) {\n    const messageDescriptor = message.toDescriptor('proto3');\n    return {\n        format: 'Protocol Buffer 3 DescriptorProto',\n        type: messageDescriptor.$type.toObject(messageDescriptor, descriptorOptions),\n        fileDescriptorProtos: fileDescriptors,\n    };\n}\nfunction createEnumDefinition(enumType, fileDescriptors) {\n    const enumDescriptor = enumType.toDescriptor('proto3');\n    return {\n        format: 'Protocol Buffer 3 EnumDescriptorProto',\n        type: enumDescriptor.$type.toObject(enumDescriptor, descriptorOptions),\n        fileDescriptorProtos: fileDescriptors,\n    };\n}\n/**\n * function createDefinition(obj: Protobuf.Service, name: string, options:\n * Options): ServiceDefinition; function createDefinition(obj: Protobuf.Type,\n * name: string, options: Options): MessageTypeDefinition; function\n * createDefinition(obj: Protobuf.Enum, name: string, options: Options):\n * EnumTypeDefinition;\n */\nfunction createDefinition(obj, name, options, fileDescriptors) {\n    if (obj instanceof Protobuf.Service) {\n        return createServiceDefinition(obj, name, options, fileDescriptors);\n    }\n    else if (obj instanceof Protobuf.Type) {\n        return createMessageDefinition(obj, fileDescriptors);\n    }\n    else if (obj instanceof Protobuf.Enum) {\n        return createEnumDefinition(obj, fileDescriptors);\n    }\n    else {\n        throw new Error('Type mismatch in reflection object handling');\n    }\n}\nfunction createPackageDefinition(root, options) {\n    const def = {};\n    root.resolveAll();\n    const descriptorList = root.toDescriptor('proto3').file;\n    const bufferList = descriptorList.map(value => Buffer.from(descriptor.FileDescriptorProto.encode(value).finish()));\n    for (const [name, obj] of getAllHandledReflectionObjects(root, '')) {\n        def[name] = createDefinition(obj, name, options, bufferList);\n    }\n    return def;\n}\nfunction createPackageDefinitionFromDescriptorSet(decodedDescriptorSet, options) {\n    options = options || {};\n    const root = Protobuf.Root.fromDescriptor(decodedDescriptorSet);\n    root.resolveAll();\n    return createPackageDefinition(root, options);\n}\n/**\n * Load a .proto file with the specified options.\n * @param filename One or multiple file paths to load. Can be an absolute path\n *     or relative to an include path.\n * @param options.keepCase Preserve field names. The default is to change them\n *     to camel case.\n * @param options.longs The type that should be used to represent `long` values.\n *     Valid options are `Number` and `String`. Defaults to a `Long` object type\n *     from a library.\n * @param options.enums The type that should be used to represent `enum` values.\n *     The only valid option is `String`. Defaults to the numeric value.\n * @param options.bytes The type that should be used to represent `bytes`\n *     values. Valid options are `Array` and `String`. The default is to use\n *     `Buffer`.\n * @param options.defaults Set default values on output objects. Defaults to\n *     `false`.\n * @param options.arrays Set empty arrays for missing array values even if\n *     `defaults` is `false`. Defaults to `false`.\n * @param options.objects Set empty objects for missing object values even if\n *     `defaults` is `false`. Defaults to `false`.\n * @param options.oneofs Set virtual oneof properties to the present field's\n *     name\n * @param options.json Represent Infinity and NaN as strings in float fields,\n *     and automatically decode google.protobuf.Any values.\n * @param options.includeDirs Paths to search for imported `.proto` files.\n */\nfunction load(filename, options) {\n    return (0, util_1.loadProtosWithOptions)(filename, options).then(loadedRoot => {\n        return createPackageDefinition(loadedRoot, options);\n    });\n}\nexports.load = load;\nfunction loadSync(filename, options) {\n    const loadedRoot = (0, util_1.loadProtosWithOptionsSync)(filename, options);\n    return createPackageDefinition(loadedRoot, options);\n}\nexports.loadSync = loadSync;\nfunction fromJSON(json, options) {\n    options = options || {};\n    const loadedRoot = Protobuf.Root.fromJSON(json);\n    loadedRoot.resolveAll();\n    return createPackageDefinition(loadedRoot, options);\n}\nexports.fromJSON = fromJSON;\nfunction loadFileDescriptorSetFromBuffer(descriptorSet, options) {\n    const decodedDescriptorSet = descriptor.FileDescriptorSet.decode(descriptorSet);\n    return createPackageDefinitionFromDescriptorSet(decodedDescriptorSet, options);\n}\nexports.loadFileDescriptorSetFromBuffer = loadFileDescriptorSetFromBuffer;\nfunction loadFileDescriptorSetFromObject(descriptorSet, options) {\n    const decodedDescriptorSet = descriptor.FileDescriptorSet.fromObject(descriptorSet);\n    return createPackageDefinitionFromDescriptorSet(decodedDescriptorSet, options);\n}\nexports.loadFileDescriptorSetFromObject = loadFileDescriptorSetFromObject;\n(0, util_1.addCommonProtos)();\n//# sourceMappingURL=index.js.map","\"use strict\";\n/**\n * @license\n * Copyright 2018 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.addCommonProtos = exports.loadProtosWithOptionsSync = exports.loadProtosWithOptions = void 0;\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst Protobuf = require(\"protobufjs\");\nfunction addIncludePathResolver(root, includePaths) {\n    const originalResolvePath = root.resolvePath;\n    root.resolvePath = (origin, target) => {\n        if (path.isAbsolute(target)) {\n            return target;\n        }\n        for (const directory of includePaths) {\n            const fullPath = path.join(directory, target);\n            try {\n                fs.accessSync(fullPath, fs.constants.R_OK);\n                return fullPath;\n            }\n            catch (err) {\n                continue;\n            }\n        }\n        process.emitWarning(`${target} not found in any of the include paths ${includePaths}`);\n        return originalResolvePath(origin, target);\n    };\n}\nasync function loadProtosWithOptions(filename, options) {\n    const root = new Protobuf.Root();\n    options = options || {};\n    if (!!options.includeDirs) {\n        if (!Array.isArray(options.includeDirs)) {\n            return Promise.reject(new Error('The includeDirs option must be an array'));\n        }\n        addIncludePathResolver(root, options.includeDirs);\n    }\n    const loadedRoot = await root.load(filename, options);\n    loadedRoot.resolveAll();\n    return loadedRoot;\n}\nexports.loadProtosWithOptions = loadProtosWithOptions;\nfunction loadProtosWithOptionsSync(filename, options) {\n    const root = new Protobuf.Root();\n    options = options || {};\n    if (!!options.includeDirs) {\n        if (!Array.isArray(options.includeDirs)) {\n            throw new Error('The includeDirs option must be an array');\n        }\n        addIncludePathResolver(root, options.includeDirs);\n    }\n    const loadedRoot = root.loadSync(filename, options);\n    loadedRoot.resolveAll();\n    return loadedRoot;\n}\nexports.loadProtosWithOptionsSync = loadProtosWithOptionsSync;\n/**\n * Load Google's well-known proto files that aren't exposed by Protobuf.js.\n */\nfunction addCommonProtos() {\n    // Protobuf.js exposes: any, duration, empty, field_mask, struct, timestamp,\n    // and wrappers. compiler/plugin is excluded in Protobuf.js and here.\n    // Using constant strings for compatibility with tools like Webpack\n    const apiDescriptor = require('protobufjs/google/protobuf/api.json');\n    const descriptorDescriptor = require('protobufjs/google/protobuf/descriptor.json');\n    const sourceContextDescriptor = require('protobufjs/google/protobuf/source_context.json');\n    const typeDescriptor = require('protobufjs/google/protobuf/type.json');\n    Protobuf.common('api', apiDescriptor.nested.google.nested.protobuf.nested);\n    Protobuf.common('descriptor', descriptorDescriptor.nested.google.nested.protobuf.nested);\n    Protobuf.common('source_context', sourceContextDescriptor.nested.google.nested.protobuf.nested);\n    Protobuf.common('type', typeDescriptor.nested.google.nested.protobuf.nested);\n}\nexports.addCommonProtos = addCommonProtos;\n//# sourceMappingURL=util.js.map","module.exports = Long;\r\n\r\n/**\r\n * wasm optimizations, to do native i64 multiplication and divide\r\n */\r\nvar wasm = null;\r\n\r\ntry {\r\n  wasm = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([\r\n    0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 2, 96, 0, 1, 127, 96, 4, 127, 127, 127, 127, 1, 127, 3, 7, 6, 0, 1, 1, 1, 1, 1, 6, 6, 1, 127, 1, 65, 0, 11, 7, 50, 6, 3, 109, 117, 108, 0, 1, 5, 100, 105, 118, 95, 115, 0, 2, 5, 100, 105, 118, 95, 117, 0, 3, 5, 114, 101, 109, 95, 115, 0, 4, 5, 114, 101, 109, 95, 117, 0, 5, 8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0, 10, 191, 1, 6, 4, 0, 35, 0, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 126, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 127, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 128, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 129, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 130, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11\r\n  ])), {}).exports;\r\n} catch (e) {\r\n  // no wasm support :(\r\n}\r\n\r\n/**\r\n * Constructs a 64 bit two's-complement integer, given its low and high 32 bit values as *signed* integers.\r\n *  See the from* functions below for more convenient ways of constructing Longs.\r\n * @exports Long\r\n * @class A Long class for representing a 64 bit two's-complement integer value.\r\n * @param {number} low The low (signed) 32 bits of the long\r\n * @param {number} high The high (signed) 32 bits of the long\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @constructor\r\n */\r\nfunction Long(low, high, unsigned) {\r\n\r\n    /**\r\n     * The low 32 bits as a signed value.\r\n     * @type {number}\r\n     */\r\n    this.low = low | 0;\r\n\r\n    /**\r\n     * The high 32 bits as a signed value.\r\n     * @type {number}\r\n     */\r\n    this.high = high | 0;\r\n\r\n    /**\r\n     * Whether unsigned or not.\r\n     * @type {boolean}\r\n     */\r\n    this.unsigned = !!unsigned;\r\n}\r\n\r\n// The internal representation of a long is the two given signed, 32-bit values.\r\n// We use 32-bit pieces because these are the size of integers on which\r\n// Javascript performs bit-operations.  For operations like addition and\r\n// multiplication, we split each number into 16 bit pieces, which can easily be\r\n// multiplied within Javascript's floating-point representation without overflow\r\n// or change in sign.\r\n//\r\n// In the algorithms below, we frequently reduce the negative case to the\r\n// positive case by negating the input(s) and then post-processing the result.\r\n// Note that we must ALWAYS check specially whether those values are MIN_VALUE\r\n// (-2^63) because -MIN_VALUE == MIN_VALUE (since 2^63 cannot be represented as\r\n// a positive number, it overflows back into a negative).  Not handling this\r\n// case would often result in infinite recursion.\r\n//\r\n// Common constant values ZERO, ONE, NEG_ONE, etc. are defined below the from*\r\n// methods on which they depend.\r\n\r\n/**\r\n * An indicator used to reliably determine if an object is a Long or not.\r\n * @type {boolean}\r\n * @const\r\n * @private\r\n */\r\nLong.prototype.__isLong__;\r\n\r\nObject.defineProperty(Long.prototype, \"__isLong__\", { value: true });\r\n\r\n/**\r\n * @function\r\n * @param {*} obj Object\r\n * @returns {boolean}\r\n * @inner\r\n */\r\nfunction isLong(obj) {\r\n    return (obj && obj[\"__isLong__\"]) === true;\r\n}\r\n\r\n/**\r\n * Tests if the specified object is a Long.\r\n * @function\r\n * @param {*} obj Object\r\n * @returns {boolean}\r\n */\r\nLong.isLong = isLong;\r\n\r\n/**\r\n * A cache of the Long representations of small integer values.\r\n * @type {!Object}\r\n * @inner\r\n */\r\nvar INT_CACHE = {};\r\n\r\n/**\r\n * A cache of the Long representations of small unsigned integer values.\r\n * @type {!Object}\r\n * @inner\r\n */\r\nvar UINT_CACHE = {};\r\n\r\n/**\r\n * @param {number} value\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromInt(value, unsigned) {\r\n    var obj, cachedObj, cache;\r\n    if (unsigned) {\r\n        value >>>= 0;\r\n        if (cache = (0 <= value && value < 256)) {\r\n            cachedObj = UINT_CACHE[value];\r\n            if (cachedObj)\r\n                return cachedObj;\r\n        }\r\n        obj = fromBits(value, (value | 0) < 0 ? -1 : 0, true);\r\n        if (cache)\r\n            UINT_CACHE[value] = obj;\r\n        return obj;\r\n    } else {\r\n        value |= 0;\r\n        if (cache = (-128 <= value && value < 128)) {\r\n            cachedObj = INT_CACHE[value];\r\n            if (cachedObj)\r\n                return cachedObj;\r\n        }\r\n        obj = fromBits(value, value < 0 ? -1 : 0, false);\r\n        if (cache)\r\n            INT_CACHE[value] = obj;\r\n        return obj;\r\n    }\r\n}\r\n\r\n/**\r\n * Returns a Long representing the given 32 bit integer value.\r\n * @function\r\n * @param {number} value The 32 bit integer in question\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromInt = fromInt;\r\n\r\n/**\r\n * @param {number} value\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromNumber(value, unsigned) {\r\n    if (isNaN(value))\r\n        return unsigned ? UZERO : ZERO;\r\n    if (unsigned) {\r\n        if (value < 0)\r\n            return UZERO;\r\n        if (value >= TWO_PWR_64_DBL)\r\n            return MAX_UNSIGNED_VALUE;\r\n    } else {\r\n        if (value <= -TWO_PWR_63_DBL)\r\n            return MIN_VALUE;\r\n        if (value + 1 >= TWO_PWR_63_DBL)\r\n            return MAX_VALUE;\r\n    }\r\n    if (value < 0)\r\n        return fromNumber(-value, unsigned).neg();\r\n    return fromBits((value % TWO_PWR_32_DBL) | 0, (value / TWO_PWR_32_DBL) | 0, unsigned);\r\n}\r\n\r\n/**\r\n * Returns a Long representing the given value, provided that it is a finite number. Otherwise, zero is returned.\r\n * @function\r\n * @param {number} value The number in question\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromNumber = fromNumber;\r\n\r\n/**\r\n * @param {number} lowBits\r\n * @param {number} highBits\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromBits(lowBits, highBits, unsigned) {\r\n    return new Long(lowBits, highBits, unsigned);\r\n}\r\n\r\n/**\r\n * Returns a Long representing the 64 bit integer that comes by concatenating the given low and high bits. Each is\r\n *  assumed to use 32 bits.\r\n * @function\r\n * @param {number} lowBits The low 32 bits\r\n * @param {number} highBits The high 32 bits\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromBits = fromBits;\r\n\r\n/**\r\n * @function\r\n * @param {number} base\r\n * @param {number} exponent\r\n * @returns {number}\r\n * @inner\r\n */\r\nvar pow_dbl = Math.pow; // Used 4 times (4*8 to 15+4)\r\n\r\n/**\r\n * @param {string} str\r\n * @param {(boolean|number)=} unsigned\r\n * @param {number=} radix\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromString(str, unsigned, radix) {\r\n    if (str.length === 0)\r\n        throw Error('empty string');\r\n    if (str === \"NaN\" || str === \"Infinity\" || str === \"+Infinity\" || str === \"-Infinity\")\r\n        return ZERO;\r\n    if (typeof unsigned === 'number') {\r\n        // For goog.math.long compatibility\r\n        radix = unsigned,\r\n        unsigned = false;\r\n    } else {\r\n        unsigned = !! unsigned;\r\n    }\r\n    radix = radix || 10;\r\n    if (radix < 2 || 36 < radix)\r\n        throw RangeError('radix');\r\n\r\n    var p;\r\n    if ((p = str.indexOf('-')) > 0)\r\n        throw Error('interior hyphen');\r\n    else if (p === 0) {\r\n        return fromString(str.substring(1), unsigned, radix).neg();\r\n    }\r\n\r\n    // Do several (8) digits each time through the loop, so as to\r\n    // minimize the calls to the very expensive emulated div.\r\n    var radixToPower = fromNumber(pow_dbl(radix, 8));\r\n\r\n    var result = ZERO;\r\n    for (var i = 0; i < str.length; i += 8) {\r\n        var size = Math.min(8, str.length - i),\r\n            value = parseInt(str.substring(i, i + size), radix);\r\n        if (size < 8) {\r\n            var power = fromNumber(pow_dbl(radix, size));\r\n            result = result.mul(power).add(fromNumber(value));\r\n        } else {\r\n            result = result.mul(radixToPower);\r\n            result = result.add(fromNumber(value));\r\n        }\r\n    }\r\n    result.unsigned = unsigned;\r\n    return result;\r\n}\r\n\r\n/**\r\n * Returns a Long representation of the given string, written using the specified radix.\r\n * @function\r\n * @param {string} str The textual representation of the Long\r\n * @param {(boolean|number)=} unsigned Whether unsigned or not, defaults to signed\r\n * @param {number=} radix The radix in which the text is written (2-36), defaults to 10\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromString = fromString;\r\n\r\n/**\r\n * @function\r\n * @param {!Long|number|string|!{low: number, high: number, unsigned: boolean}} val\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromValue(val, unsigned) {\r\n    if (typeof val === 'number')\r\n        return fromNumber(val, unsigned);\r\n    if (typeof val === 'string')\r\n        return fromString(val, unsigned);\r\n    // Throws for non-objects, converts non-instanceof Long:\r\n    return fromBits(val.low, val.high, typeof unsigned === 'boolean' ? unsigned : val.unsigned);\r\n}\r\n\r\n/**\r\n * Converts the specified value to a Long using the appropriate from* function for its type.\r\n * @function\r\n * @param {!Long|number|string|!{low: number, high: number, unsigned: boolean}} val Value\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long}\r\n */\r\nLong.fromValue = fromValue;\r\n\r\n// NOTE: the compiler should inline these constant values below and then remove these variables, so there should be\r\n// no runtime penalty for these.\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_16_DBL = 1 << 16;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_24_DBL = 1 << 24;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_63_DBL = TWO_PWR_64_DBL / 2;\r\n\r\n/**\r\n * @type {!Long}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_24 = fromInt(TWO_PWR_24_DBL);\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar ZERO = fromInt(0);\r\n\r\n/**\r\n * Signed zero.\r\n * @type {!Long}\r\n */\r\nLong.ZERO = ZERO;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar UZERO = fromInt(0, true);\r\n\r\n/**\r\n * Unsigned zero.\r\n * @type {!Long}\r\n */\r\nLong.UZERO = UZERO;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar ONE = fromInt(1);\r\n\r\n/**\r\n * Signed one.\r\n * @type {!Long}\r\n */\r\nLong.ONE = ONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar UONE = fromInt(1, true);\r\n\r\n/**\r\n * Unsigned one.\r\n * @type {!Long}\r\n */\r\nLong.UONE = UONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar NEG_ONE = fromInt(-1);\r\n\r\n/**\r\n * Signed negative one.\r\n * @type {!Long}\r\n */\r\nLong.NEG_ONE = NEG_ONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MAX_VALUE = fromBits(0xFFFFFFFF|0, 0x7FFFFFFF|0, false);\r\n\r\n/**\r\n * Maximum signed value.\r\n * @type {!Long}\r\n */\r\nLong.MAX_VALUE = MAX_VALUE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MAX_UNSIGNED_VALUE = fromBits(0xFFFFFFFF|0, 0xFFFFFFFF|0, true);\r\n\r\n/**\r\n * Maximum unsigned value.\r\n * @type {!Long}\r\n */\r\nLong.MAX_UNSIGNED_VALUE = MAX_UNSIGNED_VALUE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MIN_VALUE = fromBits(0, 0x80000000|0, false);\r\n\r\n/**\r\n * Minimum signed value.\r\n * @type {!Long}\r\n */\r\nLong.MIN_VALUE = MIN_VALUE;\r\n\r\n/**\r\n * @alias Long.prototype\r\n * @inner\r\n */\r\nvar LongPrototype = Long.prototype;\r\n\r\n/**\r\n * Converts the Long to a 32 bit integer, assuming it is a 32 bit integer.\r\n * @returns {number}\r\n */\r\nLongPrototype.toInt = function toInt() {\r\n    return this.unsigned ? this.low >>> 0 : this.low;\r\n};\r\n\r\n/**\r\n * Converts the Long to a the nearest floating-point representation of this value (double, 53 bit mantissa).\r\n * @returns {number}\r\n */\r\nLongPrototype.toNumber = function toNumber() {\r\n    if (this.unsigned)\r\n        return ((this.high >>> 0) * TWO_PWR_32_DBL) + (this.low >>> 0);\r\n    return this.high * TWO_PWR_32_DBL + (this.low >>> 0);\r\n};\r\n\r\n/**\r\n * Converts the Long to a string written in the specified radix.\r\n * @param {number=} radix Radix (2-36), defaults to 10\r\n * @returns {string}\r\n * @override\r\n * @throws {RangeError} If `radix` is out of range\r\n */\r\nLongPrototype.toString = function toString(radix) {\r\n    radix = radix || 10;\r\n    if (radix < 2 || 36 < radix)\r\n        throw RangeError('radix');\r\n    if (this.isZero())\r\n        return '0';\r\n    if (this.isNegative()) { // Unsigned Longs are never negative\r\n        if (this.eq(MIN_VALUE)) {\r\n            // We need to change the Long value before it can be negated, so we remove\r\n            // the bottom-most digit in this base and then recurse to do the rest.\r\n            var radixLong = fromNumber(radix),\r\n                div = this.div(radixLong),\r\n                rem1 = div.mul(radixLong).sub(this);\r\n            return div.toString(radix) + rem1.toInt().toString(radix);\r\n        } else\r\n            return '-' + this.neg().toString(radix);\r\n    }\r\n\r\n    // Do several (6) digits each time through the loop, so as to\r\n    // minimize the calls to the very expensive emulated div.\r\n    var radixToPower = fromNumber(pow_dbl(radix, 6), this.unsigned),\r\n        rem = this;\r\n    var result = '';\r\n    while (true) {\r\n        var remDiv = rem.div(radixToPower),\r\n            intval = rem.sub(remDiv.mul(radixToPower)).toInt() >>> 0,\r\n            digits = intval.toString(radix);\r\n        rem = remDiv;\r\n        if (rem.isZero())\r\n            return digits + result;\r\n        else {\r\n            while (digits.length < 6)\r\n                digits = '0' + digits;\r\n            result = '' + digits + result;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Gets the high 32 bits as a signed integer.\r\n * @returns {number} Signed high bits\r\n */\r\nLongPrototype.getHighBits = function getHighBits() {\r\n    return this.high;\r\n};\r\n\r\n/**\r\n * Gets the high 32 bits as an unsigned integer.\r\n * @returns {number} Unsigned high bits\r\n */\r\nLongPrototype.getHighBitsUnsigned = function getHighBitsUnsigned() {\r\n    return this.high >>> 0;\r\n};\r\n\r\n/**\r\n * Gets the low 32 bits as a signed integer.\r\n * @returns {number} Signed low bits\r\n */\r\nLongPrototype.getLowBits = function getLowBits() {\r\n    return this.low;\r\n};\r\n\r\n/**\r\n * Gets the low 32 bits as an unsigned integer.\r\n * @returns {number} Unsigned low bits\r\n */\r\nLongPrototype.getLowBitsUnsigned = function getLowBitsUnsigned() {\r\n    return this.low >>> 0;\r\n};\r\n\r\n/**\r\n * Gets the number of bits needed to represent the absolute value of this Long.\r\n * @returns {number}\r\n */\r\nLongPrototype.getNumBitsAbs = function getNumBitsAbs() {\r\n    if (this.isNegative()) // Unsigned Longs are never negative\r\n        return this.eq(MIN_VALUE) ? 64 : this.neg().getNumBitsAbs();\r\n    var val = this.high != 0 ? this.high : this.low;\r\n    for (var bit = 31; bit > 0; bit--)\r\n        if ((val & (1 << bit)) != 0)\r\n            break;\r\n    return this.high != 0 ? bit + 33 : bit + 1;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals zero.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isZero = function isZero() {\r\n    return this.high === 0 && this.low === 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals zero. This is an alias of {@link Long#isZero}.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.eqz = LongPrototype.isZero;\r\n\r\n/**\r\n * Tests if this Long's value is negative.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isNegative = function isNegative() {\r\n    return !this.unsigned && this.high < 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is positive.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isPositive = function isPositive() {\r\n    return this.unsigned || this.high >= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is odd.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isOdd = function isOdd() {\r\n    return (this.low & 1) === 1;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is even.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isEven = function isEven() {\r\n    return (this.low & 1) === 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.equals = function equals(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    if (this.unsigned !== other.unsigned && (this.high >>> 31) === 1 && (other.high >>> 31) === 1)\r\n        return false;\r\n    return this.high === other.high && this.low === other.low;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals the specified's. This is an alias of {@link Long#equals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.eq = LongPrototype.equals;\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.notEquals = function notEquals(other) {\r\n    return !this.eq(/* validates */ other);\r\n};\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's. This is an alias of {@link Long#notEquals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.neq = LongPrototype.notEquals;\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's. This is an alias of {@link Long#notEquals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.ne = LongPrototype.notEquals;\r\n\r\n/**\r\n * Tests if this Long's value is less than the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lessThan = function lessThan(other) {\r\n    return this.comp(/* validates */ other) < 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is less than the specified's. This is an alias of {@link Long#lessThan}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lt = LongPrototype.lessThan;\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lessThanOrEqual = function lessThanOrEqual(other) {\r\n    return this.comp(/* validates */ other) <= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's. This is an alias of {@link Long#lessThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lte = LongPrototype.lessThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's. This is an alias of {@link Long#lessThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.le = LongPrototype.lessThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is greater than the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.greaterThan = function greaterThan(other) {\r\n    return this.comp(/* validates */ other) > 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is greater than the specified's. This is an alias of {@link Long#greaterThan}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.gt = LongPrototype.greaterThan;\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.greaterThanOrEqual = function greaterThanOrEqual(other) {\r\n    return this.comp(/* validates */ other) >= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's. This is an alias of {@link Long#greaterThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.gte = LongPrototype.greaterThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's. This is an alias of {@link Long#greaterThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.ge = LongPrototype.greaterThanOrEqual;\r\n\r\n/**\r\n * Compares this Long's value with the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {number} 0 if they are the same, 1 if the this is greater and -1\r\n *  if the given one is greater\r\n */\r\nLongPrototype.compare = function compare(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    if (this.eq(other))\r\n        return 0;\r\n    var thisNeg = this.isNegative(),\r\n        otherNeg = other.isNegative();\r\n    if (thisNeg && !otherNeg)\r\n        return -1;\r\n    if (!thisNeg && otherNeg)\r\n        return 1;\r\n    // At this point the sign bits are the same\r\n    if (!this.unsigned)\r\n        return this.sub(other).isNegative() ? -1 : 1;\r\n    // Both are positive if at least one is unsigned\r\n    return (other.high >>> 0) > (this.high >>> 0) || (other.high === this.high && (other.low >>> 0) > (this.low >>> 0)) ? -1 : 1;\r\n};\r\n\r\n/**\r\n * Compares this Long's value with the specified's. This is an alias of {@link Long#compare}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {number} 0 if they are the same, 1 if the this is greater and -1\r\n *  if the given one is greater\r\n */\r\nLongPrototype.comp = LongPrototype.compare;\r\n\r\n/**\r\n * Negates this Long's value.\r\n * @returns {!Long} Negated Long\r\n */\r\nLongPrototype.negate = function negate() {\r\n    if (!this.unsigned && this.eq(MIN_VALUE))\r\n        return MIN_VALUE;\r\n    return this.not().add(ONE);\r\n};\r\n\r\n/**\r\n * Negates this Long's value. This is an alias of {@link Long#negate}.\r\n * @function\r\n * @returns {!Long} Negated Long\r\n */\r\nLongPrototype.neg = LongPrototype.negate;\r\n\r\n/**\r\n * Returns the sum of this and the specified Long.\r\n * @param {!Long|number|string} addend Addend\r\n * @returns {!Long} Sum\r\n */\r\nLongPrototype.add = function add(addend) {\r\n    if (!isLong(addend))\r\n        addend = fromValue(addend);\r\n\r\n    // Divide each number into 4 chunks of 16 bits, and then sum the chunks.\r\n\r\n    var a48 = this.high >>> 16;\r\n    var a32 = this.high & 0xFFFF;\r\n    var a16 = this.low >>> 16;\r\n    var a00 = this.low & 0xFFFF;\r\n\r\n    var b48 = addend.high >>> 16;\r\n    var b32 = addend.high & 0xFFFF;\r\n    var b16 = addend.low >>> 16;\r\n    var b00 = addend.low & 0xFFFF;\r\n\r\n    var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\r\n    c00 += a00 + b00;\r\n    c16 += c00 >>> 16;\r\n    c00 &= 0xFFFF;\r\n    c16 += a16 + b16;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c32 += a32 + b32;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c48 += a48 + b48;\r\n    c48 &= 0xFFFF;\r\n    return fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the difference of this and the specified Long.\r\n * @param {!Long|number|string} subtrahend Subtrahend\r\n * @returns {!Long} Difference\r\n */\r\nLongPrototype.subtract = function subtract(subtrahend) {\r\n    if (!isLong(subtrahend))\r\n        subtrahend = fromValue(subtrahend);\r\n    return this.add(subtrahend.neg());\r\n};\r\n\r\n/**\r\n * Returns the difference of this and the specified Long. This is an alias of {@link Long#subtract}.\r\n * @function\r\n * @param {!Long|number|string} subtrahend Subtrahend\r\n * @returns {!Long} Difference\r\n */\r\nLongPrototype.sub = LongPrototype.subtract;\r\n\r\n/**\r\n * Returns the product of this and the specified Long.\r\n * @param {!Long|number|string} multiplier Multiplier\r\n * @returns {!Long} Product\r\n */\r\nLongPrototype.multiply = function multiply(multiplier) {\r\n    if (this.isZero())\r\n        return ZERO;\r\n    if (!isLong(multiplier))\r\n        multiplier = fromValue(multiplier);\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        var low = wasm.mul(this.low,\r\n                           this.high,\r\n                           multiplier.low,\r\n                           multiplier.high);\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    if (multiplier.isZero())\r\n        return ZERO;\r\n    if (this.eq(MIN_VALUE))\r\n        return multiplier.isOdd() ? MIN_VALUE : ZERO;\r\n    if (multiplier.eq(MIN_VALUE))\r\n        return this.isOdd() ? MIN_VALUE : ZERO;\r\n\r\n    if (this.isNegative()) {\r\n        if (multiplier.isNegative())\r\n            return this.neg().mul(multiplier.neg());\r\n        else\r\n            return this.neg().mul(multiplier).neg();\r\n    } else if (multiplier.isNegative())\r\n        return this.mul(multiplier.neg()).neg();\r\n\r\n    // If both longs are small, use float multiplication\r\n    if (this.lt(TWO_PWR_24) && multiplier.lt(TWO_PWR_24))\r\n        return fromNumber(this.toNumber() * multiplier.toNumber(), this.unsigned);\r\n\r\n    // Divide each long into 4 chunks of 16 bits, and then add up 4x4 products.\r\n    // We can skip products that would overflow.\r\n\r\n    var a48 = this.high >>> 16;\r\n    var a32 = this.high & 0xFFFF;\r\n    var a16 = this.low >>> 16;\r\n    var a00 = this.low & 0xFFFF;\r\n\r\n    var b48 = multiplier.high >>> 16;\r\n    var b32 = multiplier.high & 0xFFFF;\r\n    var b16 = multiplier.low >>> 16;\r\n    var b00 = multiplier.low & 0xFFFF;\r\n\r\n    var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\r\n    c00 += a00 * b00;\r\n    c16 += c00 >>> 16;\r\n    c00 &= 0xFFFF;\r\n    c16 += a16 * b00;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c16 += a00 * b16;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c32 += a32 * b00;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c32 += a16 * b16;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c32 += a00 * b32;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\r\n    c48 &= 0xFFFF;\r\n    return fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the product of this and the specified Long. This is an alias of {@link Long#multiply}.\r\n * @function\r\n * @param {!Long|number|string} multiplier Multiplier\r\n * @returns {!Long} Product\r\n */\r\nLongPrototype.mul = LongPrototype.multiply;\r\n\r\n/**\r\n * Returns this Long divided by the specified. The result is signed if this Long is signed or\r\n *  unsigned if this Long is unsigned.\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Quotient\r\n */\r\nLongPrototype.divide = function divide(divisor) {\r\n    if (!isLong(divisor))\r\n        divisor = fromValue(divisor);\r\n    if (divisor.isZero())\r\n        throw Error('division by zero');\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        // guard against signed division overflow: the largest\r\n        // negative number / -1 would be 1 larger than the largest\r\n        // positive number, due to two's complement.\r\n        if (!this.unsigned &&\r\n            this.high === -0x80000000 &&\r\n            divisor.low === -1 && divisor.high === -1) {\r\n            // be consistent with non-wasm code path\r\n            return this;\r\n        }\r\n        var low = (this.unsigned ? wasm.div_u : wasm.div_s)(\r\n            this.low,\r\n            this.high,\r\n            divisor.low,\r\n            divisor.high\r\n        );\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    if (this.isZero())\r\n        return this.unsigned ? UZERO : ZERO;\r\n    var approx, rem, res;\r\n    if (!this.unsigned) {\r\n        // This section is only relevant for signed longs and is derived from the\r\n        // closure library as a whole.\r\n        if (this.eq(MIN_VALUE)) {\r\n            if (divisor.eq(ONE) || divisor.eq(NEG_ONE))\r\n                return MIN_VALUE;  // recall that -MIN_VALUE == MIN_VALUE\r\n            else if (divisor.eq(MIN_VALUE))\r\n                return ONE;\r\n            else {\r\n                // At this point, we have |other| >= 2, so |this/other| < |MIN_VALUE|.\r\n                var halfThis = this.shr(1);\r\n                approx = halfThis.div(divisor).shl(1);\r\n                if (approx.eq(ZERO)) {\r\n                    return divisor.isNegative() ? ONE : NEG_ONE;\r\n                } else {\r\n                    rem = this.sub(divisor.mul(approx));\r\n                    res = approx.add(rem.div(divisor));\r\n                    return res;\r\n                }\r\n            }\r\n        } else if (divisor.eq(MIN_VALUE))\r\n            return this.unsigned ? UZERO : ZERO;\r\n        if (this.isNegative()) {\r\n            if (divisor.isNegative())\r\n                return this.neg().div(divisor.neg());\r\n            return this.neg().div(divisor).neg();\r\n        } else if (divisor.isNegative())\r\n            return this.div(divisor.neg()).neg();\r\n        res = ZERO;\r\n    } else {\r\n        // The algorithm below has not been made for unsigned longs. It's therefore\r\n        // required to take special care of the MSB prior to running it.\r\n        if (!divisor.unsigned)\r\n            divisor = divisor.toUnsigned();\r\n        if (divisor.gt(this))\r\n            return UZERO;\r\n        if (divisor.gt(this.shru(1))) // 15 >>> 1 = 7 ; with divisor = 8 ; true\r\n            return UONE;\r\n        res = UZERO;\r\n    }\r\n\r\n    // Repeat the following until the remainder is less than other:  find a\r\n    // floating-point that approximates remainder / other *from below*, add this\r\n    // into the result, and subtract it from the remainder.  It is critical that\r\n    // the approximate value is less than or equal to the real value so that the\r\n    // remainder never becomes negative.\r\n    rem = this;\r\n    while (rem.gte(divisor)) {\r\n        // Approximate the result of division. This may be a little greater or\r\n        // smaller than the actual value.\r\n        approx = Math.max(1, Math.floor(rem.toNumber() / divisor.toNumber()));\r\n\r\n        // We will tweak the approximate result by changing it in the 48-th digit or\r\n        // the smallest non-fractional digit, whichever is larger.\r\n        var log2 = Math.ceil(Math.log(approx) / Math.LN2),\r\n            delta = (log2 <= 48) ? 1 : pow_dbl(2, log2 - 48),\r\n\r\n        // Decrease the approximation until it is smaller than the remainder.  Note\r\n        // that if it is too large, the product overflows and is negative.\r\n            approxRes = fromNumber(approx),\r\n            approxRem = approxRes.mul(divisor);\r\n        while (approxRem.isNegative() || approxRem.gt(rem)) {\r\n            approx -= delta;\r\n            approxRes = fromNumber(approx, this.unsigned);\r\n            approxRem = approxRes.mul(divisor);\r\n        }\r\n\r\n        // We know the answer can't be zero... and actually, zero would cause\r\n        // infinite recursion since we would make no progress.\r\n        if (approxRes.isZero())\r\n            approxRes = ONE;\r\n\r\n        res = res.add(approxRes);\r\n        rem = rem.sub(approxRem);\r\n    }\r\n    return res;\r\n};\r\n\r\n/**\r\n * Returns this Long divided by the specified. This is an alias of {@link Long#divide}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Quotient\r\n */\r\nLongPrototype.div = LongPrototype.divide;\r\n\r\n/**\r\n * Returns this Long modulo the specified.\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.modulo = function modulo(divisor) {\r\n    if (!isLong(divisor))\r\n        divisor = fromValue(divisor);\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        var low = (this.unsigned ? wasm.rem_u : wasm.rem_s)(\r\n            this.low,\r\n            this.high,\r\n            divisor.low,\r\n            divisor.high\r\n        );\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    return this.sub(this.div(divisor).mul(divisor));\r\n};\r\n\r\n/**\r\n * Returns this Long modulo the specified. This is an alias of {@link Long#modulo}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.mod = LongPrototype.modulo;\r\n\r\n/**\r\n * Returns this Long modulo the specified. This is an alias of {@link Long#modulo}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.rem = LongPrototype.modulo;\r\n\r\n/**\r\n * Returns the bitwise NOT of this Long.\r\n * @returns {!Long}\r\n */\r\nLongPrototype.not = function not() {\r\n    return fromBits(~this.low, ~this.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise AND of this Long and the specified.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.and = function and(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low & other.low, this.high & other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise OR of this Long and the specified.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.or = function or(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low | other.low, this.high | other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise XOR of this Long and the given one.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.xor = function xor(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low ^ other.low, this.high ^ other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits shifted to the left by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftLeft = function shiftLeft(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    if ((numBits &= 63) === 0)\r\n        return this;\r\n    else if (numBits < 32)\r\n        return fromBits(this.low << numBits, (this.high << numBits) | (this.low >>> (32 - numBits)), this.unsigned);\r\n    else\r\n        return fromBits(0, this.low << (numBits - 32), this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits shifted to the left by the given amount. This is an alias of {@link Long#shiftLeft}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shl = LongPrototype.shiftLeft;\r\n\r\n/**\r\n * Returns this Long with bits arithmetically shifted to the right by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftRight = function shiftRight(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    if ((numBits &= 63) === 0)\r\n        return this;\r\n    else if (numBits < 32)\r\n        return fromBits((this.low >>> numBits) | (this.high << (32 - numBits)), this.high >> numBits, this.unsigned);\r\n    else\r\n        return fromBits(this.high >> (numBits - 32), this.high >= 0 ? 0 : -1, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits arithmetically shifted to the right by the given amount. This is an alias of {@link Long#shiftRight}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shr = LongPrototype.shiftRight;\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftRightUnsigned = function shiftRightUnsigned(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    numBits &= 63;\r\n    if (numBits === 0)\r\n        return this;\r\n    else {\r\n        var high = this.high;\r\n        if (numBits < 32) {\r\n            var low = this.low;\r\n            return fromBits((low >>> numBits) | (high << (32 - numBits)), high >>> numBits, this.unsigned);\r\n        } else if (numBits === 32)\r\n            return fromBits(high, 0, this.unsigned);\r\n        else\r\n            return fromBits(high >>> (numBits - 32), 0, this.unsigned);\r\n    }\r\n};\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount. This is an alias of {@link Long#shiftRightUnsigned}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shru = LongPrototype.shiftRightUnsigned;\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount. This is an alias of {@link Long#shiftRightUnsigned}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shr_u = LongPrototype.shiftRightUnsigned;\r\n\r\n/**\r\n * Converts this Long to signed.\r\n * @returns {!Long} Signed long\r\n */\r\nLongPrototype.toSigned = function toSigned() {\r\n    if (!this.unsigned)\r\n        return this;\r\n    return fromBits(this.low, this.high, false);\r\n};\r\n\r\n/**\r\n * Converts this Long to unsigned.\r\n * @returns {!Long} Unsigned long\r\n */\r\nLongPrototype.toUnsigned = function toUnsigned() {\r\n    if (this.unsigned)\r\n        return this;\r\n    return fromBits(this.low, this.high, true);\r\n};\r\n\r\n/**\r\n * Converts this Long to its byte representation.\r\n * @param {boolean=} le Whether little or big endian, defaults to big endian\r\n * @returns {!Array.<number>} Byte representation\r\n */\r\nLongPrototype.toBytes = function toBytes(le) {\r\n    return le ? this.toBytesLE() : this.toBytesBE();\r\n};\r\n\r\n/**\r\n * Converts this Long to its little endian byte representation.\r\n * @returns {!Array.<number>} Little endian byte representation\r\n */\r\nLongPrototype.toBytesLE = function toBytesLE() {\r\n    var hi = this.high,\r\n        lo = this.low;\r\n    return [\r\n        lo        & 0xff,\r\n        lo >>>  8 & 0xff,\r\n        lo >>> 16 & 0xff,\r\n        lo >>> 24       ,\r\n        hi        & 0xff,\r\n        hi >>>  8 & 0xff,\r\n        hi >>> 16 & 0xff,\r\n        hi >>> 24\r\n    ];\r\n};\r\n\r\n/**\r\n * Converts this Long to its big endian byte representation.\r\n * @returns {!Array.<number>} Big endian byte representation\r\n */\r\nLongPrototype.toBytesBE = function toBytesBE() {\r\n    var hi = this.high,\r\n        lo = this.low;\r\n    return [\r\n        hi >>> 24       ,\r\n        hi >>> 16 & 0xff,\r\n        hi >>>  8 & 0xff,\r\n        hi        & 0xff,\r\n        lo >>> 24       ,\r\n        lo >>> 16 & 0xff,\r\n        lo >>>  8 & 0xff,\r\n        lo        & 0xff\r\n    ];\r\n};\r\n\r\n/**\r\n * Creates a Long from its byte representation.\r\n * @param {!Array.<number>} bytes Byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @param {boolean=} le Whether little or big endian, defaults to big endian\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytes = function fromBytes(bytes, unsigned, le) {\r\n    return le ? Long.fromBytesLE(bytes, unsigned) : Long.fromBytesBE(bytes, unsigned);\r\n};\r\n\r\n/**\r\n * Creates a Long from its little endian byte representation.\r\n * @param {!Array.<number>} bytes Little endian byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytesLE = function fromBytesLE(bytes, unsigned) {\r\n    return new Long(\r\n        bytes[0]       |\r\n        bytes[1] <<  8 |\r\n        bytes[2] << 16 |\r\n        bytes[3] << 24,\r\n        bytes[4]       |\r\n        bytes[5] <<  8 |\r\n        bytes[6] << 16 |\r\n        bytes[7] << 24,\r\n        unsigned\r\n    );\r\n};\r\n\r\n/**\r\n * Creates a Long from its big endian byte representation.\r\n * @param {!Array.<number>} bytes Big endian byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytesBE = function fromBytesBE(bytes, unsigned) {\r\n    return new Long(\r\n        bytes[4] << 24 |\r\n        bytes[5] << 16 |\r\n        bytes[6] <<  8 |\r\n        bytes[7],\r\n        bytes[0] << 24 |\r\n        bytes[1] << 16 |\r\n        bytes[2] <<  8 |\r\n        bytes[3],\r\n        unsigned\r\n    );\r\n};\r\n","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DefaultKeyFormatter = void 0;\r\nconst importExport_1 = require(\"./importExport\");\r\n/**\r\n * Auto-detects the format of a key when importing, by trying all the available formatters.\r\n */\r\nclass DefaultKeyFormatter {\r\n    export(keyPair, includePrivate) {\r\n        throw new Error('DefaultKeyFormatter should not be used for exporting.');\r\n    }\r\n    encrypt(keyData, passphrase) {\r\n        throw new Error('DefaultKeyFormatter should not be used for encrypting.');\r\n    }\r\n    async import(keyData) {\r\n        for (const [keyFormat, keyFormatter] of importExport_1.keyFormatters) {\r\n            if (keyFormat !== 0 /* KeyFormat.Default */ &&\r\n                keyFormat !== 1 /* KeyFormat.Ssh */ &&\r\n                keyFormat !== 7 /* KeyFormat.Jwk */) {\r\n                const keyPair = await keyFormatter.import(keyData);\r\n                if (keyPair) {\r\n                    return keyPair;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    async decrypt(keyData, passphrase) {\r\n        for (const [keyFormat, keyFormatter] of importExport_1.keyFormatters) {\r\n            if (keyFormat !== 0 /* KeyFormat.Default */ &&\r\n                keyFormat !== 1 /* KeyFormat.Ssh */ &&\r\n                keyFormat !== 7 /* KeyFormat.Jwk */) {\r\n                const decryptedKeyData = await keyFormatter.decrypt(keyData, passphrase);\r\n                if (decryptedKeyData) {\r\n                    return decryptedKeyData;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\nexports.DefaultKeyFormatter = DefaultKeyFormatter;\r\n//# sourceMappingURL=defaultKeyFormatter.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nvar _a;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.importKeyBytes = exports.importKeyFile = exports.importKey = exports.exportPrivateKeyBytes = exports.exportPrivateKeyFile = exports.exportPrivateKey = exports.exportPublicKeyBytes = exports.exportPublicKeyFile = exports.exportPublicKey = exports.keyFormatters = void 0;\r\nconst buffer_1 = require(\"buffer\");\r\nconst dev_tunnels_ssh_1 = require(\"@microsoft/dev-tunnels-ssh\");\r\nconst defaultKeyFormatter_1 = require(\"./defaultKeyFormatter\");\r\nconst publicKeyFormatter_1 = require(\"./publicKeyFormatter\");\r\nconst pkcs1KeyFormatter_1 = require(\"./pkcs1KeyFormatter\");\r\nconst sec1KeyFormatter_1 = require(\"./sec1KeyFormatter\");\r\nconst pkcs8KeyFormatter_1 = require(\"./pkcs8KeyFormatter\");\r\nconst jsonWebKeyFormatter_1 = require(\"./jsonWebKeyFormatter\");\r\nconst keyData_1 = require(\"./keyData\");\r\n/**\r\n * Mapping to formatters for each supported key format.\r\n */\r\nexports.keyFormatters = new Map();\r\nexports.keyFormatters.set(0 /* KeyFormat.Default */, new defaultKeyFormatter_1.DefaultKeyFormatter());\r\nexports.keyFormatters.set(1 /* KeyFormat.Ssh */, new publicKeyFormatter_1.PublicKeyFormatter());\r\nexports.keyFormatters.set(3 /* KeyFormat.Pkcs1 */, new pkcs1KeyFormatter_1.Pkcs1KeyFormatter());\r\nexports.keyFormatters.set(4 /* KeyFormat.Sec1 */, new sec1KeyFormatter_1.Sec1KeyFormatter());\r\nexports.keyFormatters.set(5 /* KeyFormat.Pkcs8 */, new pkcs8KeyFormatter_1.Pkcs8KeyFormatter());\r\nexports.keyFormatters.set(7 /* KeyFormat.Jwk */, new jsonWebKeyFormatter_1.JsonWebKeyFormatter());\r\nconst enableFileIO = !!((_a = process === null || process === void 0 ? void 0 : process.versions) === null || _a === void 0 ? void 0 : _a.node);\r\n/** Exports the public key from a key pair, as a string. */\r\nfunction exportPublicKey(keyPair, keyFormat = 0 /* KeyFormat.Default */, keyEncoding = 0 /* KeyEncoding.Default */) {\r\n    if (keyEncoding === 1 /* KeyEncoding.Binary */) {\r\n        throw new Error('Cannot represent binary-encoded key as a string.');\r\n    }\r\n    return exportPublicKeyBytes(keyPair, keyFormat, keyEncoding).then((keyBytes) => keyBytes.toString('utf8'));\r\n}\r\nexports.exportPublicKey = exportPublicKey;\r\n/** Exports the public key from a key pair, to a file. */\r\nfunction exportPublicKeyFile(keyPair, keyFile, keyFormat = 0 /* KeyFormat.Default */, keyEncoding = 0 /* KeyEncoding.Default */) {\r\n    if (!enableFileIO)\r\n        throw new Error('File I/O is not supported in a browser environment.');\r\n    return exportPublicKeyBytes(keyPair, keyFormat, keyEncoding).then((keyBytes) => require('fs').promises.writeFile(keyFile, keyBytes));\r\n}\r\nexports.exportPublicKeyFile = exportPublicKeyFile;\r\n/** Exports the public key from a key pair, to a byte buffer. */\r\nfunction exportPublicKeyBytes(keyPair, keyFormat = 0 /* KeyFormat.Default */, keyEncoding = 0 /* KeyEncoding.Default */) {\r\n    return exportKeyBytes(keyPair, null, keyFormat, keyEncoding, false);\r\n}\r\nexports.exportPublicKeyBytes = exportPublicKeyBytes;\r\n/** Exports the private key from a key pair, as a string. */\r\nfunction exportPrivateKey(keyPair, passphrase = null, keyFormat = 0 /* KeyFormat.Default */, keyEncoding = 0 /* KeyEncoding.Default */) {\r\n    if (keyEncoding === 1 /* KeyEncoding.Binary */) {\r\n        throw new Error('Cannot represent binary-encoded key as a string.');\r\n    }\r\n    return exportPrivateKeyBytes(keyPair, passphrase, keyFormat, keyEncoding).then((keyBytes) => keyBytes.toString('utf8'));\r\n}\r\nexports.exportPrivateKey = exportPrivateKey;\r\n/** Exports the private key from a key pair, to a file. */\r\nfunction exportPrivateKeyFile(keyPair, passphrase = null, keyFile, keyFormat = 0 /* KeyFormat.Default */, keyEncoding = 0 /* KeyEncoding.Default */) {\r\n    if (!enableFileIO)\r\n        throw new Error('File I/O is not supported in a browser environment.');\r\n    return exportPrivateKeyBytes(keyPair, passphrase, keyFormat, keyEncoding).then((keyBytes) => require('fs').promises.writeFile(keyFile, keyBytes));\r\n}\r\nexports.exportPrivateKeyFile = exportPrivateKeyFile;\r\n/** Exports the private key from a key pair, to a byte buffer. */\r\nfunction exportPrivateKeyBytes(keyPair, passphrase = null, keyFormat = 0 /* KeyFormat.Default */, keyEncoding = 0 /* KeyEncoding.Default */) {\r\n    return exportKeyBytes(keyPair, passphrase, keyFormat, keyEncoding, true);\r\n}\r\nexports.exportPrivateKeyBytes = exportPrivateKeyBytes;\r\n/** Imports a public key or public/private key pair from a string. */\r\nfunction importKey(keyString, passphrase = null, keyFormat = 0 /* KeyFormat.Default */, keyEncoding = 0 /* KeyEncoding.Default */) {\r\n    if (keyEncoding === 1 /* KeyEncoding.Binary */) {\r\n        throw new Error('Cannot represent binary-encoded key as a string.');\r\n    }\r\n    return importKeyBytes(buffer_1.Buffer.from(keyString, 'utf8'), passphrase, keyFormat, keyEncoding);\r\n}\r\nexports.importKey = importKey;\r\n/** Imports a public key or public/private key pair from a file. */\r\nfunction importKeyFile(keyFile, passphrase = null, keyFormat = 0 /* KeyFormat.Default */, keyEncoding = 0 /* KeyEncoding.Default */) {\r\n    if (keyEncoding === 1 /* KeyEncoding.Binary */) {\r\n        throw new Error('Cannot represent binary-encoded key as a string.');\r\n    }\r\n    return require('fs')\r\n        .promises.readFile(keyFile)\r\n        .then((keyBytes) => importKeyBytes(keyBytes, passphrase, keyFormat, keyEncoding));\r\n}\r\nexports.importKeyFile = importKeyFile;\r\n/** Imports a public key or public/private key pair from a byte array. */\r\nasync function importKeyBytes(keyBytes, passphrase = null, keyFormat = 0 /* KeyFormat.Default */, keyEncoding = 0 /* KeyEncoding.Default */) {\r\n    if (!(keyBytes instanceof buffer_1.Buffer))\r\n        throw new TypeError('Buffer expected.');\r\n    let keyData = null;\r\n    if (keyEncoding === 0 /* KeyEncoding.Default */ || keyEncoding === 3 /* KeyEncoding.Pem */) {\r\n        keyData = keyData_1.KeyData.tryDecodePemBytes(keyBytes);\r\n        if (!keyData && keyEncoding === 3 /* KeyEncoding.Pem */) {\r\n            throw new Error('Key is not PEM-encoded.');\r\n        }\r\n    }\r\n    let keyType = null;\r\n    let comment = null;\r\n    if (!keyData && (keyEncoding === 0 /* KeyEncoding.Default */ || keyEncoding === 5 /* KeyEncoding.Json */)) {\r\n        try {\r\n            JSON.parse(keyBytes.toString('utf8'));\r\n            keyData = new keyData_1.KeyData();\r\n            keyData.data = keyBytes;\r\n            keyEncoding = 5 /* KeyEncoding.Json */;\r\n            keyFormat = 7 /* KeyFormat.Jwk */;\r\n        }\r\n        catch (e) {\r\n            if (keyEncoding === 5 /* KeyEncoding.Json */) {\r\n                throw new Error('Key is not JSON-formatted.');\r\n            }\r\n        }\r\n    }\r\n    if (!keyData &&\r\n        (keyFormat === 0 /* KeyFormat.Default */ || keyFormat === 1 /* KeyFormat.Ssh */) &&\r\n        (keyEncoding === 0 /* KeyEncoding.Default */ || keyEncoding === 4 /* KeyEncoding.SshBase64 */)) {\r\n        try {\r\n            let keyString = keyBytes.toString('utf8');\r\n            const lines = keyString.split('\\n').filter((line) => !!line);\r\n            if (lines.length === 1) {\r\n                keyString = lines[0];\r\n                const parts = keyString.split(' ', 3);\r\n                if (parts.length >= 2 && parts[0].length < 40) {\r\n                    keyType = parts[0];\r\n                    keyBytes = buffer_1.Buffer.from(parts[1], 'utf8');\r\n                    comment = parts.length === 3 ? parts[2].trimRight() : null;\r\n                    keyEncoding = 2 /* KeyEncoding.Base64 */;\r\n                    keyFormat = 1 /* KeyFormat.Ssh */;\r\n                }\r\n            }\r\n        }\r\n        catch (e) { }\r\n        if (!keyType && keyEncoding === 4 /* KeyEncoding.SshBase64 */) {\r\n            throw new Error('Key does not have SSH algorithm prefix.');\r\n        }\r\n    }\r\n    if (!keyData && (keyEncoding === 0 /* KeyEncoding.Default */ || keyEncoding === 2 /* KeyEncoding.Base64 */)) {\r\n        try {\r\n            const keyString = keyBytes.toString('utf8');\r\n            // Node doesn't throw when parsing invalid base64. To check if the parse was successful,\r\n            // compare the resulting decoded bytes to the expected length, which is 3/4 of the input.\r\n            if (keyString.length % 4 === 0) {\r\n                const encodedLengthWithoutPadding = keyString.length - (keyString.endsWith('==') ? 2 : keyString.endsWith('=') ? 1 : 0);\r\n                const decodedLength = Math.floor((encodedLengthWithoutPadding / 4) * 3);\r\n                const decoded = buffer_1.Buffer.from(keyString, 'base64');\r\n                if (decoded.length === decodedLength) {\r\n                    keyBytes = decoded;\r\n                    keyEncoding = 1 /* KeyEncoding.Binary */;\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            if (keyEncoding === 2 /* KeyEncoding.Base64 */) {\r\n                throw new Error('Key is not base64-encoded.');\r\n            }\r\n        }\r\n    }\r\n    if (keyData === null &&\r\n        (keyEncoding === 0 /* KeyEncoding.Default */ ||\r\n            keyEncoding === 1 /* KeyEncoding.Binary */ ||\r\n            keyEncoding === 5 /* KeyEncoding.Json */)) {\r\n        keyData = new keyData_1.KeyData();\r\n        keyData.data = keyBytes;\r\n        if (keyType) {\r\n            keyData.keyType = keyType;\r\n        }\r\n        if (comment) {\r\n            keyData.headers.set('Comment', comment);\r\n        }\r\n    }\r\n    if (!keyData) {\r\n        throw new Error('Failed to decode key.');\r\n    }\r\n    if (keyFormat === 0 /* KeyFormat.Default */ && !keyData.keyType) {\r\n        throw new Error('Specify a key format when importing binary data.');\r\n    }\r\n    const formatter = exports.keyFormatters.get(keyFormat);\r\n    if (!formatter) {\r\n        throw new Error(`Unimplemented or invalid or key format: ${keyFormat}`);\r\n    }\r\n    keyData = await formatter.decrypt(keyData, passphrase);\r\n    if (!keyData) {\r\n        throw new Error('Failed to decrypt key.');\r\n    }\r\n    const keyPair = await formatter.import(keyData);\r\n    if (!keyPair) {\r\n        throw new Error('Failed to import key.');\r\n    }\r\n    return keyPair;\r\n}\r\nexports.importKeyBytes = importKeyBytes;\r\nasync function exportKeyBytes(keyPair, passphrase, keyFormat, keyEncoding, includePrivate) {\r\n    if (typeof keyPair !== 'object')\r\n        throw new TypeError('KeyPair object expected.');\r\n    if (includePrivate && !keyPair.hasPrivateKey) {\r\n        throw new Error('The KeyPair object does not contain a private key.');\r\n    }\r\n    if (keyFormat === 0 /* KeyFormat.Default */) {\r\n        keyFormat = includePrivate ? 5 /* KeyFormat.Pkcs8 */ : 1 /* KeyFormat.Ssh */;\r\n    }\r\n    if (keyEncoding === 0 /* KeyEncoding.Default */) {\r\n        switch (keyFormat) {\r\n            case 1 /* KeyFormat.Ssh */:\r\n                keyEncoding = 4 /* KeyEncoding.SshBase64 */;\r\n                break;\r\n            case 7 /* KeyFormat.Jwk */:\r\n                keyEncoding = 5 /* KeyEncoding.Json */;\r\n                break;\r\n            default:\r\n                keyEncoding = 3 /* KeyEncoding.Pem */;\r\n                break;\r\n        }\r\n    }\r\n    // Automatically switch between PKCS#1/SEC1 based on key algorithm.\r\n    if (keyFormat === 3 /* KeyFormat.Pkcs1 */ && keyPair instanceof dev_tunnels_ssh_1.ECDsa.KeyPair) {\r\n        keyFormat = 4 /* KeyFormat.Sec1 */;\r\n    }\r\n    else if (keyFormat === 4 /* KeyFormat.Sec1 */ && keyPair instanceof dev_tunnels_ssh_1.Rsa.KeyPair) {\r\n        keyFormat = 3 /* KeyFormat.Pkcs1 */;\r\n    }\r\n    const formatter = exports.keyFormatters.get(keyFormat);\r\n    if (!formatter) {\r\n        throw new Error(`Unimplemented or invalid or key format: ${keyFormat}`);\r\n    }\r\n    let keyData = await formatter.export(keyPair, includePrivate);\r\n    if (passphrase) {\r\n        keyData = await formatter.encrypt(keyData, passphrase);\r\n    }\r\n    switch (keyEncoding) {\r\n        case 1 /* KeyEncoding.Binary */:\r\n        case 5 /* KeyEncoding.Json */:\r\n            return keyData.data;\r\n        case 2 /* KeyEncoding.Base64 */:\r\n            return buffer_1.Buffer.from(keyData.data.toString('base64'), 'utf8');\r\n        case 4 /* KeyEncoding.SshBase64 */:\r\n            return keyData.encodeSshPublicKeyBytes();\r\n        case 3 /* KeyEncoding.Pem */:\r\n            return keyData.encodePemBytes();\r\n        default:\r\n            throw new Error('Invalid key encoding.');\r\n    }\r\n}\r\n//# sourceMappingURL=importExport.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.KeyData = exports.JsonWebKeyFormatter = exports.Pkcs8KeyFormatter = exports.Pkcs1KeyFormatter = exports.PublicKeyFormatter = exports.exportPrivateKeyBytes = exports.exportPrivateKeyFile = exports.exportPrivateKey = exports.exportPublicKeyBytes = exports.exportPublicKeyFile = exports.exportPublicKey = exports.importKeyBytes = exports.importKeyFile = exports.importKey = exports.keyFormatters = void 0;\r\nvar importExport_1 = require(\"./importExport\");\r\nObject.defineProperty(exports, \"keyFormatters\", { enumerable: true, get: function () { return importExport_1.keyFormatters; } });\r\nObject.defineProperty(exports, \"importKey\", { enumerable: true, get: function () { return importExport_1.importKey; } });\r\nObject.defineProperty(exports, \"importKeyFile\", { enumerable: true, get: function () { return importExport_1.importKeyFile; } });\r\nObject.defineProperty(exports, \"importKeyBytes\", { enumerable: true, get: function () { return importExport_1.importKeyBytes; } });\r\nObject.defineProperty(exports, \"exportPublicKey\", { enumerable: true, get: function () { return importExport_1.exportPublicKey; } });\r\nObject.defineProperty(exports, \"exportPublicKeyFile\", { enumerable: true, get: function () { return importExport_1.exportPublicKeyFile; } });\r\nObject.defineProperty(exports, \"exportPublicKeyBytes\", { enumerable: true, get: function () { return importExport_1.exportPublicKeyBytes; } });\r\nObject.defineProperty(exports, \"exportPrivateKey\", { enumerable: true, get: function () { return importExport_1.exportPrivateKey; } });\r\nObject.defineProperty(exports, \"exportPrivateKeyFile\", { enumerable: true, get: function () { return importExport_1.exportPrivateKeyFile; } });\r\nObject.defineProperty(exports, \"exportPrivateKeyBytes\", { enumerable: true, get: function () { return importExport_1.exportPrivateKeyBytes; } });\r\nvar publicKeyFormatter_1 = require(\"./publicKeyFormatter\");\r\nObject.defineProperty(exports, \"PublicKeyFormatter\", { enumerable: true, get: function () { return publicKeyFormatter_1.PublicKeyFormatter; } });\r\nvar pkcs1KeyFormatter_1 = require(\"./pkcs1KeyFormatter\");\r\nObject.defineProperty(exports, \"Pkcs1KeyFormatter\", { enumerable: true, get: function () { return pkcs1KeyFormatter_1.Pkcs1KeyFormatter; } });\r\nvar pkcs8KeyFormatter_1 = require(\"./pkcs8KeyFormatter\");\r\nObject.defineProperty(exports, \"Pkcs8KeyFormatter\", { enumerable: true, get: function () { return pkcs8KeyFormatter_1.Pkcs8KeyFormatter; } });\r\nvar jsonWebKeyFormatter_1 = require(\"./jsonWebKeyFormatter\");\r\nObject.defineProperty(exports, \"JsonWebKeyFormatter\", { enumerable: true, get: function () { return jsonWebKeyFormatter_1.JsonWebKeyFormatter; } });\r\nvar keyData_1 = require(\"./keyData\");\r\nObject.defineProperty(exports, \"KeyData\", { enumerable: true, get: function () { return keyData_1.KeyData; } });\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.JsonWebKeyFormatter = void 0;\r\nconst dev_tunnels_ssh_1 = require(\"@microsoft/dev-tunnels-ssh\");\r\nconst keyData_1 = require(\"./keyData\");\r\n/** Provides import/export of the JSON Web Key format. */\r\nclass JsonWebKeyFormatter {\r\n    async import(keyData) {\r\n        var _a, _b;\r\n        if (!keyData)\r\n            throw new TypeError('KeyData object expected.');\r\n        let keyJson;\r\n        try {\r\n            keyJson = JSON.parse(keyData.data.toString('utf8'));\r\n        }\r\n        catch (e) {\r\n            return null;\r\n        }\r\n        const jwk = keyJson;\r\n        if (!jwk) {\r\n            return null;\r\n        }\r\n        if (jwk.kty === 'RSA') {\r\n            const parameters = JsonWebKeyFormatter.parseRsa(jwk);\r\n            const keyPair = dev_tunnels_ssh_1.SshAlgorithms.publicKey.rsaWithSha512.createKeyPair();\r\n            await keyPair.importParameters(parameters);\r\n            keyPair.comment = (_a = jwk.comment) !== null && _a !== void 0 ? _a : null;\r\n            return keyPair;\r\n        }\r\n        else if (jwk.kty === 'EC') {\r\n            const parameters = JsonWebKeyFormatter.parseEC(jwk);\r\n            const keyPair = new dev_tunnels_ssh_1.ECDsa.KeyPair();\r\n            await keyPair.importParameters(parameters);\r\n            keyPair.comment = (_b = jwk.comment) !== null && _b !== void 0 ? _b : null;\r\n            return keyPair;\r\n        }\r\n        else {\r\n            throw new Error(`Key type not supported: ${jwk.kty}`);\r\n        }\r\n    }\r\n    async export(keyPair, includePrivate) {\r\n        var _a;\r\n        if (!keyPair)\r\n            throw new TypeError('KeyPair object expected.');\r\n        let jwk;\r\n        if (keyPair instanceof dev_tunnels_ssh_1.Rsa.KeyPair) {\r\n            const parameters = await keyPair.exportParameters();\r\n            jwk = JsonWebKeyFormatter.formatRsa(parameters, includePrivate);\r\n        }\r\n        else if (keyPair instanceof dev_tunnels_ssh_1.ECDsa.KeyPair) {\r\n            const parameters = await keyPair.exportParameters();\r\n            jwk = JsonWebKeyFormatter.formatEC(parameters, includePrivate);\r\n        }\r\n        else {\r\n            throw new Error('KeyPair class not supported: ' + ((_a = keyPair.constructor) === null || _a === void 0 ? void 0 : _a.name));\r\n        }\r\n        if (keyPair.comment) {\r\n            jwk.comment = keyPair.comment;\r\n        }\r\n        const keyData = new keyData_1.KeyData();\r\n        keyData.data = Buffer.from(JSON.stringify(jwk, null, '\\t') + '\\n', 'utf8');\r\n        return keyData;\r\n    }\r\n    async decrypt(keyData, passphrase) {\r\n        if (!keyData)\r\n            throw new TypeError('KeyData object expected.');\r\n        // Just check if it's valid JSON.\r\n        try {\r\n            JSON.parse(keyData.data.toString('utf8'));\r\n            return keyData;\r\n        }\r\n        catch (e) {\r\n            return null;\r\n        }\r\n    }\r\n    encrypt(keyData, passphrase) {\r\n        throw new Error('JWK does not support encryption.');\r\n    }\r\n    static formatRsa(rsa, includePrivate) {\r\n        const formatBigInt = JsonWebKeyFormatter.formatBigInt;\r\n        let jwk;\r\n        if (includePrivate !== false && rsa.d && rsa.p && rsa.q && rsa.dp && rsa.dq && rsa.qi) {\r\n            jwk = {\r\n                kty: 'RSA',\r\n                n: formatBigInt(rsa.modulus),\r\n                e: formatBigInt(rsa.exponent),\r\n                d: formatBigInt(rsa.d),\r\n                p: formatBigInt(rsa.p),\r\n                q: formatBigInt(rsa.q),\r\n                dp: formatBigInt(rsa.dp),\r\n                dq: formatBigInt(rsa.dq),\r\n                qi: formatBigInt(rsa.qi),\r\n            };\r\n        }\r\n        else if (!includePrivate) {\r\n            jwk = {\r\n                kty: 'RSA',\r\n                n: formatBigInt(rsa.modulus),\r\n                e: formatBigInt(rsa.exponent),\r\n            };\r\n        }\r\n        else {\r\n            throw new Error('Missing private key parameters.');\r\n        }\r\n        return jwk;\r\n    }\r\n    static parseRsa(jwk) {\r\n        if ((jwk === null || jwk === void 0 ? void 0 : jwk.kty) !== 'RSA' || !(jwk.n && jwk.e))\r\n            throw new Error('Invalid RSA JWK.');\r\n        const parseBigInt = JsonWebKeyFormatter.parseBigInt;\r\n        let rsa;\r\n        if (jwk.d && jwk.p && jwk.q && jwk.dp && jwk.dq && jwk.qi) {\r\n            rsa = {\r\n                modulus: parseBigInt(jwk.n),\r\n                exponent: parseBigInt(jwk.e),\r\n                d: parseBigInt(jwk.d),\r\n                p: parseBigInt(jwk.p),\r\n                q: parseBigInt(jwk.q),\r\n                dp: parseBigInt(jwk.dp),\r\n                dq: parseBigInt(jwk.dq),\r\n                qi: parseBigInt(jwk.qi),\r\n            };\r\n        }\r\n        else {\r\n            rsa = {\r\n                modulus: parseBigInt(jwk.n),\r\n                exponent: parseBigInt(jwk.e),\r\n            };\r\n        }\r\n        return rsa;\r\n    }\r\n    static formatEC(ec, includePrivate) {\r\n        const curve = dev_tunnels_ssh_1.ECDsa.curves.find((c) => c.oid === ec.curve.oid);\r\n        const keySizeInBytes = Math.ceil(curve.keySize / 8);\r\n        const formatBigInt = JsonWebKeyFormatter.formatBigInt;\r\n        const jwk = {\r\n            kty: 'EC',\r\n            crv: ec.curve.name,\r\n            x: formatBigInt(ec.x, keySizeInBytes),\r\n            y: formatBigInt(ec.y, keySizeInBytes),\r\n        };\r\n        if (includePrivate !== false && ec.d) {\r\n            jwk.d = formatBigInt(ec.d, keySizeInBytes);\r\n        }\r\n        else if (includePrivate) {\r\n            throw new Error('Missing private key parameters.');\r\n        }\r\n        return jwk;\r\n    }\r\n    static parseEC(jwk) {\r\n        var _a;\r\n        if ((jwk === null || jwk === void 0 ? void 0 : jwk.kty) !== 'EC' || !(jwk.crv && jwk.x && jwk.y))\r\n            throw new Error('Invalid EC JWK.');\r\n        const curveOid = (_a = dev_tunnels_ssh_1.ECDsa.curves.find((c) => c.name === jwk.crv)) === null || _a === void 0 ? void 0 : _a.oid;\r\n        if (!curveOid) {\r\n            throw new Error(`Unknown EC curve: ${jwk.crv}`);\r\n        }\r\n        const parseBigInt = JsonWebKeyFormatter.parseBigInt;\r\n        const ec = {\r\n            curve: { name: jwk.crv, oid: curveOid },\r\n            x: parseBigInt(jwk.x),\r\n            y: parseBigInt(jwk.y),\r\n        };\r\n        if (jwk.d) {\r\n            ec.d = parseBigInt(jwk.d);\r\n        }\r\n        return ec;\r\n    }\r\n    static formatBigInt(value, length) {\r\n        return JsonWebKeyFormatter.base64UrlEncode(value.toBytes({ unsigned: true, length }));\r\n    }\r\n    static parseBigInt(value) {\r\n        return dev_tunnels_ssh_1.BigInt.fromBytes(Buffer.from(value, 'base64'), { unsigned: true });\r\n    }\r\n    static base64UrlEncode(data) {\r\n        // JWK format uses base64-url-encoding, which is base64 but with 2 substituted characters.\r\n        // (Note Buffer's base64 DECODING implicitly supports this format.)\r\n        return data\r\n            .toString('base64')\r\n            .replace(/=+$/g, '')\r\n            .replace(/\\+/g, '-')\r\n            .replace(/\\//g, '_');\r\n    }\r\n}\r\nexports.JsonWebKeyFormatter = JsonWebKeyFormatter;\r\n//# sourceMappingURL=jsonWebKeyFormatter.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.KeyData = void 0;\r\n/**\r\n * Encapsulates formatted (serialized) key data and metadata.\r\n */\r\nclass KeyData {\r\n    constructor(keyType, data) {\r\n        /**\r\n         * Optional headers containing key metadata. In PEM encoding, the headers appear in\r\n         * plaintext before the base64-encoded key.\r\n         */\r\n        this.headers = new Map();\r\n        this.keyType = keyType !== null && keyType !== void 0 ? keyType : '';\r\n        this.data = data !== null && data !== void 0 ? data : Buffer.alloc(0);\r\n    }\r\n    static tryDecodePem(input) {\r\n        const lines = input.split('\\n').map((line) => line.trimRight());\r\n        while (lines.length > 0 && lines[lines.length - 1].length === 0) {\r\n            lines.splice(lines.length - 1, 1);\r\n        }\r\n        const beginMatch = lines[0].match(KeyData.beginRegex);\r\n        const endMatch = lines[lines.length - 1].match(KeyData.endRegex);\r\n        if (!beginMatch || !endMatch) {\r\n            return null;\r\n        }\r\n        const keyType = beginMatch[1];\r\n        if (endMatch[1] !== keyType) {\r\n            return null;\r\n        }\r\n        const headers = new Map();\r\n        let i = 1;\r\n        if (lines[i].includes(':')) {\r\n            for (; i < lines.length - 1 && lines[i].length > 0; i++) {\r\n                const headerMatch = lines[i].match(this.headerRegex);\r\n                if (headerMatch) {\r\n                    const name = headerMatch[1];\r\n                    let value = headerMatch[2];\r\n                    while (value.endsWith('\\\\')) {\r\n                        value = value.substr(0, value.length - 1);\r\n                        value += lines[++i];\r\n                    }\r\n                    headers.set(name, value);\r\n                }\r\n            }\r\n        }\r\n        while (lines[i].length === 0) {\r\n            i++;\r\n        }\r\n        const base64Data = lines.slice(i, lines.length - 1).join('');\r\n        let data;\r\n        try {\r\n            data = Buffer.from(base64Data, 'base64');\r\n        }\r\n        catch (e) {\r\n            return null;\r\n        }\r\n        const keyData = new KeyData();\r\n        keyData.keyType = keyType;\r\n        keyData.headers = headers;\r\n        keyData.data = data;\r\n        return keyData;\r\n    }\r\n    static tryDecodePemBytes(input) {\r\n        const hyphen = '-'.charCodeAt(0);\r\n        if (input.length < 3 || input[0] !== hyphen || input[1] !== hyphen || input[2] !== hyphen) {\r\n            return null;\r\n        }\r\n        let inputString;\r\n        try {\r\n            inputString = input.toString('utf8');\r\n        }\r\n        catch (e) {\r\n            return null;\r\n        }\r\n        return KeyData.tryDecodePem(inputString);\r\n    }\r\n    encodePem() {\r\n        let s = `-----BEGIN ${this.keyType}-----\\n`;\r\n        for (const [name, value] of this.headers) {\r\n            // TODO: Wrap the value with \\ if it's long.\r\n            s += `${name}: ${value}\\n`;\r\n        }\r\n        if (this.headers.size > 0) {\r\n            s += '\\n';\r\n        }\r\n        const dataBase64 = this.data.toString('base64');\r\n        const lineLength = 64;\r\n        for (let offset = 0; offset < dataBase64.length; offset += lineLength) {\r\n            s += dataBase64.substr(offset, Math.min(lineLength, dataBase64.length - offset)) + '\\n';\r\n        }\r\n        s += `-----END ${this.keyType}-----\\n`;\r\n        return s;\r\n    }\r\n    encodePemBytes() {\r\n        return Buffer.from(this.encodePem(), 'utf8');\r\n    }\r\n    encodeSshPublicKey() {\r\n        const comment = this.headers.get('Comment');\r\n        return (this.keyType + ' ' + this.data.toString('base64') + (comment ? ' ' + comment : '') + '\\n');\r\n    }\r\n    encodeSshPublicKeyBytes() {\r\n        return Buffer.from(this.encodeSshPublicKey(), 'utf8');\r\n    }\r\n}\r\nexports.KeyData = KeyData;\r\nKeyData.beginRegex = /^-+ *BEGIN (\\w+( \\w+)*) *-+$/;\r\nKeyData.endRegex = /^-+ *END (\\w+( \\w+)*) *-+$/;\r\nKeyData.headerRegex = /^([\\w-]+): (.*)$/;\r\n//# sourceMappingURL=keyData.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getKeyEncryptionAlgorithm = void 0;\r\nconst dev_tunnels_ssh_1 = require(\"@microsoft/dev-tunnels-ssh\");\r\nfunction getKeyEncryptionAlgorithm(algorithm) {\r\n    // Different formats may use different casing and hyphens. Normalize before comparing.\r\n    algorithm = algorithm.toUpperCase().replace(/-/g, '');\r\n    // Note algorithms other than AES256 are used only for decrypting (importing) keys.\r\n    switch (algorithm) {\r\n        case 'AES128CBC':\r\n            return new dev_tunnels_ssh_1.Encryption('aes128-cbc', 'AES', 'CBC', 128);\r\n        case 'AES128CTR':\r\n            return new dev_tunnels_ssh_1.Encryption('aes128-ctr', 'AES', 'CTR', 128);\r\n        case 'AES192CBC':\r\n            return new dev_tunnels_ssh_1.Encryption('aes192-cbc', 'AES', 'CBC', 192);\r\n        case 'AES192CTR':\r\n            return new dev_tunnels_ssh_1.Encryption('aes192-ctr', 'AES', 'CTR', 192);\r\n        case 'AES256CBC':\r\n            return new dev_tunnels_ssh_1.Encryption('aes256-cbc', 'AES', 'CBC', 256);\r\n        case 'AES256CTR':\r\n            return new dev_tunnels_ssh_1.Encryption('aes256-ctr', 'AES', 'CTR', 256);\r\n        default:\r\n            throw new Error(`Key cipher not supported: ${algorithm}`);\r\n    }\r\n}\r\nexports.getKeyEncryptionAlgorithm = getKeyEncryptionAlgorithm;\r\n//# sourceMappingURL=keyFormatter.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Pkcs1KeyFormatter = void 0;\r\nconst dev_tunnels_ssh_1 = require(\"@microsoft/dev-tunnels-ssh\");\r\nconst keyFormatter_1 = require(\"./keyFormatter\");\r\nconst keyData_1 = require(\"./keyData\");\r\n/** Provides import/export of the PKCS#1 key format. */\r\nclass Pkcs1KeyFormatter {\r\n    async import(keyData) {\r\n        if (!keyData)\r\n            throw new TypeError('KeyData object expected.');\r\n        if (!keyData.keyType) {\r\n            // Automatically determine public or private by reading the first few bytes.\r\n            try {\r\n                const reader = new dev_tunnels_ssh_1.DerReader(keyData.data);\r\n                reader.readInteger();\r\n                reader.readInteger();\r\n                keyData.keyType =\r\n                    reader.available > 0\r\n                        ? Pkcs1KeyFormatter.privateKeyType\r\n                        : Pkcs1KeyFormatter.publicKeyType;\r\n            }\r\n            catch (e) {\r\n                return null;\r\n            }\r\n        }\r\n        let parameters = null;\r\n        if (keyData.keyType === Pkcs1KeyFormatter.publicKeyType) {\r\n            parameters = Pkcs1KeyFormatter.parseRsaPublic(keyData.data);\r\n        }\r\n        else if (keyData.keyType === Pkcs1KeyFormatter.privateKeyType) {\r\n            parameters = Pkcs1KeyFormatter.parseRsaPrivate(keyData.data);\r\n        }\r\n        if (parameters) {\r\n            const keyPair = dev_tunnels_ssh_1.SshAlgorithms.publicKey.rsaWithSha512.createKeyPair();\r\n            await keyPair.importParameters(parameters);\r\n            return keyPair;\r\n        }\r\n        return null;\r\n    }\r\n    async export(keyPair, includePrivate) {\r\n        if (!keyPair)\r\n            throw new TypeError('KeyPair object expected.');\r\n        if (keyPair instanceof dev_tunnels_ssh_1.Rsa.KeyPair) {\r\n            if (!keyPair.hasPublicKey) {\r\n                throw new Error('KeyPair object does not have a public key.');\r\n            }\r\n            else if (includePrivate && !keyPair.hasPrivateKey) {\r\n                throw new Error('KeyPair object does not have a private key.');\r\n            }\r\n            const keyData = new keyData_1.KeyData();\r\n            const parameters = await keyPair.exportParameters();\r\n            if (includePrivate) {\r\n                keyData.keyType = Pkcs1KeyFormatter.privateKeyType;\r\n                keyData.data = Pkcs1KeyFormatter.formatRsaPrivate(parameters);\r\n            }\r\n            else {\r\n                keyData.keyType = Pkcs1KeyFormatter.publicKeyType;\r\n                keyData.data = Pkcs1KeyFormatter.formatRsaPublic(parameters);\r\n            }\r\n            return keyData;\r\n        }\r\n        else {\r\n            throw new Error('KeyPair class not supported.');\r\n        }\r\n    }\r\n    async decrypt(keyData, passphrase) {\r\n        if (!keyData)\r\n            throw new TypeError('KeyData object expected.');\r\n        if (keyData.keyType === Pkcs1KeyFormatter.publicKeyType ||\r\n            (!keyData.keyType && !passphrase)) {\r\n            return keyData;\r\n        }\r\n        else if (keyData.keyType === Pkcs1KeyFormatter.privateKeyType || !keyData.keyType) {\r\n            const procTypeHeader = keyData.headers.get('Proc-Type');\r\n            if (procTypeHeader === '4,ENCRYPTED') {\r\n                if (!passphrase) {\r\n                    throw new Error('A passphrase is required to decrypt the key.');\r\n                }\r\n                return Pkcs1KeyFormatter.decryptPrivate(keyData, passphrase);\r\n            }\r\n            else {\r\n                return keyData;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    async encrypt(keyData, passphrase) {\r\n        if (!keyData)\r\n            throw new TypeError('KeyData object expected.');\r\n        if (keyData.keyType === Pkcs1KeyFormatter.publicKeyType) {\r\n            throw new Error('Public key cannot be encrypted.');\r\n        }\r\n        else if (keyData.keyType === Pkcs1KeyFormatter.privateKeyType) {\r\n            throw new Error('PKCS#1 export with passphrase is not supported because the format uses ' +\r\n                'a weak key derivation algorithm. Use PKCS#8 to export a ' +\r\n                'passphrase-protected private key.');\r\n        }\r\n        else {\r\n            throw new Error(`Unsupported key type: ${keyData.keyType}`);\r\n        }\r\n    }\r\n    static formatRsaPublic(rsa) {\r\n        const writer = new dev_tunnels_ssh_1.DerWriter(Buffer.alloc(1024));\r\n        writer.writeInteger(rsa.modulus);\r\n        writer.writeInteger(rsa.exponent);\r\n        return writer.toBuffer();\r\n    }\r\n    static formatRsaPrivate(rsa) {\r\n        if (!(rsa.d && rsa.p && rsa.q && rsa.dp && rsa.dq && rsa.qi)) {\r\n            throw new Error('Missing private key parameters.');\r\n        }\r\n        const writer = new dev_tunnels_ssh_1.DerWriter(Buffer.alloc(2048));\r\n        writer.writeInteger(dev_tunnels_ssh_1.BigInt.fromInt32(0));\r\n        writer.writeInteger(rsa.modulus);\r\n        writer.writeInteger(rsa.exponent);\r\n        writer.writeInteger(rsa.d);\r\n        writer.writeInteger(rsa.p);\r\n        writer.writeInteger(rsa.q);\r\n        writer.writeInteger(rsa.dp);\r\n        writer.writeInteger(rsa.dq);\r\n        writer.writeInteger(rsa.qi);\r\n        return writer.toBuffer();\r\n    }\r\n    static parseRsaPublic(keyBytes) {\r\n        const reader = new dev_tunnels_ssh_1.DerReader(keyBytes);\r\n        const modulus = reader.readInteger();\r\n        const exponent = reader.readInteger();\r\n        return { modulus, exponent };\r\n    }\r\n    static parseRsaPrivate(keyBytes) {\r\n        const reader = new dev_tunnels_ssh_1.DerReader(keyBytes);\r\n        const version = reader.readInteger();\r\n        const modulus = reader.readInteger();\r\n        const exponent = reader.readInteger();\r\n        const d = reader.readInteger();\r\n        const p = reader.readInteger();\r\n        const q = reader.readInteger();\r\n        const dp = reader.readInteger();\r\n        const dq = reader.readInteger();\r\n        const qi = reader.readInteger();\r\n        return { modulus, exponent, d, p, q, dp, dq, qi };\r\n    }\r\n    /* @internal */\r\n    static async decryptPrivate(keyData, passphrase) {\r\n        const decryptionInfo = keyData.headers.get('DEK-Info');\r\n        if (!decryptionInfo) {\r\n            throw new Error('PKCS#1 decryption parameters not found.');\r\n        }\r\n        const decryptionInfoParts = decryptionInfo.split(',');\r\n        const cipherName = decryptionInfoParts[0];\r\n        const ivHex = decryptionInfoParts[1];\r\n        const iv = Buffer.from(ivHex, 'hex');\r\n        const encryption = (0, keyFormatter_1.getKeyEncryptionAlgorithm)(cipherName);\r\n        const key = Pkcs1KeyFormatter.deriveDecryptionKey(Buffer.from(passphrase, 'utf8'), iv, encryption.keyLength);\r\n        const decryptedKeyData = new keyData_1.KeyData(keyData.keyType);\r\n        decryptedKeyData.headers = new Map(keyData.headers);\r\n        decryptedKeyData.headers.delete('Proc-Type');\r\n        decryptedKeyData.headers.delete('DEK-Info');\r\n        const decipher = await encryption.createCipher(false, key, iv);\r\n        decryptedKeyData.data = await decipher.transform(keyData.data);\r\n        // The first part of the key should be a DER sequence header.\r\n        if (decryptedKeyData.data[0] !== (32 /* DerType.Constructed */ | 16 /* DerType.Sequence */)) {\r\n            throw new Error('Key decryption failed - incorrect passphrase.');\r\n        }\r\n        return decryptedKeyData;\r\n    }\r\n    static deriveDecryptionKey(passphraseBytes, iv, keyLength) {\r\n        const useWebCrypto = !!(typeof crypto === 'object' && crypto.subtle);\r\n        if (useWebCrypto) {\r\n            // Web crypto does not provide an MD5 implementation. An external lib could be used here,\r\n            // but it's not worth it to support an insecure encryption format. Use PKCS#8 instead.\r\n            throw new Error('PKCS#1 decryption not implemented.');\r\n        }\r\n        const nodeCrypto = require('crypto');\r\n        const PKCS5_SALT_LEN = 8;\r\n        const salt = iv.slice(0, PKCS5_SALT_LEN);\r\n        let key = Buffer.alloc(0);\r\n        while (key.length < keyLength) {\r\n            // MD5 is an unsafe hash algorithm, but it is used only for decrypting (importing) keys,\r\n            // not encrypting.\r\n            const md5 = nodeCrypto.createHash('md5');\r\n            md5.update(key);\r\n            md5.update(passphraseBytes);\r\n            md5.update(salt);\r\n            key = Buffer.concat([key, md5.digest()]);\r\n        }\r\n        key = key.slice(0, keyLength);\r\n        return key;\r\n    }\r\n}\r\nexports.Pkcs1KeyFormatter = Pkcs1KeyFormatter;\r\nPkcs1KeyFormatter.publicKeyType = 'RSA PUBLIC KEY';\r\nPkcs1KeyFormatter.privateKeyType = 'RSA PRIVATE KEY';\r\n//# sourceMappingURL=pkcs1KeyFormatter.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Pkcs8KeyFormatter = void 0;\r\nconst dev_tunnels_ssh_1 = require(\"@microsoft/dev-tunnels-ssh\");\r\nconst keyData_1 = require(\"./keyData\");\r\n/** Provides import/export of the PKCS#8 key format. */\r\n// eslint-disable-next-line no-redeclare\r\nclass Pkcs8KeyFormatter {\r\n    constructor() {\r\n        /** Mapping from public key algorithm OID to import handler for that algorithm. */\r\n        this.importers = new Map();\r\n        /** Mapping from public key algorithm name to export handler for that algorithm. */\r\n        this.exporters = new Map();\r\n        /** Enables overriding randomness for predictable testing. */\r\n        this.random = dev_tunnels_ssh_1.SshAlgorithms.random;\r\n        this.importers.set(\"1.2.840.113549.1.1.1\" /* Oids.rsa */, Pkcs8KeyFormatter.importRsaKey);\r\n        this.importers.set(\"1.2.840.10045.2.1\" /* Oids.ec */, Pkcs8KeyFormatter.importECKey);\r\n        this.exporters.set(dev_tunnels_ssh_1.Rsa.keyAlgorithmName, Pkcs8KeyFormatter.exportRsaKey);\r\n        this.exporters.set(dev_tunnels_ssh_1.ECDsa.ecdsaSha2Nistp256, Pkcs8KeyFormatter.exportECKey);\r\n        this.exporters.set(dev_tunnels_ssh_1.ECDsa.ecdsaSha2Nistp384, Pkcs8KeyFormatter.exportECKey);\r\n        this.exporters.set(dev_tunnels_ssh_1.ECDsa.ecdsaSha2Nistp521, Pkcs8KeyFormatter.exportECKey);\r\n    }\r\n    async import(keyData) {\r\n        if (!keyData)\r\n            throw new TypeError('KeyData object expected.');\r\n        if (!keyData.keyType) {\r\n            // Automatically determine public or private by reading the first few bytes.\r\n            try {\r\n                const reader = new dev_tunnels_ssh_1.DerReader(keyData.data);\r\n                if (reader.peek() === (32 /* DerType.Constructed */ | 16 /* DerType.Sequence */)) {\r\n                    keyData.keyType = Pkcs8KeyFormatter.publicKeyType;\r\n                }\r\n                else if (reader.peek() === 2 /* DerType.Integer */) {\r\n                    keyData.keyType = Pkcs8KeyFormatter.privateKeyType;\r\n                }\r\n            }\r\n            catch (e) {\r\n                return null;\r\n            }\r\n        }\r\n        if (keyData.keyType === Pkcs8KeyFormatter.publicKeyType) {\r\n            return await this.importPublic(keyData);\r\n        }\r\n        else if (keyData.keyType === Pkcs8KeyFormatter.privateKeyType) {\r\n            return await this.importPrivate(keyData);\r\n        }\r\n        else if (keyData.keyType === Pkcs8KeyFormatter.encryptedPrivateKeyType) {\r\n            throw new Error('Decrypt before importing.');\r\n        }\r\n        return null;\r\n    }\r\n    async export(keyPair, includePrivate) {\r\n        if (!keyPair)\r\n            throw new TypeError('KeyPair object expected.');\r\n        if (includePrivate) {\r\n            if (!keyPair.hasPrivateKey) {\r\n                throw new Error('KeyPair object does not contain the private key.');\r\n            }\r\n            return await this.exportPrivate(keyPair);\r\n        }\r\n        else {\r\n            return await this.exportPublic(keyPair);\r\n        }\r\n    }\r\n    async decrypt(keyData, passphrase) {\r\n        if (!keyData)\r\n            throw new TypeError('KeyData object expected.');\r\n        if (keyData.keyType === Pkcs8KeyFormatter.publicKeyType ||\r\n            keyData.keyType === Pkcs8KeyFormatter.privateKeyType ||\r\n            (!keyData.keyType && !passphrase)) {\r\n            return keyData;\r\n        }\r\n        else if (keyData.keyType === Pkcs8KeyFormatter.encryptedPrivateKeyType ||\r\n            (!keyData.keyType && passphrase)) {\r\n            if (!passphrase) {\r\n                throw new Error('A passphrase is required to decrypt the key.');\r\n            }\r\n            return Pkcs8KeyFormatter.decryptPrivate(keyData, passphrase);\r\n        }\r\n        return null;\r\n    }\r\n    async encrypt(keyData, passphrase) {\r\n        if (!keyData)\r\n            throw new TypeError('KeyData object expected.');\r\n        if (keyData.keyType === Pkcs8KeyFormatter.publicKeyType) {\r\n            throw new Error('Public key cannot be encrypted.');\r\n        }\r\n        else if (keyData.keyType === Pkcs8KeyFormatter.privateKeyType) {\r\n            return Pkcs8KeyFormatter.encryptPrivate(keyData, passphrase, this.random);\r\n        }\r\n        else if (keyData.keyType === Pkcs8KeyFormatter.encryptedPrivateKeyType) {\r\n            throw new Error('Already encrypted.');\r\n        }\r\n        else {\r\n            throw new Error(`Unsupported key type: ${keyData.keyType}`);\r\n        }\r\n    }\r\n    async importPublic(keyData) {\r\n        const reader = new dev_tunnels_ssh_1.DerReader(keyData.data);\r\n        const oidReader = reader.readSequence();\r\n        const keyAlgorithm = oidReader.readObjectIdentifier();\r\n        const keyBytes = reader.readBitString();\r\n        const importer = this.importers.get(keyAlgorithm);\r\n        if (!importer) {\r\n            throw new Error(`No PKCS#8 importer available for key algorithm: ${keyAlgorithm}`);\r\n        }\r\n        return await importer(keyBytes, oidReader, false);\r\n    }\r\n    async importPrivate(keyData) {\r\n        const reader = new dev_tunnels_ssh_1.DerReader(keyData.data);\r\n        const version = reader.readInteger().toInt32();\r\n        if (version !== 0) {\r\n            throw new Error(`PKCS#8 format version not supported: ${version}`);\r\n        }\r\n        const oidReader = reader.readSequence();\r\n        const keyAlgorithm = oidReader.readObjectIdentifier();\r\n        const keyBytes = reader.readOctetString();\r\n        const importer = this.importers.get(keyAlgorithm);\r\n        if (!importer) {\r\n            throw new Error(`No PKCS#8 importer available for key algorithm: ${keyAlgorithm}`);\r\n        }\r\n        return await importer(keyBytes, oidReader, true);\r\n    }\r\n    static async importRsaKey(keyBytes, oidReader, includePrivate) {\r\n        const keyReader = new dev_tunnels_ssh_1.DerReader(keyBytes);\r\n        if (includePrivate) {\r\n            const version = keyReader.readInteger().toInt32();\r\n            if (version !== 0) {\r\n                throw new Error(`PKCS#8 key format version not supported: ${version}`);\r\n            }\r\n        }\r\n        const parameters = {\r\n            modulus: keyReader.readInteger(),\r\n            exponent: keyReader.readInteger(),\r\n        };\r\n        if (includePrivate) {\r\n            parameters.d = keyReader.readInteger();\r\n            parameters.p = keyReader.readInteger();\r\n            parameters.q = keyReader.readInteger();\r\n            parameters.dp = keyReader.readInteger();\r\n            parameters.dq = keyReader.readInteger();\r\n            parameters.qi = keyReader.readInteger();\r\n        }\r\n        const keyPair = dev_tunnels_ssh_1.SshAlgorithms.publicKey.rsaWithSha512.createKeyPair();\r\n        await keyPair.importParameters(parameters);\r\n        return keyPair;\r\n    }\r\n    static async importECKey(keyBytes, oidReader, includePrivate) {\r\n        const curveOid = oidReader.readObjectIdentifier();\r\n        let publicKeyBytes;\r\n        let privateKeyBytes = null;\r\n        if (includePrivate) {\r\n            const keyReader = new dev_tunnels_ssh_1.DerReader(keyBytes);\r\n            const version = keyReader.readInteger().toInt32();\r\n            if (version !== 1) {\r\n                throw new Error(`PKCS#8 EC key format version not supported: ${version}`);\r\n            }\r\n            privateKeyBytes = keyReader.readOctetString();\r\n            const publicKeyReader = keyReader.tryReadTagged(1);\r\n            if (!publicKeyReader) {\r\n                throw new Error('Failed to read EC public key data.');\r\n            }\r\n            publicKeyBytes = publicKeyReader.readBitString();\r\n        }\r\n        else {\r\n            publicKeyBytes = keyBytes;\r\n        }\r\n        if (publicKeyBytes.length % 2 !== 1) {\r\n            throw new Error(`Unexpected key data length: ${publicKeyBytes.length}`);\r\n        }\r\n        // 4 = uncompressed curve format\r\n        const dataFormat = publicKeyBytes[0];\r\n        if (dataFormat !== 4) {\r\n            throw new Error(`Unexpected curve format: ${dataFormat}`);\r\n        }\r\n        // X and Y parameters are equal length, after a one-byte header.\r\n        const x = dev_tunnels_ssh_1.BigInt.fromBytes(publicKeyBytes.slice(1, 1 + (publicKeyBytes.length - 1) / 2), {\r\n            unsigned: true,\r\n        });\r\n        const y = dev_tunnels_ssh_1.BigInt.fromBytes(publicKeyBytes.slice(1 + (publicKeyBytes.length - 1) / 2), {\r\n            unsigned: true,\r\n        });\r\n        const d = privateKeyBytes ? dev_tunnels_ssh_1.BigInt.fromBytes(privateKeyBytes, { unsigned: true }) : undefined;\r\n        const parameters = {\r\n            curve: { oid: curveOid },\r\n            x,\r\n            y,\r\n            d,\r\n        };\r\n        const keyPair = new dev_tunnels_ssh_1.ECDsa.KeyPair();\r\n        await keyPair.importParameters(parameters);\r\n        return keyPair;\r\n    }\r\n    async exportPublic(keyPair) {\r\n        const exporter = this.exporters.get(keyPair.keyAlgorithmName);\r\n        if (!exporter) {\r\n            throw new Error(`No PKCS#8 exporter available for key algorithm: ${keyPair.keyAlgorithmName}`);\r\n        }\r\n        const oidWriter = new dev_tunnels_ssh_1.DerWriter(Buffer.alloc(256));\r\n        const keyBytes = await exporter(keyPair, oidWriter, false);\r\n        const writer = new dev_tunnels_ssh_1.DerWriter(Buffer.alloc(1024));\r\n        writer.writeSequence(oidWriter);\r\n        writer.writeBitString(keyBytes);\r\n        const keyData = new keyData_1.KeyData();\r\n        keyData.keyType = Pkcs8KeyFormatter.publicKeyType;\r\n        keyData.data = writer.toBuffer();\r\n        return keyData;\r\n    }\r\n    async exportPrivate(keyPair) {\r\n        const exporter = this.exporters.get(keyPair.keyAlgorithmName);\r\n        if (!exporter) {\r\n            throw new Error(`No PKCS#8 exporter available for key algorithm: ${keyPair.keyAlgorithmName}`);\r\n        }\r\n        const oidWriter = new dev_tunnels_ssh_1.DerWriter(Buffer.alloc(256));\r\n        const keyBytes = await exporter(keyPair, oidWriter, true);\r\n        const writer = new dev_tunnels_ssh_1.DerWriter(Buffer.alloc(2048));\r\n        writer.writeInteger(dev_tunnels_ssh_1.BigInt.fromInt32(0)); // version\r\n        writer.writeSequence(oidWriter);\r\n        writer.writeOctetString(keyBytes);\r\n        return new keyData_1.KeyData(Pkcs8KeyFormatter.privateKeyType, writer.toBuffer());\r\n    }\r\n    static async exportRsaKey(keyPair, oidWriter, includePrivate) {\r\n        const parameters = await keyPair.exportParameters();\r\n        oidWriter.writeObjectIdentifier(\"1.2.840.113549.1.1.1\" /* Oids.rsa */);\r\n        oidWriter.writeNull();\r\n        const keyWriter = new dev_tunnels_ssh_1.DerWriter(Buffer.alloc(1024));\r\n        if (includePrivate) {\r\n            keyWriter.writeInteger(dev_tunnels_ssh_1.BigInt.fromInt32(0)); // version\r\n        }\r\n        keyWriter.writeInteger(parameters.modulus);\r\n        keyWriter.writeInteger(parameters.exponent);\r\n        if (includePrivate) {\r\n            keyWriter.writeInteger(parameters.d);\r\n            keyWriter.writeInteger(parameters.p);\r\n            keyWriter.writeInteger(parameters.q);\r\n            keyWriter.writeInteger(parameters.dp);\r\n            keyWriter.writeInteger(parameters.dq);\r\n            keyWriter.writeInteger(parameters.qi);\r\n        }\r\n        return keyWriter.toBuffer();\r\n    }\r\n    static async exportECKey(keyPair, oidWriter, includePrivate) {\r\n        const parameters = await keyPair.exportParameters();\r\n        const curve = dev_tunnels_ssh_1.ECDsa.curves.find((c) => c.oid === parameters.curve.oid);\r\n        const keySizeInBytes = Math.ceil(curve.keySize / 8);\r\n        oidWriter.writeObjectIdentifier(\"1.2.840.10045.2.1\" /* Oids.ec */);\r\n        oidWriter.writeObjectIdentifier(parameters.curve.oid);\r\n        const x = parameters.x.toBytes({ unsigned: true, length: keySizeInBytes });\r\n        const y = parameters.y.toBytes({ unsigned: true, length: keySizeInBytes });\r\n        const publicKeyData = Buffer.alloc(1 + x.length + y.length);\r\n        publicKeyData[0] = 4; // Indicates uncompressed curve format\r\n        x.copy(publicKeyData, 1);\r\n        y.copy(publicKeyData, 1 + x.length);\r\n        if (includePrivate) {\r\n            const keyWriter = new dev_tunnels_ssh_1.DerWriter(Buffer.alloc(512));\r\n            keyWriter.writeInteger(dev_tunnels_ssh_1.BigInt.fromInt32(1)); // version\r\n            keyWriter.writeOctetString(parameters.d.toBytes({ unsigned: true }));\r\n            const publicKeyWriter = new dev_tunnels_ssh_1.DerWriter(Buffer.alloc(1024));\r\n            publicKeyWriter.writeBitString(publicKeyData);\r\n            keyWriter.writeTagged(1, publicKeyWriter);\r\n            return keyWriter.toBuffer();\r\n        }\r\n        else {\r\n            return publicKeyData;\r\n        }\r\n    }\r\n    static async decryptPrivate(keyData, passphrase) {\r\n        let reader = new dev_tunnels_ssh_1.DerReader(keyData.data);\r\n        const innerReader = reader.readSequence();\r\n        let privateKeyData = reader.readOctetString();\r\n        reader = innerReader;\r\n        reader.readObjectIdentifier(\"1.2.840.113549.1.5.13\" /* Oids.pkcs5PBES2 */);\r\n        reader = reader.readSequence();\r\n        let kdfReader = reader.readSequence();\r\n        const algReader = reader.readSequence();\r\n        kdfReader.readObjectIdentifier(\"1.2.840.113549.1.5.12\" /* Oids.pkcs5PBKDF2 */);\r\n        kdfReader = kdfReader.readSequence();\r\n        const salt = kdfReader.readOctetString();\r\n        const iterations = kdfReader.readInteger().toInt32();\r\n        kdfReader = kdfReader.readSequence();\r\n        kdfReader.readObjectIdentifier(\"1.2.840.113549.2.9\" /* Oids.hmacWithSHA256 */);\r\n        kdfReader.readNull();\r\n        const algorithmOid = algReader.readObjectIdentifier();\r\n        const iv = algReader.readOctetString();\r\n        const encryption = Pkcs8KeyFormatter.getKeyEncryptionAlgorithm(algorithmOid);\r\n        const key = await Pkcs8KeyFormatter.pbkdf2(Buffer.from(passphrase, 'utf8'), salt, iterations, encryption.keyLength);\r\n        const decipher = await encryption.createCipher(false, key, iv);\r\n        try {\r\n            privateKeyData = await decipher.transform(privateKeyData);\r\n        }\r\n        catch (e) {\r\n            // Web crypto AES-CBC may throw an error due to invalid padding, if the key is incorrect.\r\n            privateKeyData = Buffer.alloc(0);\r\n        }\r\n        finally {\r\n            decipher.dispose();\r\n        }\r\n        // The first part of the key should be a DER sequence header.\r\n        if (privateKeyData[0] !== (32 /* DerType.Constructed */ | 16 /* DerType.Sequence */)) {\r\n            throw new Error('Key decryption failed - incorrect passphrase.');\r\n        }\r\n        return new keyData_1.KeyData(Pkcs8KeyFormatter.privateKeyType, privateKeyData);\r\n    }\r\n    static async encryptPrivate(keyData, passphrase, random) {\r\n        let privateKeyData = Buffer.from(keyData.data);\r\n        const encryption = Pkcs8KeyFormatter.getKeyEncryptionAlgorithm(\"2.16.840.1.101.3.4.1.42\" /* Oids.aes256Cbc */);\r\n        const salt = Buffer.alloc(8);\r\n        random.getBytes(salt);\r\n        const iterations = 2048;\r\n        const key = await Pkcs8KeyFormatter.pbkdf2(Buffer.from(passphrase, 'utf8'), salt, iterations, encryption.keyLength);\r\n        const iv = Buffer.alloc(encryption.blockLength);\r\n        random.getBytes(iv);\r\n        // Append PKCS#7 padding up to next block boundary.\r\n        const paddingLength = encryption.blockLength - (privateKeyData.length % encryption.blockLength);\r\n        const paddedData = Buffer.alloc(privateKeyData.length + paddingLength);\r\n        privateKeyData.copy(paddedData, 0);\r\n        for (let i = privateKeyData.length; i < paddedData.length; i++) {\r\n            paddedData[i] = paddingLength;\r\n        }\r\n        privateKeyData = paddedData;\r\n        const cipher = await encryption.createCipher(true, key, iv);\r\n        try {\r\n            privateKeyData = await cipher.transform(privateKeyData);\r\n        }\r\n        finally {\r\n            cipher.dispose();\r\n        }\r\n        const pbeWriter = new dev_tunnels_ssh_1.DerWriter(Buffer.alloc(256));\r\n        pbeWriter.writeObjectIdentifier(\"1.2.840.113549.1.5.13\" /* Oids.pkcs5PBES2 */);\r\n        const kdfAndAlgWriter = new dev_tunnels_ssh_1.DerWriter(Buffer.alloc(256));\r\n        const kdfWriter = new dev_tunnels_ssh_1.DerWriter(Buffer.alloc(256));\r\n        kdfWriter.writeObjectIdentifier(\"1.2.840.113549.1.5.12\" /* Oids.pkcs5PBKDF2 */);\r\n        const kdfParamsWriter = new dev_tunnels_ssh_1.DerWriter(Buffer.alloc(32));\r\n        kdfParamsWriter.writeOctetString(salt);\r\n        kdfParamsWriter.writeInteger(dev_tunnels_ssh_1.BigInt.fromInt32(iterations));\r\n        const hmacWriter = new dev_tunnels_ssh_1.DerWriter(Buffer.alloc(16));\r\n        hmacWriter.writeObjectIdentifier(\"1.2.840.113549.2.9\" /* Oids.hmacWithSHA256 */);\r\n        hmacWriter.writeNull();\r\n        kdfParamsWriter.writeSequence(hmacWriter);\r\n        kdfWriter.writeSequence(kdfParamsWriter);\r\n        kdfAndAlgWriter.writeSequence(kdfWriter);\r\n        const algWriter = new dev_tunnels_ssh_1.DerWriter(Buffer.alloc(64));\r\n        algWriter.writeObjectIdentifier(\"2.16.840.1.101.3.4.1.42\" /* Oids.aes256Cbc */);\r\n        algWriter.writeOctetString(iv);\r\n        kdfAndAlgWriter.writeSequence(algWriter);\r\n        pbeWriter.writeSequence(kdfAndAlgWriter);\r\n        const writer = new dev_tunnels_ssh_1.DerWriter(Buffer.alloc(2048));\r\n        writer.writeSequence(pbeWriter);\r\n        writer.writeOctetString(privateKeyData);\r\n        return new keyData_1.KeyData(Pkcs8KeyFormatter.encryptedPrivateKeyType, writer.toBuffer());\r\n    }\r\n    static getKeyEncryptionAlgorithm(algorithmOid) {\r\n        // Note algorithms other than AES256 are used only for decrypting (importing) keys.\r\n        if (algorithmOid === \"2.16.840.1.101.3.4.1.42\" /* Oids.aes256Cbc */) {\r\n            return new dev_tunnels_ssh_1.Encryption('aes256-cbc', 'AES', 'CBC', 256);\r\n        }\r\n        else if (algorithmOid === \"2.16.840.1.101.3.4.1.22\" /* Oids.aes192Cbc */) {\r\n            return new dev_tunnels_ssh_1.Encryption('aes192-cbc', 'AES', 'CBC', 192);\r\n        }\r\n        else if (algorithmOid === \"2.16.840.1.101.3.4.1.2\" /* Oids.aes128Cbc */) {\r\n            return new dev_tunnels_ssh_1.Encryption('aes128-cbc', 'AES', 'CBC', 128);\r\n        }\r\n        else if (algorithmOid === \"1.2.840.113549.3.7\" /* Oids.desEde3Cbc */) {\r\n            return new dev_tunnels_ssh_1.Encryption('3des-cbc', '3DES', 'CBC', 192);\r\n        }\r\n        else {\r\n            throw new Error(`Key cipher not supported: ${algorithmOid}`);\r\n        }\r\n    }\r\n    static async pbkdf2(passphrase, salt, iterations, keyLength) {\r\n        const useWebCrypto = !!(typeof crypto === 'object' && crypto.subtle);\r\n        if (useWebCrypto) {\r\n            const passphraseKey = await crypto.subtle.importKey('raw', passphrase, 'PBKDF2', false, // extractable\r\n            ['deriveBits']);\r\n            const key = await crypto.subtle.deriveBits({\r\n                name: 'PBKDF2',\r\n                salt,\r\n                iterations,\r\n                hash: 'SHA-256',\r\n            }, passphraseKey, keyLength * 8);\r\n            return Buffer.from(key);\r\n        }\r\n        else {\r\n            const crypto = await Promise.resolve().then(() => require('crypto'));\r\n            return await new Promise((resolve, reject) => {\r\n                crypto.pbkdf2(passphrase, salt, iterations, keyLength, 'sha256', (err, derivedKey) => {\r\n                    if (err)\r\n                        reject(err);\r\n                    else\r\n                        resolve(derivedKey);\r\n                });\r\n            });\r\n        }\r\n    }\r\n}\r\nexports.Pkcs8KeyFormatter = Pkcs8KeyFormatter;\r\nPkcs8KeyFormatter.publicKeyType = 'PUBLIC KEY';\r\nPkcs8KeyFormatter.privateKeyType = 'PRIVATE KEY';\r\nPkcs8KeyFormatter.encryptedPrivateKeyType = 'ENCRYPTED PRIVATE KEY';\r\n//# sourceMappingURL=pkcs8KeyFormatter.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PublicKeyFormatter = void 0;\r\nconst dev_tunnels_ssh_1 = require(\"@microsoft/dev-tunnels-ssh\");\r\nconst keyData_1 = require(\"./keyData\");\r\n/** Provides import/export of the SSH public key format. */\r\nclass PublicKeyFormatter {\r\n    async import(keyData) {\r\n        if (!keyData)\r\n            throw new TypeError('KeyData object expected.');\r\n        if (!keyData.keyType) {\r\n            // Try to parse binary data without any key type prefix.\r\n            try {\r\n                const reader = new dev_tunnels_ssh_1.SshDataReader(keyData.data);\r\n                keyData.keyType = reader.readString('ascii');\r\n            }\r\n            catch (e) {\r\n                return null;\r\n            }\r\n        }\r\n        let keyPair = null;\r\n        if (keyData.keyType === dev_tunnels_ssh_1.Rsa.keyAlgorithmName) {\r\n            keyPair = dev_tunnels_ssh_1.SshAlgorithms.publicKey.rsaWithSha512.createKeyPair();\r\n        }\r\n        else if (keyData.keyType === dev_tunnels_ssh_1.ECDsa.ecdsaSha2Nistp256) {\r\n            keyPair = dev_tunnels_ssh_1.SshAlgorithms.publicKey.ecdsaSha2Nistp256.createKeyPair();\r\n        }\r\n        else if (keyData.keyType === dev_tunnels_ssh_1.ECDsa.ecdsaSha2Nistp384) {\r\n            keyPair = dev_tunnels_ssh_1.SshAlgorithms.publicKey.ecdsaSha2Nistp384.createKeyPair();\r\n        }\r\n        else if (keyData.keyType === dev_tunnels_ssh_1.ECDsa.ecdsaSha2Nistp521) {\r\n            keyPair = dev_tunnels_ssh_1.SshAlgorithms.publicKey.ecdsaSha2Nistp521.createKeyPair();\r\n        }\r\n        if (keyPair) {\r\n            await keyPair.setPublicKeyBytes(keyData.data);\r\n            const comment = keyData.headers.get('Comment');\r\n            keyPair.comment = comment !== null && comment !== void 0 ? comment : null;\r\n        }\r\n        return keyPair;\r\n    }\r\n    async export(keyPair, includePrivate) {\r\n        if (!keyPair)\r\n            throw new TypeError('KeyPair object expected.');\r\n        if (includePrivate) {\r\n            throw new Error('SSH public key formatter does not support private keys.');\r\n        }\r\n        if (!keyPair.hasPublicKey) {\r\n            throw new Error('KeyPair object does not include a public key.');\r\n        }\r\n        const keyData = new keyData_1.KeyData();\r\n        keyData.keyType = keyPair.keyAlgorithmName;\r\n        keyData.data = (await keyPair.getPublicKeyBytes());\r\n        if (keyPair.comment) {\r\n            keyData.headers.set('Comment', keyPair.comment);\r\n        }\r\n        return keyData;\r\n    }\r\n    async decrypt(keyData, passphrase) {\r\n        return keyData;\r\n    }\r\n    encrypt(keyData, passphrase) {\r\n        throw new Error('SSH public key format does not support encryption.');\r\n    }\r\n}\r\nexports.PublicKeyFormatter = PublicKeyFormatter;\r\n//# sourceMappingURL=publicKeyFormatter.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Sec1KeyFormatter = void 0;\r\nconst dev_tunnels_ssh_1 = require(\"@microsoft/dev-tunnels-ssh\");\r\nconst keyData_1 = require(\"./keyData\");\r\nconst pkcs1KeyFormatter_1 = require(\"./pkcs1KeyFormatter\");\r\n/** Provides import/export of the SEC1 key format. */\r\nclass Sec1KeyFormatter {\r\n    async import(keyData) {\r\n        if (!keyData)\r\n            throw new TypeError('KeyData object expected.');\r\n        if (keyData.keyType === Sec1KeyFormatter.privateKeyType || !keyData.keyType) {\r\n            const parameters = Sec1KeyFormatter.importECPrivate(keyData.data);\r\n            const keyPair = new dev_tunnels_ssh_1.ECDsa.KeyPair();\r\n            await keyPair.importParameters(parameters);\r\n            return keyPair;\r\n        }\r\n        return null;\r\n    }\r\n    async export(keyPair, includePrivate) {\r\n        if (!keyPair)\r\n            throw new TypeError('KeyPair object expected.');\r\n        if (!includePrivate) {\r\n            throw new Error('Public-only export is not supported by this format.');\r\n        }\r\n        if (keyPair instanceof dev_tunnels_ssh_1.ECDsa.KeyPair) {\r\n            if (!keyPair.hasPublicKey) {\r\n                throw new Error('KeyPair object does not have a public key.');\r\n            }\r\n            else if (!keyPair.hasPrivateKey) {\r\n                throw new Error('KeyPair object does not have a private key.');\r\n            }\r\n            const keyData = new keyData_1.KeyData();\r\n            const parameters = await keyPair.exportParameters();\r\n            keyData.keyType = Sec1KeyFormatter.privateKeyType;\r\n            keyData.data = Sec1KeyFormatter.exportECPrivate(parameters);\r\n            return keyData;\r\n        }\r\n        else {\r\n            throw new Error('KeyPair class not supported.');\r\n        }\r\n    }\r\n    async decrypt(keyData, passphrase) {\r\n        if (!keyData)\r\n            throw new TypeError('KeyData object expected.');\r\n        if (keyData.keyType === Sec1KeyFormatter.privateKeyType || !keyData.keyType) {\r\n            const procTypeHeader = keyData.headers.get('Proc-Type');\r\n            if (procTypeHeader === '4,ENCRYPTED') {\r\n                if (!passphrase) {\r\n                    throw new Error('A passphrase is required to decrypt the key.');\r\n                }\r\n                return pkcs1KeyFormatter_1.Pkcs1KeyFormatter.decryptPrivate(keyData, passphrase);\r\n            }\r\n            else {\r\n                return keyData;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    async encrypt(keyData, passphrase) {\r\n        if (!keyData)\r\n            throw new TypeError('KeyData object expected.');\r\n        if (keyData.keyType === Sec1KeyFormatter.privateKeyType) {\r\n            throw new Error('SEC1 export with passphrase is not supported because the format uses ' +\r\n                'a weak key derivation algorithm. Use PKCS#8 to export a ' +\r\n                'passphrase-protected private key.');\r\n        }\r\n        else {\r\n            throw new Error(`Unsupported key type: ${keyData.keyType}`);\r\n        }\r\n    }\r\n    static exportECPrivate(ec) {\r\n        const curve = dev_tunnels_ssh_1.ECDsa.curves.find((c) => c.oid === ec.curve.oid);\r\n        const keySizeInBytes = Math.ceil(curve.keySize / 8);\r\n        const writer = new dev_tunnels_ssh_1.DerWriter(Buffer.alloc(1024));\r\n        writer.writeInteger(dev_tunnels_ssh_1.BigInt.fromInt32(1)); // version\r\n        writer.writeOctetString(ec.d.toBytes({ unsigned: true, length: keySizeInBytes }));\r\n        const curveWriter = new dev_tunnels_ssh_1.DerWriter(Buffer.alloc(100));\r\n        curveWriter.writeObjectIdentifier(ec.curve.oid);\r\n        writer.writeTagged(0, curveWriter);\r\n        const publicKeyWriter = new dev_tunnels_ssh_1.DerWriter(Buffer.alloc(512));\r\n        const x = ec.x.toBytes({ unsigned: true, length: keySizeInBytes });\r\n        const y = ec.y.toBytes({ unsigned: true, length: keySizeInBytes });\r\n        const publicKeyData = Buffer.alloc(1 + x.length + y.length);\r\n        publicKeyData[0] = 4; // Indicates uncompressed curve format\r\n        x.copy(publicKeyData, 1);\r\n        y.copy(publicKeyData, 1 + x.length);\r\n        publicKeyWriter.writeBitString(publicKeyData);\r\n        writer.writeTagged(1, publicKeyWriter);\r\n        return writer.toBuffer();\r\n    }\r\n    static importECPrivate(keyBytes) {\r\n        var _a;\r\n        const reader = new dev_tunnels_ssh_1.DerReader(keyBytes);\r\n        const version = reader.readInteger().toInt32();\r\n        if (version !== 1) {\r\n            throw new Error(`Unsupported SEC1 format version: ${version}`);\r\n        }\r\n        const d = dev_tunnels_ssh_1.BigInt.fromBytes(reader.readOctetString(), { unsigned: true });\r\n        const curveReader = reader.tryReadTagged(0);\r\n        if (!curveReader) {\r\n            throw new Error('SEC1 curve info not found.');\r\n        }\r\n        const curveOid = curveReader.readObjectIdentifier();\r\n        const curveName = (_a = dev_tunnels_ssh_1.ECDsa.curves.find((c) => c.oid === curveOid)) === null || _a === void 0 ? void 0 : _a.name;\r\n        const publicKeyReader = reader.tryReadTagged(1);\r\n        if (!publicKeyReader) {\r\n            throw new Error('SEC1 public key data not found.');\r\n        }\r\n        const xy = publicKeyReader.readBitString();\r\n        if (xy.length % 2 !== 1) {\r\n            throw new Error(`Unexpected key data length: ${xy.length}`);\r\n        }\r\n        const x = dev_tunnels_ssh_1.BigInt.fromBytes(xy.slice(1, 1 + (xy.length - 1) / 2), { unsigned: true });\r\n        const y = dev_tunnels_ssh_1.BigInt.fromBytes(xy.slice(1 + (xy.length - 1) / 2), { unsigned: true });\r\n        const ec = {\r\n            curve: { name: curveName, oid: curveOid },\r\n            x,\r\n            y,\r\n            d,\r\n        };\r\n        return ec;\r\n    }\r\n}\r\nexports.Sec1KeyFormatter = Sec1KeyFormatter;\r\nSec1KeyFormatter.privateKeyType = 'EC PRIVATE KEY';\r\n//# sourceMappingURL=sec1KeyFormatter.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ForwardedPort = void 0;\r\n/**\r\n * Represents a port being forwarded over an SSH session.\r\n */\r\nclass ForwardedPort {\r\n    /** @internal */\r\n    constructor(localPort, remotePort, isRemote) {\r\n        if (localPort === null && remotePort === null) {\r\n            throw new TypeError('Local and remote ports cannot both be null.');\r\n        }\r\n        else if (!isRemote && remotePort === null) {\r\n            // The remote port number should always be known for locally forwarded ports.\r\n            throw new TypeError('The report port number must not be null for locally forwarded ports.');\r\n        }\r\n        if (localPort !== null && (typeof localPort !== 'number' || localPort <= 0)) {\r\n            throw new TypeError('Local port must be a positive integer.');\r\n        }\r\n        else if (remotePort !== null && (typeof remotePort !== 'number' || remotePort <= 0)) {\r\n            throw new TypeError('Remote port must be a positive integer: ' + remotePort);\r\n        }\r\n        this.localPort = localPort;\r\n        this.remotePort = remotePort;\r\n        // The string representation is constructed ahead of time because it is used as a workaround\r\n        // for JavaScript Map<T> objects not supporting custom object equality. The string\r\n        // representation is used as the map key.\r\n        const arrow = isRemote ? '->' : '<-';\r\n        if (this.localPort === null) {\r\n            this.str = `${arrow}${this.remotePort}`;\r\n        }\r\n        else if (this.remotePort == null) {\r\n            this.str = `${this.localPort}${arrow}`;\r\n        }\r\n        else {\r\n            this.str = `${this.localPort}${arrow}${this.remotePort}`;\r\n        }\r\n    }\r\n    /**\r\n     * Gets a string representation of the forwarded port, which includes both\r\n     * local and remote port numbers if present.\r\n     *\r\n     * An arrow shows the direction of connections (channel open requests).\r\n     * Once connections are opened, data may flow in both directions.\r\n     */\r\n    toString() {\r\n        return this.str;\r\n    }\r\n}\r\nexports.ForwardedPort = ForwardedPort;\r\n//# sourceMappingURL=forwardedPort.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ForwardedPortConnectingEventArgs = exports.ForwardedPortChannelEventArgs = exports.ForwardedPortEventArgs = void 0;\r\nclass ForwardedPortEventArgs {\r\n    constructor(port) {\r\n        this.port = port;\r\n    }\r\n    toString() {\r\n        return this.port.toString();\r\n    }\r\n}\r\nexports.ForwardedPortEventArgs = ForwardedPortEventArgs;\r\nclass ForwardedPortChannelEventArgs extends ForwardedPortEventArgs {\r\n    constructor(port, channel) {\r\n        super(port);\r\n        this.port = port;\r\n        this.channel = channel;\r\n    }\r\n    toString() {\r\n        return `${this.port} ${this.channel}`;\r\n    }\r\n}\r\nexports.ForwardedPortChannelEventArgs = ForwardedPortChannelEventArgs;\r\n/**\r\n * Event raised when an incoming or outgoing connection to a forwarded port is\r\n * about to be established.\r\n */\r\nclass ForwardedPortConnectingEventArgs {\r\n    constructor(\r\n    /**\r\n     * The remote forwarded port number. This may be different from the local port number,\r\n     * if the local TCP listener chose a different port.\r\n     */\r\n    port, \r\n    /**\r\n     * True if this connection is incoming (remote connection to a local port);\r\n     * false if it is outgoing (local connection to a remote port).\r\n     */\r\n    isIncoming, \r\n    /**\r\n     * A stream for the forwarded connection.\r\n     */\r\n    stream, \r\n    /**\r\n     * A cancellation token that is cancelled when the session is closed.\r\n     */\r\n    cancellation) {\r\n        this.port = port;\r\n        this.isIncoming = isIncoming;\r\n        this.stream = stream;\r\n        this.cancellation = cancellation;\r\n    }\r\n    toString() {\r\n        return `${this.port} isIncoming=${this.isIncoming}`;\r\n    }\r\n}\r\nexports.ForwardedPortConnectingEventArgs = ForwardedPortConnectingEventArgs;\r\n//# sourceMappingURL=forwardedPortEventArgs.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ForwardedPortsCollection = void 0;\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst forwardedPortEventArgs_1 = require(\"./forwardedPortEventArgs\");\r\n/**\r\n * Tracks the list of ports that are currently being forwarded between the SSH client and server,\r\n * along with the set of channel connections for each forwarded port.\r\n *\r\n * Ports forwarded in either direction (client->server or server->client) are tracked in separate\r\n * collections. Typically within a session the forwarding is done only in one direction, though\r\n * the protocol supports bi-directional forwarding.\r\n *\r\n * @see PortForwardingService.RemoteForwardedPorts\r\n * @see PortForwardingService.LocalForwardedPorts\r\n */\r\nclass ForwardedPortsCollection {\r\n    constructor() {\r\n        /**\r\n         * Maintains a mapping from port keys to port objects and channels for the port.\r\n         *\r\n         * The ForwardedPort string representation is used as the keys.\r\n         */\r\n        this.portChannelMap = new Map();\r\n        this.portAddedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onPortAdded = this.portAddedEmitter.event;\r\n        this.portRemovedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onPortRemoved = this.portRemovedEmitter.event;\r\n        this.portChannelAddedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onPortChannelAdded = this.portChannelAddedEmitter.event;\r\n        this.portChannelRemovedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onPortChannelRemoved = this.portChannelRemovedEmitter.event;\r\n    }\r\n    /** Gets the number of ports in the collection. */\r\n    get size() {\r\n        return this.portChannelMap.size;\r\n    }\r\n    /** Checks whether a port is in the collection. */\r\n    has(port) {\r\n        return this.portChannelMap.has(port.toString());\r\n    }\r\n    /** Lists all the ports in the collection. */\r\n    *values() {\r\n        for (const [port, channels] of this.portChannelMap.values()) {\r\n            yield port;\r\n        }\r\n    }\r\n    /** Iterates over all the ports in the collection. */\r\n    [Symbol.iterator]() {\r\n        return this.values();\r\n    }\r\n    /** Lists all the ports in the collection. */\r\n    *entries() {\r\n        for (const [port, channels] of this.portChannelMap.values()) {\r\n            yield [port, port];\r\n        }\r\n    }\r\n    /**\r\n     * Lists all the ports in the collection.\r\n     * (In a set, the keys are the same as the values.)\r\n     */\r\n    keys() {\r\n        return this.values();\r\n    }\r\n    /** Iterates over all the ports in the collection, invoking a callback function on each. */\r\n    forEach(callbackfn, thisArg) {\r\n        for (const [port, channels] of this.portChannelMap.values()) {\r\n            callbackfn.apply(thisArg, [port, port, this]);\r\n        }\r\n    }\r\n    getChannels(port) {\r\n        const portAndChannels = this.portChannelMap.get(port.toString());\r\n        if (!portAndChannels) {\r\n            throw new Error(`Port ${port} is not in the collection.`);\r\n        }\r\n        return portAndChannels[1];\r\n    }\r\n    /** Finds the first port in the collection that matches a predicate. */\r\n    find(predicate) {\r\n        for (const port of this.values()) {\r\n            if (predicate(port)) {\r\n                return port;\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    /* @internal */\r\n    addPort(port) {\r\n        if (this.has(port)) {\r\n            throw new Error(`Port ${port} is already in the collection.`);\r\n        }\r\n        this.portChannelMap.set(port.toString(), [port, []]);\r\n        this.portAddedEmitter.fire(new forwardedPortEventArgs_1.ForwardedPortEventArgs(port));\r\n    }\r\n    /* @internal */\r\n    removePort(port) {\r\n        if (!this.has(port)) {\r\n            throw new Error(`Port ${port} is not in the collection.`);\r\n        }\r\n        this.portChannelMap.delete(port.toString());\r\n        this.portRemovedEmitter.fire(new forwardedPortEventArgs_1.ForwardedPortEventArgs(port));\r\n    }\r\n    /* @internal */\r\n    addChannel(port, channel) {\r\n        const portAndChannels = this.portChannelMap.get(port.toString());\r\n        if (!portAndChannels) {\r\n            throw new Error(`Port ${port} is not in the collection.`);\r\n        }\r\n        const portChannels = portAndChannels[1];\r\n        if (portChannels.find((c) => c.channelId === channel.channelId)) {\r\n            throw new Error(`Channel ${channel.channelId} is already in the collection for port ${port}`);\r\n        }\r\n        portChannels.push(channel);\r\n        channel.onClosed(() => this.tryRemoveChannel(port, channel));\r\n        this.portChannelAddedEmitter.fire(new forwardedPortEventArgs_1.ForwardedPortChannelEventArgs(port, channel));\r\n    }\r\n    tryRemoveChannel(port, channel) {\r\n        const portAndChannels = this.portChannelMap.get(port.toString());\r\n        if (portAndChannels) {\r\n            const portChannels = portAndChannels[1];\r\n            const index = portChannels.findIndex((c) => c.channelId === channel.channelId);\r\n            if (index >= 0) {\r\n                portChannels.splice(index, 1);\r\n                this.portChannelRemovedEmitter.fire(new forwardedPortEventArgs_1.ForwardedPortChannelEventArgs(port, channel));\r\n            }\r\n        }\r\n    }\r\n    toString() {\r\n        return [...this].join(', ');\r\n    }\r\n}\r\nexports.ForwardedPortsCollection = ForwardedPortsCollection;\r\n//# sourceMappingURL=forwardedPortsCollection.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ForwardedPortConnectingEventArgs = exports.ForwardedPortChannelEventArgs = exports.ForwardedPortEventArgs = exports.ForwardedPortsCollection = exports.ForwardedPort = exports.PortForwardChannelOpenMessage = exports.PortForwardSuccessMessage = exports.PortForwardRequestMessage = exports.RemotePortStreamer = exports.RemotePortForwarder = exports.LocalPortForwarder = exports.PortForwardingService = exports.SshServer = exports.SshClient = void 0;\r\nvar sshClient_1 = require(\"./sshClient\");\r\nObject.defineProperty(exports, \"SshClient\", { enumerable: true, get: function () { return sshClient_1.SshClient; } });\r\nvar sshServer_1 = require(\"./sshServer\");\r\nObject.defineProperty(exports, \"SshServer\", { enumerable: true, get: function () { return sshServer_1.SshServer; } });\r\nvar portForwardingService_1 = require(\"./services/portForwardingService\");\r\nObject.defineProperty(exports, \"PortForwardingService\", { enumerable: true, get: function () { return portForwardingService_1.PortForwardingService; } });\r\nvar localPortForwarder_1 = require(\"./services/localPortForwarder\");\r\nObject.defineProperty(exports, \"LocalPortForwarder\", { enumerable: true, get: function () { return localPortForwarder_1.LocalPortForwarder; } });\r\nvar remotePortForwarder_1 = require(\"./services/remotePortForwarder\");\r\nObject.defineProperty(exports, \"RemotePortForwarder\", { enumerable: true, get: function () { return remotePortForwarder_1.RemotePortForwarder; } });\r\nvar remotePortStreamer_1 = require(\"./services/remotePortStreamer\");\r\nObject.defineProperty(exports, \"RemotePortStreamer\", { enumerable: true, get: function () { return remotePortStreamer_1.RemotePortStreamer; } });\r\nvar portForwardRequestMessage_1 = require(\"./messages/portForwardRequestMessage\");\r\nObject.defineProperty(exports, \"PortForwardRequestMessage\", { enumerable: true, get: function () { return portForwardRequestMessage_1.PortForwardRequestMessage; } });\r\nvar portForwardSuccessMessage_1 = require(\"./messages/portForwardSuccessMessage\");\r\nObject.defineProperty(exports, \"PortForwardSuccessMessage\", { enumerable: true, get: function () { return portForwardSuccessMessage_1.PortForwardSuccessMessage; } });\r\nvar portForwardChannelOpenMessage_1 = require(\"./messages/portForwardChannelOpenMessage\");\r\nObject.defineProperty(exports, \"PortForwardChannelOpenMessage\", { enumerable: true, get: function () { return portForwardChannelOpenMessage_1.PortForwardChannelOpenMessage; } });\r\nvar forwardedPort_1 = require(\"./events/forwardedPort\");\r\nObject.defineProperty(exports, \"ForwardedPort\", { enumerable: true, get: function () { return forwardedPort_1.ForwardedPort; } });\r\nvar forwardedPortsCollection_1 = require(\"./events/forwardedPortsCollection\");\r\nObject.defineProperty(exports, \"ForwardedPortsCollection\", { enumerable: true, get: function () { return forwardedPortsCollection_1.ForwardedPortsCollection; } });\r\nvar forwardedPortEventArgs_1 = require(\"./events/forwardedPortEventArgs\");\r\nObject.defineProperty(exports, \"ForwardedPortEventArgs\", { enumerable: true, get: function () { return forwardedPortEventArgs_1.ForwardedPortEventArgs; } });\r\nObject.defineProperty(exports, \"ForwardedPortChannelEventArgs\", { enumerable: true, get: function () { return forwardedPortEventArgs_1.ForwardedPortChannelEventArgs; } });\r\nObject.defineProperty(exports, \"ForwardedPortConnectingEventArgs\", { enumerable: true, get: function () { return forwardedPortEventArgs_1.ForwardedPortConnectingEventArgs; } });\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.IPAddressConversions = void 0;\r\n/**\r\n * Converts betwee SSH-protocol address string and IP address strings.\r\n */\r\nclass IPAddressConversions {\r\n    /**\r\n     * Converts from an SSH-protocol address string to an IP address string.\r\n     */\r\n    static fromSshAddress(address) {\r\n        if (!address) {\r\n            // SSH uses an empty address to indicate \"both IPv4-any and IPv6-any\".\r\n            // While this just returns the IPv4-any address, the default\r\n            // TCP listener factory treats this value as dual-mode anyway,\r\n            // meaning there's no way to actually listen on only IPv4-any.\r\n            // It would be strange for an application to actually want to exclude\r\n            // IPv6 like that, so this should be a reasonable limitation of this library.\r\n            return '0.0.0.0';\r\n        }\r\n        else if (address === 'localhost') {\r\n            // SSH uses a \"localhost\" address to indicate \"both IPv4-loopback and\r\n            // IPv6-loopback\", while this just returns the IPv4-loopback address.\r\n            // The default TCP listener factory treats this value as dual-mode anyway.\r\n            return '127.0.0.1';\r\n        }\r\n        else {\r\n            return address;\r\n        }\r\n    }\r\n    /**\r\n     * Converts from an IP Address to an SSH-protocol address string.\r\n     */\r\n    static toSshAddress(ipAddress) {\r\n        if (!ipAddress) {\r\n            return null;\r\n        }\r\n        else if (ipAddress === '0.0.0.0') {\r\n            return '';\r\n        }\r\n        else if (ipAddress === '127.0.0.1') {\r\n            return 'localhost';\r\n        }\r\n        else {\r\n            return ipAddress;\r\n        }\r\n    }\r\n}\r\nexports.IPAddressConversions = IPAddressConversions;\r\n//# sourceMappingURL=ipAddressConversions.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PortForwardChannelOpenMessage = void 0;\r\nconst dev_tunnels_ssh_1 = require(\"@microsoft/dev-tunnels-ssh\");\r\nclass PortForwardChannelOpenMessage extends dev_tunnels_ssh_1.ChannelOpenMessage {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.host = '';\r\n        this.port = 0;\r\n        this.originatorIPAddress = '';\r\n        this.originatorPort = 0;\r\n    }\r\n    onRead(reader) {\r\n        super.onRead(reader);\r\n        this.host = reader.readString('ascii');\r\n        this.port = reader.readUInt32();\r\n        this.originatorIPAddress = reader.readString('ascii');\r\n        this.originatorPort = reader.readUInt32();\r\n    }\r\n    onWrite(writer) {\r\n        super.onWrite(writer);\r\n        writer.writeString(this.validateField(this.host, 'host'), 'ascii');\r\n        writer.writeUInt32(this.validateField(this.port, 'port'));\r\n        writer.writeString(this.originatorIPAddress || '', 'ascii');\r\n        writer.writeUInt32(this.originatorPort || 0);\r\n    }\r\n    toString() {\r\n        return `${super.toString()} (host=${this.host} port=${this.port})`;\r\n    }\r\n}\r\nexports.PortForwardChannelOpenMessage = PortForwardChannelOpenMessage;\r\n//# sourceMappingURL=portForwardChannelOpenMessage.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PortForwardRequestMessage = void 0;\r\nconst dev_tunnels_ssh_1 = require(\"@microsoft/dev-tunnels-ssh\");\r\nconst portForwardingService_1 = require(\"../services/portForwardingService\");\r\nclass PortForwardRequestMessage extends dev_tunnels_ssh_1.SessionRequestMessage {\r\n    constructor() {\r\n        super();\r\n        this.addressToBind = '';\r\n        this.port = 0;\r\n        this.requestType = portForwardingService_1.PortForwardingService.portForwardRequestType;\r\n        this.wantReply = true;\r\n    }\r\n    onRead(reader) {\r\n        super.onRead(reader);\r\n        this.addressToBind = reader.readString('ascii');\r\n        this.port = reader.readUInt32();\r\n    }\r\n    onWrite(writer) {\r\n        super.onWrite(writer);\r\n        writer.writeString(this.validateField(this.addressToBind, 'address'), 'ascii');\r\n        writer.writeUInt32(this.validateField(this.port, 'port'));\r\n    }\r\n    toString() {\r\n        return `${super.toString()} (addressToBind=${this.addressToBind} port=${this.port})`;\r\n    }\r\n}\r\nexports.PortForwardRequestMessage = PortForwardRequestMessage;\r\n//# sourceMappingURL=portForwardRequestMessage.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PortForwardSuccessMessage = void 0;\r\nconst dev_tunnels_ssh_1 = require(\"@microsoft/dev-tunnels-ssh\");\r\nclass PortForwardSuccessMessage extends dev_tunnels_ssh_1.SessionRequestSuccessMessage {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.port = 0;\r\n    }\r\n    onRead(reader) {\r\n        super.onRead(reader);\r\n        if (reader.available >= 4) {\r\n            this.port = reader.readUInt32();\r\n        }\r\n    }\r\n    onWrite(writer) {\r\n        super.onWrite(writer);\r\n        writer.writeUInt32(this.validateField(this.port, 'port'));\r\n    }\r\n    toString() {\r\n        return `${super.toString()} (port=${this.port})`;\r\n    }\r\n}\r\nexports.PortForwardSuccessMessage = PortForwardSuccessMessage;\r\n//# sourceMappingURL=portForwardSuccessMessage.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DefaultPortForwardMessageFactory = void 0;\r\nconst portForwardChannelOpenMessage_1 = require(\"./messages/portForwardChannelOpenMessage\");\r\nconst portForwardRequestMessage_1 = require(\"./messages/portForwardRequestMessage\");\r\nconst portForwardSuccessMessage_1 = require(\"./messages/portForwardSuccessMessage\");\r\nclass DefaultPortForwardMessageFactory {\r\n    createRequestMessageAsync(port) {\r\n        return Promise.resolve(new portForwardRequestMessage_1.PortForwardRequestMessage());\r\n    }\r\n    createSuccessMessageAsync(port) {\r\n        return Promise.resolve(new portForwardSuccessMessage_1.PortForwardSuccessMessage());\r\n    }\r\n    createChannelOpenMessageAsync(port) {\r\n        return Promise.resolve(new portForwardChannelOpenMessage_1.PortForwardChannelOpenMessage());\r\n    }\r\n}\r\nexports.DefaultPortForwardMessageFactory = DefaultPortForwardMessageFactory;\r\n//# sourceMappingURL=portForwardMessageFactory.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.LocalPortForwarder = void 0;\r\nconst dev_tunnels_ssh_1 = require(\"@microsoft/dev-tunnels-ssh\");\r\nconst streamForwarder_1 = require(\"./streamForwarder\");\r\n/**\r\n * Listens on a local port and forwards incoming connections as SSH channels.\r\n */\r\nclass LocalPortForwarder extends dev_tunnels_ssh_1.SshService {\r\n    /* @internal */\r\n    constructor(pfs, session, channelType, localIPAddress, localPort, remoteHost, remotePort) {\r\n        super(session);\r\n        this.pfs = pfs;\r\n        this.channelType = channelType;\r\n        this.localIPAddress = localIPAddress;\r\n        this.port = localPort;\r\n        this.remoteHost = remoteHost;\r\n        // The remote port defaults to the same as the local port, if the remote port\r\n        // was unspecified and a specific (nonzero) local port was specified. Whether\r\n        // or not a specific local port was specified, the local port may be changed\r\n        // by the TCP listener factory. In that case the remote port does not change.\r\n        this.remotePort = remotePort !== null && remotePort !== void 0 ? remotePort : (localPort !== 0 ? localPort : undefined);\r\n    }\r\n    /**\r\n     * Local port that the forwarder is listening on.\r\n     */\r\n    get localPort() {\r\n        return this.port;\r\n    }\r\n    /* @internal */\r\n    async startForwarding(cancellation) {\r\n        var _a;\r\n        let listenAddress = this.localIPAddress;\r\n        try {\r\n            this.tcpListener = await this.pfs.tcpListenerFactory.createTcpListener(listenAddress, this.port, true);\r\n            const serverAddress = this.tcpListener.address();\r\n            if (!(serverAddress.port > 0)) {\r\n                this.tcpListener.close();\r\n                throw new Error('Could not get server port.');\r\n            }\r\n            this.port = serverAddress.port;\r\n            // The SSH protocol specifies that \"localhost\" or \"\" (any) should be dual-mode.\r\n            // So 2 TCP listener instances are required in those cases.\r\n            if (this.localIPAddress === '127.0.0.1' || this.localIPAddress === '0.0.0.0') {\r\n                // Call the factory again to create another listener, but this time with the\r\n                // corresponding IPv6 local address, and not allowing a port change.\r\n                listenAddress = this.localIPAddress === '0.0.0.0' ? '::' : '::1';\r\n                try {\r\n                    this.tcpListener2 = await this.pfs.tcpListenerFactory.createTcpListener(listenAddress, this.port, false);\r\n                }\r\n                catch (e) {\r\n                    if (!(e instanceof Error) || e.code !== 'EADDRNOTAVAIL') {\r\n                        throw e;\r\n                    }\r\n                    // The OS may not support IPv6 or there may be no IPv6 network interfaces.\r\n                    this.trace(dev_tunnels_ssh_1.TraceLevel.Warning, dev_tunnels_ssh_1.SshTraceEventIds.portForwardServerListenFailed, 'PortForwardingService failed to listen on ' +\r\n                        `${listenAddress}:{this.port}: ${e.message}`, e);\r\n                    // Do not rethrow, just skip IPv6 in this case.\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            if (!(e instanceof Error))\r\n                throw e;\r\n            this.trace(dev_tunnels_ssh_1.TraceLevel.Error, dev_tunnels_ssh_1.SshTraceEventIds.portForwardServerListenFailed, `PortForwardingService failed to listen on ${listenAddress}:${this.port}: ${e.message}`, e);\r\n            throw e;\r\n        }\r\n        this.tcpListener.on('connection', this.acceptConnection.bind(this));\r\n        (_a = this.tcpListener2) === null || _a === void 0 ? void 0 : _a.on('connection', this.acceptConnection.bind(this));\r\n        this.trace(dev_tunnels_ssh_1.TraceLevel.Info, dev_tunnels_ssh_1.SshTraceEventIds.portForwardServerListening, `PortForwardingService listening on ${this.localIPAddress}:${this.port}.`);\r\n        if (this.tcpListener2) {\r\n            this.trace(dev_tunnels_ssh_1.TraceLevel.Info, dev_tunnels_ssh_1.SshTraceEventIds.portForwardServerListening, `PortForwardingService also listening on ${listenAddress}:${this.port}.`);\r\n        }\r\n    }\r\n    async acceptConnection(socket) {\r\n        var _a, _b, _c, _d, _e;\r\n        this.trace(dev_tunnels_ssh_1.TraceLevel.Info, dev_tunnels_ssh_1.SshTraceEventIds.portForwardConnectionAccepted, 'PortForwardingService accepted connection from: ' +\r\n            `${socket.remoteAddress} on port ${this.port}`);\r\n        // TODO: Set socket options?\r\n        let channel;\r\n        try {\r\n            channel = await this.pfs.openChannel(this.session, this.channelType, (_a = socket.remoteAddress) !== null && _a !== void 0 ? _a : null, (_b = socket.remotePort) !== null && _b !== void 0 ? _b : null, (_c = this.remoteHost) !== null && _c !== void 0 ? _c : this.localIPAddress, (_d = this.remotePort) !== null && _d !== void 0 ? _d : this.localPort);\r\n        }\r\n        catch (e) {\r\n            if (!(e instanceof Error))\r\n                throw e;\r\n            // TODO: Destroy the socket in a way that causes a connection reset:\r\n            // https://github.com/nodejs/node/issues/27428\r\n            socket.destroy();\r\n            // Don't re-throw. This is an async event handler so the caller isn't awaiting.\r\n            // The error details have already been traced.\r\n            return;\r\n        }\r\n        // The event handler may return a transformed stream.\r\n        const forwardedStream = await this.pfs.forwardedPortConnecting((_e = this.remotePort) !== null && _e !== void 0 ? _e : this.localPort, false, new dev_tunnels_ssh_1.SshStream(channel));\r\n        if (!forwardedStream) {\r\n            // The event handler rejected the connection.\r\n            return;\r\n        }\r\n        const forwarder = new streamForwarder_1.StreamForwarder(socket, forwardedStream, channel.session.trace);\r\n        this.pfs.streamForwarders.push(forwarder);\r\n    }\r\n    dispose() {\r\n        var _a, _b;\r\n        // Note stopping the listener does not disconnect any already-accepted sockets.\r\n        (_a = this.tcpListener) === null || _a === void 0 ? void 0 : _a.close();\r\n        (_b = this.tcpListener2) === null || _b === void 0 ? void 0 : _b.close();\r\n        this.trace(dev_tunnels_ssh_1.TraceLevel.Info, dev_tunnels_ssh_1.SshTraceEventIds.portForwardServerListening, `PortForwardingService stopped listening on ${this.localIPAddress}:${this.port}.`);\r\n        super.dispose();\r\n    }\r\n}\r\nexports.LocalPortForwarder = LocalPortForwarder;\r\n//# sourceMappingURL=localPortForwarder.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar PortForwardingService_1;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PortForwardingService = void 0;\r\nconst dev_tunnels_ssh_1 = require(\"@microsoft/dev-tunnels-ssh\");\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst forwardedPort_1 = require(\"../events/forwardedPort\");\r\nconst forwardedPortsCollection_1 = require(\"../events/forwardedPortsCollection\");\r\nconst ipAddressConversions_1 = require(\"../ipAddressConversions\");\r\nconst portForwardChannelOpenMessage_1 = require(\"../messages/portForwardChannelOpenMessage\");\r\nconst portForwardRequestMessage_1 = require(\"../messages/portForwardRequestMessage\");\r\nconst portForwardSuccessMessage_1 = require(\"../messages/portForwardSuccessMessage\");\r\nconst tcpListenerFactory_1 = require(\"../tcpListenerFactory\");\r\nconst portForwardMessageFactory_1 = require(\"../portForwardMessageFactory\");\r\nconst localPortForwarder_1 = require(\"./localPortForwarder\");\r\nconst remotePortForwarder_1 = require(\"./remotePortForwarder\");\r\nconst remotePortStreamer_1 = require(\"./remotePortStreamer\");\r\nconst forwardedPortEventArgs_1 = require(\"../events/forwardedPortEventArgs\");\r\n/**\r\n * Implements the standard SSH port-forwarding protocol.\r\n * @example\r\n * Use `SshSessionConfiguration.addService()` on both client and server side configurations\r\n * to add the `PortForwardingService` type before attempting to call methods on the service.\r\n * Then use `SshSession.activateService()` to get the service instance:\r\n *\r\n *     const config = new SshSessionConfiguration();\r\n *     config.addService(PortForwardingService);\r\n *     const client = new SshClient(config);\r\n *     const session = await client.openSession(host, port);\r\n *     await session.authenticate(clientCredentials);\r\n *     const pfs = session.activateService(PortForwardingService);\r\n *     const forwarder = pfs.forwardToRemotePort('::', 3000);\r\n */\r\nlet PortForwardingService = PortForwardingService_1 = class PortForwardingService extends dev_tunnels_ssh_1.SshService {\r\n    /* @internal */\r\n    constructor(session) {\r\n        super(session);\r\n        /**\r\n         * Maps from FORWARDED port number to the object that manages listening for incoming\r\n         * connections for that port and forwarding them through the session.\r\n         *\r\n         * Note the actual local source port number used may be different from the forwarded port\r\n         * number if the local TCP listener factory chose a different port. The forwarded port number\r\n         * is used to identify the port in any messages exchanged between client and server.\r\n         */\r\n        this.localForwarders = new Map();\r\n        /**\r\n         * Maps from FORWARDED port numbers to the object that manages relaying forwarded connections\r\n         * from the session to a local port.\r\n         *\r\n         * Note the actual local destination port number used may be different from the forwarded port\r\n         * number. The forwarded port number is used to identify the port in any messages exchanged\r\n         * between client and server.\r\n         */\r\n        this.remoteConnectors = new Map();\r\n        /* @internal */\r\n        this.streamForwarders = [];\r\n        /**\r\n         * Gets or sets a value that controls whether the port-forwarding service listens on\r\n         * local TCP sockets to accept connections for ports that are forwarded from the remote side.\r\n         *\r\n         * The default is true.\r\n         *\r\n         * This property is typically initialized before connecting a session (if not keeping the\r\n         * default). It may be changed at any time while the session is connected, and the new value\r\n         * will affect any newly forwarded ports after that, but not previously-forwarded ports.\r\n         *\r\n         * Regardless of whether this is enabled, connections to forwarded ports can be made using\r\n         * `connectToForwardedPort()`.\r\n         */\r\n        this.acceptLocalConnectionsForForwardedPorts = true;\r\n        /**\r\n         * Gets or sets a value that controls whether the port-forwarding service forwards connections\r\n         * to local TCP sockets.\r\n         *\r\n         * The default is true.\r\n         *\r\n         * This property is typically initialized before connecting a session (if not keeping the\r\n         * default). It may be changed at any time while the session is connected, and the new value\r\n         * will affect any newly forwarded ports after that, but not previously-forwarded ports.\r\n         */\r\n        this.forwardConnectionsToLocalPorts = true;\r\n        /**\r\n         * Gets or sets a value that controls whether the port-forwarding service accepts\r\n         * 'direct-tcpip' channel open requests and forwards the channel connections to the local port.\r\n         *\r\n         * The default is true.\r\n         *\r\n         * This property is typically initialized before connecting a session (if not keeping the\r\n         * default). It may be changed at any time while the session is connected, and the new value\r\n         * will affect any newly forwarded ports after that, but not previously-forwarded ports.\r\n         *\r\n         * Regardless of whether this is enabled, the remote side can open 'forwarded-tcpip' channels\r\n         * to connect to ports that were explicitly forwarded by this side.\r\n         */\r\n        this.acceptRemoteConnectionsForNonForwardedPorts = true;\r\n        /**\r\n         * Gets the collection of ports that are currently being forwarded from the remote side\r\n         * to the local side.\r\n         *\r\n         * Ports are added to this collection when `forwardFromRemotePort()` or\r\n         * `streamFromRemotePort()` is called (and the other side accepts the\r\n         * 'tcpip-forward' request), and then are removed when the `RemotePortForwarder`\r\n         * is disposed (which also sends a 'cancel-tcpip-forward' message).\r\n         *\r\n         * Each forwarded port may have 0 or more active connections (channels).\r\n         *\r\n         * The collection does not include direct connections initiated via\r\n         * `forwardToRemotePort()` or `streamToRemotePort()`.\r\n         *\r\n         * Local forwarded ports may or may not have local TCP listeners automatically set up,\r\n         * depending on the value of `acceptLocalConnectionsForForwardedPorts`.\r\n         */\r\n        this.localForwardedPorts = new forwardedPortsCollection_1.ForwardedPortsCollection();\r\n        /**\r\n         * Gets the collection of ports that are currently being forwarded from the local side\r\n         * to the remote side.\r\n         *\r\n         * Ports are added to this collection when the port-forwarding service handles a\r\n         * 'tcpip-forward' request message, and removed when it receives a 'cancel-tcpip-forward'\r\n         * request message.\r\n         *\r\n         * Each forwarded port may have 0 or more active connections (channels).\r\n         *\r\n         * The collection does not include direct connections initiated via\r\n         * `forwardToRemotePort()` or `streamToRemotePort()`.\r\n         */\r\n        this.remoteForwardedPorts = new forwardedPortsCollection_1.ForwardedPortsCollection();\r\n        /**\r\n         * Gets or sets a factory for creating TCP listeners.\r\n         *\r\n         * Applications may override this factory to provide custom logic for selecting\r\n         * local port numbers to listen on for port-forwarding.\r\n         *\r\n         * This factory is not used when `acceptLocalConnectionsForForwardedPorts` is\r\n         * set to false.\r\n         */\r\n        this.tcpListenerFactory = new tcpListenerFactory_1.DefaultTcpListenerFactory();\r\n        /**\r\n         * Gets or sets a factory for creating port-forwarding messages.\r\n         *\r\n         * A message factory enables applications to extend port-forwarding by providing custom\r\n         * message subclasses that may include additional properties.\r\n         */\r\n        this.messageFactory = new portForwardMessageFactory_1.DefaultPortForwardMessageFactory();\r\n        this.forwardedPortConnectingEmitter = new vscode_jsonrpc_1.Emitter();\r\n        /**\r\n         * Event raised when an incoming or outgoing connection to a forwarded port is\r\n         * about to be established.\r\n         */\r\n        this.onForwardedPortConnecting = this.forwardedPortConnectingEmitter.event;\r\n    }\r\n    /* @internal */\r\n    async forwardedPortConnecting(port, isIncoming, stream, cancellation) {\r\n        try {\r\n            const args = new forwardedPortEventArgs_1.ForwardedPortConnectingEventArgs(port, isIncoming, stream, cancellation);\r\n            this.forwardedPortConnectingEmitter.fire(args);\r\n            if (args.transformPromise) {\r\n                return await args.transformPromise;\r\n            }\r\n        }\r\n        catch (e) {\r\n            if (!(e instanceof Error))\r\n                throw e;\r\n            this.trace(dev_tunnels_ssh_1.TraceLevel.Warning, dev_tunnels_ssh_1.SshTraceEventIds.portForwardConnectionFailed, `Forwarded port connecting event-handler failed: ${e.message}`);\r\n            return null;\r\n        }\r\n        return stream;\r\n    }\r\n    async forwardFromRemotePort(remoteIPAddress, remotePort, localHostOrCancellation, localPort, cancellation) {\r\n        const localHost = typeof localHostOrCancellation === 'string' ? localHostOrCancellation : '127.0.0.1';\r\n        if (typeof localPort === 'undefined')\r\n            localPort = remotePort;\r\n        if (!remoteIPAddress)\r\n            throw new TypeError('Remote IP address is required.');\r\n        if (!Number.isInteger(remotePort) || remotePort < 0) {\r\n            throw new TypeError('Remote port must be a non-negative integer.');\r\n        }\r\n        if (!localHost)\r\n            throw new TypeError('Local host is required.');\r\n        if (!Number.isInteger(localPort) || localPort <= 0) {\r\n            throw new TypeError('Local port must be a positive integer.');\r\n        }\r\n        if (this.localForwardedPorts.find((p) => p.localPort === localPort)) {\r\n            throw new Error(`Local port ${localPort} is already forwarded.`);\r\n        }\r\n        else if (remotePort > 0 &&\r\n            this.localForwardedPorts.find((p) => p.remotePort === remotePort)) {\r\n            throw new Error(`Remote port ${remotePort} is already forwarded.`);\r\n        }\r\n        const forwarder = new remotePortForwarder_1.RemotePortForwarder(this, this.session, remoteIPAddress, remotePort, localHost, localPort);\r\n        const request = await this.messageFactory.createRequestMessageAsync(remotePort);\r\n        if (!(await forwarder.request(request, cancellation))) {\r\n            forwarder.dispose();\r\n            return null;\r\n        }\r\n        remotePort = forwarder.remotePort;\r\n        // The remote port is the port sent in the message to the other side,\r\n        // so the connector is indexed on that port number, rather than the local port.\r\n        this.remoteConnectors.set(remotePort, forwarder);\r\n        const forwardedPort = new forwardedPort_1.ForwardedPort(localPort, remotePort, false);\r\n        this.localForwardedPorts.addPort(forwardedPort);\r\n        forwarder.onDisposed(() => {\r\n            this.localForwardedPorts.removePort(forwardedPort);\r\n            this.remoteConnectors.delete(remotePort);\r\n        });\r\n        return forwarder;\r\n    }\r\n    async forwardToRemotePort(localIPAddress, localPort, remoteHostOrCancellation, remotePort, cancellation) {\r\n        const remoteHost = typeof remoteHostOrCancellation === 'string' ? remoteHostOrCancellation : '127.0.0.1';\r\n        if (typeof remotePort === 'undefined')\r\n            remotePort = localPort;\r\n        if (!localIPAddress)\r\n            throw new TypeError('Local IP address is required.');\r\n        if (!Number.isInteger(localPort) || localPort < 0) {\r\n            throw new TypeError('Local port must be a non-negative integer.');\r\n        }\r\n        if (!remoteHost)\r\n            throw new TypeError('Remote host is required.');\r\n        if (!Number.isInteger(remotePort) || remotePort <= 0) {\r\n            throw new TypeError('Remote port must be a positive integer.');\r\n        }\r\n        if (this.localForwarders.has(remotePort)) {\r\n            throw new Error(`Port ${remotePort} is already forwarded.`);\r\n        }\r\n        const forwarder = new localPortForwarder_1.LocalPortForwarder(this, this.session, PortForwardingService_1.reversePortForwardChannelType, localIPAddress, localPort, remoteHost, remotePort);\r\n        await forwarder.startForwarding(cancellation);\r\n        // The remote port is the port sent in the message to the other side,\r\n        // so the forwarder is indexed on that port number, rather than the local port.\r\n        this.localForwarders.set(remotePort, forwarder);\r\n        forwarder.onDisposed(() => {\r\n            this.localForwarders.delete(remotePort);\r\n        });\r\n        return forwarder;\r\n    }\r\n    /**\r\n     * Sends a request to the remote side to listen on a port and forward incoming connections as\r\n     * SSH channels of type 'forwarded-tcpip', which will then be relayed as local streams.\r\n     *\r\n     * @param remoteIPAddress IP address of the interface to bind to on the remote side.\r\n     * @param remotePort The remote port to listen on, or 0 to choose an available port.\r\n     * (The chosen port can then be obtained via the `remotePort` property on the returned object.)\r\n     * @param cancellation Cancellation token for the request; note this cannot cancel forwarding\r\n     * once it has started; use the returned disposable do do that.\r\n     * @returns A disposable object that when disposed will cancel forwarding the port, or `null`\r\n     * if the request was rejected by the remote side, possibly because the remote port was already\r\n     * in use. Handle the `onStreamOpened` event on this object to receive streams.\r\n     */\r\n    async streamFromRemotePort(remoteIPAddress, remotePort, cancellation) {\r\n        if (!remoteIPAddress)\r\n            throw new TypeError('Remote IP address is required.');\r\n        if (!Number.isInteger(remotePort) || remotePort < 0) {\r\n            throw new TypeError('Remote port must be a non-negative integer.');\r\n        }\r\n        const streamer = new remotePortStreamer_1.RemotePortStreamer(this.session, remoteIPAddress, remotePort);\r\n        const request = await this.messageFactory.createRequestMessageAsync(remotePort);\r\n        if (!(await streamer.request(request, cancellation))) {\r\n            streamer.dispose();\r\n            return null;\r\n        }\r\n        remotePort = streamer.remotePort;\r\n        // The remote port is the port sent in the message to the other side,\r\n        // so the connector is indexed on that port number. (There is no local port anyway.)\r\n        this.remoteConnectors.set(remotePort, streamer);\r\n        const forwardedPort = new forwardedPort_1.ForwardedPort(null, remotePort, false);\r\n        this.localForwardedPorts.addPort(forwardedPort);\r\n        streamer.onDisposed(() => {\r\n            this.localForwardedPorts.removePort(forwardedPort);\r\n            this.remoteConnectors.delete(remotePort);\r\n        });\r\n        return streamer;\r\n    }\r\n    /**\r\n     * Opens a stream for an SSH channel of type 'direct-tcpip' that is relayed to remote port,\r\n     * regardless of whether the remote side has explicitly forwarded that port.\r\n     *\r\n     * @param remoteHost The destination hostname or IP address for forwarded connections, to be\r\n     * resolved on the remote side. WARNING: Avoid using the hostname `localhost` as the destination\r\n     * host; use `127.0.0.1` or `::1` instead. (OpenSSH does not recognize `localhost` as a valid\r\n     * destination host.)\r\n     * @param remotePort The destination port for the forwarded stream. (Must not be 0.)\r\n     * @param cancellation Cancellation token for the request; note this cannot cancel streaming\r\n     * once it has started; dipose the returned stream for that.\r\n     * @returns A stream that is relayed to the remote port.\r\n     * @throws `SshChannelError` if the streaming channel could not be opened, either because it\r\n     * was rejected by the remote side, or the remote connection failed.\r\n     */\r\n    async streamToRemotePort(remoteHost, remotePort, cancellation) {\r\n        if (!remoteHost)\r\n            throw new TypeError('Remote host is required.');\r\n        if (!Number.isInteger(remotePort) || remotePort <= 0) {\r\n            throw new TypeError('Remote port must be a positive integer.');\r\n        }\r\n        const channel = await this.openChannel(this.session, PortForwardingService_1.reversePortForwardChannelType, null, null, remoteHost, remotePort, cancellation);\r\n        return new dev_tunnels_ssh_1.SshStream(channel);\r\n    }\r\n    /**\r\n     * Opens a stream for an SSH channel of type 'forwarded-tcpip' that is relayed to a remote\r\n     * port. The port must have been explicitly forwarded by the remote side.\r\n     *\r\n     * It may be necessary to call `waitForForwardedPort` before this method\r\n     * to ensure the port is ready for connections.\r\n     *\r\n     * An error is thrown if the requested port could not be forwarded, possibly because it was\r\n     * rejected by the remote side, or the remote connection failed.\r\n     *\r\n     * @param forwardedPort Remote port number that was forwarded.\r\n     * @param cancellation Cancellation token for the request; note this cannot\r\n     * cancel streaming once it has started; dipose the returned stream for that.\r\n     * @returns A stream that is relayed to the remote forwarded port.\r\n     */\r\n    async connectToForwardedPort(forwardedPort, cancellation) {\r\n        if (!Number.isInteger(forwardedPort) || forwardedPort <= 0) {\r\n            throw new TypeError('Forwarded port must be a positive integer.');\r\n        }\r\n        const channel = await this.openChannel(this.session, PortForwardingService_1.portForwardChannelType, null, null, '127.0.0.1', forwardedPort, cancellation);\r\n        const forwardedStream = await this.forwardedPortConnecting(forwardedPort, false, new dev_tunnels_ssh_1.SshStream(channel), cancellation);\r\n        if (!forwardedStream) {\r\n            channel.close().catch((e) => { });\r\n            throw new dev_tunnels_ssh_1.SshChannelError('The connection to the forwarded port was rejected by the connecting event-handler.');\r\n        }\r\n        return forwardedStream;\r\n    }\r\n    /**\r\n     * Waits asynchronously for the remote side to forward an expected port number.\r\n     *\r\n     * A common pattern for some applications may be to call this method just before\r\n     * `ConnectToForwardedPortAsync`.\r\n     *\r\n     * @param forwardedPort Port number that is expected to be forwarded.\r\n     * @param cancellation Token that can be used to cancel waiting.\r\n     * @returns A promise that completes when the expected port number has been forwarded.\r\n     */\r\n    async waitForForwardedPort(forwardedPort, cancellation) {\r\n        if (this.remoteForwardedPorts.find((p) => p.remotePort === forwardedPort)) {\r\n            // It's already forwarded, so there's no need to wait.\r\n            return;\r\n        }\r\n        const waitCompletion = new dev_tunnels_ssh_1.PromiseCompletionSource();\r\n        let cancellationRegistration;\r\n        if (cancellation) {\r\n            cancellationRegistration = cancellation.onCancellationRequested(() => waitCompletion.reject(new dev_tunnels_ssh_1.CancellationError()));\r\n        }\r\n        let portAddedRegistration;\r\n        let sessionClosedRegistration;\r\n        try {\r\n            portAddedRegistration = this.remoteForwardedPorts.onPortAdded((e) => {\r\n                if (e.port.remotePort === forwardedPort) {\r\n                    waitCompletion.resolve();\r\n                }\r\n            });\r\n            sessionClosedRegistration = this.session.onClosed(() => {\r\n                waitCompletion.reject(new dev_tunnels_ssh_1.ObjectDisposedError('The session was closed.'));\r\n            });\r\n            await waitCompletion.promise;\r\n        }\r\n        finally {\r\n            portAddedRegistration === null || portAddedRegistration === void 0 ? void 0 : portAddedRegistration.dispose();\r\n            sessionClosedRegistration === null || sessionClosedRegistration === void 0 ? void 0 : sessionClosedRegistration.dispose();\r\n            cancellationRegistration === null || cancellationRegistration === void 0 ? void 0 : cancellationRegistration.dispose();\r\n        }\r\n    }\r\n    async onSessionRequest(request, cancellation) {\r\n        if (!request)\r\n            throw new TypeError('Request is required.');\r\n        else if (request.requestType !== PortForwardingService_1.portForwardRequestType &&\r\n            request.requestType !== PortForwardingService_1.cancelPortForwardRequestType) {\r\n            throw new Error(`Unexpected request type: ${request.requestType}`);\r\n        }\r\n        const portForwardRequest = request.request.convertTo(new portForwardRequestMessage_1.PortForwardRequestMessage());\r\n        const localIPAddress = ipAddressConversions_1.IPAddressConversions.fromSshAddress(portForwardRequest.addressToBind);\r\n        if (request.requestType === PortForwardingService_1.portForwardRequestType &&\r\n            portForwardRequest.port !== 0 &&\r\n            this.localForwarders.has(portForwardRequest.port)) {\r\n            const message = 'PortForwardingService blocking attempt to re-forward ' +\r\n                `already-forwarded port ${portForwardRequest.port}.`;\r\n            this.session.trace(dev_tunnels_ssh_1.TraceLevel.Warning, dev_tunnels_ssh_1.SshTraceEventIds.portForwardRequestInvalid, message);\r\n            request.isAuthorized = false;\r\n            return;\r\n        }\r\n        const args = new dev_tunnels_ssh_1.SshRequestEventArgs(request.requestType, portForwardRequest, this.session.principal);\r\n        await super.onSessionRequest(args, cancellation);\r\n        let response;\r\n        let localPort = null;\r\n        if (args.isAuthorized) {\r\n            if (request.requestType === PortForwardingService_1.portForwardRequestType) {\r\n                try {\r\n                    localPort = await this.startForwarding(localIPAddress, portForwardRequest.port, cancellation);\r\n                }\r\n                catch (e) {\r\n                    // The error is already traced.\r\n                }\r\n                if (localPort !== null) {\r\n                    // The chosen local port may be different from the requested port. Use the\r\n                    // requested port in the response, unless the request was for a random port.\r\n                    const forwardedPort = portForwardRequest.port === 0 ? localPort : portForwardRequest.port;\r\n                    const portResponse = await this.messageFactory.createSuccessMessageAsync(forwardedPort);\r\n                    portResponse.port = forwardedPort;\r\n                    response = portResponse;\r\n                }\r\n            }\r\n            else if (request.requestType === PortForwardingService_1.cancelPortForwardRequestType) {\r\n                if (await this.cancelForwarding(portForwardRequest.port, cancellation)) {\r\n                    response = new dev_tunnels_ssh_1.SessionRequestSuccessMessage();\r\n                }\r\n            }\r\n        }\r\n        request.responsePromise = Promise.resolve(response !== null && response !== void 0 ? response : new dev_tunnels_ssh_1.SessionRequestFailureMessage());\r\n        // Add to the collection (and raise event) after sending the response,\r\n        // to ensure event-handlers can immediately open a channel.\r\n        if (response instanceof portForwardSuccessMessage_1.PortForwardSuccessMessage) {\r\n            const forwardedPort = new forwardedPort_1.ForwardedPort(localPort !== null && localPort !== void 0 ? localPort : response.port, response.port, true);\r\n            this.remoteForwardedPorts.addPort(forwardedPort);\r\n        }\r\n    }\r\n    async startForwarding(localIPAddress, remotePort, cancellation) {\r\n        if (typeof remotePort !== 'number')\r\n            throw new TypeError('Remote port must be an integer.');\r\n        if (this.acceptLocalConnectionsForForwardedPorts) {\r\n            // The local port is initially set to the remote port, but it may change\r\n            // when starting forwarding, if there was a conflict.\r\n            let localPort = remotePort;\r\n            const forwarder = new localPortForwarder_1.LocalPortForwarder(this, this.session, PortForwardingService_1.portForwardChannelType, localIPAddress, localPort, undefined, remotePort === 0 ? undefined : remotePort);\r\n            await forwarder.startForwarding(cancellation);\r\n            localPort = forwarder.localPort;\r\n            if (remotePort === 0) {\r\n                // The other side requested a random port. Reply with the chosen port number.\r\n                remotePort = localPort;\r\n            }\r\n            if (this.localForwarders.has(remotePort)) {\r\n                // The forwarder (TCP listener factory) chose a port that is already forwarded.\r\n                // This can happen (though its' very unlikely) if a random port was requested.\r\n                // Returning null here causes the forward request to be rejected.\r\n                forwarder.dispose();\r\n                return null;\r\n            }\r\n            // The remote port is the port referenced in exchanged messages,\r\n            // so the forwarder is indexed on that port number, rather than the local port.\r\n            this.localForwarders.set(remotePort, forwarder);\r\n            localPort = forwarder.localPort;\r\n            forwarder.onDisposed(() => {\r\n                const forwardedPort = new forwardedPort_1.ForwardedPort(localPort, remotePort, true);\r\n                this.remoteForwardedPorts.removePort(forwardedPort);\r\n                this.localForwarders.delete(remotePort);\r\n            });\r\n            return localPort;\r\n        }\r\n        else if (remotePort !== 0) {\r\n            return remotePort;\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n    async cancelForwarding(forwardedPort, cancellation) {\r\n        const forwarder = this.localForwarders.get(forwardedPort);\r\n        if (!forwarder) {\r\n            return false;\r\n        }\r\n        this.localForwarders.delete(forwardedPort);\r\n        forwarder.dispose();\r\n        return true;\r\n    }\r\n    async onChannelOpening(request, cancellation) {\r\n        var _a;\r\n        if (!request)\r\n            throw new TypeError('Request is required.');\r\n        const channelType = request.request.channelType;\r\n        if (channelType !== PortForwardingService_1.portForwardChannelType &&\r\n            channelType !== PortForwardingService_1.reversePortForwardChannelType) {\r\n            request.failureReason = dev_tunnels_ssh_1.SshChannelOpenFailureReason.unknownChannelType;\r\n            return;\r\n        }\r\n        let remoteConnector = null;\r\n        const portForwardMessage = request.request instanceof portForwardChannelOpenMessage_1.PortForwardChannelOpenMessage\r\n            ? request.request\r\n            : request.request.convertTo(new portForwardChannelOpenMessage_1.PortForwardChannelOpenMessage());\r\n        if (request.isRemoteRequest) {\r\n            if (channelType === PortForwardingService_1.portForwardChannelType) {\r\n                const remoteIPAddress = ipAddressConversions_1.IPAddressConversions.fromSshAddress(portForwardMessage.host);\r\n                const remoteEndPoint = `${remoteIPAddress}:${portForwardMessage.port}`;\r\n                remoteConnector = (_a = this.remoteConnectors.get(portForwardMessage.port)) !== null && _a !== void 0 ? _a : null;\r\n                if (!remoteConnector) {\r\n                    this.trace(dev_tunnels_ssh_1.TraceLevel.Error, dev_tunnels_ssh_1.SshTraceEventIds.portForwardRequestInvalid, 'PortForwardingService received forwarding channel ' +\r\n                        `for ${remoteEndPoint} that was not requested.`);\r\n                    request.failureReason = dev_tunnels_ssh_1.SshChannelOpenFailureReason.connectFailed;\r\n                    request.failureDescription = 'Forwarding channel was not requested.';\r\n                    return;\r\n                }\r\n            }\r\n            else if (!this.acceptRemoteConnectionsForNonForwardedPorts) {\r\n                const errorMessage = 'The session has disabled connections to non-forwarded ports.';\r\n                this.session.trace(dev_tunnels_ssh_1.TraceLevel.Warning, dev_tunnels_ssh_1.SshTraceEventIds.portForwardChannelOpenFailed, errorMessage);\r\n                request.failureReason = dev_tunnels_ssh_1.SshChannelOpenFailureReason.administrativelyProhibited;\r\n                request.failureDescription = errorMessage;\r\n                return;\r\n            }\r\n        }\r\n        const portForwardRequest = new dev_tunnels_ssh_1.SshChannelOpeningEventArgs(portForwardMessage, request.channel, request.isRemoteRequest);\r\n        await super.onChannelOpening(portForwardRequest, cancellation);\r\n        request.failureReason = portForwardRequest.failureReason;\r\n        request.failureDescription = portForwardRequest.failureDescription;\r\n        request.openingPromise = portForwardRequest.openingPromise;\r\n        if (request.failureReason === dev_tunnels_ssh_1.SshChannelOpenFailureReason.none &&\r\n            request.isRemoteRequest &&\r\n            this.forwardConnectionsToLocalPorts) {\r\n            if (remoteConnector) {\r\n                // The forwarding was initiated by this session.\r\n                await remoteConnector.onPortChannelOpening(request, cancellation);\r\n                const localPort = remoteConnector instanceof remotePortForwarder_1.RemotePortForwarder ? remoteConnector.localPort : null;\r\n                const remotePort = remoteConnector instanceof remotePortForwarder_1.RemotePortForwarder\r\n                    ? remoteConnector.remotePort\r\n                    : portForwardMessage.port;\r\n                const forwardedPort = new forwardedPort_1.ForwardedPort(localPort, remotePort, false);\r\n                this.localForwardedPorts.addChannel(forwardedPort, request.channel);\r\n            }\r\n            else {\r\n                // THe forwarding was initiated by the remote session.\r\n                await remotePortForwarder_1.RemotePortForwarder.forwardChannel(this, request, portForwardMessage.host, portForwardMessage.port, portForwardMessage.port, this.trace, cancellation);\r\n            }\r\n        }\r\n    }\r\n    /* @internal */\r\n    async openChannel(session, channelType, originatorIPAddress, originatorPort, host, port, cancellation) {\r\n        let forwardedPort = undefined;\r\n        if (channelType === PortForwardingService_1.portForwardChannelType) {\r\n            forwardedPort = this.remoteForwardedPorts.find((p) => p.remotePort === port || (p.remotePort === null && p.localPort === port));\r\n            if (!forwardedPort) {\r\n                throw new Error(`Port ${port} is not being forwarded.`);\r\n            }\r\n        }\r\n        const openMessage = await this.messageFactory.createChannelOpenMessageAsync(port);\r\n        openMessage.channelType = channelType;\r\n        openMessage.originatorIPAddress = originatorIPAddress !== null && originatorIPAddress !== void 0 ? originatorIPAddress : '';\r\n        openMessage.originatorPort = originatorPort !== null && originatorPort !== void 0 ? originatorPort : 0;\r\n        openMessage.host = host;\r\n        openMessage.port = port;\r\n        const trace = this.session.trace;\r\n        let channel;\r\n        try {\r\n            channel = await session.openChannel(openMessage, null, cancellation);\r\n            trace(dev_tunnels_ssh_1.TraceLevel.Info, dev_tunnels_ssh_1.SshTraceEventIds.portForwardChannelOpened, `PortForwardingService opened ${channelType} channel #${channel.channelId} for ${host}:${port}.`);\r\n        }\r\n        catch (e) {\r\n            if (!(e instanceof Error))\r\n                throw e;\r\n            trace(dev_tunnels_ssh_1.TraceLevel.Error, dev_tunnels_ssh_1.SshTraceEventIds.portForwardChannelOpenFailed, `PortForwardingService failed to open ${channelType} channel for ${host}:${port}: ${e.message}`, e);\r\n            throw e;\r\n        }\r\n        if (channelType === PortForwardingService_1.portForwardChannelType) {\r\n            this.remoteForwardedPorts.addChannel(forwardedPort, channel);\r\n        }\r\n        return channel;\r\n    }\r\n    dispose() {\r\n        const disposables = [\r\n            ...this.streamForwarders,\r\n            ...this.localForwarders.values(),\r\n            ...this.remoteConnectors.values(),\r\n        ];\r\n        this.streamForwarders.splice(0, this.streamForwarders.length);\r\n        this.localForwarders.clear();\r\n        this.remoteConnectors.clear();\r\n        for (const disposable of disposables) {\r\n            disposable.dispose();\r\n        }\r\n        super.dispose();\r\n    }\r\n};\r\nPortForwardingService.portForwardRequestType = 'tcpip-forward';\r\nPortForwardingService.cancelPortForwardRequestType = 'cancel-tcpip-forward';\r\nPortForwardingService.portForwardChannelType = 'forwarded-tcpip';\r\nPortForwardingService.reversePortForwardChannelType = 'direct-tcpip';\r\nPortForwardingService = PortForwardingService_1 = __decorate([\r\n    (0, dev_tunnels_ssh_1.serviceActivation)({ sessionRequest: PortForwardingService_1.portForwardRequestType }),\r\n    (0, dev_tunnels_ssh_1.serviceActivation)({ sessionRequest: PortForwardingService_1.cancelPortForwardRequestType }),\r\n    (0, dev_tunnels_ssh_1.serviceActivation)({ channelType: PortForwardingService_1.portForwardChannelType }),\r\n    (0, dev_tunnels_ssh_1.serviceActivation)({ channelType: PortForwardingService_1.reversePortForwardChannelType })\r\n], PortForwardingService);\r\nexports.PortForwardingService = PortForwardingService;\r\n//# sourceMappingURL=portForwardingService.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RemotePortConnector = void 0;\r\nconst dev_tunnels_ssh_1 = require(\"@microsoft/dev-tunnels-ssh\");\r\nconst portForwardRequestMessage_1 = require(\"../messages/portForwardRequestMessage\");\r\nconst portForwardSuccessMessage_1 = require(\"../messages/portForwardSuccessMessage\");\r\nconst portForwardingService_1 = require(\"./portForwardingService\");\r\n/**\r\n * Base class for services that receive SSH channels forwarded from a remote port.\r\n */\r\nclass RemotePortConnector extends dev_tunnels_ssh_1.SshService {\r\n    /* @internal */\r\n    constructor(session, remoteIPAddress, remotePort) {\r\n        super(session);\r\n        this.forwarding = false;\r\n        this.remoteIPAddress = remoteIPAddress;\r\n        this.port = remotePort;\r\n    }\r\n    /**\r\n     * Port that the remote server is listening on. If the request specified port 0, this\r\n     * property returns the actual available port that was chosen by the server.\r\n     */\r\n    get remotePort() {\r\n        return this.port;\r\n    }\r\n    /* @internal */\r\n    async request(request, cancellation) {\r\n        if (this.forwarding) {\r\n            throw new Error('Already forwarding.');\r\n        }\r\n        request.addressToBind = this.remoteIPAddress;\r\n        request.port = this.remotePort;\r\n        request.wantReply = true;\r\n        const response = await this.session.requestResponse(request, portForwardSuccessMessage_1.PortForwardSuccessMessage, dev_tunnels_ssh_1.SessionRequestFailureMessage, cancellation);\r\n        let result = false;\r\n        if (response instanceof portForwardSuccessMessage_1.PortForwardSuccessMessage) {\r\n            if (response.port !== 0) {\r\n                this.port = response.port;\r\n            }\r\n            result = true;\r\n        }\r\n        this.forwarding = result;\r\n        return result;\r\n    }\r\n    dispose() {\r\n        if (this.forwarding) {\r\n            this.forwarding = false;\r\n            const request = new portForwardRequestMessage_1.PortForwardRequestMessage();\r\n            request.requestType = portForwardingService_1.PortForwardingService.cancelPortForwardRequestType;\r\n            request.addressToBind = this.remoteIPAddress;\r\n            request.port = this.remotePort;\r\n            request.wantReply = false;\r\n            try {\r\n                this.session.request(request).catch((e) => {\r\n                    // Ignore async cancel failure.\r\n                    // Error details have already been trace.\r\n                });\r\n            }\r\n            catch (e) { }\r\n        }\r\n        super.dispose();\r\n    }\r\n}\r\nexports.RemotePortConnector = RemotePortConnector;\r\n//# sourceMappingURL=remotePortConnector.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RemotePortForwarder = void 0;\r\nconst net = require(\"net\");\r\nconst dev_tunnels_ssh_1 = require(\"@microsoft/dev-tunnels-ssh\");\r\nconst streamForwarder_1 = require(\"./streamForwarder\");\r\nconst remotePortConnector_1 = require(\"./remotePortConnector\");\r\n/**\r\n * Receives SSH channels forwarded from a remote port and forwards them on to a local port.\r\n */\r\nclass RemotePortForwarder extends remotePortConnector_1.RemotePortConnector {\r\n    /* @internal */\r\n    constructor(pfs, session, remoteIPAddress, remotePort, localHost, localPort) {\r\n        super(session, remoteIPAddress, remotePort);\r\n        this.pfs = pfs;\r\n        this.localHost = localHost;\r\n        this.localPort = localPort;\r\n    }\r\n    /* @internal */\r\n    async onPortChannelOpening(request, cancellation) {\r\n        await RemotePortForwarder.forwardChannel(this.pfs, request, this.localHost, this.localPort, this.remotePort, this.trace, cancellation);\r\n    }\r\n    /* @internal */\r\n    static async forwardChannel(pfs, request, localHost, localPort, remotePort, trace, cancellation) {\r\n        const channel = request.channel;\r\n        const forwardedStream = await pfs.forwardedPortConnecting(remotePort !== null && remotePort !== void 0 ? remotePort : localPort, true, new dev_tunnels_ssh_1.SshStream(channel), cancellation);\r\n        if (!forwardedStream) {\r\n            // The event handler rejected the connection.\r\n            request.failureReason = dev_tunnels_ssh_1.SshChannelOpenFailureReason.connectFailed;\r\n            return;\r\n        }\r\n        const socket = net.createConnection({\r\n            host: localHost,\r\n            port: localPort,\r\n        });\r\n        const connectCompletion = new dev_tunnels_ssh_1.PromiseCompletionSource();\r\n        const cancellationRegistration = cancellation\r\n            ? cancellation.onCancellationRequested(() => socket.destroy(new Error('Cancelled.')))\r\n            : null;\r\n        try {\r\n            socket.once('connect', () => {\r\n                connectCompletion.resolve();\r\n            });\r\n            socket.once('error', (e) => {\r\n                connectCompletion.reject(e);\r\n            });\r\n            await connectCompletion.promise;\r\n        }\r\n        catch (e) {\r\n            if (!(e instanceof Error) || (cancellation === null || cancellation === void 0 ? void 0 : cancellation.isCancellationRequested)) {\r\n                throw e;\r\n            }\r\n            trace(dev_tunnels_ssh_1.TraceLevel.Error, dev_tunnels_ssh_1.SshTraceEventIds.portForwardConnectionFailed, `${channel.session} PortForwardingService forwarded channel #${channel.channelId} ` +\r\n                `connection to ${localHost}:${localPort} failed: ${e.message}`, e);\r\n            request.failureReason = dev_tunnels_ssh_1.SshChannelOpenFailureReason.connectFailed;\r\n            request.failureDescription = e.message;\r\n        }\r\n        finally {\r\n            cancellationRegistration === null || cancellationRegistration === void 0 ? void 0 : cancellationRegistration.dispose();\r\n        }\r\n        // TODO: Set socket options?\r\n        const streamForwarder = new streamForwarder_1.StreamForwarder(socket, forwardedStream, channel.session.trace);\r\n        trace(dev_tunnels_ssh_1.TraceLevel.Info, dev_tunnels_ssh_1.SshTraceEventIds.portForwardConnectionOpened, `${channel.session} PortForwardingService forwarded channel ` +\r\n            `#${channel.channelId} connection to ${localHost}:${localPort}.`);\r\n        pfs.streamForwarders.push(streamForwarder);\r\n    }\r\n}\r\nexports.RemotePortForwarder = RemotePortForwarder;\r\n//# sourceMappingURL=remotePortForwarder.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RemotePortStreamer = void 0;\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst dev_tunnels_ssh_1 = require(\"@microsoft/dev-tunnels-ssh\");\r\nconst remotePortConnector_1 = require(\"./remotePortConnector\");\r\n/**\r\n * Receives SSH channels forwarded from a remote port and exposes them as streams.\r\n */\r\nclass RemotePortStreamer extends remotePortConnector_1.RemotePortConnector {\r\n    /* @internal */\r\n    constructor(session, remoteIPAddress, remotePort) {\r\n        super(session, remoteIPAddress, remotePort);\r\n        this.streamOpenedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        /**\r\n         * Event raised when a new connection stream is forwarded from the remote port.\r\n         */\r\n        this.onStreamOpened = this.streamOpenedEmitter.event;\r\n    }\r\n    /* @internal */\r\n    async onPortChannelOpening(request, cancellation) {\r\n        const stream = new dev_tunnels_ssh_1.SshStream(request.channel);\r\n        this.streamOpenedEmitter.fire(stream);\r\n    }\r\n}\r\nexports.RemotePortStreamer = RemotePortStreamer;\r\n//# sourceMappingURL=remotePortStreamer.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StreamForwarder = void 0;\r\nconst dev_tunnels_ssh_1 = require(\"@microsoft/dev-tunnels-ssh\");\r\nconst net_1 = require(\"net\");\r\nclass StreamForwarder {\r\n    /* @internal */\r\n    constructor(localStream, remoteStream, trace) {\r\n        this.localStream = localStream;\r\n        this.remoteStream = remoteStream;\r\n        this.trace = trace;\r\n        this.disposed = false;\r\n        if (!localStream)\r\n            throw new TypeError('Local stream is required.');\r\n        if (!remoteStream)\r\n            throw new TypeError('Remote stream is required.');\r\n        localStream.pipe(remoteStream);\r\n        remoteStream.pipe(localStream);\r\n    }\r\n    close(abort, errorMessage) {\r\n        try {\r\n            if (abort && this.localStream instanceof net_1.Socket) {\r\n                this.localStream.destroy();\r\n            }\r\n            else {\r\n                this.localStream.end();\r\n            }\r\n            if (this.remoteStream instanceof dev_tunnels_ssh_1.SshStream) {\r\n                this.remoteStream.channel.close('SIGABRT', errorMessage).catch((e) => { });\r\n            }\r\n            else {\r\n                this.remoteStream.end();\r\n            }\r\n            this.trace(dev_tunnels_ssh_1.TraceLevel.Info, dev_tunnels_ssh_1.SshTraceEventIds.portForwardChannelClosed, `Stream forwarder ${abort ? 'aborted' : 'closed'} connection.`);\r\n        }\r\n        catch (e) {\r\n            if (!(e instanceof Error))\r\n                throw e;\r\n            this.trace(dev_tunnels_ssh_1.TraceLevel.Warning, dev_tunnels_ssh_1.SshTraceEventIds.unknownError, `Stream forwarder unexpected error closing connection:  ${e.message}`);\r\n        }\r\n    }\r\n    dispose() {\r\n        if (!this.disposed) {\r\n            this.disposed = true;\r\n            this.close(true);\r\n        }\r\n    }\r\n}\r\nexports.StreamForwarder = StreamForwarder;\r\n//# sourceMappingURL=streamForwarder.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshClient = void 0;\r\nconst net = require(\"net\");\r\nconst dev_tunnels_ssh_1 = require(\"@microsoft/dev-tunnels-ssh\");\r\n/**\r\n * Enables opening an SSH session over a TCP connection.\r\n *\r\n * It's possible to create an `SshClientSession` over any `Stream` instance;\r\n * this class is merely a convenient helper that manages creating a session\r\n * over a Node.js TCP `Socket`.\r\n */\r\nclass SshClient {\r\n    constructor(config) {\r\n        this.config = config;\r\n        this.sessions = [];\r\n        /**\r\n         * Gets or sets a function that handles trace messages associated with the client session.\r\n         *\r\n         * By default, no messages are traced. To enable tracing, set this property to a function\r\n         * that routes the message to console.log, a file, or anywhere else.\r\n         *\r\n         * @param level The level of message being traced: error, warning, info, or verbose.\r\n         * @param eventId An integer that identifies the type of event. Normally this is one of\r\n         * the values from `SshTraceEventIds`, but extensions may define additional event IDs.\r\n         * @param msg A description of the event (non-localized).\r\n         * @param err Optional `Error` object associated with the event, often included with\r\n         * warning or error events. While the `Error.message` property is typically included as\r\n         * (part of) the `msg` parameter, the error object may contain additional useful context\r\n         * such as the stack trace.\r\n         */\r\n        this.trace = (level, eventId, msg, err) => { };\r\n        if (!config)\r\n            throw new TypeError('SshSessionConfiguration is required.');\r\n    }\r\n    async openSession(serverHost, serverPort, cancellation) {\r\n        if (!serverHost)\r\n            throw new TypeError('Server host is reqiured.');\r\n        const stream = await this.openConnection(serverHost, serverPort, cancellation);\r\n        const session = new dev_tunnels_ssh_1.SshClientSession(this.config);\r\n        session.trace = this.trace;\r\n        await session.connect(stream, cancellation);\r\n        this.sessions.push(session);\r\n        return session;\r\n    }\r\n    async openConnection(serverHost, serverPort, cancellation) {\r\n        const socket = new net.Socket();\r\n        await new Promise((resolve, reject) => {\r\n            socket.on('connect', resolve);\r\n            socket.on('error', reject);\r\n            if (cancellation) {\r\n                if (cancellation.isCancellationRequested) {\r\n                    reject(new dev_tunnels_ssh_1.CancellationError());\r\n                    return;\r\n                }\r\n                cancellation.onCancellationRequested(reject);\r\n            }\r\n            socket.connect(serverPort || SshClient.defaultServerPort, serverHost);\r\n        });\r\n        return new dev_tunnels_ssh_1.NodeStream(socket);\r\n    }\r\n    async reconnectSession(session, serverHost, serverPort, cancellation) {\r\n        const stream = await this.openConnection(serverHost, serverPort, cancellation);\r\n        await session.reconnect(stream, cancellation);\r\n    }\r\n    dispose() {\r\n        while (this.sessions.length > 0) {\r\n            const session = this.sessions.shift();\r\n            session.dispose();\r\n        }\r\n    }\r\n}\r\nexports.SshClient = SshClient;\r\nSshClient.defaultServerPort = 22;\r\n//# sourceMappingURL=sshClient.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshServer = void 0;\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst dev_tunnels_ssh_1 = require(\"@microsoft/dev-tunnels-ssh\");\r\nconst tcpListenerFactory_1 = require(\"./tcpListenerFactory\");\r\n/**\r\n * Enables accepting SSH sessions on a TCP socket.\r\n *\r\n * It's possible to create an `SshServerSession` over any `Stream` instance;\r\n * this class is merely a convenient helper that manages creating sessions\r\n * over Node.js TCP `Socket`s from incoming connections.\r\n */\r\nclass SshServer {\r\n    constructor(config) {\r\n        this.config = config;\r\n        this.sessions = [];\r\n        /**\r\n         * Gets or sets a function that handles trace messages associated with the server sessions.\r\n         *\r\n         * By default, no messages are traced. To enable tracing, set this property to a function\r\n         * that routes the message to console.log, a file, or anywhere else.\r\n         *\r\n         * @param level The level of message being traced: error, warning, info, or verbose.\r\n         * @param eventId An integer that identifies the type of event. Normally this is one of\r\n         * the values from `SshTraceEventIds`, but extensions may define additional event IDs.\r\n         * @param msg A description of the event (non-localized).\r\n         * @param err Optional `Error` object associated with the event, often included with\r\n         * warning or error events. While the `Error.message` property is typically included as\r\n         * (part of) the `msg` parameter, the error object may contain additional useful context\r\n         * such as the stack trace.\r\n         */\r\n        this.trace = (level, eventId, msg, err) => { };\r\n        this.errorEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onError = this.errorEmitter.event;\r\n        this.sessionOpenedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onSessionOpened = this.sessionOpenedEmitter.event;\r\n        this.credentials = { publicKeys: [] };\r\n        /**\r\n         * Gets or sets a factory for creating TCP listeners.\r\n         *\r\n         * Applications may override this factory to provide custom logic for selecting\r\n         * local port numbers to listen on for port-forwarding.\r\n         */\r\n        this.tcpListenerFactory = new tcpListenerFactory_1.DefaultTcpListenerFactory();\r\n        if (!config)\r\n            throw new TypeError('SshSessionConfiguration is required.');\r\n        if (config.protocolExtensions.includes(dev_tunnels_ssh_1.SshProtocolExtensionNames.sessionReconnect)) {\r\n            this.reconnectableSessions = [];\r\n        }\r\n    }\r\n    async acceptSessions(localPort, localAddress) {\r\n        if (!localAddress) {\r\n            localAddress = '0.0.0.0';\r\n        }\r\n        const portPrefix = localAddress === '0.0.0.0' ? 'port ' : localAddress + ':';\r\n        try {\r\n            this.tcpListener = await this.tcpListenerFactory.createTcpListener(localAddress, localPort, false);\r\n        }\r\n        catch (e) {\r\n            if (!(e instanceof Error))\r\n                throw e;\r\n            this.trace(dev_tunnels_ssh_1.TraceLevel.Error, dev_tunnels_ssh_1.SshTraceEventIds.serverListenFailed, `SshServer failed to listen on ${portPrefix}${localPort}: ${e.message}`, e);\r\n            throw e;\r\n        }\r\n        this.tcpListener.addListener('connection', this.acceptSession.bind(this));\r\n        this.trace(dev_tunnels_ssh_1.TraceLevel.Info, dev_tunnels_ssh_1.SshTraceEventIds.serverListening, `SshServer listening on ${portPrefix}${localPort}.`);\r\n    }\r\n    async acceptConnection(socket) {\r\n        socket.setNoDelay(true);\r\n        return new dev_tunnels_ssh_1.NodeStream(socket);\r\n    }\r\n    async acceptSession(socket) {\r\n        this.trace(dev_tunnels_ssh_1.TraceLevel.Info, dev_tunnels_ssh_1.SshTraceEventIds.serverClientConnected, 'SshServer client connected.');\r\n        const stream = await this.acceptConnection(socket);\r\n        const session = new dev_tunnels_ssh_1.SshServerSession(this.config, this.reconnectableSessions);\r\n        session.trace = this.trace;\r\n        session.credentials = this.credentials;\r\n        this.sessions.push(session);\r\n        session.onClosed((e) => {\r\n            const sessionIndex = this.sessions.indexOf(session);\r\n            if (sessionIndex >= 0) {\r\n                this.sessions.splice(sessionIndex, 1);\r\n            }\r\n        });\r\n        this.sessionOpenedEmitter.fire(session);\r\n        try {\r\n            await session.connect(stream);\r\n        }\r\n        catch (e) {\r\n            if (!(e instanceof Error))\r\n                throw e;\r\n            if (e instanceof dev_tunnels_ssh_1.SshConnectionError) {\r\n                await session.close(e.reason || dev_tunnels_ssh_1.SshDisconnectReason.connectionLost, e.message, e);\r\n            }\r\n            else {\r\n                await session.close(dev_tunnels_ssh_1.SshDisconnectReason.protocolError, e.message, e);\r\n            }\r\n            this.errorEmitter.fire(e);\r\n        }\r\n    }\r\n    dispose() {\r\n        var _a;\r\n        (_a = this.tcpListener) === null || _a === void 0 ? void 0 : _a.close();\r\n    }\r\n}\r\nexports.SshServer = SshServer;\r\n//# sourceMappingURL=sshServer.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DefaultTcpListenerFactory = void 0;\r\nconst net = require(\"net\");\r\nclass DefaultTcpListenerFactory {\r\n    async createTcpListener(localIPAddress, localPort, canChangePort, cancellation) {\r\n        if (!localIPAddress)\r\n            throw new TypeError('Local IP address is required.');\r\n        if (!Number.isInteger(localPort) || localPort < 0)\r\n            throw new TypeError('Local port must be a non-negative integer.');\r\n        const listener = net.createServer();\r\n        await new Promise((resolve, reject) => {\r\n            listener.listen({\r\n                host: localIPAddress,\r\n                port: localPort,\r\n                ipv6Only: net.isIPv6(localIPAddress),\r\n                exclusive: false,\r\n            });\r\n            listener.on('listening', resolve);\r\n            listener.on('error', reject);\r\n        });\r\n        return listener;\r\n    }\r\n}\r\nexports.DefaultTcpListenerFactory = DefaultTcpListenerFactory;\r\n//# sourceMappingURL=tcpListenerFactory.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.curves = void 0;\r\n/**\r\n * List of EC curves supported by the SSH ECDSA algorithm.\r\n */\r\nexports.curves = [\r\n    {\r\n        shortName: 'P-256',\r\n        name: 'nistp256',\r\n        oid: '1.2.840.10045.3.1.7',\r\n        keySize: 256,\r\n    },\r\n    {\r\n        shortName: 'P-384',\r\n        name: 'nistp384',\r\n        oid: '1.3.132.0.34',\r\n        keySize: 384,\r\n    },\r\n    {\r\n        shortName: 'P-521',\r\n        name: 'nistp521',\r\n        oid: '1.3.132.0.35',\r\n        keySize: 521,\r\n    },\r\n];\r\n//# sourceMappingURL=ecdsaCurves.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EncryptionAlgorithm = void 0;\r\nclass EncryptionAlgorithm {\r\n    constructor(name) {\r\n        this.name = name;\r\n    }\r\n}\r\nexports.EncryptionAlgorithm = EncryptionAlgorithm;\r\n//# sourceMappingURL=encryptionAlgorithm.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HmacAlgorithm = void 0;\r\nclass HmacAlgorithm {\r\n    constructor(name, algorithmName, keyLength, digestLength) {\r\n        this.name = name;\r\n        this.algorithmName = algorithmName;\r\n        this.keyLength = keyLength;\r\n        this.digestLength = digestLength;\r\n    }\r\n}\r\nexports.HmacAlgorithm = HmacAlgorithm;\r\n//# sourceMappingURL=hmacAlgorithm.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.KeyExchangeAlgorithm = void 0;\r\nclass KeyExchangeAlgorithm {\r\n    constructor(name, keySizeInBits, hashAlgorithmName, hashDigestLength) {\r\n        this.name = name;\r\n        this.keySizeInBits = keySizeInBits;\r\n        this.hashAlgorithmName = hashAlgorithmName;\r\n        this.hashDigestLength = hashDigestLength;\r\n    }\r\n}\r\nexports.KeyExchangeAlgorithm = KeyExchangeAlgorithm;\r\n//# sourceMappingURL=keyExchangeAlgorithm.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Sec1KeyFormatter = exports.Pkcs1KeyFormatter = exports.parsePem = exports.formatPem = void 0;\r\nconst bigInt_1 = require(\"../../io/bigInt\");\r\nconst derData_1 = require(\"../../io/derData\");\r\nconst ecdsaCurves_1 = require(\"../ecdsaCurves\");\r\nfunction formatPem(keyBytes, name) {\r\n    const key = `-----BEGIN ${name}-----\\n` +\r\n        keyBytes\r\n            .toString('base64')\r\n            .match(/.{1,64}/g)\r\n            .join('\\n') +\r\n        '\\n' +\r\n        `-----END ${name}-----\\n`;\r\n    return key;\r\n}\r\nexports.formatPem = formatPem;\r\nfunction parsePem(key) {\r\n    const keyBase64 = key.replace(/-+[^-\\n]+KEY-+/g, '').replace(/\\s/g, '');\r\n    const keyBytes = Buffer.from(keyBase64, 'base64');\r\n    return keyBytes;\r\n}\r\nexports.parsePem = parsePem;\r\n/**\r\n * Provides *minimal* PKCS#1 import/export support for Node.js keys.\r\n *\r\n * This code is redundant with some of the PKCS#1 import/export code in the separate\r\n * `ssh-keys` library; that is intentional, and necessary to support a consistent\r\n * interface for importing/exporting key parameters in the core `ssh` library.\r\n */\r\nclass Pkcs1KeyFormatter {\r\n    static formatRsaPublic(rsa) {\r\n        const writer = new derData_1.DerWriter(Buffer.alloc(1024));\r\n        writer.writeInteger(rsa.modulus);\r\n        writer.writeInteger(rsa.exponent);\r\n        return writer.toBuffer();\r\n    }\r\n    static formatRsaPrivate(rsa) {\r\n        if (!(rsa.d && rsa.p && rsa.q && rsa.dp && rsa.dq && rsa.qi)) {\r\n            throw new Error('Missing private key parameters.');\r\n        }\r\n        const writer = new derData_1.DerWriter(Buffer.alloc(2048));\r\n        writer.writeInteger(bigInt_1.BigInt.fromInt32(0));\r\n        writer.writeInteger(rsa.modulus);\r\n        writer.writeInteger(rsa.exponent);\r\n        writer.writeInteger(rsa.d);\r\n        writer.writeInteger(rsa.p);\r\n        writer.writeInteger(rsa.q);\r\n        writer.writeInteger(rsa.dp);\r\n        writer.writeInteger(rsa.dq);\r\n        writer.writeInteger(rsa.qi);\r\n        return writer.toBuffer();\r\n    }\r\n    static parseRsaPublic(keyBytes) {\r\n        const reader = new derData_1.DerReader(keyBytes);\r\n        const modulus = reader.readInteger();\r\n        const exponent = reader.readInteger();\r\n        return { modulus, exponent };\r\n    }\r\n    static parseRsaPrivate(keyBytes) {\r\n        const reader = new derData_1.DerReader(keyBytes);\r\n        const version = reader.readInteger();\r\n        const modulus = reader.readInteger();\r\n        const exponent = reader.readInteger();\r\n        const d = reader.readInteger();\r\n        const p = reader.readInteger();\r\n        const q = reader.readInteger();\r\n        const dp = reader.readInteger();\r\n        const dq = reader.readInteger();\r\n        const qi = reader.readInteger();\r\n        return { modulus, exponent, d, p, q, dp, dq, qi };\r\n    }\r\n}\r\nexports.Pkcs1KeyFormatter = Pkcs1KeyFormatter;\r\n/**\r\n * Provides *minimal* SEC1 import/export support for Node.js keys.\r\n *\r\n * This code is redundant with some of the SEC1 import/export code in the separate\r\n * `ssh-keys` library; that is intentional, and necessary to support a consistent\r\n * interface for importing/exporting key parameters in the core `ssh` library.\r\n */\r\nclass Sec1KeyFormatter {\r\n    static formatECPublic(ec) {\r\n        const curve = ecdsaCurves_1.curves.find((c) => c.oid === ec.curve.oid);\r\n        const keySizeInBytes = Math.ceil(curve.keySize / 8);\r\n        const writer = new derData_1.DerWriter(Buffer.alloc(512));\r\n        const oidsWriter = new derData_1.DerWriter(Buffer.alloc(100));\r\n        oidsWriter.writeObjectIdentifier(Sec1KeyFormatter.ecPublicKeyOid);\r\n        oidsWriter.writeObjectIdentifier(ec.curve.oid);\r\n        writer.writeSequence(oidsWriter);\r\n        const x = ec.x.toBytes({ unsigned: true, length: keySizeInBytes });\r\n        const y = ec.y.toBytes({ unsigned: true, length: keySizeInBytes });\r\n        const publicKeyData = Buffer.alloc(1 + x.length + y.length);\r\n        publicKeyData[0] = 4; // Indicates uncompressed curve format\r\n        x.copy(publicKeyData, 1);\r\n        y.copy(publicKeyData, 1 + x.length);\r\n        writer.writeBitString(publicKeyData);\r\n        return writer.toBuffer();\r\n    }\r\n    static formatECPrivate(ec) {\r\n        const curve = ecdsaCurves_1.curves.find((c) => c.oid === ec.curve.oid);\r\n        const keySizeInBytes = Math.ceil(curve.keySize / 8);\r\n        const writer = new derData_1.DerWriter(Buffer.alloc(512));\r\n        writer.writeInteger(bigInt_1.BigInt.fromInt32(1)); // version\r\n        writer.writeOctetString(ec.d.toBytes({ unsigned: true, length: keySizeInBytes }));\r\n        const curveWriter = new derData_1.DerWriter(Buffer.alloc(100));\r\n        curveWriter.writeObjectIdentifier(ec.curve.oid);\r\n        writer.writeTagged(0, curveWriter);\r\n        const x = ec.x.toBytes({ unsigned: true, length: keySizeInBytes });\r\n        const y = ec.y.toBytes({ unsigned: true, length: keySizeInBytes });\r\n        const publicKeyData = Buffer.alloc(1 + x.length + y.length);\r\n        publicKeyData[0] = 4; // Indicates uncompressed curve format\r\n        x.copy(publicKeyData, 1);\r\n        y.copy(publicKeyData, 1 + x.length);\r\n        const keyWriter = new derData_1.DerWriter(Buffer.alloc(512));\r\n        keyWriter.writeBitString(publicKeyData);\r\n        writer.writeTagged(1, keyWriter);\r\n        return writer.toBuffer();\r\n    }\r\n    static parseECPublic(keyBytes) {\r\n        var _a;\r\n        const reader = new derData_1.DerReader(keyBytes);\r\n        const oidsReader = reader.readSequence();\r\n        const keyTypeOid = oidsReader.readObjectIdentifier();\r\n        if (keyTypeOid !== Sec1KeyFormatter.ecPublicKeyOid) {\r\n            throw new Error(`Unexpected key type OID: ${keyTypeOid}`);\r\n        }\r\n        const curveOid = oidsReader.readObjectIdentifier();\r\n        const curveName = (_a = ecdsaCurves_1.curves.find((c) => c.oid === curveOid)) === null || _a === void 0 ? void 0 : _a.name;\r\n        const xy = reader.readBitString();\r\n        if (xy.length % 2 !== 1) {\r\n            throw new Error(`Unexpected key data length: ${xy.length}`);\r\n        }\r\n        const x = bigInt_1.BigInt.fromBytes(xy.slice(1, 1 + (xy.length - 1) / 2), { unsigned: true });\r\n        const y = bigInt_1.BigInt.fromBytes(xy.slice(1 + (xy.length - 1) / 2), { unsigned: true });\r\n        const ec = {\r\n            curve: { name: curveName, oid: curveOid },\r\n            x,\r\n            y,\r\n        };\r\n        return ec;\r\n    }\r\n    static parseECPrivate(keyBytes) {\r\n        var _a;\r\n        const reader = new derData_1.DerReader(keyBytes);\r\n        const version = reader.readInteger().toInt32();\r\n        if (version !== 1) {\r\n            throw new Error(`Unsupported SEC1 format version: ${version}`);\r\n        }\r\n        const d = bigInt_1.BigInt.fromBytes(reader.readOctetString(), { unsigned: true });\r\n        const curveReader = reader.tryReadTagged(0);\r\n        if (!curveReader) {\r\n            throw new Error('SEC1 curve info not found.');\r\n        }\r\n        const curveOid = curveReader.readObjectIdentifier();\r\n        const curveName = (_a = ecdsaCurves_1.curves.find((c) => c.oid === curveOid)) === null || _a === void 0 ? void 0 : _a.name;\r\n        const publicKeyReader = reader.tryReadTagged(1);\r\n        if (!publicKeyReader) {\r\n            throw new Error('SEC1 public key data not found.');\r\n        }\r\n        const xy = publicKeyReader.readBitString();\r\n        if (xy.length % 2 !== 1) {\r\n            throw new Error(`Unexpected key data length: ${xy.length}`);\r\n        }\r\n        const x = bigInt_1.BigInt.fromBytes(xy.slice(1, 1 + (xy.length - 1) / 2), { unsigned: true });\r\n        const y = bigInt_1.BigInt.fromBytes(xy.slice(1 + (xy.length - 1) / 2), { unsigned: true });\r\n        const ec = {\r\n            curve: { name: curveName, oid: curveOid },\r\n            x,\r\n            y,\r\n            d,\r\n        };\r\n        return ec;\r\n    }\r\n}\r\nexports.Sec1KeyFormatter = Sec1KeyFormatter;\r\nSec1KeyFormatter.ecPublicKeyOid = '1.2.840.10045.2.1';\r\n//# sourceMappingURL=keyFormatters.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NodeECDsa = void 0;\r\nconst crypto = require(\"crypto\");\r\nconst buffer_1 = require(\"buffer\");\r\nconst publicKeyAlgorithm_1 = require(\"../publicKeyAlgorithm\");\r\nconst ecdsaCurves_1 = require(\"../ecdsaCurves\");\r\nconst bigInt_1 = require(\"../../io/bigInt\");\r\nconst derData_1 = require(\"../../io/derData\");\r\nconst sshData_1 = require(\"../../io/sshData\");\r\nconst keyFormatters_1 = require(\"./keyFormatters\");\r\nconst nodeVersionParts = process.versions.node.split('.').map((v) => parseInt(v, 10));\r\nconst nodeGenerateKeyPairSupport = nodeVersionParts[0] > 10 || (nodeVersionParts[0] === 10 && nodeVersionParts[1] >= 12);\r\nconst nodeKeyObjectSupport = nodeVersionParts[0] > 11 || (nodeVersionParts[0] === 11 && nodeVersionParts[1] >= 6);\r\nclass NodeECDsaKeyPair {\r\n    /**\r\n     * Constructs a new ECDSA key pair object.\r\n     *\r\n     * @param algorithmName Key pair algorithm name. If unspecified, the key pair object must be\r\n     * initialized before use via `importParameters()`.\r\n     */\r\n    constructor(algorithmName) {\r\n        this.comment = null;\r\n        if (algorithmName) {\r\n            this.algorithmName = algorithmName;\r\n        }\r\n    }\r\n    get hasPublicKey() {\r\n        return !!this.publicKey;\r\n    }\r\n    get hasPrivateKey() {\r\n        return !!this.privateKey;\r\n    }\r\n    get keyAlgorithmName() {\r\n        return this.algorithmName;\r\n    }\r\n    get algorithmName() {\r\n        return this.algorithm;\r\n    }\r\n    set algorithmName(value) {\r\n        const curveName = value.split('-')[2];\r\n        this.curve = ecdsaCurves_1.curves.find((c) => c.name === curveName);\r\n        if (!this.curve) {\r\n            throw new Error('Invalid or unsupported ECDSA algorithm: ' + value);\r\n        }\r\n        this.algorithm = value;\r\n    }\r\n    generate() {\r\n        if (nodeGenerateKeyPairSupport && nodeKeyObjectSupport) {\r\n            return this.generateNodeKeyPairObjects();\r\n        }\r\n        else if (nodeGenerateKeyPairSupport) {\r\n            return this.generateNodeKeyPairBuffers();\r\n        }\r\n        else {\r\n            return this.generateExternalKeyPair();\r\n        }\r\n    }\r\n    async generateNodeKeyPairObjects() {\r\n        [this.publicKey, this.privateKey] = await new Promise((resolve, reject) => {\r\n            const keyGenParams = {\r\n                namedCurve: this.curve.shortName,\r\n            };\r\n            try {\r\n                crypto.generateKeyPair('ec', keyGenParams, (err, publicKey, privateKey) => {\r\n                    if (err) {\r\n                        reject(err);\r\n                    }\r\n                    else {\r\n                        resolve([publicKey, privateKey]);\r\n                    }\r\n                });\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n    }\r\n    async generateNodeKeyPairBuffers() {\r\n        [this.publicKey, this.privateKey] = await new Promise((resolve, reject) => {\r\n            const keyGenParams = {\r\n                namedCurve: this.curve.shortName,\r\n                publicKeyEncoding: { type: 'spki', format: 'pem' },\r\n                privateKeyEncoding: {\r\n                    type: 'sec1',\r\n                    format: 'pem',\r\n                    cipher: undefined,\r\n                    passphrase: undefined,\r\n                },\r\n            };\r\n            try {\r\n                crypto.generateKeyPair('ec', keyGenParams, (err, publicKey, privateKey) => {\r\n                    if (err) {\r\n                        reject(err);\r\n                    }\r\n                    else {\r\n                        resolve([publicKey, privateKey]);\r\n                    }\r\n                });\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n    }\r\n    async generateExternalKeyPair() {\r\n        throw new Error('This version of node does not support generating key pairs. Use node >= 10.12.');\r\n    }\r\n    async setPublicKeyBytes(keyBytes, algorithmName) {\r\n        if (!keyBytes) {\r\n            throw new TypeError('Buffer is required.');\r\n        }\r\n        // Read public key in SSH format.\r\n        const reader = new sshData_1.SshDataReader(keyBytes);\r\n        const readAlgorithmName = reader.readString('ascii');\r\n        this.algorithmName = algorithmName || readAlgorithmName;\r\n        const curveName = reader.readString('ascii');\r\n        this.algorithmName = `ecdsa-sha2-${curveName}`;\r\n        const xy = reader.readBinary();\r\n        const x = bigInt_1.BigInt.fromBytes(xy.slice(1, 1 + (xy.length - 1) / 2), { unsigned: true });\r\n        const y = bigInt_1.BigInt.fromBytes(xy.slice(1 + (xy.length - 1) / 2), { unsigned: true });\r\n        const derKeyBytes = keyFormatters_1.Sec1KeyFormatter.formatECPublic({\r\n            curve: { name: this.curve.name, oid: this.curve.oid },\r\n            x,\r\n            y,\r\n        });\r\n        if (nodeKeyObjectSupport) {\r\n            this.publicKey = crypto.createPublicKey({\r\n                key: derKeyBytes,\r\n                type: 'spki',\r\n                format: 'der',\r\n            });\r\n        }\r\n        else {\r\n            this.publicKey = (0, keyFormatters_1.formatPem)(derKeyBytes, 'PUBLIC KEY');\r\n        }\r\n    }\r\n    async getPublicKeyBytes(algorithmName) {\r\n        if (!this.publicKey) {\r\n            return null;\r\n        }\r\n        let derKeyBytes;\r\n        if (typeof this.publicKey === 'string') {\r\n            derKeyBytes = (0, keyFormatters_1.parsePem)(this.publicKey);\r\n        }\r\n        else {\r\n            derKeyBytes = this.publicKey.export({\r\n                type: 'spki',\r\n                format: 'der',\r\n            });\r\n        }\r\n        const ec = keyFormatters_1.Sec1KeyFormatter.parseECPublic(derKeyBytes);\r\n        // Write public key in SSH format.\r\n        algorithmName = algorithmName || this.algorithmName || this.keyAlgorithmName;\r\n        const keyWriter = new sshData_1.SshDataWriter(buffer_1.Buffer.alloc(512));\r\n        keyWriter.writeString(algorithmName, 'ascii');\r\n        keyWriter.writeString(this.curve.name, 'ascii');\r\n        const keySizeInBytes = Math.ceil(this.curve.keySize / 8);\r\n        const xBytes = ec.x.toBytes({ unsigned: true, length: keySizeInBytes });\r\n        const yBytes = ec.y.toBytes({ unsigned: true, length: keySizeInBytes });\r\n        keyWriter.writeUInt32(1 + xBytes.length + yBytes.length);\r\n        keyWriter.writeByte(4); // Indicates uncompressed curve format\r\n        keyWriter.write(xBytes);\r\n        keyWriter.write(yBytes);\r\n        const keyBytes = keyWriter.toBuffer();\r\n        return keyBytes;\r\n    }\r\n    async importParameters(parameters) {\r\n        if (!parameters.curve)\r\n            throw new TypeError('A curve is required.');\r\n        let curve;\r\n        if (parameters.curve.oid) {\r\n            curve = ecdsaCurves_1.curves.find((c) => c.oid === parameters.curve.oid);\r\n            if (!curve) {\r\n                throw new Error(`Unsupported curve OID: ${parameters.curve.oid}`);\r\n            }\r\n        }\r\n        else if (parameters.curve.name) {\r\n            curve = ecdsaCurves_1.curves.find((c) => c.name === parameters.curve.name);\r\n            if (!curve) {\r\n                throw new Error(`Unsupported curve: ${parameters.curve.name}`);\r\n            }\r\n        }\r\n        else {\r\n            throw new TypeError('A curve OID or name is required.');\r\n        }\r\n        this.algorithmName = 'ecdsa-sha2-' + curve.name;\r\n        const publicKeyBytes = keyFormatters_1.Sec1KeyFormatter.formatECPublic(parameters);\r\n        if (nodeKeyObjectSupport) {\r\n            this.publicKey = crypto.createPublicKey({\r\n                key: publicKeyBytes,\r\n                type: 'spki',\r\n                format: 'der',\r\n            });\r\n        }\r\n        else {\r\n            this.publicKey = (0, keyFormatters_1.formatPem)(publicKeyBytes, 'EC PUBLIC KEY');\r\n        }\r\n        if (parameters.d) {\r\n            const privateKeyBytes = keyFormatters_1.Sec1KeyFormatter.formatECPrivate(parameters);\r\n            if (nodeKeyObjectSupport) {\r\n                this.privateKey = crypto.createPrivateKey({\r\n                    key: privateKeyBytes,\r\n                    type: 'sec1',\r\n                    format: 'der',\r\n                });\r\n            }\r\n            else {\r\n                this.privateKey = (0, keyFormatters_1.formatPem)(privateKeyBytes, 'EC PRIVATE KEY');\r\n            }\r\n        }\r\n        else {\r\n            this.privateKey = undefined;\r\n        }\r\n    }\r\n    async exportParameters() {\r\n        var _a, _b;\r\n        if (!this.publicKey) {\r\n            throw new Error('Key is not present.');\r\n        }\r\n        let derKeyBytes;\r\n        if (typeof this.publicKey === 'string') {\r\n            derKeyBytes = (0, keyFormatters_1.parsePem)((_a = this.privateKey) !== null && _a !== void 0 ? _a : this.publicKey);\r\n        }\r\n        else {\r\n            derKeyBytes = ((_b = this.privateKey) !== null && _b !== void 0 ? _b : this.publicKey).export({\r\n                type: this.privateKey ? 'sec1' : 'spki',\r\n                format: 'der',\r\n            });\r\n        }\r\n        return this.privateKey\r\n            ? keyFormatters_1.Sec1KeyFormatter.parseECPrivate(derKeyBytes)\r\n            : keyFormatters_1.Sec1KeyFormatter.parseECPublic(derKeyBytes);\r\n    }\r\n    dispose() { }\r\n}\r\nclass NodeECDsa extends publicKeyAlgorithm_1.PublicKeyAlgorithm {\r\n    constructor(name, hashAlgorithmName) {\r\n        super(name, name, // The key algorithm name is the same (unlike RSA).\r\n        hashAlgorithmName);\r\n    }\r\n    createKeyPair() {\r\n        return new NodeECDsaKeyPair(this.name);\r\n    }\r\n    async generateKeyPair() {\r\n        const ecdsaKey = new NodeECDsaKeyPair(this.name);\r\n        await ecdsaKey.generate();\r\n        return ecdsaKey;\r\n    }\r\n    createSigner(keyPair) {\r\n        if (!(keyPair instanceof NodeECDsaKeyPair)) {\r\n            throw new TypeError('ECDSA key pair object expected.');\r\n        }\r\n        return new NodeECDsaSignerVerifier(keyPair, NodeECDsa.convertHashAlgorithmName(this.hashAlgorithmName));\r\n    }\r\n    createVerifier(keyPair) {\r\n        if (!(keyPair instanceof NodeECDsaKeyPair)) {\r\n            throw new TypeError('ECDSA key pair object expected.');\r\n        }\r\n        return new NodeECDsaSignerVerifier(keyPair, NodeECDsa.convertHashAlgorithmName(this.hashAlgorithmName));\r\n    }\r\n    static convertHashAlgorithmName(hashAlgorithmName) {\r\n        return hashAlgorithmName.replace('SHA2-', 'SHA');\r\n    }\r\n    /* @internal */\r\n    static getSignatureLength(keySizeInBits) {\r\n        // The signature is double the key size, but formatted as 2 bigints.\r\n        // To each bigint add 4 for the length and 1 for a leading zero.\r\n        const keySizeInBytes = Math.ceil(keySizeInBits / 8);\r\n        return (4 + 1 + keySizeInBytes) * 2;\r\n    }\r\n}\r\nexports.NodeECDsa = NodeECDsa;\r\nNodeECDsa.ecdsaSha2Nistp256 = 'ecdsa-sha2-nistp256';\r\nNodeECDsa.ecdsaSha2Nistp384 = 'ecdsa-sha2-nistp384';\r\nNodeECDsa.ecdsaSha2Nistp521 = 'ecdsa-sha2-nistp521';\r\nNodeECDsa.curves = ecdsaCurves_1.curves;\r\nNodeECDsa.KeyPair = NodeECDsaKeyPair;\r\nclass NodeECDsaSignerVerifier {\r\n    constructor(keyPair, hashAlgorithmName) {\r\n        this.keyPair = keyPair;\r\n        this.hashAlgorithmName = hashAlgorithmName;\r\n    }\r\n    get digestLength() {\r\n        const curve = this.keyPair.curve;\r\n        if (!curve) {\r\n            return 0;\r\n        }\r\n        else {\r\n            return NodeECDsa.getSignatureLength(curve.keySize);\r\n        }\r\n    }\r\n    async sign(data) {\r\n        if (!this.keyPair.privateKey) {\r\n            throw new Error('Private key not set.');\r\n        }\r\n        const signer = crypto.createSign(this.hashAlgorithmName);\r\n        signer.update(data);\r\n        let signature = signer.sign(this.keyPair.privateKey);\r\n        // Reformat the signature integer bytes as required by SSH.\r\n        const signatureReader = new derData_1.DerReader(signature);\r\n        const x = signatureReader.readInteger();\r\n        const y = signatureReader.readInteger();\r\n        const keySizeInBytes = Math.ceil(this.keyPair.curve.keySize / 8);\r\n        const signatureWriter = new sshData_1.SshDataWriter(buffer_1.Buffer.alloc(this.digestLength));\r\n        signatureWriter.writeBinary(x.toBytes({ unsigned: true, length: keySizeInBytes + 1 }));\r\n        signatureWriter.writeBinary(y.toBytes({ unsigned: true, length: keySizeInBytes + 1 }));\r\n        signature = signatureWriter.toBuffer();\r\n        return signature;\r\n    }\r\n    async verify(data, signature) {\r\n        if (!this.keyPair.publicKey) {\r\n            throw new Error('Public key not set.');\r\n        }\r\n        // Reformat the signature integer bytes as required by node.\r\n        const signatureReader = new sshData_1.SshDataReader(signature);\r\n        const x = signatureReader.readBigInt();\r\n        const y = signatureReader.readBigInt();\r\n        const signatureWriter = new derData_1.DerWriter(buffer_1.Buffer.alloc(signature.length));\r\n        signatureWriter.writeInteger(x);\r\n        signatureWriter.writeInteger(y);\r\n        signature = signatureWriter.toBuffer();\r\n        const verifier = crypto.createVerify(this.hashAlgorithmName);\r\n        verifier.update(data);\r\n        const result = verifier.verify(this.keyPair.publicKey, signature);\r\n        return result;\r\n    }\r\n    dispose() { }\r\n}\r\n//# sourceMappingURL=nodeECDsa.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NodeEncryption = void 0;\r\nconst crypto = require(\"crypto\");\r\nconst buffer_1 = require(\"buffer\");\r\nconst encryptionAlgorithm_1 = require(\"../encryptionAlgorithm\");\r\nclass NodeEncryption extends encryptionAlgorithm_1.EncryptionAlgorithm {\r\n    constructor(name, algorithmName, cipherMode, keySizeInBits) {\r\n        super(name);\r\n        this.algorithmName = algorithmName;\r\n        this.cipherMode = cipherMode;\r\n        this.keySizeInBits = keySizeInBits;\r\n        if (algorithmName !== 'AES') {\r\n            throw new Error(`Unsupported encryption algorithm: ${algorithmName}`);\r\n        }\r\n        this.blockSizeInBits = NodeEncryption.getBlockSize(algorithmName);\r\n    }\r\n    get keyLength() {\r\n        return this.keySizeInBits / 8;\r\n    }\r\n    get blockLength() {\r\n        return this.blockSizeInBits / 8;\r\n    }\r\n    async createCipher(isEncryption, key, iv) {\r\n        let cipher;\r\n        if (this.cipherMode === 'CTR' || this.cipherMode === 'CBC') {\r\n            cipher = new NodeAesCipher(isEncryption, this.keySizeInBits, this.blockSizeInBits, key, iv, this.cipherMode);\r\n        }\r\n        else if (this.cipherMode === 'GCM') {\r\n            cipher = new NodeAesGcmCipher(isEncryption, this.keySizeInBits, this.blockSizeInBits, key, iv);\r\n        }\r\n        else {\r\n            throw new Error(`Unsupported cipher mode: ${this.cipherMode}`);\r\n        }\r\n        return cipher;\r\n    }\r\n    static getBlockSize(algorithmName) {\r\n        if (algorithmName === 'AES') {\r\n            return 128;\r\n        }\r\n        else {\r\n            throw new Error(`Unsupported encryption algorithm: ${algorithmName}`);\r\n        }\r\n    }\r\n}\r\nexports.NodeEncryption = NodeEncryption;\r\nclass NodeAesCipher {\r\n    constructor(isEncryption, keySizeInBits, blockSizeInBits, key, iv, cipherMode) {\r\n        this.isEncryption = isEncryption;\r\n        this.keySizeInBits = keySizeInBits;\r\n        this.blockSizeInBits = blockSizeInBits;\r\n        const nodeAlgorithm = `AES-${this.keySizeInBits}-${cipherMode}`;\r\n        this.cipher = this.isEncryption\r\n            ? crypto.createCipheriv(nodeAlgorithm, key, iv)\r\n            : crypto.createDecipheriv(nodeAlgorithm, key, iv);\r\n        this.cipher.setAutoPadding(false);\r\n    }\r\n    get blockLength() {\r\n        return this.blockSizeInBits / 8;\r\n    }\r\n    transform(data) {\r\n        const result = this.cipher.update(data);\r\n        if (result.length !== data.length) {\r\n            const message = 'Result from encrypt/decrypt has invalid length ' +\r\n                `${result.length}, expected ${data.length}.`;\r\n            throw new Error(message);\r\n        }\r\n        return Promise.resolve(result);\r\n    }\r\n    dispose() { }\r\n}\r\nclass NodeAesGcmCipher {\r\n    constructor(isEncryption, keySizeInBits, blockSizeInBits, key, iv) {\r\n        this.isEncryption = isEncryption;\r\n        this.keySizeInBits = keySizeInBits;\r\n        this.blockSizeInBits = blockSizeInBits;\r\n        this.tag = null;\r\n        this.algorithmName = `aes-${this.keySizeInBits}-gcm`;\r\n        this.key = buffer_1.Buffer.alloc(key.length);\r\n        key.copy(this.key);\r\n        // Ininitialize the nonce to the first 12 bytes of the IV. It will be incremented by each op.\r\n        this.nonce = buffer_1.Buffer.alloc(12);\r\n        iv.copy(this.nonce, 0, 0, 12);\r\n        this.associatedData = buffer_1.Buffer.alloc(4);\r\n    }\r\n    get blockLength() {\r\n        return this.blockSizeInBits / 8;\r\n    }\r\n    get digestLength() {\r\n        return 16;\r\n    }\r\n    get authenticatedEncryption() {\r\n        return true;\r\n    }\r\n    transform(data) {\r\n        if (data.length % this.blockLength !== 0) {\r\n            const message = 'Encrypt/decrypt input has invalid length ' +\r\n                `${data.length}, not a multiple of block size ${this.blockLength}.`;\r\n            throw new Error(message);\r\n        }\r\n        const cipher = this.isEncryption\r\n            ? crypto.createCipheriv(this.algorithmName, this.key, this.nonce)\r\n            : crypto.createDecipheriv(this.algorithmName, this.key, this.nonce);\r\n        // Associated data is the 32-bit packet length.\r\n        const packetLength = data.length;\r\n        this.associatedData[0] = packetLength >>> 24;\r\n        this.associatedData[1] = packetLength >>> 16;\r\n        this.associatedData[2] = packetLength >>> 8;\r\n        this.associatedData[3] = packetLength;\r\n        cipher.setAAD(this.associatedData);\r\n        if (!this.isEncryption) {\r\n            if (!this.tag) {\r\n                throw new Error('AES-GCM tag was not set before decrypting.');\r\n            }\r\n            cipher.setAuthTag(this.tag);\r\n        }\r\n        const result = cipher.update(data);\r\n        if (result.length !== data.length) {\r\n            const message = 'Result from encrypt/decrypt has invalid length ' +\r\n                `${result.length}, expected ${data.length}.`;\r\n            throw new Error(message);\r\n        }\r\n        cipher.final();\r\n        if (this.isEncryption) {\r\n            this.tag = cipher.getAuthTag();\r\n        }\r\n        else {\r\n            this.tag = null;\r\n        }\r\n        // Increment the counter (last 8 bytes of the nonce) as a big-endian integer.\r\n        // First increment the last byte, and if it reaches 0 then increment the\r\n        // next-to-last byte, and so on.\r\n        let k = 12;\r\n        while (--k >= 4) {\r\n            this.nonce[k]++;\r\n            if (this.nonce[k] !== 0) {\r\n                break;\r\n            }\r\n        }\r\n        return Promise.resolve(result);\r\n    }\r\n    async sign(data) {\r\n        if (!this.tag) {\r\n            throw new Error('AES-GCM tag was not obtained by encrypting.');\r\n        }\r\n        return this.tag;\r\n    }\r\n    async verify(data, signature) {\r\n        if (signature.length !== this.digestLength) {\r\n            throw new Error('Incorrect AES-GCM tag length.');\r\n        }\r\n        this.tag = signature;\r\n        return true;\r\n    }\r\n    dispose() { }\r\n}\r\n//# sourceMappingURL=nodeEncryption.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NodeHmac = void 0;\r\nconst crypto = require(\"crypto\");\r\nconst buffer_1 = require(\"buffer\");\r\nconst hmacAlgorithm_1 = require(\"../hmacAlgorithm\");\r\nclass NodeHmac extends hmacAlgorithm_1.HmacAlgorithm {\r\n    constructor(name, algorithmName, encryptThenMac = false) {\r\n        super(name, algorithmName, NodeHmac.getHashKeyLength(algorithmName), NodeHmac.getHashDigestLength(algorithmName));\r\n        this.encryptThenMac = encryptThenMac;\r\n    }\r\n    async createSigner(key) {\r\n        const hmac = new NodeSignerVerifier(NodeHmac.getNodeHashAlgorithmName(this.algorithmName), this.digestLength, this.encryptThenMac, key);\r\n        return hmac;\r\n    }\r\n    async createVerifier(key) {\r\n        const hmac = new NodeSignerVerifier(NodeHmac.getNodeHashAlgorithmName(this.algorithmName), this.digestLength, this.encryptThenMac, key);\r\n        return hmac;\r\n    }\r\n    static getHashKeyLength(hashAlgorithmName) {\r\n        if (hashAlgorithmName === 'SHA2-512')\r\n            return 512 / 8;\r\n        if (hashAlgorithmName === 'SHA2-384')\r\n            return 384 / 8;\r\n        if (hashAlgorithmName === 'SHA2-256')\r\n            return 256 / 8;\r\n        throw new Error(`Unsupported hash algorithm: ${hashAlgorithmName}`);\r\n    }\r\n    static getHashDigestLength(hashAlgorithmName) {\r\n        return this.getHashKeyLength(hashAlgorithmName);\r\n    }\r\n    static getNodeHashAlgorithmName(hashAlgorithmName) {\r\n        if (hashAlgorithmName === 'SHA2-512')\r\n            return 'sha512';\r\n        if (hashAlgorithmName === 'SHA2-384')\r\n            return 'sha384';\r\n        if (hashAlgorithmName === 'SHA2-256')\r\n            return 'sha256';\r\n        throw new Error(`Unsupported hash algorithm: ${hashAlgorithmName}`);\r\n    }\r\n}\r\nexports.NodeHmac = NodeHmac;\r\nclass NodeSignerVerifier {\r\n    constructor(algorithmName, digestLength, encryptThenMac, key) {\r\n        this.algorithmName = algorithmName;\r\n        this.digestLength = digestLength;\r\n        this.encryptThenMac = encryptThenMac;\r\n        // crypto.createSecretKey is only available on node >= 11.6.\r\n        this.key = crypto.createSecretKey ? crypto.createSecretKey(key) : buffer_1.Buffer.from(key);\r\n    }\r\n    async sign(data) {\r\n        const signer = crypto.createHmac(this.algorithmName, this.key);\r\n        signer.update(data);\r\n        const hmac = signer.digest();\r\n        return hmac;\r\n    }\r\n    async verify(data, signature) {\r\n        const verifier = crypto.createHmac(this.algorithmName, this.key);\r\n        verifier.update(data);\r\n        const hmac = verifier.digest();\r\n        const result = hmac.equals(signature);\r\n        return result;\r\n    }\r\n    dispose() { }\r\n}\r\n//# sourceMappingURL=nodeHmac.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NodeECDiffieHellman = exports.NodeDiffieHellman = void 0;\r\nconst crypto = require(\"crypto\");\r\nconst buffer_1 = require(\"buffer\");\r\nconst keyExchangeAlgorithm_1 = require(\"../keyExchangeAlgorithm\");\r\nconst nodeHmac_1 = require(\"./nodeHmac\");\r\nconst bigInt_1 = require(\"../../io/bigInt\");\r\nclass NodeDiffieHellman extends keyExchangeAlgorithm_1.KeyExchangeAlgorithm {\r\n    constructor(name, keySizeInBits, hashAlgorithmName) {\r\n        super(name, keySizeInBits, hashAlgorithmName, nodeHmac_1.NodeHmac.getHashDigestLength(hashAlgorithmName));\r\n    }\r\n    createKeyExchange() {\r\n        return new NodeDiffieHellmanKex(this.keySizeInBits, nodeHmac_1.NodeHmac.getNodeHashAlgorithmName(this.hashAlgorithmName), this.hashDigestLength);\r\n    }\r\n}\r\nexports.NodeDiffieHellman = NodeDiffieHellman;\r\nclass NodeDiffieHellmanKex {\r\n    constructor(bitLength, hashAlgorithmName, digestLength) {\r\n        this.hashAlgorithmName = hashAlgorithmName;\r\n        this.digestLength = digestLength;\r\n        switch (bitLength) {\r\n            case 1024:\r\n                this.dh = crypto.getDiffieHellman('modp2');\r\n                break;\r\n            case 2048:\r\n                this.dh = crypto.getDiffieHellman('modp14');\r\n                break;\r\n            case 4096:\r\n                this.dh = crypto.getDiffieHellman('modp16');\r\n                break;\r\n            default:\r\n                throw new Error('Invalid DH bit length.');\r\n        }\r\n    }\r\n    startKeyExchange() {\r\n        const exchangeValueKeys = this.dh.generateKeys();\r\n        const exchangeValue = bigInt_1.BigInt.fromBytes(exchangeValueKeys, { unsigned: true }).toBytes();\r\n        return Promise.resolve(exchangeValue);\r\n    }\r\n    decryptKeyExchange(exchangeValue) {\r\n        const key = this.dh.computeSecret(exchangeValue);\r\n        const sharedSecret = bigInt_1.BigInt.fromBytes(key, { unsigned: true }).toBytes();\r\n        return Promise.resolve(sharedSecret);\r\n    }\r\n    async sign(data) {\r\n        const hash = crypto.createHash(this.hashAlgorithmName);\r\n        hash.update(data);\r\n        return buffer_1.Buffer.from(hash.digest());\r\n    }\r\n    dispose() { }\r\n}\r\nclass NodeECDiffieHellman extends keyExchangeAlgorithm_1.KeyExchangeAlgorithm {\r\n    constructor(name, keySizeInBits, hashAlgorithmName) {\r\n        super(name, keySizeInBits, hashAlgorithmName, nodeHmac_1.NodeHmac.getHashDigestLength(hashAlgorithmName));\r\n    }\r\n    createKeyExchange() {\r\n        return new NodeECDiffieHellmanKex(this.keySizeInBits, nodeHmac_1.NodeHmac.getNodeHashAlgorithmName(this.hashAlgorithmName), this.hashDigestLength);\r\n    }\r\n}\r\nexports.NodeECDiffieHellman = NodeECDiffieHellman;\r\nclass NodeECDiffieHellmanKex {\r\n    constructor(bitLength, hashAlgorithmName, digestLength) {\r\n        this.hashAlgorithmName = hashAlgorithmName;\r\n        this.digestLength = digestLength;\r\n        switch (bitLength) {\r\n            case 256:\r\n                this.ecdh = crypto.createECDH('prime256v1');\r\n                break;\r\n            case 384:\r\n                this.ecdh = crypto.createECDH('secp384r1');\r\n                break;\r\n            case 521:\r\n                this.ecdh = crypto.createECDH('secp521r1');\r\n                break;\r\n            default:\r\n                throw new Error('Invalid ECDH bit length.');\r\n        }\r\n    }\r\n    startKeyExchange() {\r\n        const exchangeValue = this.ecdh.generateKeys();\r\n        return Promise.resolve(exchangeValue);\r\n    }\r\n    decryptKeyExchange(exchangeValue) {\r\n        const sharedSecretBytes = this.ecdh.computeSecret(exchangeValue);\r\n        const sharedSecret = bigInt_1.BigInt.fromBytes(sharedSecretBytes, { unsigned: true }).toBytes();\r\n        return Promise.resolve(sharedSecret);\r\n    }\r\n    async sign(data) {\r\n        const hash = crypto.createHash(this.hashAlgorithmName);\r\n        hash.update(data);\r\n        return buffer_1.Buffer.from(hash.digest());\r\n    }\r\n    dispose() { }\r\n}\r\n//# sourceMappingURL=nodeKeyExchange.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NodeRandom = void 0;\r\nconst crypto = require(\"crypto\");\r\nclass NodeRandom {\r\n    getBytes(buffer) {\r\n        const randomBytes = crypto.randomBytes(buffer.length);\r\n        randomBytes.copy(buffer);\r\n    }\r\n}\r\nexports.NodeRandom = NodeRandom;\r\n//# sourceMappingURL=nodeRandom.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NodeRsa = void 0;\r\nconst crypto = require(\"crypto\");\r\nconst buffer_1 = require(\"buffer\");\r\nconst publicKeyAlgorithm_1 = require(\"../publicKeyAlgorithm\");\r\nconst sshData_1 = require(\"../../io/sshData\");\r\nconst nodeHmac_1 = require(\"./nodeHmac\");\r\nconst keyFormatters_1 = require(\"./keyFormatters\");\r\nconst nodeVersionParts = process.versions.node.split('.').map((v) => parseInt(v, 10));\r\nconst nodeGenerateKeyPairSupport = nodeVersionParts[0] > 10 || (nodeVersionParts[0] === 10 && nodeVersionParts[1] >= 12);\r\nconst nodeKeyObjectSupport = nodeVersionParts[0] > 11 || (nodeVersionParts[0] === 11 && nodeVersionParts[1] >= 6);\r\n// Note this is exposed as an inner-class property below: `NodeRsa.KeyPair`.\r\n// TypeScript requires that the class definition comes first.\r\nclass NodeRsaKeyPair {\r\n    /* @internal */\r\n    constructor() {\r\n        this.comment = null;\r\n    }\r\n    get hasPublicKey() {\r\n        return !!this.publicKey;\r\n    }\r\n    get hasPrivateKey() {\r\n        return !!this.privateKey;\r\n    }\r\n    get keyAlgorithmName() {\r\n        return NodeRsa.keyAlgorithmName;\r\n    }\r\n    generate(keySizeInBits) {\r\n        keySizeInBits = keySizeInBits !== null && keySizeInBits !== void 0 ? keySizeInBits : NodeRsaKeyPair.defaultKeySize;\r\n        if (nodeGenerateKeyPairSupport && nodeKeyObjectSupport) {\r\n            return this.generateNodeKeyPairObjects(keySizeInBits);\r\n        }\r\n        else if (nodeGenerateKeyPairSupport) {\r\n            return this.generateNodeKeyPairBuffers(keySizeInBits);\r\n        }\r\n        else {\r\n            return this.generateExternalKeyPair(keySizeInBits);\r\n        }\r\n    }\r\n    async generateNodeKeyPairObjects(keySizeInBits) {\r\n        [this.publicKey, this.privateKey] = await new Promise((resolve, reject) => {\r\n            const keyGenParams = {\r\n                modulusLength: keySizeInBits,\r\n            };\r\n            try {\r\n                crypto.generateKeyPair('rsa', keyGenParams, (err, publicKey, privateKey) => {\r\n                    if (err) {\r\n                        reject(err);\r\n                    }\r\n                    else {\r\n                        resolve([publicKey, privateKey]);\r\n                    }\r\n                });\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n    }\r\n    async generateNodeKeyPairBuffers(keySizeInBits) {\r\n        [this.publicKey, this.privateKey] = await new Promise((resolve, reject) => {\r\n            const keyGenParams = {\r\n                modulusLength: keySizeInBits,\r\n                publicKeyEncoding: { type: 'pkcs1', format: 'pem' },\r\n                privateKeyEncoding: {\r\n                    type: 'pkcs1',\r\n                    format: 'pem',\r\n                    cipher: undefined,\r\n                    passphrase: undefined,\r\n                },\r\n            };\r\n            try {\r\n                crypto.generateKeyPair('rsa', keyGenParams, (err, publicKey, privateKey) => {\r\n                    if (err) {\r\n                        reject(err);\r\n                    }\r\n                    else {\r\n                        resolve([publicKey, privateKey]);\r\n                    }\r\n                });\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n    }\r\n    async generateExternalKeyPair(keySizeInBits) {\r\n        // When running in a version of node that doesn't have a built-in API\r\n        // for RSA key-gen, use an external library. Note this implementation\r\n        // is SLOW because it's pure JS. It may take 1-5 seconds to generate\r\n        // a 2048 bit key.\r\n        const externRsa = await Promise.resolve().then(() => require('node-rsa'));\r\n        const keyPair = new externRsa({ b: keySizeInBits });\r\n        this.publicKey = keyPair.exportKey('pkcs1-public-pem');\r\n        this.privateKey = keyPair.exportKey('pkcs1-private-pem');\r\n        // Ensure the PEM format ends in a newline, just for consistency.\r\n        if (!this.publicKey.endsWith('\\n'))\r\n            this.publicKey += '\\n';\r\n        if (!this.privateKey.endsWith('\\n'))\r\n            this.privateKey += '\\n';\r\n    }\r\n    async setPublicKeyBytes(keyBytes) {\r\n        if (!keyBytes) {\r\n            throw new TypeError('Buffer is required.');\r\n        }\r\n        // Read public key in SSH format.\r\n        const reader = new sshData_1.SshDataReader(keyBytes);\r\n        const algorithmName = reader.readString('ascii');\r\n        if (algorithmName !== this.keyAlgorithmName &&\r\n            algorithmName !== NodeRsa.rsaWithSha256 &&\r\n            algorithmName !== NodeRsa.rsaWithSha512) {\r\n            throw new Error(`Invalid RSA key algorithm: ${algorithmName}`);\r\n        }\r\n        const exponent = reader.readBigInt();\r\n        const modulus = reader.readBigInt();\r\n        // Write public key in PKCS#1 format.\r\n        keyBytes = keyFormatters_1.Pkcs1KeyFormatter.formatRsaPublic({ modulus, exponent });\r\n        if (nodeKeyObjectSupport) {\r\n            this.publicKey = crypto.createPublicKey({\r\n                key: keyBytes,\r\n                type: 'pkcs1',\r\n                format: 'der',\r\n            });\r\n        }\r\n        else {\r\n            this.publicKey = (0, keyFormatters_1.formatPem)(keyBytes, 'RSA PUBLIC KEY');\r\n        }\r\n    }\r\n    async getPublicKeyBytes(algorithmName) {\r\n        if (!this.publicKey) {\r\n            return null;\r\n        }\r\n        if (!algorithmName) {\r\n            algorithmName = this.keyAlgorithmName;\r\n        }\r\n        let keyBytes;\r\n        if (typeof this.publicKey === 'string') {\r\n            keyBytes = (0, keyFormatters_1.parsePem)(this.publicKey);\r\n        }\r\n        else {\r\n            keyBytes = this.publicKey.export({\r\n                type: 'pkcs1',\r\n                format: 'der',\r\n            });\r\n        }\r\n        const parameters = keyFormatters_1.Pkcs1KeyFormatter.parseRsaPublic(keyBytes);\r\n        // Write public key in SSH format.\r\n        const keyBuffer = buffer_1.Buffer.alloc(512);\r\n        const keyWriter = new sshData_1.SshDataWriter(keyBuffer);\r\n        keyWriter.writeString(algorithmName, 'ascii');\r\n        keyWriter.writeBigInt(parameters.exponent);\r\n        keyWriter.writeBigInt(parameters.modulus);\r\n        keyBytes = keyWriter.toBuffer();\r\n        return keyBytes;\r\n    }\r\n    async importParameters(parameters) {\r\n        if (nodeKeyObjectSupport) {\r\n            this.publicKey = crypto.createPublicKey({\r\n                key: keyFormatters_1.Pkcs1KeyFormatter.formatRsaPublic(parameters),\r\n                format: 'der',\r\n                type: 'pkcs1',\r\n            });\r\n            if (parameters.d) {\r\n                this.privateKey = crypto.createPrivateKey({\r\n                    key: keyFormatters_1.Pkcs1KeyFormatter.formatRsaPrivate(parameters),\r\n                    format: 'der',\r\n                    type: 'pkcs1',\r\n                });\r\n            }\r\n            else {\r\n                this.privateKey = undefined;\r\n            }\r\n        }\r\n        else {\r\n            const publicKeyBytes = keyFormatters_1.Pkcs1KeyFormatter.formatRsaPublic(parameters);\r\n            this.publicKey = (0, keyFormatters_1.formatPem)(publicKeyBytes, 'RSA PUBLIC KEY');\r\n            if (parameters.d) {\r\n                const privateKeyBytes = keyFormatters_1.Pkcs1KeyFormatter.formatRsaPrivate(parameters);\r\n                this.privateKey = (0, keyFormatters_1.formatPem)(privateKeyBytes, 'RSA PRIVATE KEY');\r\n            }\r\n        }\r\n    }\r\n    async exportParameters() {\r\n        var _a, _b;\r\n        if (!this.publicKey)\r\n            throw new Error('Public key not set.');\r\n        let keyBytes;\r\n        if (nodeKeyObjectSupport) {\r\n            keyBytes = ((_a = this.privateKey) !== null && _a !== void 0 ? _a : this.publicKey).export({\r\n                format: 'der',\r\n                type: 'pkcs1',\r\n            });\r\n        }\r\n        else {\r\n            keyBytes = (0, keyFormatters_1.parsePem)((_b = this.privateKey) !== null && _b !== void 0 ? _b : this.publicKey);\r\n        }\r\n        return this.privateKey\r\n            ? keyFormatters_1.Pkcs1KeyFormatter.parseRsaPrivate(keyBytes)\r\n            : keyFormatters_1.Pkcs1KeyFormatter.parseRsaPublic(keyBytes);\r\n    }\r\n    dispose() {\r\n        this.publicKey = undefined;\r\n        this.privateKey = undefined;\r\n    }\r\n}\r\nNodeRsaKeyPair.defaultKeySize = 2048;\r\nclass NodeRsa extends publicKeyAlgorithm_1.PublicKeyAlgorithm {\r\n    constructor(name, hashAlgorithmName) {\r\n        super(name, NodeRsa.keyAlgorithmName, hashAlgorithmName);\r\n    }\r\n    createKeyPair() {\r\n        return new NodeRsaKeyPair();\r\n    }\r\n    async generateKeyPair(keySizeInBits) {\r\n        const rsaKey = new NodeRsaKeyPair();\r\n        await rsaKey.generate(keySizeInBits);\r\n        return rsaKey;\r\n    }\r\n    createSigner(keyPair) {\r\n        if (!(keyPair instanceof NodeRsaKeyPair)) {\r\n            throw new TypeError('RSA key pair object expected.');\r\n        }\r\n        return new NodeRsaSignerVerifier(keyPair, NodeRsa.convertHashAlgorithmName(this.hashAlgorithmName), nodeHmac_1.NodeHmac.getHashDigestLength(this.hashAlgorithmName));\r\n    }\r\n    createVerifier(keyPair) {\r\n        if (!(keyPair instanceof NodeRsaKeyPair)) {\r\n            throw new TypeError('RSA key pair object expected.');\r\n        }\r\n        return new NodeRsaSignerVerifier(keyPair, NodeRsa.convertHashAlgorithmName(this.hashAlgorithmName), nodeHmac_1.NodeHmac.getHashDigestLength(this.hashAlgorithmName));\r\n    }\r\n    static convertHashAlgorithmName(hashAlgorithmName) {\r\n        return hashAlgorithmName.replace('SHA2-', 'SHA');\r\n    }\r\n}\r\nexports.NodeRsa = NodeRsa;\r\nNodeRsa.keyAlgorithmName = 'ssh-rsa';\r\nNodeRsa.rsaWithSha256 = 'rsa-sha2-256';\r\nNodeRsa.rsaWithSha512 = 'rsa-sha2-512';\r\nNodeRsa.KeyPair = NodeRsaKeyPair;\r\nclass NodeRsaSignerVerifier {\r\n    constructor(keyPair, hashAlgorithmName, digestLength) {\r\n        this.keyPair = keyPair;\r\n        this.hashAlgorithmName = hashAlgorithmName;\r\n        this.digestLength = digestLength;\r\n    }\r\n    async sign(data) {\r\n        if (!this.keyPair.privateKey) {\r\n            throw new Error('Private key not set.');\r\n        }\r\n        const signer = crypto.createSign(this.hashAlgorithmName);\r\n        signer.update(data);\r\n        const signature = signer.sign(this.keyPair.privateKey);\r\n        return signature;\r\n    }\r\n    async verify(data, signature) {\r\n        if (!this.keyPair.publicKey) {\r\n            throw new Error('Public key not set.');\r\n        }\r\n        const verifier = crypto.createVerify(this.hashAlgorithmName);\r\n        verifier.update(data);\r\n        const result = verifier.verify(this.keyPair.publicKey, signature);\r\n        return result;\r\n    }\r\n    dispose() { }\r\n}\r\n//# sourceMappingURL=nodeRsa.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PublicKeyAlgorithm = void 0;\r\nconst buffer_1 = require(\"buffer\");\r\nconst sshData_1 = require(\"../io/sshData\");\r\nclass PublicKeyAlgorithm {\r\n    constructor(name, keyAlgorithmName, hashAlgorithmName) {\r\n        this.name = name;\r\n        this.keyAlgorithmName = keyAlgorithmName;\r\n        this.hashAlgorithmName = hashAlgorithmName;\r\n    }\r\n    readSignatureData(signatureData) {\r\n        const reader = new sshData_1.SshDataReader(signatureData);\r\n        const algorithmName = reader.readString('ascii');\r\n        if (algorithmName !== this.name) {\r\n            throw new Error('Mismatched public key algorithm: ' +\r\n                `got '${algorithmName}', expected '${this.name}'.`);\r\n        }\r\n        const signature = reader.readBinary();\r\n        return signature;\r\n    }\r\n    createSignatureData(signature) {\r\n        const writer = new sshData_1.SshDataWriter(buffer_1.Buffer.alloc(this.name.length + signature.length + 20));\r\n        writer.writeString(this.name, 'ascii');\r\n        writer.writeBinary(signature);\r\n        return writer.toBuffer();\r\n    }\r\n}\r\nexports.PublicKeyAlgorithm = PublicKeyAlgorithm;\r\n//# sourceMappingURL=publicKeyAlgorithm.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.algorithmNames = exports.SshAlgorithms = exports.Encryption = exports.ECDsa = exports.Rsa = exports.HmacAlgorithm = exports.EncryptionAlgorithm = exports.PublicKeyAlgorithm = exports.KeyExchangeAlgorithm = void 0;\r\nconst keyExchangeAlgorithm_1 = require(\"./keyExchangeAlgorithm\");\r\nObject.defineProperty(exports, \"KeyExchangeAlgorithm\", { enumerable: true, get: function () { return keyExchangeAlgorithm_1.KeyExchangeAlgorithm; } });\r\nconst publicKeyAlgorithm_1 = require(\"./publicKeyAlgorithm\");\r\nObject.defineProperty(exports, \"PublicKeyAlgorithm\", { enumerable: true, get: function () { return publicKeyAlgorithm_1.PublicKeyAlgorithm; } });\r\nconst encryptionAlgorithm_1 = require(\"./encryptionAlgorithm\");\r\nObject.defineProperty(exports, \"EncryptionAlgorithm\", { enumerable: true, get: function () { return encryptionAlgorithm_1.EncryptionAlgorithm; } });\r\nconst hmacAlgorithm_1 = require(\"./hmacAlgorithm\");\r\nObject.defineProperty(exports, \"HmacAlgorithm\", { enumerable: true, get: function () { return hmacAlgorithm_1.HmacAlgorithm; } });\r\n// Swap imports to node crypto implementations when web crypto is not available.\r\nconst useWebCrypto = !!(typeof crypto === 'object' && crypto.subtle);\r\nconst webKeyExchange_1 = require(\"./web/webKeyExchange\");\r\nconst webRsa_1 = require(\"./web/webRsa\");\r\nconst webECDsa_1 = require(\"./web/webECDsa\");\r\nconst webEncryption_1 = require(\"./web/webEncryption\");\r\nconst webHmac_1 = require(\"./web/webHmac\");\r\nconst webRandom_1 = require(\"./web/webRandom\");\r\n/* eslint-disable @typescript-eslint/naming-convention, id-match */\r\nconst DiffieHellman = useWebCrypto\r\n    ? webKeyExchange_1.WebDiffieHellman\r\n    : require('./node/nodeKeyExchange').NodeDiffieHellman;\r\nconst ECDiffieHellman = useWebCrypto\r\n    ? webKeyExchange_1.WebECDiffieHellman\r\n    : require('./node/nodeKeyExchange').NodeECDiffieHellman;\r\nconst Rsa = useWebCrypto ? webRsa_1.WebRsa : require('./node/nodeRsa').NodeRsa;\r\nexports.Rsa = Rsa;\r\nconst ECDsa = useWebCrypto ? webECDsa_1.WebECDsa : require('./node/nodeECDsa').NodeECDsa;\r\nexports.ECDsa = ECDsa;\r\nconst Encryption = useWebCrypto\r\n    ? webEncryption_1.WebEncryption\r\n    : require('./node/nodeEncryption').NodeEncryption;\r\nexports.Encryption = Encryption;\r\nconst Hmac = useWebCrypto ? webHmac_1.WebHmac : require('./node/nodeHmac').NodeHmac;\r\n// eslint-disable-next-line no-redeclare\r\nconst Random = useWebCrypto ? webRandom_1.WebRandom : require('./node/nodeRandom').NodeRandom;\r\nclass SshAlgorithms {\r\n}\r\nexports.SshAlgorithms = SshAlgorithms;\r\nSshAlgorithms.keyExchange = {\r\n    none: null,\r\n    dhGroup14Sha256: new DiffieHellman('diffie-hellman-group14-sha256', 2048, 'SHA2-256'),\r\n    dhGroup16Sha512: new DiffieHellman('diffie-hellman-group16-sha512', 4096, 'SHA2-512'),\r\n    ecdhNistp256Sha256: new ECDiffieHellman('ecdh-sha2-nistp256', 256, 'SHA2-256'),\r\n    ecdhNistp384Sha384: new ECDiffieHellman('ecdh-sha2-nistp384', 384, 'SHA2-384'),\r\n    ecdhNistp521Sha512: new ECDiffieHellman('ecdh-sha2-nistp521', 521, 'SHA2-512'),\r\n};\r\nSshAlgorithms.publicKey = {\r\n    none: null,\r\n    rsaWithSha256: new Rsa('rsa-sha2-256', 'SHA2-256'),\r\n    rsaWithSha512: new Rsa('rsa-sha2-512', 'SHA2-512'),\r\n    ecdsaSha2Nistp256: new ECDsa('ecdsa-sha2-nistp256', 'SHA2-256'),\r\n    ecdsaSha2Nistp384: new ECDsa('ecdsa-sha2-nistp384', 'SHA2-384'),\r\n    ecdsaSha2Nistp521: new ECDsa('ecdsa-sha2-nistp521', 'SHA2-512'),\r\n};\r\nSshAlgorithms.encryption = {\r\n    none: null,\r\n    ////aes256Cbc: new Encryption('aes256-cbc', 'AES', 'CBC', 256) },\r\n    aes256Ctr: new Encryption('aes256-ctr', 'AES', 'CTR', 256),\r\n    aes256Gcm: new Encryption('aes256-gcm@openssh.com', 'AES', 'GCM', 256),\r\n};\r\nSshAlgorithms.hmac = {\r\n    none: null,\r\n    hmacSha256: new Hmac('hmac-sha2-256', 'SHA2-256'),\r\n    hmacSha512: new Hmac('hmac-sha2-512', 'SHA2-512'),\r\n    hmacSha256Etm: new Hmac('hmac-sha2-256-etm@openssh.com', 'SHA2-256', true),\r\n    hmacSha512Etm: new Hmac('hmac-sha2-512-etm@openssh.com', 'SHA2-512', true),\r\n};\r\nSshAlgorithms.compression = {\r\n    none: null,\r\n};\r\nSshAlgorithms.random = new Random();\r\nfunction algorithmNames(list) {\r\n    return list.map((a) => (a ? a.name : 'none'));\r\n}\r\nexports.algorithmNames = algorithmNames;\r\n//# sourceMappingURL=sshAlgorithms.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.JsonWebKeyFormatter = void 0;\r\nconst bigInt_1 = require(\"../../io/bigInt\");\r\nconst ecdsaCurves_1 = require(\"../ecdsaCurves\");\r\n/**\r\n * Provides *minimal* JWK import/export support for web keys.\r\n *\r\n * This code is redundant with some of the JWK import/export code in the separate\r\n * `ssh-keys` library; that is intentional, and necessary to support a consistent\r\n * interface for importing/exporting key parameters in the core `ssh` library.\r\n */\r\nclass JsonWebKeyFormatter {\r\n    static formatRsa(rsa, includePrivate) {\r\n        const formatBigInt = JsonWebKeyFormatter.formatBigInt;\r\n        let jwk;\r\n        if (includePrivate !== false && rsa.d && rsa.p && rsa.q && rsa.dp && rsa.dq && rsa.qi) {\r\n            jwk = {\r\n                kty: 'RSA',\r\n                n: formatBigInt(rsa.modulus),\r\n                e: formatBigInt(rsa.exponent),\r\n                d: formatBigInt(rsa.d),\r\n                p: formatBigInt(rsa.p),\r\n                q: formatBigInt(rsa.q),\r\n                dp: formatBigInt(rsa.dp),\r\n                dq: formatBigInt(rsa.dq),\r\n                qi: formatBigInt(rsa.qi),\r\n            };\r\n        }\r\n        else if (!includePrivate) {\r\n            jwk = {\r\n                kty: 'RSA',\r\n                n: formatBigInt(rsa.modulus),\r\n                e: formatBigInt(rsa.exponent),\r\n            };\r\n        }\r\n        else {\r\n            throw new Error('Missing private key parameters.');\r\n        }\r\n        return jwk;\r\n    }\r\n    static parseRsa(jwk, includePrivate) {\r\n        if ((jwk === null || jwk === void 0 ? void 0 : jwk.kty) !== 'RSA' || !(jwk.n && jwk.e))\r\n            throw new Error('Invalid RSA JWK.');\r\n        const parseBigInt = JsonWebKeyFormatter.parseBigInt;\r\n        let rsa;\r\n        if (includePrivate !== false && jwk.d && jwk.p && jwk.q && jwk.dp && jwk.dq && jwk.qi) {\r\n            rsa = {\r\n                modulus: parseBigInt(jwk.n),\r\n                exponent: parseBigInt(jwk.e),\r\n                d: parseBigInt(jwk.d),\r\n                p: parseBigInt(jwk.p),\r\n                q: parseBigInt(jwk.q),\r\n                dp: parseBigInt(jwk.dp),\r\n                dq: parseBigInt(jwk.dq),\r\n                qi: parseBigInt(jwk.qi),\r\n            };\r\n        }\r\n        else {\r\n            rsa = {\r\n                modulus: parseBigInt(jwk.n),\r\n                exponent: parseBigInt(jwk.e),\r\n            };\r\n        }\r\n        return rsa;\r\n    }\r\n    static formatEC(ec, includePrivate) {\r\n        const formatBigInt = JsonWebKeyFormatter.formatBigInt;\r\n        const curve = ecdsaCurves_1.curves.find((c) => c.oid === ec.curve.oid || c.name === ec.curve.name || c.shortName === ec.curve.name);\r\n        const keySizeInBytes = Math.ceil(curve.keySize / 8);\r\n        const jwk = {\r\n            kty: 'EC',\r\n            crv: ec.curve.name,\r\n            x: formatBigInt(ec.x, keySizeInBytes),\r\n            y: formatBigInt(ec.y, keySizeInBytes),\r\n        };\r\n        if (includePrivate !== false && ec.d) {\r\n            jwk.d = formatBigInt(ec.d, keySizeInBytes);\r\n        }\r\n        else if (includePrivate) {\r\n            throw new Error('Missing private key parameters.');\r\n        }\r\n        return jwk;\r\n    }\r\n    static parseEC(jwk, includePrivate) {\r\n        if ((jwk === null || jwk === void 0 ? void 0 : jwk.kty) !== 'EC' || !(jwk.crv && jwk.x && jwk.y))\r\n            throw new Error('Invalid EC JWK.');\r\n        const parseBigInt = JsonWebKeyFormatter.parseBigInt;\r\n        const ec = {\r\n            curve: { name: jwk.crv },\r\n            x: parseBigInt(jwk.x),\r\n            y: parseBigInt(jwk.y),\r\n        };\r\n        if (includePrivate !== false && jwk.d) {\r\n            ec.d = parseBigInt(jwk.d);\r\n        }\r\n        return ec;\r\n    }\r\n    static formatBigInt(value, length) {\r\n        return JsonWebKeyFormatter.base64UrlEncode(value.toBytes({ unsigned: true, length }));\r\n    }\r\n    static parseBigInt(value) {\r\n        return bigInt_1.BigInt.fromBytes(Buffer.from(value, 'base64'), { unsigned: true });\r\n    }\r\n    static base64UrlEncode(data) {\r\n        // JWK format uses base64-url-encoding, which is base64 but with 2 substituted characters.\r\n        // (Note Buffer's base64 DECODING implicitly supports this format.)\r\n        return data\r\n            .toString('base64')\r\n            .replace(/=+$/g, '')\r\n            .replace(/\\+/g, '-')\r\n            .replace(/\\//g, '_');\r\n    }\r\n}\r\nexports.JsonWebKeyFormatter = JsonWebKeyFormatter;\r\n//# sourceMappingURL=jsonWebKeyFormatter.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WebECDsa = void 0;\r\nconst buffer_1 = require(\"buffer\");\r\nconst publicKeyAlgorithm_1 = require(\"../publicKeyAlgorithm\");\r\nconst sshData_1 = require(\"../../io/sshData\");\r\nconst ecdsaCurves_1 = require(\"../ecdsaCurves\");\r\nconst bigInt_1 = require(\"../../io/bigInt\");\r\nconst jsonWebKeyFormatter_1 = require(\"./jsonWebKeyFormatter\");\r\nclass WebECDsaKeyPair {\r\n    /**\r\n     * Constructs a new ECDSA key pair object.\r\n     *\r\n     * @param algorithmName Key pair algorithm name. If unspecified, the key pair object must be\r\n     * initialized before use via `importParameters()`.\r\n     */\r\n    constructor(algorithmName) {\r\n        this.comment = null;\r\n        if (algorithmName) {\r\n            this.algorithmName = algorithmName;\r\n        }\r\n    }\r\n    get hasPublicKey() {\r\n        return !!this.publicKey;\r\n    }\r\n    get hasPrivateKey() {\r\n        return !!this.privateKey;\r\n    }\r\n    get keyAlgorithmName() {\r\n        return this.algorithmName;\r\n    }\r\n    get algorithmName() {\r\n        return this.algorithm;\r\n    }\r\n    set algorithmName(value) {\r\n        const curveName = value.split('-')[2];\r\n        this.curve = ecdsaCurves_1.curves.find((c) => c.name === curveName);\r\n        if (!this.curve) {\r\n            throw new Error('Invalid or unsupported ECDSA algorithm: ' + value);\r\n        }\r\n        this.algorithm = value;\r\n    }\r\n    async generate() {\r\n        try {\r\n            const keyGenParams = {\r\n                name: 'ECDSA',\r\n                namedCurve: this.curve.shortName,\r\n            };\r\n            const keyPair = (await crypto.subtle.generateKey(keyGenParams, true, ['sign', 'verify']));\r\n            this.publicKey = keyPair.publicKey;\r\n            this.privateKey = keyPair.privateKey;\r\n        }\r\n        catch (e) {\r\n            throw new Error('Failed to generate RSA key pair: ' + e);\r\n        }\r\n    }\r\n    async setPublicKeyBytes(keyBytes, algorithmName) {\r\n        if (!keyBytes) {\r\n            throw new TypeError('Buffer is required.');\r\n        }\r\n        // Read public key in SSH format.\r\n        const reader = new sshData_1.SshDataReader(keyBytes);\r\n        const readAlgorithmName = reader.readString('ascii');\r\n        this.algorithmName = algorithmName || readAlgorithmName;\r\n        const curveName = reader.readString('ascii');\r\n        if (curveName !== this.curve.name) {\r\n            throw new Error('EC curve name does not match.');\r\n        }\r\n        // X and Y parameters are equal length, after a one-byte header.\r\n        const key = reader.readBinary();\r\n        const n = Math.ceil(this.curve.keySize / 8);\r\n        const x = bigInt_1.BigInt.fromBytes(key.slice(1, 1 + n), { unsigned: true });\r\n        const y = bigInt_1.BigInt.fromBytes(key.slice(1 + n, key.length), { unsigned: true });\r\n        const jwk = jsonWebKeyFormatter_1.JsonWebKeyFormatter.formatEC({\r\n            curve: { name: this.curve.shortName, oid: this.curve.oid },\r\n            x,\r\n            y,\r\n        });\r\n        try {\r\n            const importParams = {\r\n                name: 'ECDSA',\r\n                namedCurve: this.curve.shortName,\r\n            };\r\n            this.publicKey = await crypto.subtle.importKey('jwk', jwk, importParams, true, ['verify']);\r\n        }\r\n        catch (e) {\r\n            throw new Error('Failed to import EC public key: ' + e);\r\n        }\r\n    }\r\n    async getPublicKeyBytes(algorithmName) {\r\n        if (!this.publicKey) {\r\n            return null;\r\n        }\r\n        // Export public key in JWK format.\r\n        let jwk;\r\n        try {\r\n            jwk = await crypto.subtle.exportKey('jwk', this.publicKey);\r\n        }\r\n        catch (e) {\r\n            throw new Error('Failed to export ECDSA public key: ' + e);\r\n        }\r\n        const x = buffer_1.Buffer.from(jwk.x, 'base64');\r\n        const y = buffer_1.Buffer.from(jwk.y, 'base64');\r\n        const n = Math.ceil(this.curve.keySize / 8);\r\n        if (x.length !== n || y.length !== n) {\r\n            throw new Error('Unexpected key length.');\r\n        }\r\n        // Write public key in SSH format.\r\n        algorithmName = algorithmName || this.algorithmName || this.keyAlgorithmName;\r\n        const keyBuffer = buffer_1.Buffer.alloc(algorithmName.length + x.length + y.length + 10);\r\n        const keyWriter = new sshData_1.SshDataWriter(keyBuffer);\r\n        keyWriter.writeString(algorithmName, 'ascii');\r\n        keyWriter.writeString(this.curve.name, 'ascii');\r\n        keyWriter.writeUInt32(1 + x.length + y.length);\r\n        keyWriter.writeByte(4); // Indicates uncompressed curve format\r\n        keyWriter.write(x);\r\n        keyWriter.write(y);\r\n        const keyBytes = keyWriter.toBuffer();\r\n        return keyBytes;\r\n    }\r\n    async importParameters(parameters) {\r\n        if (!parameters.curve)\r\n            throw new TypeError('A curve is required.');\r\n        let curve;\r\n        if (parameters.curve.oid) {\r\n            curve = ecdsaCurves_1.curves.find((c) => c.oid === parameters.curve.oid);\r\n            if (!curve) {\r\n                throw new Error(`Unsupported curve OID: ${parameters.curve.oid}`);\r\n            }\r\n        }\r\n        else if (parameters.curve.name) {\r\n            curve = ecdsaCurves_1.curves.find((c) => c.name === parameters.curve.name);\r\n            if (!curve) {\r\n                throw new Error(`Unsupported curve: ${parameters.curve.name}`);\r\n            }\r\n        }\r\n        else {\r\n            throw new TypeError('A curve OID or name is required.');\r\n        }\r\n        this.algorithmName = 'ecdsa-sha2-' + curve.name;\r\n        const importParams = {\r\n            name: 'ECDSA',\r\n            namedCurve: this.curve.shortName,\r\n        };\r\n        const jwk = jsonWebKeyFormatter_1.JsonWebKeyFormatter.formatEC(parameters);\r\n        jwk.crv = this.curve.shortName;\r\n        try {\r\n            if (jwk.d) {\r\n                this.privateKey = await crypto.subtle.importKey('jwk', jwk, importParams, true, [\r\n                    'sign',\r\n                ]);\r\n                jwk.d = undefined;\r\n            }\r\n            else {\r\n                this.privateKey = undefined;\r\n            }\r\n            this.publicKey = await crypto.subtle.importKey('jwk', jwk, importParams, true, ['verify']);\r\n        }\r\n        catch (e) {\r\n            throw new Error('Failed to import ECDSA key pair: ' + e);\r\n        }\r\n    }\r\n    async exportParameters() {\r\n        var _a;\r\n        const exportKey = (_a = this.privateKey) !== null && _a !== void 0 ? _a : this.publicKey;\r\n        if (!exportKey) {\r\n            throw new Error('Key not present.');\r\n        }\r\n        let jwk;\r\n        try {\r\n            jwk = await crypto.subtle.exportKey('jwk', exportKey);\r\n        }\r\n        catch (e) {\r\n            throw new Error('Failed to export ECDSA key pair: ' + e);\r\n        }\r\n        const parameters = jsonWebKeyFormatter_1.JsonWebKeyFormatter.parseEC(jwk);\r\n        parameters.curve = { name: this.curve.name, oid: this.curve.oid };\r\n        return parameters;\r\n    }\r\n    dispose() { }\r\n}\r\nclass WebECDsa extends publicKeyAlgorithm_1.PublicKeyAlgorithm {\r\n    constructor(name, hashAlgorithmName) {\r\n        super(name, name, hashAlgorithmName);\r\n    }\r\n    createKeyPair() {\r\n        return new WebECDsaKeyPair(this.name);\r\n    }\r\n    async generateKeyPair() {\r\n        const ecdsaKey = new WebECDsaKeyPair(this.name);\r\n        await ecdsaKey.generate();\r\n        return ecdsaKey;\r\n    }\r\n    createSigner(keyPair) {\r\n        if (!(keyPair instanceof WebECDsaKeyPair)) {\r\n            throw new TypeError('ECDSA key pair object expected.');\r\n        }\r\n        const hashAlgorithm = WebECDsa.convertHashAlgorithmName(this.hashAlgorithmName);\r\n        return new WebECDsaSignerVerifier(keyPair, hashAlgorithm);\r\n    }\r\n    createVerifier(keyPair) {\r\n        if (!(keyPair instanceof WebECDsaKeyPair)) {\r\n            throw new TypeError('ECDSA key pair object expected.');\r\n        }\r\n        const hashAlgorithm = WebECDsa.convertHashAlgorithmName(this.hashAlgorithmName);\r\n        return new WebECDsaSignerVerifier(keyPair, hashAlgorithm);\r\n    }\r\n    static convertHashAlgorithmName(hashAlgorithmName) {\r\n        return hashAlgorithmName.replace('SHA2-', 'SHA-');\r\n    }\r\n    /* @internal */\r\n    static getSignatureLength(keySizeInBits) {\r\n        // The signature is double the key size, but formatted as 2 bigints.\r\n        // To each bigint add 4 for the length and 1 for a leading zero.\r\n        const keySizeInBytes = Math.ceil(keySizeInBits / 8);\r\n        return (4 + 1 + keySizeInBytes) * 2;\r\n    }\r\n}\r\nexports.WebECDsa = WebECDsa;\r\nWebECDsa.ecdsaSha2Nistp256 = 'ecdsa-sha2-nistp256';\r\nWebECDsa.ecdsaSha2Nistp384 = 'ecdsa-sha2-nistp384';\r\nWebECDsa.ecdsaSha2Nistp521 = 'ecdsa-sha2-nistp521';\r\nWebECDsa.curves = ecdsaCurves_1.curves;\r\nWebECDsa.KeyPair = WebECDsaKeyPair;\r\nclass WebECDsaSignerVerifier {\r\n    constructor(keyPair, hashAlgorithm) {\r\n        this.keyPair = keyPair;\r\n        this.hashAlgorithm = hashAlgorithm;\r\n    }\r\n    get digestLength() {\r\n        const curve = this.keyPair.curve;\r\n        if (!curve) {\r\n            return 0;\r\n        }\r\n        else {\r\n            return WebECDsa.getSignatureLength(curve.keySize);\r\n        }\r\n    }\r\n    async sign(data) {\r\n        if (!this.keyPair.privateKey) {\r\n            throw new Error('Private key not set.');\r\n        }\r\n        let signature = buffer_1.Buffer.from(await crypto.subtle.sign({ name: 'ECDSA', hash: { name: this.hashAlgorithm } }, this.keyPair.privateKey, data));\r\n        const keySizeInBytes = Math.ceil(this.keyPair.curve.keySize / 8);\r\n        if (signature.length !== 2 * keySizeInBytes) {\r\n            throw new Error(`Unexpected signature length: ${signature.length}`);\r\n        }\r\n        // Reformat the signature integer bytes as required by SSH.\r\n        const x = bigInt_1.BigInt.fromBytes(signature.slice(0, keySizeInBytes), { unsigned: true });\r\n        const y = bigInt_1.BigInt.fromBytes(signature.slice(keySizeInBytes, signature.length), {\r\n            unsigned: true,\r\n        });\r\n        const signatureWriter = new sshData_1.SshDataWriter(buffer_1.Buffer.alloc(this.digestLength));\r\n        signatureWriter.writeBinary(x.toBytes({ unsigned: true, length: keySizeInBytes + 1 }));\r\n        signatureWriter.writeBinary(y.toBytes({ unsigned: true, length: keySizeInBytes + 1 }));\r\n        signature = signatureWriter.toBuffer();\r\n        return signature;\r\n    }\r\n    async verify(data, signature) {\r\n        if (!this.keyPair.publicKey) {\r\n            throw new Error('Public key not set.');\r\n        }\r\n        // Reformat the signature integer bytes as required by the web crypto API.\r\n        const signatureReader = new sshData_1.SshDataReader(signature);\r\n        const x = signatureReader.readBigInt();\r\n        const y = signatureReader.readBigInt();\r\n        const keySizeInBytes = Math.ceil(this.keyPair.curve.keySize / 8);\r\n        signature = buffer_1.Buffer.alloc(2 * keySizeInBytes);\r\n        x.toBytes({ unsigned: true, length: keySizeInBytes }).copy(signature, 0);\r\n        y.toBytes({ unsigned: true, length: keySizeInBytes }).copy(signature, keySizeInBytes);\r\n        const result = await crypto.subtle.verify({ name: 'ECDSA', hash: { name: this.hashAlgorithm } }, this.keyPair.publicKey, signature, data);\r\n        return result;\r\n    }\r\n    dispose() { }\r\n}\r\n//# sourceMappingURL=webECDsa.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WebEncryption = void 0;\r\nconst buffer_1 = require(\"buffer\");\r\nconst encryptionAlgorithm_1 = require(\"../encryptionAlgorithm\");\r\nclass WebEncryption extends encryptionAlgorithm_1.EncryptionAlgorithm {\r\n    constructor(name, algorithmName, cipherMode, keySizeInBits) {\r\n        super(name);\r\n        this.algorithmName = algorithmName;\r\n        this.cipherMode = cipherMode;\r\n        this.keySizeInBits = keySizeInBits;\r\n        this.blockSizeInBits = WebEncryption.getBlockSize(algorithmName);\r\n    }\r\n    get keyLength() {\r\n        return this.keySizeInBits / 8;\r\n    }\r\n    get blockLength() {\r\n        return this.blockSizeInBits / 8;\r\n    }\r\n    async createCipher(isEncryption, key, iv) {\r\n        const cipher = new WebCipher(isEncryption, this.algorithmName, this.cipherMode, this.keySizeInBits, this.blockSizeInBits);\r\n        await cipher.init(key, iv);\r\n        return cipher;\r\n    }\r\n    static getBlockSize(algorithmName) {\r\n        if (algorithmName === 'AES') {\r\n            return 128;\r\n        }\r\n        else {\r\n            throw new Error(`Unsupported encryption algorithm: ${algorithmName}`);\r\n        }\r\n    }\r\n}\r\nexports.WebEncryption = WebEncryption;\r\nclass WebCipher {\r\n    get blockLength() {\r\n        return this.blockSizeInBits / 8;\r\n    }\r\n    constructor(isEncryption, algorithmName, cipherMode, keySizeInBits, blockSizeInBits) {\r\n        this.isEncryption = isEncryption;\r\n        this.algorithmName = algorithmName;\r\n        this.cipherMode = cipherMode;\r\n        this.keySizeInBits = keySizeInBits;\r\n        this.blockSizeInBits = blockSizeInBits;\r\n        this.tag = null;\r\n        if (this.algorithmName === 'AES' && this.cipherMode === 'CTR') {\r\n            this.transform = this.aesCtr.bind(this, isEncryption);\r\n        }\r\n        else if (this.algorithmName === 'AES' && this.cipherMode === 'CBC') {\r\n            this.transform = this.aesCbc.bind(this, isEncryption);\r\n        }\r\n        else if (this.algorithmName === 'AES' && this.cipherMode === 'GCM') {\r\n            this.transform = this.aesGcm.bind(this, isEncryption);\r\n            this.associatedData = buffer_1.Buffer.alloc(4);\r\n            this.decryptBuffer = buffer_1.Buffer.alloc(this.blockLength * 4);\r\n        }\r\n        else {\r\n            throw new Error(`Unsupported encryption algorithm: ${this.algorithmName}-${this.cipherMode}`);\r\n        }\r\n    }\r\n    async init(key, iv) {\r\n        try {\r\n            const name = `${this.algorithmName}-${this.cipherMode}`;\r\n            this.key = await crypto.subtle.importKey('raw', key, { name, length: this.keySizeInBits }, false, this.isEncryption ? ['encrypt'] : ['decrypt']);\r\n        }\r\n        catch (e) {\r\n            throw new Error('Failed to initialize AES: ' + e);\r\n        }\r\n        if (this.cipherMode === 'GCM') {\r\n            this.iv = buffer_1.Buffer.from(iv.slice(0, 12));\r\n        }\r\n        else {\r\n            this.iv = buffer_1.Buffer.from(iv);\r\n        }\r\n    }\r\n    async aesCtr(isEncryption, data) {\r\n        if (data.length % this.blockLength !== 0) {\r\n            const message = 'Encrypt/decrypt input has invalid length ' +\r\n                `${data.length}, not a multiple of block size ${this.blockLength}.`;\r\n            throw new Error(message);\r\n        }\r\n        let result;\r\n        if (isEncryption) {\r\n            result = buffer_1.Buffer.from(await crypto.subtle.encrypt({ name: 'AES-CTR', counter: this.iv, length: this.blockSizeInBits }, this.key, data));\r\n        }\r\n        else {\r\n            result = buffer_1.Buffer.from(await crypto.subtle.decrypt({ name: 'AES-CTR', counter: this.iv, length: this.blockSizeInBits }, this.key, data));\r\n        }\r\n        if (result.length !== data.length) {\r\n            const message = 'Result from encrypt/decrypt has invalid length ' +\r\n                `${result.length}, expected ${data.length}.`;\r\n            throw new Error(message);\r\n        }\r\n        // A single call to encrypt() or decrypt() internally increments the counter.\r\n        // This code ensures those increments get preserved across multiple calls.\r\n        const incrementCount = data.length / this.blockLength;\r\n        for (let i = 0; i < incrementCount; i++) {\r\n            // Increment the counter that is combined with the IV as a big-endian integer.\r\n            // First increment the last byte, and if it reaches 0 then increment the\r\n            // next-to-last byte, and so on.\r\n            for (let k = this.iv.length - 1; k >= 0; k--) {\r\n                this.iv[k] = this.iv[k] + 1;\r\n                if (this.iv[k])\r\n                    break;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    async aesCbc(isEncryption, data) {\r\n        // TODO: Fix padding. Web crypto's AES-CBC uses padding by default,\r\n        // which isn't compatible with SSH.\r\n        if (isEncryption) {\r\n            let result = buffer_1.Buffer.from(await crypto.subtle.encrypt({ name: 'AES-CBC', iv: this.iv }, this.key, data));\r\n            result = result.slice(0, data.length);\r\n            return result;\r\n        }\r\n        else {\r\n            return buffer_1.Buffer.from(await crypto.subtle.decrypt({ name: 'AES-CBC', iv: this.iv }, this.key, data));\r\n        }\r\n    }\r\n    async aesGcm(isEncryption, data) {\r\n        if (data.length % this.blockLength !== 0) {\r\n            const message = 'Encrypt/decrypt input has invalid length ' +\r\n                `${data.length}, not a multiple of block size ${this.blockLength}.`;\r\n            throw new Error(message);\r\n        }\r\n        // Associated data is the 32-bit packet length.\r\n        const packetLength = data.length;\r\n        this.associatedData[0] = packetLength >>> 24;\r\n        this.associatedData[1] = packetLength >>> 16;\r\n        this.associatedData[2] = packetLength >>> 8;\r\n        this.associatedData[3] = packetLength;\r\n        let result;\r\n        if (isEncryption) {\r\n            result = buffer_1.Buffer.from(await crypto.subtle.encrypt({\r\n                name: 'AES-GCM',\r\n                iv: this.iv,\r\n                additionalData: this.associatedData,\r\n                tagLength: this.digestLength * 8, // tagLength is in bits, not bytes\r\n            }, this.key, data));\r\n            this.tag = result.slice(result.length - this.digestLength);\r\n            result = result.slice(0, result.length - this.digestLength);\r\n        }\r\n        else {\r\n            if (!this.tag) {\r\n                throw new Error('AES-GCM tag was not set before decrypting.');\r\n            }\r\n            // The AES-GCM decrypt API expects the ciphertext and tag to be in a contiguous buffer.\r\n            // Re-use a temporary buffer for that purpose, expanding it as needed.\r\n            const inputLength = data.length + this.digestLength;\r\n            if (this.decryptBuffer.length < inputLength) {\r\n                let newLength = this.decryptBuffer.length * 2;\r\n                while (newLength < inputLength)\r\n                    newLength *= 2;\r\n                this.decryptBuffer = buffer_1.Buffer.alloc(newLength);\r\n            }\r\n            const input = this.decryptBuffer.slice(0, inputLength);\r\n            data.copy(input, 0);\r\n            this.tag.copy(input, data.length);\r\n            result = buffer_1.Buffer.from(await crypto.subtle.decrypt({\r\n                name: 'AES-GCM',\r\n                iv: this.iv,\r\n                additionalData: this.associatedData,\r\n                tagLength: this.digestLength * 8, // tagLength is in bits, not bytes\r\n            }, this.key, input));\r\n        }\r\n        if (result.length !== data.length) {\r\n            const message = 'Result from encrypt/decrypt has invalid length ' +\r\n                `${result.length}, expected ${data.length}.`;\r\n            throw new Error(message);\r\n        }\r\n        // Increment the counter (last 8 bytes of the iv/nonce) as a big-endian integer.\r\n        // First increment the last byte, and if it reaches 0 then increment the\r\n        // next-to-last byte, and so on.\r\n        let k = 12;\r\n        while (--k >= 4) {\r\n            this.iv[k]++;\r\n            if (this.iv[k] !== 0) {\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    get digestLength() {\r\n        return 16;\r\n    }\r\n    get authenticatedEncryption() {\r\n        return this.cipherMode === 'GCM';\r\n    }\r\n    async sign(data) {\r\n        if (!this.tag) {\r\n            throw new Error('AES-GCM tag was not obtained by encrypting.');\r\n        }\r\n        return this.tag;\r\n    }\r\n    async verify(data, signature) {\r\n        if (signature.length !== this.digestLength) {\r\n            throw new Error('Incorrect AES-GCM tag length.');\r\n        }\r\n        this.tag = signature;\r\n        return true;\r\n    }\r\n    dispose() { }\r\n}\r\n//# sourceMappingURL=webEncryption.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WebHmac = void 0;\r\nconst buffer_1 = require(\"buffer\");\r\nconst hmacAlgorithm_1 = require(\"../hmacAlgorithm\");\r\nclass WebHmac extends hmacAlgorithm_1.HmacAlgorithm {\r\n    constructor(name, algorithmName, encryptThenMac = false) {\r\n        super(name, algorithmName, WebHmac.getHashKeyLength(algorithmName), WebHmac.getHashDigestLength(algorithmName));\r\n        this.encryptThenMac = encryptThenMac;\r\n    }\r\n    async createSigner(key) {\r\n        const hmac = new WebSignerVerifier(this.algorithmName, true, this.digestLength, this.encryptThenMac);\r\n        await hmac.init(key);\r\n        return hmac;\r\n    }\r\n    async createVerifier(key) {\r\n        const hmac = new WebSignerVerifier(this.algorithmName, false, this.digestLength, this.encryptThenMac);\r\n        await hmac.init(key);\r\n        return hmac;\r\n    }\r\n    static getHashKeyLength(hashAlgorithmName) {\r\n        if (hashAlgorithmName === 'SHA2-512')\r\n            return 512 / 8;\r\n        if (hashAlgorithmName === 'SHA2-384')\r\n            return 384 / 8;\r\n        if (hashAlgorithmName === 'SHA2-256')\r\n            return 256 / 8;\r\n        throw new Error(`Unsupported hash algorithm: ${hashAlgorithmName}`);\r\n    }\r\n    static getHashDigestLength(hashAlgorithmName) {\r\n        return this.getHashKeyLength(hashAlgorithmName);\r\n    }\r\n    static getWebHashAlgorithmName(hashAlgorithmName) {\r\n        if (hashAlgorithmName === 'SHA2-512')\r\n            return 'SHA-512';\r\n        if (hashAlgorithmName === 'SHA2-384')\r\n            return 'SHA-384';\r\n        if (hashAlgorithmName === 'SHA2-256')\r\n            return 'SHA-256';\r\n        throw new Error(`Unsupported hash algorithm: ${hashAlgorithmName}`);\r\n    }\r\n}\r\nexports.WebHmac = WebHmac;\r\nclass WebSignerVerifier {\r\n    constructor(algorithmName, isSigning, digestLength, encryptThenMac) {\r\n        this.algorithmName = algorithmName;\r\n        this.isSigning = isSigning;\r\n        this.digestLength = digestLength;\r\n        this.encryptThenMac = encryptThenMac;\r\n    }\r\n    async init(key) {\r\n        try {\r\n            const name = this.algorithmName.replace('SHA2-', 'SHA-');\r\n            this.key = await crypto.subtle.importKey('raw', key, { name: 'HMAC', hash: { name } }, false, this.isSigning ? ['sign'] : ['verify']);\r\n        }\r\n        catch (e) {\r\n            throw new Error('Failed to initialize HMAC: ' + e);\r\n        }\r\n    }\r\n    async sign(data) {\r\n        return buffer_1.Buffer.from(await crypto.subtle.sign({ name: 'HMAC', hash: { name: this.algorithmName } }, this.key, data));\r\n    }\r\n    async verify(data, signature) {\r\n        return await crypto.subtle.verify({ name: 'HMAC', hash: { name: this.algorithmName } }, this.key, signature, data);\r\n    }\r\n    dispose() { }\r\n}\r\n//# sourceMappingURL=webHmac.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WebECDiffieHellman = exports.WebDiffieHellman = void 0;\r\nconst buffer_1 = require(\"buffer\");\r\nconst diffie_hellman_1 = require(\"diffie-hellman\");\r\nconst keyExchangeAlgorithm_1 = require(\"../keyExchangeAlgorithm\");\r\nconst webHmac_1 = require(\"./webHmac\");\r\nconst bigInt_1 = require(\"../../io/bigInt\");\r\nconst jsonWebKeyFormatter_1 = require(\"./jsonWebKeyFormatter\");\r\nclass WebDiffieHellman extends keyExchangeAlgorithm_1.KeyExchangeAlgorithm {\r\n    constructor(name, keySizeInBits, hashAlgorithmName) {\r\n        super(name, keySizeInBits, hashAlgorithmName, webHmac_1.WebHmac.getHashDigestLength(hashAlgorithmName));\r\n    }\r\n    createKeyExchange() {\r\n        return new WebDiffieHellmanKex(this.keySizeInBits, webHmac_1.WebHmac.getWebHashAlgorithmName(this.hashAlgorithmName), this.hashDigestLength);\r\n    }\r\n}\r\nexports.WebDiffieHellman = WebDiffieHellman;\r\nclass WebDiffieHellmanKex {\r\n    constructor(bitLength, hashAlgorithmName, digestLength) {\r\n        this.hashAlgorithmName = hashAlgorithmName;\r\n        this.digestLength = digestLength;\r\n        switch (bitLength) {\r\n            case 1024:\r\n                this.dh = (0, diffie_hellman_1.getDiffieHellman)('modp2');\r\n                break;\r\n            case 2048:\r\n                this.dh = (0, diffie_hellman_1.getDiffieHellman)('modp14');\r\n                break;\r\n            case 4096:\r\n                this.dh = (0, diffie_hellman_1.getDiffieHellman)('modp16');\r\n                break;\r\n            default:\r\n                throw new Error('Invalid DH bit length.');\r\n        }\r\n    }\r\n    startKeyExchange() {\r\n        const exchangeValueKeys = this.dh.generateKeys();\r\n        const exchangeValue = bigInt_1.BigInt.fromBytes(exchangeValueKeys, { unsigned: true }).toBytes();\r\n        return Promise.resolve(exchangeValue);\r\n    }\r\n    decryptKeyExchange(exchangeValue) {\r\n        const key = this.dh.computeSecret(exchangeValue);\r\n        const sharedSecret = bigInt_1.BigInt.fromBytes(key, { unsigned: true }).toBytes();\r\n        return Promise.resolve(sharedSecret);\r\n    }\r\n    async sign(data) {\r\n        const hashBuffer = await crypto.subtle.digest(this.hashAlgorithmName, data);\r\n        return buffer_1.Buffer.from(hashBuffer);\r\n    }\r\n    dispose() { }\r\n}\r\nclass WebECDiffieHellman extends keyExchangeAlgorithm_1.KeyExchangeAlgorithm {\r\n    constructor(name, keySizeInBits, hashAlgorithmName) {\r\n        super(name, keySizeInBits, hashAlgorithmName, webHmac_1.WebHmac.getHashDigestLength(hashAlgorithmName));\r\n    }\r\n    createKeyExchange() {\r\n        return new WebECDiffieHellmanKex(this.keySizeInBits, webHmac_1.WebHmac.getWebHashAlgorithmName(this.hashAlgorithmName), this.hashDigestLength);\r\n    }\r\n}\r\nexports.WebECDiffieHellman = WebECDiffieHellman;\r\nclass WebECDiffieHellmanKex {\r\n    constructor(bitLength, hashAlgorithmName, digestLength) {\r\n        this.bitLength = bitLength;\r\n        this.hashAlgorithmName = hashAlgorithmName;\r\n        this.digestLength = digestLength;\r\n        this.algorithm = {\r\n            name: 'ECDH',\r\n            namedCurve: 'P-' + bitLength,\r\n        };\r\n    }\r\n    async startKeyExchange() {\r\n        if (!this.keyPair) {\r\n            this.keyPair = await crypto.subtle.generateKey(this.algorithm, true, // exportable\r\n            ['deriveBits']);\r\n        }\r\n        const jwk = await crypto.subtle.exportKey('jwk', this.keyPair.publicKey);\r\n        const ec = jsonWebKeyFormatter_1.JsonWebKeyFormatter.parseEC(jwk);\r\n        const length = Math.ceil(this.bitLength / 8);\r\n        const publicKeyBytes = buffer_1.Buffer.alloc(1 + length * 2);\r\n        publicKeyBytes[0] = 4;\r\n        ec.x.toBytes({ unsigned: true, length }).copy(publicKeyBytes, 1);\r\n        ec.y.toBytes({ unsigned: true, length }).copy(publicKeyBytes, 1 + length);\r\n        return buffer_1.Buffer.from(publicKeyBytes);\r\n    }\r\n    async decryptKeyExchange(exchangeValue) {\r\n        if (!this.keyPair) {\r\n            throw new Error('Key exchange not started.');\r\n        }\r\n        const xy = exchangeValue;\r\n        const jwk = jsonWebKeyFormatter_1.JsonWebKeyFormatter.formatEC({\r\n            curve: { name: this.algorithm.namedCurve },\r\n            x: bigInt_1.BigInt.fromBytes(xy.slice(1, 1 + (xy.length - 1) / 2), { unsigned: true }),\r\n            y: bigInt_1.BigInt.fromBytes(xy.slice(1 + (xy.length - 1) / 2), { unsigned: true }),\r\n        });\r\n        const otherPublicKey = await crypto.subtle.importKey('jwk', jwk, this.algorithm, false, []);\r\n        const sharedSecretBytes = buffer_1.Buffer.from(await crypto.subtle.deriveBits(Object.assign(Object.assign({}, this.algorithm), { public: otherPublicKey }), this.keyPair.privateKey, Math.ceil(this.bitLength / 8) * 8));\r\n        const sharedSecret = bigInt_1.BigInt.fromBytes(sharedSecretBytes, { unsigned: true }).toBytes();\r\n        return sharedSecret;\r\n    }\r\n    async sign(data) {\r\n        const hashBuffer = await crypto.subtle.digest(this.hashAlgorithmName, data);\r\n        return buffer_1.Buffer.from(hashBuffer);\r\n    }\r\n    dispose() { }\r\n}\r\n//# sourceMappingURL=webKeyExchange.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WebRandom = void 0;\r\nclass WebRandom {\r\n    getBytes(buffer) {\r\n        crypto.getRandomValues(buffer);\r\n    }\r\n}\r\nexports.WebRandom = WebRandom;\r\n//# sourceMappingURL=webRandom.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WebRsa = void 0;\r\nconst buffer_1 = require(\"buffer\");\r\nconst publicKeyAlgorithm_1 = require(\"../publicKeyAlgorithm\");\r\nconst webHmac_1 = require(\"./webHmac\");\r\nconst sshData_1 = require(\"../../io/sshData\");\r\nconst jsonWebKeyFormatter_1 = require(\"./jsonWebKeyFormatter\");\r\n// Note this is exposed as an inner-class property below: `WebRsa.KeyPair`.\r\n// TypeScript requires that the class definition comes first.\r\nclass WebRsaKeyPair {\r\n    /* @internal */\r\n    constructor(hashAlgorithm) {\r\n        this.hashAlgorithm = hashAlgorithm;\r\n        this.comment = null;\r\n    }\r\n    get hasPublicKey() {\r\n        return !!this.publicKey;\r\n    }\r\n    get hasPrivateKey() {\r\n        return !!this.privateKey;\r\n    }\r\n    get keyAlgorithmName() {\r\n        return WebRsa.keyAlgorithmName;\r\n    }\r\n    async generate(keySizeInBits) {\r\n        keySizeInBits = keySizeInBits !== null && keySizeInBits !== void 0 ? keySizeInBits : WebRsaKeyPair.defaultKeySize;\r\n        try {\r\n            const keyGenParams = {\r\n                name: 'RSASSA-PKCS1-v1_5',\r\n                modulusLength: keySizeInBits,\r\n                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\r\n                hash: { name: this.hashAlgorithm },\r\n            };\r\n            const keyPair = (await crypto.subtle.generateKey(keyGenParams, true, ['sign', 'verify']));\r\n            this.publicKey = keyPair.publicKey;\r\n            this.privateKey = keyPair.privateKey;\r\n        }\r\n        catch (e) {\r\n            throw new Error('Failed to generate RSA key pair: ' + e);\r\n        }\r\n    }\r\n    async setPublicKeyBytes(keyBytes) {\r\n        if (!keyBytes) {\r\n            throw new TypeError('Buffer is required.');\r\n        }\r\n        // Read public key in SSH format.\r\n        const reader = new sshData_1.SshDataReader(keyBytes);\r\n        const algorithmName = reader.readString('ascii');\r\n        if (algorithmName !== this.keyAlgorithmName &&\r\n            algorithmName !== WebRsa.rsaWithSha256 &&\r\n            algorithmName !== WebRsa.rsaWithSha512) {\r\n            throw new Error(`Invalid RSA key algorithm: ${algorithmName}`);\r\n        }\r\n        const exponent = reader.readBigInt();\r\n        const modulus = reader.readBigInt();\r\n        // Import public key in JWK format.\r\n        const jwk = jsonWebKeyFormatter_1.JsonWebKeyFormatter.formatRsa({ modulus, exponent }, false);\r\n        jwk.alg = 'RS' + this.hashAlgorithm.replace('SHA-', '');\r\n        jwk.key_ops = ['verify'];\r\n        try {\r\n            const importParams = {\r\n                name: 'RSASSA-PKCS1-v1_5',\r\n                hash: { name: this.hashAlgorithm },\r\n            };\r\n            this.publicKey = await crypto.subtle.importKey('jwk', jwk, importParams, true, ['verify']);\r\n        }\r\n        catch (e) {\r\n            throw new Error('Failed to import RSA public key: ' + e);\r\n        }\r\n    }\r\n    async getPublicKeyBytes(algorithmName) {\r\n        if (!this.publicKey) {\r\n            return null;\r\n        }\r\n        if (!algorithmName) {\r\n            algorithmName = this.keyAlgorithmName;\r\n        }\r\n        // Export public key in JWK format.\r\n        let jwk;\r\n        try {\r\n            jwk = await crypto.subtle.exportKey('jwk', this.publicKey);\r\n        }\r\n        catch (e) {\r\n            throw new Error('Failed to export RSA public key: ' + e);\r\n        }\r\n        const { modulus, exponent } = jsonWebKeyFormatter_1.JsonWebKeyFormatter.parseRsa(jwk, false);\r\n        // Write public key in SSH format.\r\n        const keyBuffer = buffer_1.Buffer.alloc(512);\r\n        const keyWriter = new sshData_1.SshDataWriter(keyBuffer);\r\n        keyWriter.writeString(algorithmName, 'ascii');\r\n        keyWriter.writeBigInt(exponent);\r\n        keyWriter.writeBigInt(modulus);\r\n        const keyBytes = keyWriter.toBuffer();\r\n        return keyBytes;\r\n    }\r\n    async importParameters(parameters) {\r\n        const privateJwk = parameters.d ? jsonWebKeyFormatter_1.JsonWebKeyFormatter.formatRsa(parameters, true) : null;\r\n        const publicJwk = jsonWebKeyFormatter_1.JsonWebKeyFormatter.formatRsa(parameters, false);\r\n        const importParams = {\r\n            name: 'RSASSA-PKCS1-v1_5',\r\n            hash: { name: this.hashAlgorithm },\r\n        };\r\n        try {\r\n            this.publicKey = await crypto.subtle.importKey('jwk', publicJwk, importParams, true, [\r\n                'verify',\r\n            ]);\r\n            if (privateJwk) {\r\n                this.privateKey = await crypto.subtle.importKey('jwk', privateJwk, importParams, true, [\r\n                    'sign',\r\n                ]);\r\n            }\r\n            else {\r\n                this.privateKey = undefined;\r\n            }\r\n        }\r\n        catch (e) {\r\n            if (!(e instanceof Error))\r\n                throw e;\r\n            throw new Error('Failed to import RSA key pair: ' + e.message);\r\n        }\r\n    }\r\n    async exportParameters() {\r\n        var _a;\r\n        if (!this.publicKey)\r\n            throw new Error('Public key not set.');\r\n        let jwk;\r\n        try {\r\n            jwk = await crypto.subtle.exportKey('jwk', (_a = this.privateKey) !== null && _a !== void 0 ? _a : this.publicKey);\r\n        }\r\n        catch (e) {\r\n            if (!(e instanceof Error))\r\n                throw e;\r\n            throw new Error('Failed to export RSA public key: ' + e.message);\r\n        }\r\n        return jsonWebKeyFormatter_1.JsonWebKeyFormatter.parseRsa(jwk, !!this.privateKey);\r\n    }\r\n    dispose() { }\r\n}\r\nWebRsaKeyPair.defaultKeySize = 2048;\r\nclass WebRsa extends publicKeyAlgorithm_1.PublicKeyAlgorithm {\r\n    constructor(name, hashAlgorithmName) {\r\n        super(name, WebRsa.keyAlgorithmName, hashAlgorithmName);\r\n    }\r\n    createKeyPair() {\r\n        const hashAlgorithm = WebRsa.convertHashAlgorithmName(this.hashAlgorithmName);\r\n        return new WebRsaKeyPair(hashAlgorithm);\r\n    }\r\n    async generateKeyPair(keySizeInBits) {\r\n        const hashAlgorithm = WebRsa.convertHashAlgorithmName(this.hashAlgorithmName);\r\n        const rsaKey = new WebRsaKeyPair(hashAlgorithm);\r\n        await rsaKey.generate(keySizeInBits);\r\n        return rsaKey;\r\n    }\r\n    createSigner(keyPair) {\r\n        if (!(keyPair instanceof WebRsaKeyPair)) {\r\n            throw new TypeError('RSA key pair object expected.');\r\n        }\r\n        const hashAlgorithm = WebRsa.convertHashAlgorithmName(this.hashAlgorithmName);\r\n        return new WebRsaSignerVerifier(keyPair, hashAlgorithm, webHmac_1.WebHmac.getHashDigestLength(this.hashAlgorithmName));\r\n    }\r\n    createVerifier(keyPair) {\r\n        if (!(keyPair instanceof WebRsaKeyPair)) {\r\n            throw new TypeError('RSA key pair object expected.');\r\n        }\r\n        const hashAlgorithm = WebRsa.convertHashAlgorithmName(this.hashAlgorithmName);\r\n        return new WebRsaSignerVerifier(keyPair, hashAlgorithm, webHmac_1.WebHmac.getHashDigestLength(this.hashAlgorithmName));\r\n    }\r\n    static convertHashAlgorithmName(hashAlgorithmName) {\r\n        return hashAlgorithmName.replace('SHA2-', 'SHA-');\r\n    }\r\n}\r\nexports.WebRsa = WebRsa;\r\nWebRsa.keyAlgorithmName = 'ssh-rsa';\r\nWebRsa.rsaWithSha256 = 'rsa-sha2-256';\r\nWebRsa.rsaWithSha512 = 'rsa-sha2-512';\r\nWebRsa.KeyPair = WebRsaKeyPair;\r\nclass WebRsaSignerVerifier {\r\n    constructor(keyPair, hashAlgorithm, digestLength) {\r\n        this.keyPair = keyPair;\r\n        this.hashAlgorithm = hashAlgorithm;\r\n        this.digestLength = digestLength;\r\n    }\r\n    async sign(data) {\r\n        if (!this.keyPair.privateKey) {\r\n            throw new Error('Private key not set.');\r\n        }\r\n        await this.convertKeyHashAlgorithm();\r\n        const signature = buffer_1.Buffer.from(await crypto.subtle.sign('RSASSA-PKCS1-v1_5', this.keyPair.privateKey, data));\r\n        return signature;\r\n    }\r\n    async verify(data, signature) {\r\n        if (!this.keyPair.publicKey) {\r\n            throw new Error('Public key not set.');\r\n        }\r\n        await this.convertKeyHashAlgorithm();\r\n        const result = await crypto.subtle.verify('RSASSA-PKCS1-v1_5', this.keyPair.publicKey, signature, data);\r\n        return result;\r\n    }\r\n    async convertKeyHashAlgorithm() {\r\n        if (this.keyPair.hashAlgorithm !== this.hashAlgorithm) {\r\n            const parameters = await this.keyPair.exportParameters();\r\n            this.keyPair = new WebRsaKeyPair(this.hashAlgorithm);\r\n            await this.keyPair.importParameters(parameters);\r\n        }\r\n    }\r\n    dispose() { }\r\n}\r\n//# sourceMappingURL=webRsa.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ObjectDisposedError = exports.SshChannelError = exports.SshReconnectError = exports.SshConnectionError = void 0;\r\nclass SshConnectionError extends Error {\r\n    constructor(message, reason) {\r\n        super(message);\r\n        this.reason = reason;\r\n    }\r\n}\r\nexports.SshConnectionError = SshConnectionError;\r\nclass SshReconnectError extends Error {\r\n    constructor(message, reason) {\r\n        super(message);\r\n        this.reason = reason;\r\n    }\r\n}\r\nexports.SshReconnectError = SshReconnectError;\r\nclass SshChannelError extends Error {\r\n    constructor(message, reason) {\r\n        super(message);\r\n        this.reason = reason;\r\n    }\r\n}\r\nexports.SshChannelError = SshChannelError;\r\nclass ObjectDisposedError extends Error {\r\n    // eslint-disable-next-line @typescript-eslint/ban-types\r\n    constructor(objectOrMessage) {\r\n        var _a, _b;\r\n        let message;\r\n        if (typeof objectOrMessage === 'string') {\r\n            // Custom message.\r\n            message = objectOrMessage;\r\n        }\r\n        else if (typeof objectOrMessage === 'function') {\r\n            // Constructor function (class name).\r\n            // eslint-disable-next-line @typescript-eslint/ban-types\r\n            message = objectOrMessage.name + ' disposed.';\r\n        }\r\n        else {\r\n            // Disposable object - get its class name.\r\n            message = ((_b = (_a = objectOrMessage === null || objectOrMessage === void 0 ? void 0 : objectOrMessage.constructor) === null || _a === void 0 ? void 0 : _a.name) !== null && _b !== void 0 ? _b : 'Object ') + ' disposed.';\r\n        }\r\n        super(message);\r\n    }\r\n}\r\nexports.ObjectDisposedError = ObjectDisposedError;\r\n//# sourceMappingURL=errors.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshAuthenticatingEventArgs = exports.SshAuthenticationType = void 0;\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n/**\r\n * Indicates the type of authentication being requested by an SSH client or server when an\r\n * `SshSession.authenticating` event is raised.\r\n */\r\nvar SshAuthenticationType;\r\n(function (SshAuthenticationType) {\r\n    /**\r\n     * The client is attempting to authenticate without any credentials, or with only a\r\n     * username, or is merely checking what authentication methods are supported by the server.\r\n     *\r\n     * This event is raised by an `SshServerSession` when the client requests authentication\r\n     * using the \"none\" method. With this method, all of the credential properties in the\r\n     * `SshAuthenticatingEventArgs` are null.\r\n     *\r\n     * If the server app wishes to allow the client to authenticate with only a username, it may\r\n     * return a principal for the user. Othwerwise, the \"none\" authentication method fails, and\r\n     * the client may make a follow-up attempt to authenticate _with_ credentials.\r\n     */\r\n    SshAuthenticationType[SshAuthenticationType[\"clientNone\"] = 0] = \"clientNone\";\r\n    /**\r\n     * The client is attempting to authenticate with a client host public key.\r\n     *\r\n     * This event is raised by an `SshServerSession` when the client requests authentication\r\n     * using the \"hostbased\" method. The authentication handler must verify that the public key\r\n     * actually belongs to the client host name, _and_ that the network address the client\r\n     * connected from matches that host name, before returning a user principal to indicate\r\n     * successful authentication.\r\n     */\r\n    SshAuthenticationType[SshAuthenticationType[\"clientHostBased\"] = 1] = \"clientHostBased\";\r\n    /**\r\n     * The client is attempting to authenticate with a username and password credential.\r\n     *\r\n     * This event is raised by an `SshServerSession` when the client requests authentication\r\n     * using the \"password\" method. The authentication handler must verify that the username\r\n     * and password match known credentials on the server, before returning a user principal\r\n     * to indicate successful authentication.\r\n     */\r\n    SshAuthenticationType[SshAuthenticationType[\"clientPassword\"] = 2] = \"clientPassword\";\r\n    /**\r\n     * The client is querying whether authentication may be possible for a specified username and\r\n     * public key without yet proving they have the private key.\r\n     *\r\n     * This event is raised by an `SshServerSession` when the client requests authentication\r\n     * using the \"publickey\" method _without_ providing a signature. The authentication handler\r\n     * must verify that the username and public key match known credentials on the server. If\r\n     * they match, an _unauthenticated_ principal should be returned. That indicates to the\r\n     * client that they may proceed to actually authenticate using that username and public key.\r\n     */\r\n    SshAuthenticationType[SshAuthenticationType[\"clientPublicKeyQuery\"] = 3] = \"clientPublicKeyQuery\";\r\n    /**\r\n     * The client is attempting to authenticate with a username and public key credential.\r\n     *\r\n     * This event is raised by an `SshServerSession` when the client requests authentication\r\n     * using the \"publickey\" method, including a signature that proves they have the private\r\n     * key. The authentication handler must verify that the username and public key match known\r\n     * credentials on the server, before returning a user principal to indicate successful\r\n     * authentication.\r\n     */\r\n    SshAuthenticationType[SshAuthenticationType[\"clientPublicKey\"] = 4] = \"clientPublicKey\";\r\n    /**\r\n     * The server is attempting to authenticate with a public key credential.\r\n     *\r\n     * This event is raised by an `SshClientSession` when the server requests\r\n     * authentication by providing a signature that proves it has the private key. The client\r\n     * authentication handler must verify that the public key matches known public key(s) for\r\n     * that server. Or if not known (often the case for the first time connecting to that server)\r\n     * it may prompt the user to consent, and then save the public key for later reference. To\r\n     * indicate successful authentication, the client authentication handler returns a principal\r\n     * that represents the server.\r\n     */\r\n    SshAuthenticationType[SshAuthenticationType[\"serverPublicKey\"] = 10] = \"serverPublicKey\";\r\n})(SshAuthenticationType = exports.SshAuthenticationType || (exports.SshAuthenticationType = {}));\r\n/**\r\n * Arguments for the `SshSession.Authenticating` event that is raised when a client\r\n * or server is requesting authentication.\r\n *\r\n * See `SshAuthenticationType` for a description of the different authentication methods and\r\n * how they map to properties in this event-args object.\r\n *\r\n * After validating the credentials, the event handler must set the `authenticationPromise`\r\n * property to a task that resolves to a principal object to indicate successful authentication.\r\n * That principal will then be associated with the sesssion as the `SshSession.principal` property.\r\n */\r\nclass SshAuthenticatingEventArgs {\r\n    constructor(authenticationType, { username, password, publicKey, clientHostname, clientUsername, }, cancellation) {\r\n        this.authenticationType = authenticationType;\r\n        const validate = ({ usernameRequired, passwordRequired, publicKeyRequired, clientHostnameRequired, clientUsernameRequired, }) => {\r\n            // This is intentionally not checking for empty strings. The authentication handler\r\n            // should determine whether any non-null string values are valid.\r\n            if ((typeof username === 'string') !== !!usernameRequired)\r\n                return false;\r\n            if ((typeof password === 'string') !== !!passwordRequired)\r\n                return false;\r\n            if (!!publicKey !== !!publicKeyRequired)\r\n                return false;\r\n            if ((typeof clientHostname === 'string') !== !!clientHostnameRequired)\r\n                return false;\r\n            if ((typeof clientUsername === 'string') !== !!clientUsernameRequired)\r\n                return false;\r\n            return true;\r\n        };\r\n        let valid;\r\n        switch (authenticationType) {\r\n            case SshAuthenticationType.clientNone:\r\n                valid = validate({ usernameRequired: true });\r\n                break;\r\n            case SshAuthenticationType.clientHostBased:\r\n                valid = validate({\r\n                    usernameRequired: true,\r\n                    publicKeyRequired: true,\r\n                    clientHostnameRequired: true,\r\n                    clientUsernameRequired: true,\r\n                });\r\n                break;\r\n            case SshAuthenticationType.clientPassword:\r\n                valid = validate({ usernameRequired: true, passwordRequired: true });\r\n                break;\r\n            case SshAuthenticationType.clientPublicKeyQuery:\r\n            case SshAuthenticationType.clientPublicKey:\r\n                valid = validate({ usernameRequired: true, publicKeyRequired: true });\r\n                break;\r\n            case SshAuthenticationType.serverPublicKey:\r\n                valid = validate({ publicKeyRequired: true });\r\n                break;\r\n            default:\r\n                throw new Error(`Invalid authentication type: ${authenticationType}`);\r\n        }\r\n        if (!valid) {\r\n            throw new Error(`Invalid arguments for authentication type: ${authenticationType}`);\r\n        }\r\n        this.username = username !== null && username !== void 0 ? username : null;\r\n        this.password = password !== null && password !== void 0 ? password : null;\r\n        this.publicKey = publicKey !== null && publicKey !== void 0 ? publicKey : null;\r\n        this.clientHostname = clientHostname !== null && clientHostname !== void 0 ? clientHostname : null;\r\n        this.clientUsername = clientUsername !== null && clientUsername !== void 0 ? clientUsername : null;\r\n        this.cancellationValue = cancellation !== null && cancellation !== void 0 ? cancellation : vscode_jsonrpc_1.CancellationToken.None;\r\n    }\r\n    /**\r\n     * Gets a token that is cancelled if the session ends before the authentication handler\r\n     * completes.\r\n     */\r\n    get cancellation() {\r\n        return this.cancellationValue;\r\n    }\r\n    /* @internal */\r\n    set cancellation(value) {\r\n        this.cancellationValue = value;\r\n    }\r\n    toString() {\r\n        if (this.password) {\r\n            return `${this.username ? '\"' + this.username + '\" ' : ''}[password]`;\r\n        }\r\n        else if (this.publicKey) {\r\n            return `${this.username ? '\"' + this.username + '\" ' : ''}[${this.publicKey.keyAlgorithmName}]`;\r\n        }\r\n        else {\r\n            return `\"${this.username}\"`;\r\n        }\r\n    }\r\n}\r\nexports.SshAuthenticatingEventArgs = SshAuthenticatingEventArgs;\r\n//# sourceMappingURL=sshAuthenticatingEventArgs.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshChannelClosedEventArgs = void 0;\r\nclass SshChannelClosedEventArgs {\r\n    constructor(exitStatusOrSignalOrError, errorMessage) {\r\n        if (typeof exitStatusOrSignalOrError === 'number') {\r\n            this.exitStatus = exitStatusOrSignalOrError;\r\n        }\r\n        else if (typeof exitStatusOrSignalOrError === 'string') {\r\n            this.exitSignal = exitStatusOrSignalOrError;\r\n            this.errorMessage = errorMessage;\r\n        }\r\n        else if (exitStatusOrSignalOrError instanceof Error) {\r\n            this.error = exitStatusOrSignalOrError;\r\n        }\r\n    }\r\n}\r\nexports.SshChannelClosedEventArgs = SshChannelClosedEventArgs;\r\n//# sourceMappingURL=sshChannelClosedEventArgs.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshChannelOpeningEventArgs = void 0;\r\nconst connectionMessages_1 = require(\"../messages/connectionMessages\");\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nclass SshChannelOpeningEventArgs {\r\n    constructor(request, channel, isRemoteRequest, cancellation) {\r\n        this.request = request;\r\n        this.channel = channel;\r\n        this.isRemoteRequest = isRemoteRequest;\r\n        /**\r\n         * Specifies a reason that the channel could not be opened.\r\n         *\r\n         * The handler of this event can optionally block the channel by setting\r\n         * a failure reason. If the event is not handled or the reason remains\r\n         * `none` then the channel is allowed to open.\r\n         */\r\n        this.failureReason = connectionMessages_1.SshChannelOpenFailureReason.none;\r\n        /**\r\n         * Optional message to go along with a failure reason.\r\n         */\r\n        this.failureDescription = null;\r\n        if (!request)\r\n            throw new TypeError('A channel open message is required.');\r\n        if (!channel)\r\n            throw new TypeError('A channel is required.');\r\n        this.cancellationValue = cancellation !== null && cancellation !== void 0 ? cancellation : vscode_jsonrpc_1.CancellationToken.None;\r\n    }\r\n    /**\r\n     * Gets a token that is cancelled if the session ends before the request handler\r\n     * completes.\r\n     */\r\n    get cancellation() {\r\n        return this.cancellationValue;\r\n    }\r\n    /* @internal */\r\n    set cancellation(value) {\r\n        this.cancellationValue = value;\r\n    }\r\n    toString() {\r\n        return `${this.channel.toString()}${this.failureReason ? ' ' + connectionMessages_1.SshChannelOpenFailureReason[this.failureReason] : ''}`;\r\n    }\r\n}\r\nexports.SshChannelOpeningEventArgs = SshChannelOpeningEventArgs;\r\n//# sourceMappingURL=sshChannelOpeningEventArgs.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshRequestEventArgs = void 0;\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nclass SshRequestEventArgs {\r\n    constructor(requestType, request, principal, cancellation) {\r\n        this.requestType = requestType;\r\n        this.request = request;\r\n        this.principal = principal;\r\n        this.cancellationValue = cancellation !== null && cancellation !== void 0 ? cancellation : vscode_jsonrpc_1.CancellationToken.None;\r\n    }\r\n    /**\r\n     * Gets a token that is cancelled if the session ends before the request handler\r\n     * completes.\r\n     */\r\n    get cancellation() {\r\n        return this.cancellationValue;\r\n    }\r\n    /* @internal */\r\n    set cancellation(value) {\r\n        this.cancellationValue = value;\r\n    }\r\n    toString() {\r\n        return `RequestType: ${this.requestType}` + this.request ? ` Request: ${this.request}` : '';\r\n    }\r\n}\r\nexports.SshRequestEventArgs = SshRequestEventArgs;\r\n//# sourceMappingURL=sshRequestEventArgs.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshSessionClosedEventArgs = void 0;\r\nconst transportMessages_1 = require(\"../messages/transportMessages\");\r\nclass SshSessionClosedEventArgs {\r\n    constructor(reason, message, error) {\r\n        this.reason = reason;\r\n        this.message = message;\r\n        this.error = error;\r\n        if (!message)\r\n            throw new TypeError('A disconnect message is required.');\r\n    }\r\n    toString() {\r\n        return `${transportMessages_1.SshDisconnectReason[this.reason]}: ${this.message}`;\r\n    }\r\n}\r\nexports.SshSessionClosedEventArgs = SshSessionClosedEventArgs;\r\n//# sourceMappingURL=sshSessionClosedEventArgs.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshChannelError = exports.BigInt = exports.DerWriter = exports.DerReader = exports.formatBuffer = exports.SshDataWriter = exports.SshDataReader = exports.ECDsa = exports.Rsa = exports.Encryption = exports.HmacAlgorithm = exports.EncryptionAlgorithm = exports.PublicKeyAlgorithm = exports.KeyExchangeAlgorithm = exports.SshAlgorithms = exports.CommandRequestMessage = exports.ChannelRequestType = exports.ChannelRequestMessage = exports.ChannelOpenConfirmationMessage = exports.ChannelOpenMessage = exports.ChannelOpenFailureMessage = exports.ChannelMessage = exports.SshChannelOpenFailureReason = exports.SshReconnectFailureReason = exports.SshDisconnectReason = exports.SessionRequestFailureMessage = exports.SessionRequestSuccessMessage = exports.DebugMessage = exports.SessionRequestMessage = exports.SshMessage = exports.SshChannelClosedEventArgs = exports.SshSessionClosedEventArgs = exports.SshChannelOpeningEventArgs = exports.SshRequestEventArgs = exports.SshAuthenticatingEventArgs = exports.SshAuthenticationType = exports.serviceActivation = exports.SshService = exports.SshRpcMessageStream = exports.WebSocketStream = exports.NodeStream = exports.BaseStream = exports.SshStream = exports.SshChannel = exports.SshServerSession = exports.SshClientSession = exports.SshSession = exports.SshVersionInfo = exports.SshProtocolExtensionNames = exports.SshSessionConfiguration = void 0;\r\nexports.SshTraceEventIds = exports.TraceLevel = exports.SecureStream = exports.MultiChannelStream = exports.SessionContour = exports.ChannelMetrics = exports.SessionMetrics = exports.Queue = exports.Semaphore = exports.PromiseCompletionSource = exports.CancellationError = exports.CancellationTokenSource = exports.CancellationToken = exports.ObjectDisposedError = exports.SshReconnectError = exports.SshConnectionError = void 0;\r\nvar sshSessionConfiguration_1 = require(\"./sshSessionConfiguration\");\r\nObject.defineProperty(exports, \"SshSessionConfiguration\", { enumerable: true, get: function () { return sshSessionConfiguration_1.SshSessionConfiguration; } });\r\nObject.defineProperty(exports, \"SshProtocolExtensionNames\", { enumerable: true, get: function () { return sshSessionConfiguration_1.SshProtocolExtensionNames; } });\r\nvar sshVersionInfo_1 = require(\"./sshVersionInfo\");\r\nObject.defineProperty(exports, \"SshVersionInfo\", { enumerable: true, get: function () { return sshVersionInfo_1.SshVersionInfo; } });\r\nvar sshSession_1 = require(\"./sshSession\");\r\nObject.defineProperty(exports, \"SshSession\", { enumerable: true, get: function () { return sshSession_1.SshSession; } });\r\nvar sshClientSession_1 = require(\"./sshClientSession\");\r\nObject.defineProperty(exports, \"SshClientSession\", { enumerable: true, get: function () { return sshClientSession_1.SshClientSession; } });\r\nvar sshServerSession_1 = require(\"./sshServerSession\");\r\nObject.defineProperty(exports, \"SshServerSession\", { enumerable: true, get: function () { return sshServerSession_1.SshServerSession; } });\r\nvar sshChannel_1 = require(\"./sshChannel\");\r\nObject.defineProperty(exports, \"SshChannel\", { enumerable: true, get: function () { return sshChannel_1.SshChannel; } });\r\nvar sshStream_1 = require(\"./sshStream\");\r\nObject.defineProperty(exports, \"SshStream\", { enumerable: true, get: function () { return sshStream_1.SshStream; } });\r\nvar streams_1 = require(\"./streams\");\r\nObject.defineProperty(exports, \"BaseStream\", { enumerable: true, get: function () { return streams_1.BaseStream; } });\r\nObject.defineProperty(exports, \"NodeStream\", { enumerable: true, get: function () { return streams_1.NodeStream; } });\r\nObject.defineProperty(exports, \"WebSocketStream\", { enumerable: true, get: function () { return streams_1.WebSocketStream; } });\r\nvar sshRpcMessageStream_1 = require(\"./sshRpcMessageStream\");\r\nObject.defineProperty(exports, \"SshRpcMessageStream\", { enumerable: true, get: function () { return sshRpcMessageStream_1.SshRpcMessageStream; } });\r\nvar sshService_1 = require(\"./services/sshService\");\r\nObject.defineProperty(exports, \"SshService\", { enumerable: true, get: function () { return sshService_1.SshService; } });\r\nvar serviceActivation_1 = require(\"./services/serviceActivation\");\r\nObject.defineProperty(exports, \"serviceActivation\", { enumerable: true, get: function () { return serviceActivation_1.serviceActivation; } });\r\nvar sshAuthenticatingEventArgs_1 = require(\"./events/sshAuthenticatingEventArgs\");\r\nObject.defineProperty(exports, \"SshAuthenticationType\", { enumerable: true, get: function () { return sshAuthenticatingEventArgs_1.SshAuthenticationType; } });\r\nObject.defineProperty(exports, \"SshAuthenticatingEventArgs\", { enumerable: true, get: function () { return sshAuthenticatingEventArgs_1.SshAuthenticatingEventArgs; } });\r\nvar sshRequestEventArgs_1 = require(\"./events/sshRequestEventArgs\");\r\nObject.defineProperty(exports, \"SshRequestEventArgs\", { enumerable: true, get: function () { return sshRequestEventArgs_1.SshRequestEventArgs; } });\r\nvar sshChannelOpeningEventArgs_1 = require(\"./events/sshChannelOpeningEventArgs\");\r\nObject.defineProperty(exports, \"SshChannelOpeningEventArgs\", { enumerable: true, get: function () { return sshChannelOpeningEventArgs_1.SshChannelOpeningEventArgs; } });\r\nvar sshSessionClosedEventArgs_1 = require(\"./events/sshSessionClosedEventArgs\");\r\nObject.defineProperty(exports, \"SshSessionClosedEventArgs\", { enumerable: true, get: function () { return sshSessionClosedEventArgs_1.SshSessionClosedEventArgs; } });\r\nvar sshChannelClosedEventArgs_1 = require(\"./events/sshChannelClosedEventArgs\");\r\nObject.defineProperty(exports, \"SshChannelClosedEventArgs\", { enumerable: true, get: function () { return sshChannelClosedEventArgs_1.SshChannelClosedEventArgs; } });\r\nvar sshMessage_1 = require(\"./messages/sshMessage\");\r\nObject.defineProperty(exports, \"SshMessage\", { enumerable: true, get: function () { return sshMessage_1.SshMessage; } });\r\nvar transportMessages_1 = require(\"./messages/transportMessages\");\r\nObject.defineProperty(exports, \"SessionRequestMessage\", { enumerable: true, get: function () { return transportMessages_1.SessionRequestMessage; } });\r\nObject.defineProperty(exports, \"DebugMessage\", { enumerable: true, get: function () { return transportMessages_1.DebugMessage; } });\r\nObject.defineProperty(exports, \"SessionRequestSuccessMessage\", { enumerable: true, get: function () { return transportMessages_1.SessionRequestSuccessMessage; } });\r\nObject.defineProperty(exports, \"SessionRequestFailureMessage\", { enumerable: true, get: function () { return transportMessages_1.SessionRequestFailureMessage; } });\r\nObject.defineProperty(exports, \"SshDisconnectReason\", { enumerable: true, get: function () { return transportMessages_1.SshDisconnectReason; } });\r\nObject.defineProperty(exports, \"SshReconnectFailureReason\", { enumerable: true, get: function () { return transportMessages_1.SshReconnectFailureReason; } });\r\nvar connectionMessages_1 = require(\"./messages/connectionMessages\");\r\nObject.defineProperty(exports, \"SshChannelOpenFailureReason\", { enumerable: true, get: function () { return connectionMessages_1.SshChannelOpenFailureReason; } });\r\nObject.defineProperty(exports, \"ChannelMessage\", { enumerable: true, get: function () { return connectionMessages_1.ChannelMessage; } });\r\nObject.defineProperty(exports, \"ChannelOpenFailureMessage\", { enumerable: true, get: function () { return connectionMessages_1.ChannelOpenFailureMessage; } });\r\nObject.defineProperty(exports, \"ChannelOpenMessage\", { enumerable: true, get: function () { return connectionMessages_1.ChannelOpenMessage; } });\r\nObject.defineProperty(exports, \"ChannelOpenConfirmationMessage\", { enumerable: true, get: function () { return connectionMessages_1.ChannelOpenConfirmationMessage; } });\r\nObject.defineProperty(exports, \"ChannelRequestMessage\", { enumerable: true, get: function () { return connectionMessages_1.ChannelRequestMessage; } });\r\nObject.defineProperty(exports, \"ChannelRequestType\", { enumerable: true, get: function () { return connectionMessages_1.ChannelRequestType; } });\r\nObject.defineProperty(exports, \"CommandRequestMessage\", { enumerable: true, get: function () { return connectionMessages_1.CommandRequestMessage; } });\r\nvar sshAlgorithms_1 = require(\"./algorithms/sshAlgorithms\");\r\nObject.defineProperty(exports, \"SshAlgorithms\", { enumerable: true, get: function () { return sshAlgorithms_1.SshAlgorithms; } });\r\nObject.defineProperty(exports, \"KeyExchangeAlgorithm\", { enumerable: true, get: function () { return sshAlgorithms_1.KeyExchangeAlgorithm; } });\r\nObject.defineProperty(exports, \"PublicKeyAlgorithm\", { enumerable: true, get: function () { return sshAlgorithms_1.PublicKeyAlgorithm; } });\r\nObject.defineProperty(exports, \"EncryptionAlgorithm\", { enumerable: true, get: function () { return sshAlgorithms_1.EncryptionAlgorithm; } });\r\nObject.defineProperty(exports, \"HmacAlgorithm\", { enumerable: true, get: function () { return sshAlgorithms_1.HmacAlgorithm; } });\r\nObject.defineProperty(exports, \"Encryption\", { enumerable: true, get: function () { return sshAlgorithms_1.Encryption; } });\r\nObject.defineProperty(exports, \"Rsa\", { enumerable: true, get: function () { return sshAlgorithms_1.Rsa; } });\r\nObject.defineProperty(exports, \"ECDsa\", { enumerable: true, get: function () { return sshAlgorithms_1.ECDsa; } });\r\nvar sshData_1 = require(\"./io/sshData\");\r\nObject.defineProperty(exports, \"SshDataReader\", { enumerable: true, get: function () { return sshData_1.SshDataReader; } });\r\nObject.defineProperty(exports, \"SshDataWriter\", { enumerable: true, get: function () { return sshData_1.SshDataWriter; } });\r\nObject.defineProperty(exports, \"formatBuffer\", { enumerable: true, get: function () { return sshData_1.formatBuffer; } });\r\nvar derData_1 = require(\"./io/derData\");\r\nObject.defineProperty(exports, \"DerReader\", { enumerable: true, get: function () { return derData_1.DerReader; } });\r\nObject.defineProperty(exports, \"DerWriter\", { enumerable: true, get: function () { return derData_1.DerWriter; } });\r\nvar bigInt_1 = require(\"./io/bigInt\");\r\nObject.defineProperty(exports, \"BigInt\", { enumerable: true, get: function () { return bigInt_1.BigInt; } });\r\nvar errors_1 = require(\"./errors\");\r\nObject.defineProperty(exports, \"SshChannelError\", { enumerable: true, get: function () { return errors_1.SshChannelError; } });\r\nObject.defineProperty(exports, \"SshConnectionError\", { enumerable: true, get: function () { return errors_1.SshConnectionError; } });\r\nObject.defineProperty(exports, \"SshReconnectError\", { enumerable: true, get: function () { return errors_1.SshReconnectError; } });\r\nObject.defineProperty(exports, \"ObjectDisposedError\", { enumerable: true, get: function () { return errors_1.ObjectDisposedError; } });\r\nvar cancellation_1 = require(\"./util/cancellation\");\r\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\r\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\r\nObject.defineProperty(exports, \"CancellationError\", { enumerable: true, get: function () { return cancellation_1.CancellationError; } });\r\nvar promiseCompletionSource_1 = require(\"./util/promiseCompletionSource\");\r\nObject.defineProperty(exports, \"PromiseCompletionSource\", { enumerable: true, get: function () { return promiseCompletionSource_1.PromiseCompletionSource; } });\r\nvar semaphore_1 = require(\"./util/semaphore\");\r\nObject.defineProperty(exports, \"Semaphore\", { enumerable: true, get: function () { return semaphore_1.Semaphore; } });\r\nvar queue_1 = require(\"./util/queue\");\r\nObject.defineProperty(exports, \"Queue\", { enumerable: true, get: function () { return queue_1.Queue; } });\r\nvar sessionMetrics_1 = require(\"./metrics/sessionMetrics\");\r\nObject.defineProperty(exports, \"SessionMetrics\", { enumerable: true, get: function () { return sessionMetrics_1.SessionMetrics; } });\r\nvar channelMetrics_1 = require(\"./metrics/channelMetrics\");\r\nObject.defineProperty(exports, \"ChannelMetrics\", { enumerable: true, get: function () { return channelMetrics_1.ChannelMetrics; } });\r\nvar sessionContour_1 = require(\"./metrics/sessionContour\");\r\nObject.defineProperty(exports, \"SessionContour\", { enumerable: true, get: function () { return sessionContour_1.SessionContour; } });\r\nvar multiChannelStream_1 = require(\"./multiChannelStream\");\r\nObject.defineProperty(exports, \"MultiChannelStream\", { enumerable: true, get: function () { return multiChannelStream_1.MultiChannelStream; } });\r\nvar secureStream_1 = require(\"./secureStream\");\r\nObject.defineProperty(exports, \"SecureStream\", { enumerable: true, get: function () { return secureStream_1.SecureStream; } });\r\nvar trace_1 = require(\"./trace\");\r\nObject.defineProperty(exports, \"TraceLevel\", { enumerable: true, get: function () { return trace_1.TraceLevel; } });\r\nObject.defineProperty(exports, \"SshTraceEventIds\", { enumerable: true, get: function () { return trace_1.SshTraceEventIds; } });\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BigInt = void 0;\r\nconst buffer_1 = require(\"buffer\");\r\nconst sshData_1 = require(\"./sshData\");\r\n/**\r\n * Represents a large signed integer as a byte byffer.\r\n */\r\nclass BigInt {\r\n    /**\r\n     * Creates a new BigInt instance from a buffer of signed bytes.\r\n     *\r\n     * The first (high) bit of the first (high) byte is the sign bit. Therefore if the\r\n     * highest byte of an unsigned integer is greater than 127, the bytes must include\r\n     * a leading zero byte to prevent interpretation as a negative value.\r\n     */\r\n    constructor(buffer) {\r\n        this.buffer = buffer;\r\n        if (buffer.length === 0) {\r\n            throw new Error('BigInt buffer length must be greater than zero.');\r\n        }\r\n    }\r\n    /**\r\n     * Gets a value that indicates the sign of the big integer:\r\n     * 1 for positive, 0 for zero, -1 for negative.\r\n     */\r\n    get sign() {\r\n        const highByte = this.buffer[0];\r\n        if (highByte === 0) {\r\n            return this.buffer.length > 1 ? 1 : 0;\r\n        }\r\n        else {\r\n            return (highByte & 0x80) === 0 ? 1 : -1;\r\n        }\r\n    }\r\n    static fromInt32(value) {\r\n        if (value === 0) {\r\n            return BigInt.zero;\r\n        }\r\n        let isNegative = false;\r\n        if (value < 0) {\r\n            isNegative = true;\r\n            value = -value;\r\n        }\r\n        const bytes = [];\r\n        for (let bit = 24; bit >= 0; bit -= 8) {\r\n            if (value >= 1 << bit || bytes.length > 0) {\r\n                bytes.push(value >> bit);\r\n                value = value & ~((1 << bit) - 1);\r\n            }\r\n        }\r\n        if (isNegative) {\r\n            if ((bytes[0] & 0x80) === 0) {\r\n                bytes[0] |= 0x80;\r\n            }\r\n            else {\r\n                bytes.splice(0, 0, 0x80);\r\n            }\r\n        }\r\n        return new BigInt(buffer_1.Buffer.from(new Uint8Array(bytes)));\r\n    }\r\n    toInt32() {\r\n        if (this.buffer.length > 4) {\r\n            throw new TypeError('BigInt value cannot be converted to a 32-bit signed integer.');\r\n        }\r\n        let value = this.buffer[0];\r\n        if (this.sign < 0) {\r\n            value &= 0x7f;\r\n        }\r\n        for (let i = 1; i < this.buffer.length; i++) {\r\n            value = (value << 8) + this.buffer[i];\r\n        }\r\n        if (this.sign < 0) {\r\n            value = -value;\r\n        }\r\n        return value;\r\n    }\r\n    /**\r\n     * Creates a new BigInt instance from a byte buffer.\r\n     * @param bytes Source byte buffer.\r\n     * @param options.unsigned True if the bytes should be interpreted as unsigned. If false,\r\n     * the high bit of the high byte is the sign bit. The default is false.\r\n     */\r\n    static fromBytes(bytes, options) {\r\n        if (!buffer_1.Buffer.isBuffer(bytes)) {\r\n            throw new TypeError('Buffer expected.');\r\n        }\r\n        else if (bytes.length === 0) {\r\n            throw new Error('BigInt buffer length must be greater than zero.');\r\n        }\r\n        options = options !== null && options !== void 0 ? options : {};\r\n        const highBit = (bytes[0] & 0x80) !== 0;\r\n        const prependZeroCount = options.unsigned && highBit ? 1 : 0;\r\n        let skipZeroCount = 0;\r\n        // Skip non-significant zeroes at the big end.\r\n        for (let i = 0; i < bytes.length - 1 && bytes[i] === 0; i++) {\r\n            if ((bytes[i + 1] & 0x80) === 0) {\r\n                skipZeroCount++;\r\n            }\r\n        }\r\n        const newBytes = buffer_1.Buffer.alloc(bytes.length + prependZeroCount - skipZeroCount);\r\n        bytes.copy(newBytes, prependZeroCount, skipZeroCount, bytes.length);\r\n        return new BigInt(newBytes);\r\n    }\r\n    /**\r\n     * Converts a BigInt instance to a byte buffer.\r\n     *\r\n     * @param options.unsigned True if the returned bytes will be interprted as unsigned.\r\n     * If false, a positive integer may have a leading zero to prevent it from being\r\n     * interpreted as negative.\r\n     * @param options.length Desired length of the resulting buffer. The value will be zero-\r\n     * padded to fill the length. Only applies when `options.unsigned` is true.\r\n     */\r\n    toBytes(options) {\r\n        options = options !== null && options !== void 0 ? options : {};\r\n        let bytes = this.buffer;\r\n        if (options.unsigned) {\r\n            if (this.sign < 0) {\r\n                throw new TypeError('Cannot format a negative BigInt as unsigned.');\r\n            }\r\n            else if (bytes[0] === 0 && bytes.length > 1) {\r\n                bytes = bytes.slice(1, bytes.length);\r\n            }\r\n            if (options.length !== undefined) {\r\n                if (bytes.length > options.length) {\r\n                    throw new Error(`BigInt (${bytes.length} bytes) is too large for length ${options.length}.`);\r\n                }\r\n                else if (bytes.length < options.length) {\r\n                    const padded = buffer_1.Buffer.alloc(options.length);\r\n                    bytes.copy(padded, options.length - bytes.length);\r\n                    return padded;\r\n                }\r\n            }\r\n        }\r\n        const newBytes = buffer_1.Buffer.alloc(bytes.length);\r\n        bytes.copy(newBytes, 0, 0, bytes.length);\r\n        return newBytes;\r\n    }\r\n    copyTo(buffer, offset = 0) {\r\n        this.buffer.copy(buffer, offset, 0, this.buffer.length);\r\n    }\r\n    equals(other) {\r\n        return other instanceof BigInt && this.buffer.equals(other.buffer);\r\n    }\r\n    toString(name) {\r\n        return (0, sshData_1.formatBuffer)(this.buffer, name !== null && name !== void 0 ? name : 'BigInt');\r\n    }\r\n}\r\nexports.BigInt = BigInt;\r\nBigInt.zero = new BigInt(buffer_1.Buffer.alloc(1));\r\n//# sourceMappingURL=bigInt.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DerWriter = exports.DerReader = void 0;\r\nconst buffer_1 = require(\"buffer\");\r\nconst bigInt_1 = require(\"./bigInt\");\r\n/**\r\n * Reads data in DER (Distinguished Encoding Rules) format.\r\n *\r\n * Enables importing and exporting key files, which are commonly DER-encoded.\r\n */\r\nclass DerReader {\r\n    constructor(buffer, dataType = 32 /* DerType.Constructed */ | 16 /* DerType.Sequence */) {\r\n        this.buffer = buffer;\r\n        this.position = 0;\r\n        this.readType(dataType);\r\n        const length = this.readLength();\r\n        if (length > this.buffer.length - this.position) {\r\n            throw new Error('Read out of bounds.');\r\n        }\r\n        this.buffer = this.buffer.slice(0, this.position + length);\r\n    }\r\n    get available() {\r\n        return this.buffer.length - this.position;\r\n    }\r\n    readNull() {\r\n        this.readType(5 /* DerType.Null */);\r\n        if (this.readByte() !== 0) {\r\n            throw new Error('Expected a 0 after Null type.');\r\n        }\r\n    }\r\n    readInteger() {\r\n        this.readType(2 /* DerType.Integer */);\r\n        const length = this.readLength();\r\n        const bytes = this.readBytes(length);\r\n        const result = new bigInt_1.BigInt(bytes);\r\n        return result;\r\n    }\r\n    readOctetString() {\r\n        this.readType(4 /* DerType.OctetString */);\r\n        const length = this.readLength();\r\n        const result = this.readBytes(length);\r\n        return result;\r\n    }\r\n    readBitString() {\r\n        this.readType(3 /* DerType.BitString */);\r\n        const length = this.readLength();\r\n        const padding = this.readByte();\r\n        if (padding !== 0) {\r\n            throw new Error('Padded bit strings are not supported.');\r\n        }\r\n        const result = this.readBytes(length - 1);\r\n        return result;\r\n    }\r\n    readObjectIdentifier(expected) {\r\n        this.readType(6 /* DerType.ObjectIdentifier */);\r\n        const length = this.readLength();\r\n        const end = this.position + length;\r\n        const values = [];\r\n        const first = this.readByte();\r\n        values.push(Math.trunc(first / 40));\r\n        values.push(first % 40);\r\n        let next = 0;\r\n        while (this.position < end) {\r\n            const b = this.readByte();\r\n            if ((b & 0x80) !== 0) {\r\n                next = next * 128 + (b & 0x7f);\r\n            }\r\n            else {\r\n                next = next * 128 + b;\r\n                values.push(next);\r\n                next = 0;\r\n            }\r\n        }\r\n        if (next !== 0) {\r\n            throw new Error('Invalid OID format.');\r\n        }\r\n        const result = values.join('.');\r\n        if (expected && result !== expected) {\r\n            throw new Error(`Expected OID ${expected}, found: ${result}`);\r\n        }\r\n        return result;\r\n    }\r\n    readSequence() {\r\n        const start = this.position;\r\n        this.readType(32 /* DerType.Constructed */ | 16 /* DerType.Sequence */);\r\n        const length = this.readLength();\r\n        this.position += length;\r\n        return new DerReader(this.buffer.slice(start, this.position));\r\n    }\r\n    tryReadTagged(tagId) {\r\n        if (this.position >= this.buffer.length) {\r\n            return null;\r\n        }\r\n        const type = this.buffer[this.position];\r\n        if ((type & 160 /* DerType.Tagged */) === 0 || (type & ~160 /* DerType.Tagged */) !== tagId) {\r\n            return null;\r\n        }\r\n        const start = this.position;\r\n        this.position++;\r\n        const length = this.readLength();\r\n        this.position += length;\r\n        const taggedData = new DerReader(this.buffer.slice(start, this.position), type);\r\n        return taggedData;\r\n    }\r\n    /** Reads the type of the next value in the sequence WITHOUT advancing the reader position. */\r\n    peek() {\r\n        if (this.position >= this.buffer.length) {\r\n            throw new Error('Read out of bounds.');\r\n        }\r\n        return this.buffer[this.position];\r\n    }\r\n    readLength() {\r\n        let length = this.readByte();\r\n        if (length === 0x80) {\r\n            throw new Error('Indefinite-length encoding is not supported.');\r\n        }\r\n        if (length > 127) {\r\n            const size = length & 0x7f;\r\n            if (size > 4) {\r\n                throw new Error(`DER length size is ${size} and cannot be more than 4 bytes.`);\r\n            }\r\n            length = 0;\r\n            for (let i = 0; i < size; i++) {\r\n                const next = this.readByte();\r\n                length = (length << 8) + next;\r\n            }\r\n            if (length < 0) {\r\n                throw new Error('Corrupted data - negative length found');\r\n            }\r\n        }\r\n        return length;\r\n    }\r\n    readByte() {\r\n        if (this.position >= this.buffer.length) {\r\n            throw new Error('Read out of bounds.');\r\n        }\r\n        return this.buffer[this.position++];\r\n    }\r\n    readBytes(length) {\r\n        if (this.position + length > this.buffer.length) {\r\n            throw new Error('Read out of bounds.');\r\n        }\r\n        const result = this.buffer.slice(this.position, this.position + length);\r\n        this.position += length;\r\n        return result;\r\n    }\r\n    readType(expectedType) {\r\n        const type = this.readByte();\r\n        if (type !== expectedType) {\r\n            throw new Error(`Expected ${expectedType} data type, found : ${type}`);\r\n        }\r\n    }\r\n}\r\nexports.DerReader = DerReader;\r\n/**\r\n * Writes data in DER (Distinguished Encoding Rules) format.\r\n *\r\n * Enables importing and exporting key files, which are commonly DER-encoded.\r\n */\r\nclass DerWriter {\r\n    constructor(buffer, dataType = 32 /* DerType.Constructed */ | 16 /* DerType.Sequence */) {\r\n        this.buffer = buffer;\r\n        this.dataType = dataType;\r\n        this.position = 0;\r\n        this.buffer = buffer;\r\n    }\r\n    toBuffer() {\r\n        // Move the data over to make space for the type + length prefix.\r\n        const length = this.position;\r\n        const lengthBytes = DerWriter.getLength(length);\r\n        this.ensureCapacity(1 + lengthBytes.length + length);\r\n        const result = this.buffer.slice(0, 1 + lengthBytes.length + length);\r\n        this.buffer.copy(result, 1 + lengthBytes.length);\r\n        // Write the type + length prefix.\r\n        result[0] = this.dataType;\r\n        lengthBytes.copy(result, 1, 0);\r\n        // Restore the writer buffer to its previous state (without the type + length prefix).\r\n        this.buffer = this.buffer.slice(1 + lengthBytes.length, result.length);\r\n        this.position = length;\r\n        return result;\r\n    }\r\n    writeSequence(data) {\r\n        this.writeBytes(data.toBuffer());\r\n    }\r\n    writeTagged(tagId, data) {\r\n        if (tagId > 0xf)\r\n            throw new Error('Invalid DER tag.');\r\n        this.writeByte(160 /* DerType.Tagged */ | tagId);\r\n        const lengthBytes = DerWriter.getLength(data.position);\r\n        this.writeBytes(lengthBytes);\r\n        this.writeBytes(data.buffer.slice(0, data.position));\r\n    }\r\n    writeNull() {\r\n        this.writeByte(5 /* DerType.Null */);\r\n        this.writeByte(0);\r\n    }\r\n    writeInteger(value) {\r\n        this.writeByte(2 /* DerType.Integer */);\r\n        const integerBytes = value.toBytes();\r\n        const lengthBytes = DerWriter.getLength(integerBytes.length);\r\n        this.writeBytes(lengthBytes);\r\n        this.writeBytes(integerBytes);\r\n    }\r\n    writeOctetString(data) {\r\n        this.writeByte(4 /* DerType.OctetString */);\r\n        const lengthBytes = DerWriter.getLength(data.length);\r\n        this.writeBytes(lengthBytes);\r\n        this.writeBytes(data);\r\n    }\r\n    writeBitString(data) {\r\n        this.writeByte(3 /* DerType.BitString */);\r\n        const lengthBytes = DerWriter.getLength(1 + data.length);\r\n        this.writeBytes(lengthBytes);\r\n        this.writeByte(0);\r\n        this.writeBytes(data);\r\n    }\r\n    writeObjectIdentifier(oid) {\r\n        if (!oid)\r\n            throw new TypeError('OID value is null or empty.');\r\n        const values = oid.split('.').map(Number);\r\n        if (values.length < 2 || values[0] > 3 || values[1] >= 40) {\r\n            throw new Error(`Invalid OID: ${oid}`);\r\n        }\r\n        this.writeByte(6 /* DerType.ObjectIdentifier */);\r\n        let length = values.length - 1;\r\n        for (let i = 2; i < values.length; i++) {\r\n            let value = values[i];\r\n            while (value > 128) {\r\n                length++;\r\n                value /= 128;\r\n            }\r\n        }\r\n        const lengthBytes = DerWriter.getLength(length);\r\n        this.writeBytes(lengthBytes);\r\n        this.writeByte(values[0] * 40 + values[1]);\r\n        for (let i = 2; i < values.length; i++) {\r\n            let value = values[i];\r\n            if (value >= 128) {\r\n                const bytes = [];\r\n                bytes.push(value & 0x7f);\r\n                while (value >= 128) {\r\n                    value /= 128;\r\n                    bytes.push(0x80 | (value & 0x7f));\r\n                }\r\n                while (bytes.length > 0) {\r\n                    this.writeByte(bytes.pop());\r\n                }\r\n            }\r\n            else {\r\n                this.writeByte(value);\r\n            }\r\n        }\r\n    }\r\n    static getLength(length) {\r\n        if (length > 127) {\r\n            let size = 1;\r\n            for (let val = length >> 8; val !== 0; val >>= 8) {\r\n                size++;\r\n            }\r\n            const lengthBytes = DerWriter.lengthBuffer.slice(0, size + 1);\r\n            lengthBytes[0] = size | 0x80;\r\n            for (let i = (size - 1) * 8, j = 1; i >= 0; i -= 8, j++) {\r\n                lengthBytes[j] = length >> i;\r\n            }\r\n            return lengthBytes;\r\n        }\r\n        else {\r\n            const lengthBytes = DerWriter.lengthBuffer.slice(0, 1);\r\n            lengthBytes[0] = length;\r\n            return lengthBytes;\r\n        }\r\n    }\r\n    writeByte(value) {\r\n        this.ensureCapacity(this.position + 1);\r\n        this.buffer[this.position++] = value;\r\n    }\r\n    writeBytes(value) {\r\n        this.ensureCapacity(this.position + value.length);\r\n        value.copy(this.buffer, this.position);\r\n        this.position += value.length;\r\n    }\r\n    ensureCapacity(capacity) {\r\n        if (this.buffer.length < capacity) {\r\n            let newLength = Math.max(512, this.buffer.length * 2);\r\n            while (newLength < capacity)\r\n                newLength *= 2;\r\n            const newBuffer = buffer_1.Buffer.alloc(newLength);\r\n            this.buffer.copy(newBuffer, 0, 0, this.position);\r\n            this.buffer = newBuffer;\r\n        }\r\n    }\r\n}\r\nexports.DerWriter = DerWriter;\r\nDerWriter.lengthBuffer = buffer_1.Buffer.alloc(10);\r\n//# sourceMappingURL=derData.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.formatBuffer = exports.SshDataWriter = exports.SshDataReader = void 0;\r\nconst buffer_1 = require(\"buffer\");\r\nconst sshAlgorithms_1 = require(\"../algorithms/sshAlgorithms\");\r\nconst bigInt_1 = require(\"./bigInt\");\r\nclass SshDataReader {\r\n    constructor(buffer) {\r\n        this.buffer = buffer;\r\n        this.position = 0;\r\n    }\r\n    get available() {\r\n        return this.buffer.length - this.position;\r\n    }\r\n    read(length) {\r\n        if (this.available < length) {\r\n            throw new Error('Attempted to read past end of buffer.');\r\n        }\r\n        const data = this.buffer.slice(this.position, this.position + length);\r\n        this.position += length;\r\n        return data;\r\n    }\r\n    readByte() {\r\n        if (this.available === 0) {\r\n            throw new Error('Attempted to read past end of buffer.');\r\n        }\r\n        const value = this.buffer[this.position];\r\n        this.position++;\r\n        return value;\r\n    }\r\n    readBinary() {\r\n        const length = this.readUInt32();\r\n        if (this.available < length) {\r\n            throw new Error('Attempted to read past end of buffer.');\r\n        }\r\n        const data = this.buffer.slice(this.position, this.position + length);\r\n        this.position += length;\r\n        return data;\r\n    }\r\n    readString(encoding) {\r\n        const bytes = this.readBinary();\r\n        return bytes.toString();\r\n    }\r\n    readList(encoding) {\r\n        const stringList = this.readString(encoding);\r\n        return stringList.length === 0 ? [] : stringList.split(',');\r\n    }\r\n    readBoolean() {\r\n        return this.readByte() !== 0;\r\n    }\r\n    readUInt32() {\r\n        if (this.available < 4) {\r\n            throw new Error('Attempted to read past end of buffer.');\r\n        }\r\n        // Big-endian encoding\r\n        const value0 = this.buffer[this.position + 0];\r\n        const value1 = this.buffer[this.position + 1];\r\n        const value2 = this.buffer[this.position + 2];\r\n        const value3 = this.buffer[this.position + 3];\r\n        this.position += 4;\r\n        const value = ((value0 << 24) | (value1 << 16) | (value2 << 8) | value3) >>> 0;\r\n        return value;\r\n    }\r\n    readUInt64() {\r\n        if (this.available < 8) {\r\n            throw new Error('Attempted to read past end of buffer.');\r\n        }\r\n        // Big-endian encoding\r\n        const value0 = this.buffer[this.position + 0];\r\n        const value1 = this.buffer[this.position + 1];\r\n        const value2 = this.buffer[this.position + 2];\r\n        const value3 = this.buffer[this.position + 3];\r\n        const value4 = this.buffer[this.position + 4];\r\n        const value5 = this.buffer[this.position + 5];\r\n        const value6 = this.buffer[this.position + 6];\r\n        const value7 = this.buffer[this.position + 7];\r\n        this.position += 8;\r\n        const high = ((value0 << 24) | (value1 << 16) | (value2 << 8) | value3) >>> 0;\r\n        const low = ((value4 << 24) | (value5 << 16) | (value6 << 8) | value7) >>> 0;\r\n        return high * 0x100000000 + low;\r\n    }\r\n    readBigInt() {\r\n        const data = this.readBinary();\r\n        if (data.length === 0) {\r\n            return bigInt_1.BigInt.zero;\r\n        }\r\n        return bigInt_1.BigInt.fromBytes(data);\r\n    }\r\n}\r\nexports.SshDataReader = SshDataReader;\r\nSshDataReader.mpintZero = buffer_1.Buffer.alloc(1);\r\nclass SshDataWriter {\r\n    constructor(buffer) {\r\n        this.buffer = buffer;\r\n        this.position = 0;\r\n    }\r\n    write(data) {\r\n        this.ensureCapacity(this.position + data.length);\r\n        data.copy(this.buffer, this.position);\r\n        this.position += data.length;\r\n    }\r\n    writeByte(value) {\r\n        this.ensureCapacity(this.position + 1);\r\n        this.buffer[this.position] = value;\r\n        this.position++;\r\n    }\r\n    writeBinary(data) {\r\n        this.ensureCapacity(this.position + 4 + data.length);\r\n        this.writeUInt32(data.length);\r\n        data.copy(this.buffer, this.position);\r\n        this.position += data.length;\r\n    }\r\n    writeString(value, encoding) {\r\n        this.writeBinary(buffer_1.Buffer.from(value));\r\n    }\r\n    writeList(value, encoding) {\r\n        this.writeString(value ? value.join(',') : '', encoding);\r\n    }\r\n    writeBoolean(value) {\r\n        this.writeByte(value ? 1 : 0);\r\n    }\r\n    writeUInt32(value) {\r\n        this.ensureCapacity(this.position + 4);\r\n        // Big-endian encoding\r\n        this.buffer[this.position + 0] = value >>> 24;\r\n        this.buffer[this.position + 1] = value >>> 16;\r\n        this.buffer[this.position + 2] = value >>> 8;\r\n        this.buffer[this.position + 3] = value >>> 0;\r\n        this.position += 4;\r\n    }\r\n    /* @internal */\r\n    static writeUInt32(buffer, offset, value) {\r\n        buffer[offset + 0] = value >>> 24;\r\n        buffer[offset + 1] = value >>> 16;\r\n        buffer[offset + 2] = value >>> 8;\r\n        buffer[offset + 3] = value >>> 0;\r\n    }\r\n    writeUInt64(value) {\r\n        this.ensureCapacity(this.position + 8);\r\n        const low = value & 0xffffffff;\r\n        const high = (value - low) / 0x100000000;\r\n        // Big-endian encoding\r\n        this.buffer[this.position + 0] = high >>> 24;\r\n        this.buffer[this.position + 1] = high >>> 16;\r\n        this.buffer[this.position + 2] = high >>> 8;\r\n        this.buffer[this.position + 3] = high >>> 0;\r\n        this.buffer[this.position + 4] = low >>> 24;\r\n        this.buffer[this.position + 5] = low >>> 16;\r\n        this.buffer[this.position + 6] = low >>> 8;\r\n        this.buffer[this.position + 7] = low >>> 0;\r\n        this.position += 8;\r\n    }\r\n    writeBigInt(value) {\r\n        const data = value.toBytes();\r\n        if (data.length === 1 && data[0] === 0) {\r\n            this.writeUInt32(0);\r\n        }\r\n        else {\r\n            this.writeBinary(data);\r\n        }\r\n    }\r\n    writeRandom(length) {\r\n        this.ensureCapacity(this.position + length);\r\n        const randomBuffer = this.buffer.slice(this.position, this.position + length);\r\n        sshAlgorithms_1.SshAlgorithms.random.getBytes(randomBuffer);\r\n        this.position += length;\r\n    }\r\n    skip(length) {\r\n        this.ensureCapacity(this.position + length);\r\n        this.position += length;\r\n    }\r\n    ensureCapacity(capacity) {\r\n        if (this.buffer.length < capacity) {\r\n            let newLength = Math.max(512, this.buffer.length * 2);\r\n            while (newLength < capacity)\r\n                newLength *= 2;\r\n            const newBuffer = buffer_1.Buffer.alloc(newLength);\r\n            this.buffer.copy(newBuffer, 0, 0, this.position);\r\n            this.buffer = newBuffer;\r\n        }\r\n    }\r\n    toBuffer() {\r\n        return this.buffer.slice(0, this.position);\r\n    }\r\n}\r\nexports.SshDataWriter = SshDataWriter;\r\nfunction makeCrcTable() {\r\n    let c;\r\n    const table = [];\r\n    for (let n = 0; n < 256; n++) {\r\n        c = n;\r\n        for (let k = 0; k < 8; k++) {\r\n            c = c & 1 ? 0xedb88320 ^ (c >>> 1) : c >>> 1;\r\n        }\r\n        table[n] = c;\r\n    }\r\n    return table;\r\n}\r\nlet crcTable;\r\nfunction crc32(data) {\r\n    if (!crcTable) {\r\n        crcTable = makeCrcTable();\r\n    }\r\n    let crc = 0 ^ -1;\r\n    for (let i = 0; i < data.length; i++) {\r\n        crc = (crc >>> 8) ^ crcTable[(crc ^ data[i]) & 0xff];\r\n    }\r\n    const result = (crc ^ -1) >>> 0;\r\n    return (result + 0x100000000)\r\n        .toString(16)\r\n        .substr(-8)\r\n        .toUpperCase();\r\n}\r\n/**\r\n * Formats a byte buffer using the same format as OpenSSH,\r\n * useful for debugging and comparison in logs.\r\n */\r\nfunction formatBuffer(data, name, formatData) {\r\n    let s = `${name === undefined ? 'Buffer' : name}[${data.length}] (${crc32(data)})\\n`;\r\n    if (formatData === false) {\r\n        return s;\r\n    }\r\n    const max = Math.min(2048, data.length);\r\n    for (let lineOffset = 0; lineOffset < max; lineOffset += 16) {\r\n        if (lineOffset < 1000)\r\n            s += '0';\r\n        if (lineOffset < 100)\r\n            s += '0';\r\n        if (lineOffset < 10)\r\n            s += '0';\r\n        s += lineOffset + ':';\r\n        for (let i = lineOffset; i < lineOffset + 16; i++) {\r\n            if (i < max) {\r\n                s += ' ' + data.slice(i, i + 1).toString('hex');\r\n            }\r\n            else {\r\n                s += '   ';\r\n            }\r\n        }\r\n        s += '  ';\r\n        for (let i = lineOffset; i < lineOffset + 16; i++) {\r\n            if (i < max) {\r\n                const c = data[i];\r\n                s += c > 32 && c <= 127 ? data.slice(i, i + 1).toString() : '.';\r\n            }\r\n            else {\r\n                s += ' ';\r\n            }\r\n        }\r\n        s += '\\n';\r\n    }\r\n    if (max < data.length) {\r\n        s += '...\\n';\r\n    }\r\n    return s;\r\n}\r\nexports.formatBuffer = formatBuffer;\r\n//# sourceMappingURL=sshData.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshProtocol = void 0;\r\nconst buffer_1 = require(\"buffer\");\r\nconst queue_1 = require(\"../util/queue\");\r\nconst semaphore_1 = require(\"../util/semaphore\");\r\nconst sshMessage_1 = require(\"../messages/sshMessage\");\r\nconst sshData_1 = require(\"../io/sshData\");\r\nconst transportMessages_1 = require(\"../messages/transportMessages\");\r\nconst kexMessages_1 = require(\"../messages/kexMessages\");\r\nconst connectionMessages_1 = require(\"../messages/connectionMessages\");\r\nconst errors_1 = require(\"../errors\");\r\nconst trace_1 = require(\"../trace\");\r\nclass SequencedMessage {\r\n    constructor(sequence, message) {\r\n        this.sequence = sequence;\r\n        this.message = message;\r\n    }\r\n}\r\n/**\r\n * Implements the base SSH protocol (sending and receiving messages) over a Stream.\r\n */\r\nclass SshProtocol {\r\n    constructor(stream, config, metrics, trace) {\r\n        this.config = config;\r\n        this.metrics = metrics;\r\n        this.trace = trace;\r\n        this.sessionSemaphore = new semaphore_1.Semaphore(1);\r\n        this.inboundPacketSequence = 0;\r\n        this.outboundPacketSequence = 0;\r\n        this.inboundFlow = 0;\r\n        this.outboundFlow = 0;\r\n        // Sent messages are kept for a short time, until the other side acknowledges\r\n        // that they have been received. This enables re-sending lost messages on reconnect.\r\n        this.recentSentMessages = new queue_1.Queue();\r\n        // Initialize buffers that are re-used for each sent/received message.\r\n        // The buffers will be automatically expanded as necessary.\r\n        this.sendWriter = new sshData_1.SshDataWriter(buffer_1.Buffer.alloc(1024));\r\n        this.receiveWriter = new sshData_1.SshDataWriter(buffer_1.Buffer.alloc(1024));\r\n        /* @internal */\r\n        this.traceChannelData = false;\r\n        this.extensions = null;\r\n        this.kexService = null;\r\n        this.algorithms = null;\r\n        this.outgoingMessagesHaveLatencyInfo = false;\r\n        this.incomingMessagesHaveLatencyInfo = false;\r\n        this.outgoingMessagesHaveReconnectInfo = false;\r\n        this.incomingMessagesHaveReconnectInfo = false;\r\n        this.stream = stream;\r\n    }\r\n    get lastIncomingSequence() {\r\n        return this.inboundPacketSequence - 1;\r\n    }\r\n    getSentMessages(startingSequenceNumber) {\r\n        if (startingSequenceNumber === this.outboundPacketSequence + 1) {\r\n            // The recipient is already up-to-date.\r\n            return [];\r\n        }\r\n        if (this.recentSentMessages.size > 0 &&\r\n            startingSequenceNumber < this.recentSentMessages.peek().sequence) {\r\n            // The cached recent messages do not go back as far as the requested sequence number.\r\n            // This should never happen because messages are not dropped from this list until\r\n            // the other side acknowledges they have been received, so they should not be\r\n            // requested again after reconnecting.\r\n            return null;\r\n        }\r\n        // Return all messages starting with the requested sequence number.\r\n        // Exclude key exchange messages because they cannot be retransmitted; a reconnected\r\n        // session will do key exchange separately. Also exclude any disconnect messages that\r\n        // may have been attempted when the connection was lost.\r\n        const messagesToRetransmit = new Array();\r\n        for (const sequencedMessage of this.recentSentMessages) {\r\n            if (sequencedMessage.sequence >= startingSequenceNumber) {\r\n                const message = sequencedMessage.message;\r\n                if (!(message instanceof kexMessages_1.KeyExchangeMessage || message instanceof transportMessages_1.DisconnectMessage)) {\r\n                    messagesToRetransmit.push(message);\r\n                }\r\n            }\r\n        }\r\n        return messagesToRetransmit;\r\n    }\r\n    async writeProtocolVersion(version, cancellation) {\r\n        const stream = this.stream;\r\n        if (!stream)\r\n            throw new Error('SSH session disconnected.');\r\n        const data = buffer_1.Buffer.from(version + '\\r\\n');\r\n        await stream.write(data, cancellation);\r\n        this.metrics.addMessageSent(data.length);\r\n        return Promise.resolve();\r\n    }\r\n    async readProtocolVersion(cancellation) {\r\n        const stream = this.stream;\r\n        if (!stream)\r\n            throw new Error('SSH session disconnected.');\r\n        // http://tools.ietf.org/html/rfc4253#section-4.2\r\n        const buffer = buffer_1.Buffer.alloc(255);\r\n        let lineCount = 0;\r\n        for (let i = 0; i < buffer.length; i++) {\r\n            const byteBuffer = await stream.read(1, cancellation);\r\n            if (!byteBuffer) {\r\n                break;\r\n            }\r\n            buffer[i] = byteBuffer[0];\r\n            const carriageReturn = 0x0d;\r\n            const lineFeed = 0x0a;\r\n            if (i > 0 && buffer[i - 1] === carriageReturn && buffer[i] === lineFeed) {\r\n                const line = buffer.toString('utf8', 0, i - 1);\r\n                if (line.startsWith('SSH-')) {\r\n                    this.metrics.addMessageReceived(i + 1);\r\n                    return line;\r\n                }\r\n                else if (lineCount > 20) {\r\n                    // Give up if a version string was not found after 20 lines.\r\n                    break;\r\n                }\r\n                else {\r\n                    // Ignore initial lines before the version line.\r\n                    lineCount++;\r\n                    i = -1;\r\n                }\r\n            }\r\n        }\r\n        throw new errors_1.SshConnectionError('Failed to read the protocol version', transportMessages_1.SshDisconnectReason.protocolError);\r\n    }\r\n    async handleNewKeys(cancellation) {\r\n        try {\r\n            await this.sessionSemaphore.wait(cancellation);\r\n            this.inboundFlow = 0;\r\n            this.outboundFlow = 0;\r\n            this.algorithms = this.kexService.finishKeyExchange();\r\n        }\r\n        finally {\r\n            this.sessionSemaphore.release();\r\n        }\r\n    }\r\n    /**\r\n     * Attempts to read from the stream until the buffer is full.\r\n     * @returns True if the read succeeded, false if the stream was disposed.\r\n     */\r\n    async read(buffer, cancellation) {\r\n        const stream = this.stream;\r\n        if (!stream)\r\n            return false;\r\n        let bytesRead = 0;\r\n        do {\r\n            let data;\r\n            try {\r\n                data = await stream.read(buffer.length - bytesRead, cancellation);\r\n            }\r\n            catch (e) {\r\n                if (!(e instanceof Error))\r\n                    throw e;\r\n                if (stream.isDisposed)\r\n                    return false;\r\n                stream.dispose();\r\n                this.stream = null;\r\n                this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.streamReadError, `Error reading from stream: ${e.message}`, e);\r\n                throw new errors_1.SshConnectionError('Error reading from stream: ' + e.message, transportMessages_1.SshDisconnectReason.connectionLost);\r\n            }\r\n            if (!data)\r\n                return false;\r\n            data.copy(buffer, bytesRead);\r\n            bytesRead += data.length;\r\n        } while (bytesRead < buffer.length);\r\n        return true;\r\n    }\r\n    /**\r\n     * Attempts to write data to the stream.\r\n     * @returns True if the write succeeded, false if the stream was disposed.\r\n     */\r\n    async write(data, cancellation) {\r\n        const stream = this.stream;\r\n        if (!stream)\r\n            return false;\r\n        try {\r\n            await stream.write(data, cancellation);\r\n        }\r\n        catch (e) {\r\n            if (!(e instanceof Error))\r\n                throw e;\r\n            if (stream.isDisposed)\r\n                return false;\r\n            stream.dispose();\r\n            this.stream = null;\r\n            this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.streamWriteError, `Error writing to stream: ${e.message}`, e);\r\n            throw new errors_1.SshConnectionError('Error writing to stream: ' + e.message, transportMessages_1.SshDisconnectReason.connectionLost);\r\n        }\r\n        return true;\r\n    }\r\n    async considerReExchange(initial, cancellation) {\r\n        const kexService = this.kexService;\r\n        if (!kexService)\r\n            return;\r\n        let kexMessage = null;\r\n        let kexGuessMessage = null;\r\n        if (!kexService.exchanging &&\r\n            (initial || this.inboundFlow + this.outboundFlow > this.config.keyRotationThreshold)) {\r\n            [kexMessage, kexGuessMessage] = await kexService.startKeyExchange(initial);\r\n        }\r\n        if (kexMessage) {\r\n            await this.sendMessage(kexMessage, cancellation);\r\n            if (kexGuessMessage) {\r\n                await this.sendMessage(kexGuessMessage, cancellation);\r\n            }\r\n        }\r\n    }\r\n    async computeHmac(signer, payload, seq) {\r\n        const writer = new sshData_1.SshDataWriter(buffer_1.Buffer.alloc(4 + payload.length));\r\n        writer.writeUInt32(seq);\r\n        writer.write(payload);\r\n        const result = await signer.sign(writer.toBuffer());\r\n        return result;\r\n    }\r\n    async verifyHmac(verifier, payload, seq, mac) {\r\n        const writer = new sshData_1.SshDataWriter(buffer_1.Buffer.alloc(4 + payload.length));\r\n        writer.writeUInt32(seq);\r\n        writer.write(payload);\r\n        const result = await verifier.verify(writer.toBuffer(), mac);\r\n        return result;\r\n    }\r\n    async readAndVerifyHmac(verifier, data, macBuffer, cancellation) {\r\n        if (!(await this.read(macBuffer, cancellation))) {\r\n            return false;\r\n        }\r\n        const verified = await this.verifyHmac(verifier, data, this.inboundPacketSequence, macBuffer);\r\n        if (!verified) {\r\n            throw new errors_1.SshConnectionError('Invalid MAC', transportMessages_1.SshDisconnectReason.macError);\r\n        }\r\n        return true;\r\n    }\r\n    /**\r\n     * Attemps to write one message to the stream.\r\n     * @returns `true` if writing succeeded, `false` if the stream was disposed.\r\n     * @throws SshConnectionException if writing to the stream failed for any other reason.\r\n     */\r\n    async sendMessage(message, cancellation) {\r\n        var _a;\r\n        const algorithms = this.algorithms;\r\n        const compression = algorithms === null || algorithms === void 0 ? void 0 : algorithms.compressor;\r\n        const encryption = algorithms === null || algorithms === void 0 ? void 0 : algorithms.cipher;\r\n        const hmac = algorithms === null || algorithms === void 0 ? void 0 : algorithms.messageSigner;\r\n        let result;\r\n        await this.sessionSemaphore.wait(cancellation);\r\n        try {\r\n            const blockSize = encryption ? Math.max(8, encryption.blockLength) : 8;\r\n            // Start by writing the uncompressed payload to the buffer at the correct offset.\r\n            const payloadOffset = SshProtocol.packetLengthSize + SshProtocol.paddingLengthSize;\r\n            this.sendWriter.position = payloadOffset;\r\n            message.write(this.sendWriter);\r\n            if (this.outgoingMessagesHaveReconnectInfo) {\r\n                // Write the sequence number of the last inbound packet processed.\r\n                this.sendWriter.writeUInt64(this.lastIncomingSequence);\r\n                if (this.outgoingMessagesHaveLatencyInfo) {\r\n                    // Write the time (in microseconds, not ms) since last packet was received.\r\n                    const timeSinceLastReceivedMessage = Math.min(4294967295, // max uint32\r\n                    Math.round((this.metrics.time - this.lastIncomingTimestamp) * 1000));\r\n                    this.sendWriter.writeUInt32(timeSinceLastReceivedMessage);\r\n                }\r\n            }\r\n            let payload = this.sendWriter.toBuffer().slice(payloadOffset);\r\n            if (compression != null) {\r\n                payload = compression.compress(payload);\r\n            }\r\n            // The packet length is not encrypted when in EtM or AEAD mode.\r\n            const isLengthEncrypted = !((hmac === null || hmac === void 0 ? void 0 : hmac.encryptThenMac) || (hmac === null || hmac === void 0 ? void 0 : hmac.authenticatedEncryption));\r\n            // http://tools.ietf.org/html/rfc4253\r\n            // 6.  Binary Packet Protocol\r\n            // the total length of (packet_length || padding_length || payload || padding)\r\n            // is a multiple of the cipher block size or 8,\r\n            // padding length must between 4 and 255 bytes.\r\n            let paddingLength = blockSize -\r\n                (((isLengthEncrypted ? SshProtocol.packetLengthSize : 0) +\r\n                    SshProtocol.paddingLengthSize +\r\n                    payload.length) %\r\n                    blockSize);\r\n            if (paddingLength < 4) {\r\n                paddingLength += blockSize;\r\n            }\r\n            const packetLength = SshProtocol.paddingLengthSize + payload.length + paddingLength;\r\n            this.sendWriter.position = 0;\r\n            this.sendWriter.writeUInt32(packetLength);\r\n            this.sendWriter.writeByte(paddingLength);\r\n            // The uncompressed payload was already written at the correct offset.\r\n            // When compression is enabled, rewrite the compressed payload.\r\n            if (compression != null) {\r\n                this.sendWriter.write(payload);\r\n            }\r\n            else {\r\n                this.sendWriter.position += payload.length;\r\n            }\r\n            this.sendWriter.writeRandom(paddingLength);\r\n            payload = this.sendWriter.toBuffer();\r\n            let mac = null;\r\n            if ((hmac === null || hmac === void 0 ? void 0 : hmac.encryptThenMac) && encryption) {\r\n                // In EtM mode, compute the MAC after encrypting. And don't encrypt the length.\r\n                const packetWithoutLength = payload.slice(SshProtocol.packetLengthSize, payload.length);\r\n                const encryptedPacket = await encryption.transform(packetWithoutLength);\r\n                encryptedPacket.copy(packetWithoutLength);\r\n                mac = await this.computeHmac(hmac, payload, this.outboundPacketSequence);\r\n            }\r\n            else if (hmac === null || hmac === void 0 ? void 0 : hmac.authenticatedEncryption) {\r\n                // With a GCM cipher, the packet length is not included in the plaintext.\r\n                const packetWithoutLength = payload.slice(SshProtocol.packetLengthSize, payload.length);\r\n                const encryptedPacket = await encryption.transform(packetWithoutLength);\r\n                encryptedPacket.copy(packetWithoutLength);\r\n                // The GCM tag was already generated during the transform call above;\r\n                // this just retrieves it.\r\n                mac = await hmac.sign(packetWithoutLength);\r\n            }\r\n            else {\r\n                if (hmac) {\r\n                    mac = await this.computeHmac(hmac, payload, this.outboundPacketSequence);\r\n                }\r\n                if (encryption) {\r\n                    payload = await encryption.transform(payload);\r\n                }\r\n            }\r\n            if (!(message instanceof connectionMessages_1.ChannelDataMessage)) {\r\n                this.trace(trace_1.TraceLevel.Verbose, trace_1.SshTraceEventIds.sendingMessage, `Sending #${this.outboundPacketSequence} ${message}`);\r\n            }\r\n            else if (this.traceChannelData) {\r\n                this.trace(trace_1.TraceLevel.Verbose, trace_1.SshTraceEventIds.sendingChannelData, `Sending #${this.outboundPacketSequence} ${message}`);\r\n            }\r\n            if (this.incomingMessagesHaveReconnectInfo) {\r\n                // Save sent messages in case they need to be re-sent after reconnect.\r\n                // They'll be discarded soon, after the other side acknowledges them.\r\n                const sequencedMessage = new SequencedMessage(this.outboundPacketSequence, message);\r\n                sequencedMessage.sentTime = this.metrics.time;\r\n                this.recentSentMessages.enqueue(sequencedMessage);\r\n            }\r\n            this.outboundPacketSequence++;\r\n            this.outboundFlow += packetLength;\r\n            if (mac) {\r\n                const packet = buffer_1.Buffer.concat([payload, mac], payload.length + mac.length);\r\n                result = await this.write(packet, cancellation);\r\n            }\r\n            else {\r\n                result = await this.write(payload, cancellation);\r\n            }\r\n            this.metrics.addMessageSent(SshProtocol.packetLengthSize + packetLength + ((_a = hmac === null || hmac === void 0 ? void 0 : hmac.digestLength) !== null && _a !== void 0 ? _a : 0));\r\n        }\r\n        finally {\r\n            this.sessionSemaphore.release();\r\n        }\r\n        await this.considerReExchange(false, cancellation);\r\n        return result;\r\n    }\r\n    /**\r\n     * Attemps to read one message from the stream.\r\n     * @returns The message, or `null` if the stream was disposed.\r\n     * @throws SshConnectionError if reading from the stream failed for any other reason.\r\n     */\r\n    async receiveMessage(cancellation) {\r\n        var _a;\r\n        const algorithms = this.algorithms;\r\n        const encryption = algorithms === null || algorithms === void 0 ? void 0 : algorithms.decipher;\r\n        const hmac = algorithms === null || algorithms === void 0 ? void 0 : algorithms.messageVerifier;\r\n        const compression = algorithms === null || algorithms === void 0 ? void 0 : algorithms.decompressor;\r\n        // The packet length is not encrypted when in EtM or AEAD mode.\r\n        // So read only the length bytes first, separate from the remaining payload.\r\n        const isLengthEncrypted = !((hmac === null || hmac === void 0 ? void 0 : hmac.encryptThenMac) || (hmac === null || hmac === void 0 ? void 0 : hmac.authenticatedEncryption));\r\n        const firstBlockSize = !isLengthEncrypted\r\n            ? SshProtocol.packetLengthSize\r\n            : encryption\r\n                ? Math.max(8, encryption.blockLength)\r\n                : 8;\r\n        this.receiveWriter.position = firstBlockSize;\r\n        let firstBlock = this.receiveWriter.toBuffer();\r\n        if (!(await this.read(firstBlock, cancellation))) {\r\n            return null;\r\n        }\r\n        this.lastIncomingTimestamp = this.metrics.time;\r\n        // Decrypt the first block to get the packet length.\r\n        if (encryption && isLengthEncrypted) {\r\n            firstBlock = await encryption.transform(firstBlock);\r\n            this.receiveWriter.position = 0;\r\n            this.receiveWriter.write(firstBlock);\r\n        }\r\n        const receiveReader = new sshData_1.SshDataReader(firstBlock);\r\n        const packetLength = receiveReader.readUInt32();\r\n        if (packetLength > SshProtocol.maxPacketLength) {\r\n            throw new errors_1.SshConnectionError('Invalid packet length.', transportMessages_1.SshDisconnectReason.protocolError);\r\n        }\r\n        const packetBufferSize = SshProtocol.packetLengthSize + packetLength;\r\n        if (packetBufferSize > firstBlockSize) {\r\n            this.receiveWriter.skip(packetBufferSize - firstBlockSize);\r\n        }\r\n        if (hmac) {\r\n            // Ensure the receive buffer is large enough to also hold the mac without expanding.\r\n            this.receiveWriter.skip(hmac.digestLength);\r\n        }\r\n        const receiveBuffer = this.receiveWriter.toBuffer();\r\n        const packetBuffer = receiveBuffer.slice(0, packetBufferSize);\r\n        const macBuffer = receiveBuffer.slice(packetBufferSize);\r\n        let followingBlocks = packetBuffer.slice(firstBlockSize, packetBufferSize);\r\n        if (followingBlocks.length > 0) {\r\n            if (!(await this.read(followingBlocks, cancellation))) {\r\n                return null;\r\n            }\r\n            if (hmac === null || hmac === void 0 ? void 0 : hmac.encryptThenMac) {\r\n                // In EtM mode, read and verify the MAC before decrypting.\r\n                ///const packetWithoutLength = packet.slice(SshProtocol.packetLengthSize);\r\n                if (!(await this.readAndVerifyHmac(hmac, packetBuffer, macBuffer, cancellation))) {\r\n                    return null;\r\n                }\r\n            }\r\n            if (encryption) {\r\n                if (hmac === null || hmac === void 0 ? void 0 : hmac.authenticatedEncryption) {\r\n                    // With a GCM cipher, the MAC is required for decryption.\r\n                    if (!(await this.read(macBuffer, cancellation))) {\r\n                        return null;\r\n                    }\r\n                    // This doesn't actually verify anything yet (hence the return value is not checked);\r\n                    // it sets the tag to be used for verification in the following transform call.\r\n                    await hmac.verify(followingBlocks, macBuffer);\r\n                }\r\n                try {\r\n                    followingBlocks = await encryption.transform(followingBlocks);\r\n                }\r\n                catch (e) {\r\n                    if (hmac === null || hmac === void 0 ? void 0 : hmac.authenticatedEncryption) {\r\n                        // GCM decryption failed to verify data + tag.\r\n                        throw new errors_1.SshConnectionError('Invalid MAC', transportMessages_1.SshDisconnectReason.macError);\r\n                    }\r\n                    else {\r\n                        throw e;\r\n                    }\r\n                }\r\n                this.receiveWriter.position = firstBlockSize;\r\n                this.receiveWriter.write(followingBlocks);\r\n            }\r\n        }\r\n        if (hmac && !hmac.encryptThenMac && !hmac.authenticatedEncryption) {\r\n            if (!(await this.readAndVerifyHmac(hmac, packetBuffer, macBuffer, cancellation))) {\r\n                return null;\r\n            }\r\n        }\r\n        const paddingLength = packetBuffer[SshProtocol.packetLengthSize];\r\n        let payload = packetBuffer.slice(SshProtocol.packetLengthSize + SshProtocol.paddingLengthSize, SshProtocol.packetLengthSize + (packetLength - paddingLength));\r\n        if (compression) {\r\n            payload = compression.decompress(payload);\r\n        }\r\n        if (this.incomingMessagesHaveReconnectInfo) {\r\n            // Read the extension info from the end of the payload.\r\n            let lastSequenceSeenByRemote;\r\n            let remoteTimeSinceLastReceived;\r\n            if (this.incomingMessagesHaveLatencyInfo) {\r\n                const reader = new sshData_1.SshDataReader(payload.slice(payload.length - 12, payload.length));\r\n                lastSequenceSeenByRemote = reader.readUInt64();\r\n                remoteTimeSinceLastReceived = reader.readUInt32() / 1000; // microseconds to ms\r\n                payload = payload.slice(0, payload.length - 12);\r\n            }\r\n            else {\r\n                const reader = new sshData_1.SshDataReader(payload.slice(payload.length - 8, payload.length));\r\n                lastSequenceSeenByRemote = reader.readUInt64();\r\n                remoteTimeSinceLastReceived = 0;\r\n                payload = payload.slice(0, payload.length - 8);\r\n            }\r\n            // Discard any recently sent messages that were acknowledged.\r\n            while (this.recentSentMessages.size > 0) {\r\n                const oldestSequenceMessage = this.recentSentMessages.peek();\r\n                if (oldestSequenceMessage.sequence > lastSequenceSeenByRemote) {\r\n                    break;\r\n                }\r\n                if (this.stream &&\r\n                    this.incomingMessagesHaveLatencyInfo &&\r\n                    oldestSequenceMessage.sequence === lastSequenceSeenByRemote) {\r\n                    // Compute the time since the message with the last-seen sequence was sent.\r\n                    // Subtract the time between when the remote side received the message with the\r\n                    // last-seen sequence and sent the current message.\r\n                    const timeSinceSent = this.lastIncomingTimestamp - oldestSequenceMessage.sentTime;\r\n                    const roundTripLatency = timeSinceSent - remoteTimeSinceLastReceived;\r\n                    this.metrics.updateLatency(roundTripLatency);\r\n                }\r\n                this.recentSentMessages.dequeue();\r\n            }\r\n        }\r\n        const messageType = payload[0];\r\n        let message = sshMessage_1.SshMessage.create(this.config, messageType, payload);\r\n        if (!message) {\r\n            const unimplementedMessage = new transportMessages_1.UnimplementedMessage();\r\n            unimplementedMessage.sequenceNumber = this.inboundPacketSequence;\r\n            unimplementedMessage.unimplementedMessageType = messageType;\r\n            message = unimplementedMessage;\r\n        }\r\n        if (!(message instanceof connectionMessages_1.ChannelDataMessage)) {\r\n            this.trace(trace_1.TraceLevel.Verbose, trace_1.SshTraceEventIds.receivingMessage, `Receiving #${this.inboundPacketSequence} ${message}`);\r\n        }\r\n        else if (this.traceChannelData) {\r\n            this.trace(trace_1.TraceLevel.Verbose, trace_1.SshTraceEventIds.receivingChannelData, `Receiving #${this.inboundPacketSequence} ${message}`);\r\n        }\r\n        await this.sessionSemaphore.wait(cancellation);\r\n        this.inboundPacketSequence++;\r\n        this.inboundFlow += packetLength;\r\n        this.sessionSemaphore.release();\r\n        this.metrics.addMessageReceived(SshProtocol.packetLengthSize + packetLength + ((_a = hmac === null || hmac === void 0 ? void 0 : hmac.digestLength) !== null && _a !== void 0 ? _a : 0));\r\n        await this.considerReExchange(false, cancellation);\r\n        return message;\r\n    }\r\n    dispose() {\r\n        try {\r\n            if (this.stream)\r\n                this.stream.close().catch((e) => {\r\n                    this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.streamCloseError, `Error closing stream: ${e.message}`, e);\r\n                });\r\n        }\r\n        catch (e) {\r\n            if (!(e instanceof Error))\r\n                throw e;\r\n            this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.streamCloseError, `Error closing stream: ${e.message}`, e);\r\n        }\r\n        this.stream = null;\r\n        this.metrics.updateLatency(0);\r\n        if (this.algorithms)\r\n            this.algorithms.dispose();\r\n    }\r\n}\r\nexports.SshProtocol = SshProtocol;\r\nSshProtocol.maxPacketLength = 1024 * 1024; // 1 MB\r\nSshProtocol.packetLengthSize = 4;\r\nSshProtocol.paddingLengthSize = 1;\r\n//# sourceMappingURL=sshProtocol.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AuthenticationSuccessMessage = exports.AuthenticationFailureMessage = exports.PasswordRequestMessage = exports.PublicKeyOKMessage = exports.PublicKeyRequestMessage = exports.AuthenticationRequestMessage = exports.AuthenticationMessage = void 0;\r\nconst sshMessage_1 = require(\"./sshMessage\");\r\nclass AuthenticationMessage extends sshMessage_1.SshMessage {\r\n}\r\nexports.AuthenticationMessage = AuthenticationMessage;\r\nclass AuthenticationRequestMessage extends AuthenticationMessage {\r\n    get messageType() {\r\n        return 50;\r\n    }\r\n    onRead(reader) {\r\n        this.username = reader.readString('utf8');\r\n        this.serviceName = reader.readString('ascii');\r\n        this.methodName = reader.readString('ascii');\r\n    }\r\n    onWrite(writer) {\r\n        writer.writeString(this.username || '', 'utf8');\r\n        writer.writeString(this.serviceName || '', 'ascii');\r\n        writer.writeString(this.validateField(this.methodName, 'method name'), 'ascii');\r\n    }\r\n}\r\nexports.AuthenticationRequestMessage = AuthenticationRequestMessage;\r\nclass PublicKeyRequestMessage extends AuthenticationRequestMessage {\r\n    constructor() {\r\n        super();\r\n        this.methodName = \"publickey\" /* AuthenticationMethod.publicKey */;\r\n    }\r\n    get hasSignature() {\r\n        return this.signature && this.signature.length > 0 ? true : false;\r\n    }\r\n    onRead(reader) {\r\n        super.onRead(reader);\r\n        const hasSignature = reader.readBoolean();\r\n        this.keyAlgorithmName = reader.readString('ascii');\r\n        this.publicKey = reader.readBinary();\r\n        if (hasSignature) {\r\n            this.signature = reader.readBinary();\r\n            this.payloadWithoutSignature = this.rawBytes.slice(0, this.rawBytes.length - this.signature.length - 4);\r\n        }\r\n        else {\r\n            this.signature = undefined;\r\n        }\r\n    }\r\n    onWrite(writer) {\r\n        var _a, _b;\r\n        super.onWrite(writer);\r\n        if (!this.keyAlgorithmName)\r\n            throw new Error('Key algorithm name not set.');\r\n        if (this.methodName === \"hostbased\" /* AuthenticationMethod.hostBased */) {\r\n            writer.writeString(this.keyAlgorithmName, 'ascii');\r\n            writer.writeBinary(this.publicKey || Buffer.alloc(0));\r\n            writer.writeString((_a = this.clientHostname) !== null && _a !== void 0 ? _a : '', 'ascii');\r\n            writer.writeString((_b = this.clientUsername) !== null && _b !== void 0 ? _b : '', 'ascii');\r\n            if (!this.hasSignature) {\r\n                throw new Error('A signature is required for a host-based authentcation request.');\r\n            }\r\n            writer.writeBinary(this.signature);\r\n        }\r\n        else {\r\n            writer.writeBoolean(this.hasSignature);\r\n            writer.writeString(this.keyAlgorithmName, 'ascii');\r\n            writer.writeBinary(this.publicKey || Buffer.alloc(0));\r\n            if (this.hasSignature) {\r\n                writer.writeBinary(this.signature);\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.PublicKeyRequestMessage = PublicKeyRequestMessage;\r\nclass PublicKeyOKMessage extends AuthenticationMessage {\r\n    get messageType() {\r\n        return 60;\r\n    }\r\n    onRead(reader) {\r\n        this.keyAlgorithmName = reader.readString('ascii');\r\n        this.publicKey = reader.readBinary();\r\n    }\r\n    onWrite(writer) {\r\n        if (!this.keyAlgorithmName)\r\n            throw new Error('Key algorithm name not set.');\r\n        if (!this.publicKey)\r\n            throw new Error('Public key not set.');\r\n        writer.writeString(this.keyAlgorithmName, 'ascii');\r\n        writer.writeBinary(this.publicKey);\r\n    }\r\n}\r\nexports.PublicKeyOKMessage = PublicKeyOKMessage;\r\nclass PasswordRequestMessage extends AuthenticationRequestMessage {\r\n    constructor() {\r\n        super();\r\n        this.methodName = \"password\" /* AuthenticationMethod.password */;\r\n    }\r\n    onRead(reader) {\r\n        super.onRead(reader);\r\n        reader.readBoolean();\r\n        this.password = reader.readString('utf8');\r\n    }\r\n    onWrite(writer) {\r\n        super.onWrite(writer);\r\n        writer.writeBoolean(false);\r\n        writer.writeString(this.password || '', 'utf8');\r\n    }\r\n}\r\nexports.PasswordRequestMessage = PasswordRequestMessage;\r\nclass AuthenticationFailureMessage extends AuthenticationMessage {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.partialSuccess = false;\r\n    }\r\n    get messageType() {\r\n        return 51;\r\n    }\r\n    onRead(reader) {\r\n        this.methodNames = reader.readList('ascii');\r\n        this.partialSuccess = reader.readBoolean();\r\n    }\r\n    onWrite(writer) {\r\n        writer.writeList(this.methodNames || [], 'ascii');\r\n        writer.writeBoolean(this.partialSuccess);\r\n    }\r\n}\r\nexports.AuthenticationFailureMessage = AuthenticationFailureMessage;\r\nclass AuthenticationSuccessMessage extends AuthenticationMessage {\r\n    get messageType() {\r\n        return 52;\r\n    }\r\n    onRead(reader) { }\r\n    onWrite(writer) { }\r\n}\r\nexports.AuthenticationSuccessMessage = AuthenticationSuccessMessage;\r\nsshMessage_1.SshMessage.index.set(50, AuthenticationRequestMessage);\r\nsshMessage_1.SshMessage.index.set(51, AuthenticationFailureMessage);\r\nsshMessage_1.SshMessage.index.set(52, AuthenticationSuccessMessage);\r\n//# sourceMappingURL=authenticationMessages.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ChannelFailureMessage = exports.ChannelSuccessMessage = exports.ChannelSignalMessage = exports.CommandRequestMessage = exports.ChannelRequestMessage = exports.ChannelRequestType = exports.ChannelCloseMessage = exports.ChannelEofMessage = exports.ChannelDataMessage = exports.ChannelWindowAdjustMessage = exports.ChannelOpenFailureMessage = exports.SshChannelOpenFailureReason = exports.ChannelOpenConfirmationMessage = exports.ChannelOpenMessage = exports.ChannelMessage = exports.ConnectionMessage = void 0;\r\nconst sshMessage_1 = require(\"./sshMessage\");\r\nconst sshData_1 = require(\"../io/sshData\");\r\nclass ConnectionMessage extends sshMessage_1.SshMessage {\r\n}\r\nexports.ConnectionMessage = ConnectionMessage;\r\nclass ChannelMessage extends ConnectionMessage {\r\n    get recipientChannel() {\r\n        return this.recipientChannelValue;\r\n    }\r\n    set recipientChannel(value) {\r\n        if (value !== this.recipientChannelValue) {\r\n            this.recipientChannelValue = value;\r\n            if (this.rawBytes) {\r\n                // The recipientChannel can be updated without re-serializing the message.\r\n                // This supports piping channel messages with re-mapped channel IDs.\r\n                // The recipientChannel field follows the 1-byte message type.\r\n                sshData_1.SshDataWriter.writeUInt32(this.rawBytes, 1, value !== null && value !== void 0 ? value : 0);\r\n            }\r\n        }\r\n    }\r\n    onRead(reader) {\r\n        this.recipientChannel = reader.readUInt32();\r\n    }\r\n    onWrite(writer) {\r\n        writer.writeUInt32(this.validateField(this.recipientChannel, 'recipient channel'));\r\n    }\r\n    toString() {\r\n        return `${super.toString()} (recipientChannel=${this.recipientChannel})`;\r\n    }\r\n}\r\nexports.ChannelMessage = ChannelMessage;\r\nclass ChannelOpenMessage extends ConnectionMessage {\r\n    get messageType() {\r\n        return 90;\r\n    }\r\n    get senderChannel() {\r\n        return this.senderChannelValue;\r\n    }\r\n    set senderChannel(value) {\r\n        if (value !== this.senderChannelValue) {\r\n            this.senderChannelValue = value;\r\n            if (this.rawBytes && this.channelType) {\r\n                // The senderChannel can be updated without re-serializing the message.\r\n                // This supports piping channel messages with re-mapped channel IDs.\r\n                // The senderChannel field follows the 1-byte message type and\r\n                // length-prefixed channelType string.\r\n                sshData_1.SshDataWriter.writeUInt32(this.rawBytes, 1 + 4 + this.channelType.length, value !== null && value !== void 0 ? value : 0);\r\n            }\r\n        }\r\n    }\r\n    onRead(reader) {\r\n        this.channelType = reader.readString('ascii');\r\n        this.senderChannel = reader.readUInt32();\r\n        this.maxWindowSize = reader.readUInt32();\r\n        this.maxPacketSize = reader.readUInt32();\r\n    }\r\n    onWrite(writer) {\r\n        writer.writeString(this.validateField(this.channelType, 'channel type'), 'ascii');\r\n        writer.writeUInt32(this.validateField(this.senderChannel, 'sender channel'));\r\n        writer.writeUInt32(this.maxWindowSize || ChannelOpenMessage.defaultMaxWindowSize);\r\n        writer.writeUInt32(this.maxPacketSize || ChannelOpenMessage.defaultMaxPacketSize);\r\n    }\r\n    toString() {\r\n        return `${super.toString()}(channelType=${this.channelType}, senderChannel=${this.senderChannel})`;\r\n    }\r\n}\r\nexports.ChannelOpenMessage = ChannelOpenMessage;\r\n/* @internal */\r\nChannelOpenMessage.defaultMaxPacketSize = 32 * 1024;\r\n/* @internal */\r\nChannelOpenMessage.defaultMaxWindowSize = 1024 * 1024;\r\nclass ChannelOpenConfirmationMessage extends ChannelMessage {\r\n    get messageType() {\r\n        return 91;\r\n    }\r\n    onRead(reader) {\r\n        super.onRead(reader);\r\n        this.senderChannel = reader.readUInt32();\r\n        this.maxWindowSize = reader.readUInt32();\r\n        this.maxPacketSize = reader.readUInt32();\r\n    }\r\n    onWrite(writer) {\r\n        super.onWrite(writer);\r\n        writer.writeUInt32(this.validateField(this.senderChannel, 'sender channel'));\r\n        writer.writeUInt32(this.validateField(this.maxWindowSize, 'max window size'));\r\n        writer.writeUInt32(this.validateField(this.maxPacketSize, 'max packet size'));\r\n    }\r\n    toString() {\r\n        return `${super.toString()}(senderChannel=${this.senderChannel})`;\r\n    }\r\n}\r\nexports.ChannelOpenConfirmationMessage = ChannelOpenConfirmationMessage;\r\nvar SshChannelOpenFailureReason;\r\n(function (SshChannelOpenFailureReason) {\r\n    SshChannelOpenFailureReason[SshChannelOpenFailureReason[\"none\"] = 0] = \"none\";\r\n    SshChannelOpenFailureReason[SshChannelOpenFailureReason[\"administrativelyProhibited\"] = 1] = \"administrativelyProhibited\";\r\n    SshChannelOpenFailureReason[SshChannelOpenFailureReason[\"connectFailed\"] = 2] = \"connectFailed\";\r\n    SshChannelOpenFailureReason[SshChannelOpenFailureReason[\"unknownChannelType\"] = 3] = \"unknownChannelType\";\r\n    SshChannelOpenFailureReason[SshChannelOpenFailureReason[\"resourceShortage\"] = 4] = \"resourceShortage\";\r\n})(SshChannelOpenFailureReason = exports.SshChannelOpenFailureReason || (exports.SshChannelOpenFailureReason = {}));\r\nclass ChannelOpenFailureMessage extends ChannelMessage {\r\n    get messageType() {\r\n        return 92;\r\n    }\r\n    onRead(reader) {\r\n        super.onRead(reader);\r\n        this.reasonCode = reader.readUInt32();\r\n        this.description = reader.readString('utf8');\r\n        this.language = reader.readString('ascii');\r\n    }\r\n    onWrite(writer) {\r\n        super.onWrite(writer);\r\n        writer.writeUInt32(this.validateField(this.reasonCode, 'reason code'));\r\n        writer.writeString(this.description || '', 'utf8');\r\n        writer.writeString(this.language || 'en', 'ascii');\r\n    }\r\n    toString() {\r\n        return `${super.toString()} (${SshChannelOpenFailureReason[this.reasonCode || 0]}: ${this.description})`;\r\n    }\r\n}\r\nexports.ChannelOpenFailureMessage = ChannelOpenFailureMessage;\r\nclass ChannelWindowAdjustMessage extends ChannelMessage {\r\n    get messageType() {\r\n        return 93;\r\n    }\r\n    onRead(reader) {\r\n        super.onRead(reader);\r\n        this.bytesToAdd = reader.readUInt32();\r\n    }\r\n    onWrite(writer) {\r\n        super.onWrite(writer);\r\n        writer.writeUInt32(this.validateField(this.bytesToAdd, 'bytes to add'));\r\n    }\r\n    toString() {\r\n        return `${super.toString()} (bytesToAdd=${this.bytesToAdd})`;\r\n    }\r\n}\r\nexports.ChannelWindowAdjustMessage = ChannelWindowAdjustMessage;\r\nclass ChannelDataMessage extends ChannelMessage {\r\n    get messageType() {\r\n        return 94;\r\n    }\r\n    onRead(reader) {\r\n        super.onRead(reader);\r\n        this.data = reader.readBinary();\r\n    }\r\n    onWrite(writer) {\r\n        super.onWrite(writer);\r\n        writer.writeBinary(this.validateField(this.data, 'data'));\r\n    }\r\n    toString() {\r\n        return this.data ? (0, sshData_1.formatBuffer)(this.data, '') : '[0]';\r\n    }\r\n}\r\nexports.ChannelDataMessage = ChannelDataMessage;\r\nclass ChannelEofMessage extends ChannelMessage {\r\n    get messageType() {\r\n        return 96;\r\n    }\r\n}\r\nexports.ChannelEofMessage = ChannelEofMessage;\r\nclass ChannelCloseMessage extends ChannelMessage {\r\n    get messageType() {\r\n        return 97;\r\n    }\r\n}\r\nexports.ChannelCloseMessage = ChannelCloseMessage;\r\nvar ChannelRequestType;\r\n(function (ChannelRequestType) {\r\n    ChannelRequestType[\"command\"] = \"exec\";\r\n    ChannelRequestType[\"shell\"] = \"shell\";\r\n    ChannelRequestType[\"terminal\"] = \"pty-req\";\r\n    ChannelRequestType[\"signal\"] = \"signal\";\r\n    ChannelRequestType[\"exitSignal\"] = \"exit-signal\";\r\n    ChannelRequestType[\"exitStatus\"] = \"exit-status\";\r\n})(ChannelRequestType = exports.ChannelRequestType || (exports.ChannelRequestType = {}));\r\nclass ChannelRequestMessage extends ChannelMessage {\r\n    constructor(requestType, wantReply) {\r\n        super();\r\n        this.requestType = requestType;\r\n        this.wantReply = wantReply !== null && wantReply !== void 0 ? wantReply : false;\r\n    }\r\n    get messageType() {\r\n        return 98;\r\n    }\r\n    onRead(reader) {\r\n        super.onRead(reader);\r\n        this.requestType = reader.readString('ascii');\r\n        this.wantReply = reader.readBoolean();\r\n    }\r\n    onWrite(writer) {\r\n        if (typeof this.recipientChannel === 'undefined') {\r\n            // The recipient channel field may be uninitialized when sending a channel request\r\n            // that is bundled with the channel-open request.\r\n            this.recipientChannel = 0;\r\n        }\r\n        super.onWrite(writer);\r\n        writer.writeString(this.validateField(this.requestType, 'request type'), 'ascii');\r\n        writer.writeBoolean(this.wantReply);\r\n    }\r\n}\r\nexports.ChannelRequestMessage = ChannelRequestMessage;\r\nclass CommandRequestMessage extends ChannelRequestMessage {\r\n    constructor() {\r\n        super();\r\n        this.requestType = ChannelRequestType.command;\r\n    }\r\n    onRead(reader) {\r\n        super.onRead(reader);\r\n        this.command = reader.readString('utf8');\r\n    }\r\n    onWrite(writer) {\r\n        super.onWrite(writer);\r\n        writer.writeString(this.validateField(this.command, 'command'), 'utf8');\r\n    }\r\n    toString() {\r\n        return `${super.toString()} (requestType=${this.requestType})`;\r\n    }\r\n}\r\nexports.CommandRequestMessage = CommandRequestMessage;\r\nclass ChannelSignalMessage extends ChannelRequestMessage {\r\n    constructor() {\r\n        super();\r\n    }\r\n    get signal() {\r\n        return this.signalValue;\r\n    }\r\n    set signal(value) {\r\n        this.requestType = ChannelRequestType.signal;\r\n        this.signalValue = value;\r\n    }\r\n    get exitSignal() {\r\n        return this.signalValue;\r\n    }\r\n    set exitSignal(value) {\r\n        this.requestType = ChannelRequestType.exitSignal;\r\n        this.signalValue = value;\r\n    }\r\n    get errorMessage() {\r\n        return this.errorMessageValue;\r\n    }\r\n    set errorMessage(value) {\r\n        if (this.requestType !== ChannelRequestType.exitSignal) {\r\n            throw new Error(`Error message property is only valid for ${ChannelRequestType.exitSignal} messages.`);\r\n        }\r\n        this.errorMessageValue = value;\r\n    }\r\n    get exitStatus() {\r\n        return this.statusValue;\r\n    }\r\n    set exitStatus(value) {\r\n        this.requestType = ChannelRequestType.exitStatus;\r\n        this.statusValue = value;\r\n    }\r\n    onRead(reader) {\r\n        super.onRead(reader);\r\n        switch (this.requestType) {\r\n            case ChannelRequestType.exitStatus:\r\n                this.exitStatus = reader.readUInt32();\r\n                break;\r\n            case ChannelRequestType.signal:\r\n                this.signal = reader.readString('ascii');\r\n                break;\r\n            case ChannelRequestType.exitSignal:\r\n                this.exitSignal = reader.readString('ascii');\r\n                reader.readBoolean(); // Core dumped\r\n                this.errorMessage = reader.readString('utf8');\r\n                reader.readString('ascii'); // Language tag\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    onWrite(writer) {\r\n        if (!this.requestType) {\r\n            throw new Error('Signal message request type not set.');\r\n        }\r\n        this.wantReply = false;\r\n        super.onWrite(writer);\r\n        switch (this.requestType) {\r\n            case ChannelRequestType.exitStatus:\r\n                writer.writeUInt32(this.validateField(this.exitStatus, 'exit status'));\r\n                break;\r\n            case ChannelRequestType.signal:\r\n                writer.writeString(this.validateField(this.signal, 'signal'), 'ascii');\r\n                break;\r\n            case ChannelRequestType.exitSignal:\r\n                writer.writeString(this.validateField(this.exitSignal, 'exit signal'), 'ascii');\r\n                writer.writeBoolean(false); // Core dumped\r\n                writer.writeString(this.errorMessage || '', 'utf8');\r\n                writer.writeString('', 'ascii'); // Language tag\r\n                break;\r\n            default:\r\n                throw new Error(`Unknown signal message request type: ${this.requestType}`);\r\n        }\r\n    }\r\n}\r\nexports.ChannelSignalMessage = ChannelSignalMessage;\r\nclass ChannelSuccessMessage extends ChannelMessage {\r\n    get messageType() {\r\n        return 99;\r\n    }\r\n}\r\nexports.ChannelSuccessMessage = ChannelSuccessMessage;\r\nclass ChannelFailureMessage extends ChannelMessage {\r\n    get messageType() {\r\n        return 100;\r\n    }\r\n}\r\nexports.ChannelFailureMessage = ChannelFailureMessage;\r\nsshMessage_1.SshMessage.index.set(90, ChannelOpenMessage);\r\nsshMessage_1.SshMessage.index.set(91, ChannelOpenConfirmationMessage);\r\nsshMessage_1.SshMessage.index.set(92, ChannelOpenFailureMessage);\r\nsshMessage_1.SshMessage.index.set(93, ChannelWindowAdjustMessage);\r\nsshMessage_1.SshMessage.index.set(94, ChannelDataMessage);\r\nsshMessage_1.SshMessage.index.set(96, ChannelEofMessage);\r\nsshMessage_1.SshMessage.index.set(97, ChannelCloseMessage);\r\nsshMessage_1.SshMessage.index.set(98, ChannelRequestMessage);\r\nsshMessage_1.SshMessage.index.set(99, ChannelSuccessMessage);\r\nsshMessage_1.SshMessage.index.set(100, ChannelFailureMessage);\r\n//# sourceMappingURL=connectionMessages.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.NewKeysMessage = exports.KeyExchangeDhReplyMessage = exports.KeyExchangeDhInitMessage = exports.KeyExchangeInitMessage = exports.KeyExchangeMessage = void 0;\r\nconst buffer_1 = require(\"buffer\");\r\nconst sshMessage_1 = require(\"./sshMessage\");\r\nconst sshAlgorithms_1 = require(\"../algorithms/sshAlgorithms\");\r\nclass KeyExchangeMessage extends sshMessage_1.SshMessage {\r\n}\r\nexports.KeyExchangeMessage = KeyExchangeMessage;\r\nconst keyExchangeInitCookieLength = 16;\r\nclass KeyExchangeInitMessage extends KeyExchangeMessage {\r\n    get messageType() {\r\n        return 20;\r\n    }\r\n    onRead(reader) {\r\n        this.cookie = reader.read(keyExchangeInitCookieLength);\r\n        this.keyExchangeAlgorithms = reader.readList('ascii');\r\n        this.serverHostKeyAlgorithms = reader.readList('ascii');\r\n        this.encryptionAlgorithmsClientToServer = reader.readList('ascii');\r\n        this.encryptionAlgorithmsServerToClient = reader.readList('ascii');\r\n        this.macAlgorithmsClientToServer = reader.readList('ascii');\r\n        this.macAlgorithmsServerToClient = reader.readList('ascii');\r\n        this.compressionAlgorithmsClientToServer = reader.readList('ascii');\r\n        this.compressionAlgorithmsServerToClient = reader.readList('ascii');\r\n        this.languagesClientToServer = reader.readList('ascii');\r\n        this.languagesServerToClient = reader.readList('ascii');\r\n        this.firstKexPacketFollows = reader.readBoolean();\r\n        this.reserved = reader.readUInt32();\r\n    }\r\n    onWrite(writer) {\r\n        var _a;\r\n        if (!this.cookie) {\r\n            this.cookie = buffer_1.Buffer.alloc(keyExchangeInitCookieLength);\r\n            sshAlgorithms_1.SshAlgorithms.random.getBytes(this.cookie);\r\n        }\r\n        writer.write(this.cookie);\r\n        writer.writeList(this.keyExchangeAlgorithms || [], 'ascii');\r\n        writer.writeList(this.serverHostKeyAlgorithms || [], 'ascii');\r\n        writer.writeList(this.encryptionAlgorithmsClientToServer || [], 'ascii');\r\n        writer.writeList(this.encryptionAlgorithmsServerToClient || [], 'ascii');\r\n        writer.writeList(this.macAlgorithmsClientToServer || [], 'ascii');\r\n        writer.writeList(this.macAlgorithmsServerToClient || [], 'ascii');\r\n        writer.writeList(this.compressionAlgorithmsClientToServer || [], 'ascii');\r\n        writer.writeList(this.compressionAlgorithmsServerToClient || [], 'ascii');\r\n        writer.writeList(this.languagesClientToServer || [], 'ascii');\r\n        writer.writeList(this.languagesServerToClient || [], 'ascii');\r\n        writer.writeBoolean((_a = this.firstKexPacketFollows) !== null && _a !== void 0 ? _a : false);\r\n        writer.writeUInt32(this.reserved || 0);\r\n    }\r\n    static CreateNone() {\r\n        const noneArray = ['none'];\r\n        const emptyArray = [''];\r\n        const message = new KeyExchangeInitMessage();\r\n        message.cookie = buffer_1.Buffer.alloc(keyExchangeInitCookieLength);\r\n        message.keyExchangeAlgorithms = noneArray;\r\n        message.serverHostKeyAlgorithms = noneArray;\r\n        message.encryptionAlgorithmsClientToServer = noneArray;\r\n        message.encryptionAlgorithmsServerToClient = noneArray;\r\n        message.macAlgorithmsClientToServer = noneArray;\r\n        message.macAlgorithmsServerToClient = noneArray;\r\n        message.compressionAlgorithmsClientToServer = noneArray;\r\n        message.compressionAlgorithmsServerToClient = noneArray;\r\n        message.languagesClientToServer = emptyArray;\r\n        message.languagesServerToClient = emptyArray;\r\n        // Save the serialized bytes so that the message doesn't have to be re-serialized every time\r\n        // it is sent.\r\n        message.rawBytes = message.toBuffer();\r\n        return message;\r\n    }\r\n    get allowsNone() {\r\n        const includesNone = (algorithms) => (algorithms === null || algorithms === void 0 ? void 0 : algorithms.includes('none')) === true;\r\n        return (includesNone(this.keyExchangeAlgorithms) &&\r\n            includesNone(this.serverHostKeyAlgorithms) &&\r\n            includesNone(this.encryptionAlgorithmsClientToServer) &&\r\n            includesNone(this.encryptionAlgorithmsServerToClient) &&\r\n            includesNone(this.macAlgorithmsClientToServer) &&\r\n            includesNone(this.macAlgorithmsServerToClient) &&\r\n            includesNone(this.compressionAlgorithmsClientToServer) &&\r\n            includesNone(this.compressionAlgorithmsServerToClient) &&\r\n            this.firstKexPacketFollows !== true);\r\n    }\r\n}\r\nexports.KeyExchangeInitMessage = KeyExchangeInitMessage;\r\nKeyExchangeInitMessage.none = KeyExchangeInitMessage.CreateNone();\r\nclass KeyExchangeDhInitMessage extends KeyExchangeMessage {\r\n    get messageType() {\r\n        return 30;\r\n    }\r\n    onRead(reader) {\r\n        this.e = reader.readBinary();\r\n    }\r\n    onWrite(writer) {\r\n        writer.writeBinary(this.validateField(this.e, 'E'));\r\n    }\r\n}\r\nexports.KeyExchangeDhInitMessage = KeyExchangeDhInitMessage;\r\nclass KeyExchangeDhReplyMessage extends KeyExchangeMessage {\r\n    get messageType() {\r\n        return 31;\r\n    }\r\n    onRead(reader) {\r\n        this.hostKey = reader.readBinary();\r\n        this.f = reader.readBinary();\r\n        this.signature = reader.readBinary();\r\n    }\r\n    onWrite(writer) {\r\n        writer.writeBinary(this.validateField(this.hostKey, 'host key'));\r\n        writer.writeBinary(this.validateField(this.f, 'F'));\r\n        writer.writeBinary(this.validateField(this.signature, 'signature'));\r\n    }\r\n}\r\nexports.KeyExchangeDhReplyMessage = KeyExchangeDhReplyMessage;\r\nclass NewKeysMessage extends KeyExchangeMessage {\r\n    get messageType() {\r\n        return 21;\r\n    }\r\n    onRead(reader) { }\r\n    onWrite(writer) { }\r\n}\r\nexports.NewKeysMessage = NewKeysMessage;\r\nsshMessage_1.SshMessage.index.set(20, KeyExchangeInitMessage);\r\nsshMessage_1.SshMessage.index.set(30, KeyExchangeDhInitMessage);\r\nsshMessage_1.SshMessage.index.set(31, KeyExchangeDhReplyMessage);\r\nsshMessage_1.SshMessage.index.set(21, NewKeysMessage);\r\n//# sourceMappingURL=kexMessages.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshMessage = void 0;\r\nconst buffer_1 = require(\"buffer\");\r\nconst sshData_1 = require(\"../io/sshData\");\r\nclass SshMessage {\r\n    get messageType() {\r\n        return 0;\r\n    }\r\n    toBuffer() {\r\n        const writer = new sshData_1.SshDataWriter(buffer_1.Buffer.alloc(16));\r\n        this.write(writer);\r\n        return writer.toBuffer();\r\n    }\r\n    read(reader) {\r\n        this.rawBytes = reader.buffer;\r\n        const number = reader.readByte();\r\n        if (number !== this.messageType) {\r\n            throw new Error(`Message type ${number} is not valid.`);\r\n        }\r\n        this.onRead(reader);\r\n    }\r\n    write(writer) {\r\n        if (this.rawBytes) {\r\n            // Piped messages are rewritten without re-serialization. This preserves any\r\n            // unparsed extended message data. It assumes no properties of the message\r\n            // have been modified without also updating the serialized bytes.\r\n            writer.write(this.rawBytes);\r\n        }\r\n        else {\r\n            writer.writeByte(this.messageType);\r\n            this.onWrite(writer);\r\n        }\r\n    }\r\n    /**\r\n     * Rewrites the message to its buffer to ensure the buffer has the correct values.\r\n     * This should be called after modifying properties of a message that was (potentially)\r\n     * received, before re-sending it.\r\n     */\r\n    rewrite() {\r\n        if (this.rawBytes) {\r\n            const writer = new sshData_1.SshDataWriter(buffer_1.Buffer.alloc(16));\r\n            writer.writeByte(this.messageType);\r\n            this.onWrite(writer);\r\n            this.rawBytes = writer.toBuffer();\r\n        }\r\n    }\r\n    onRead(reader) {\r\n        throw new Error('Not supported.');\r\n    }\r\n    onWrite(writer) {\r\n        throw new Error('Not supported.');\r\n    }\r\n    validateField(value, name) {\r\n        if (typeof value === 'undefined') {\r\n            throw new Error(`${this.constructor.name} ${name} is required.`);\r\n        }\r\n        return value;\r\n    }\r\n    toString() {\r\n        return this.constructor.name;\r\n    }\r\n    static create(config, messageType, data) {\r\n        const messageClass = config.messages.get(messageType);\r\n        if (messageClass) {\r\n            const message = new messageClass();\r\n            message.read(new sshData_1.SshDataReader(data));\r\n            return message;\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n    convertTo(otherMessage, copy = false) {\r\n        const reader = new sshData_1.SshDataReader(copy ? buffer_1.Buffer.from(this.rawBytes) : this.rawBytes);\r\n        otherMessage.read(reader);\r\n        return otherMessage;\r\n    }\r\n}\r\nexports.SshMessage = SshMessage;\r\nSshMessage.index = new Map();\r\n//# sourceMappingURL=sshMessage.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SessionReconnectFailureMessage = exports.SshReconnectFailureReason = exports.SessionReconnectResponseMessage = exports.SessionReconnectRequestMessage = exports.SessionChannelRequestMessage = exports.ExtensionInfoMessage = exports.SessionRequestFailureMessage = exports.SessionRequestSuccessMessage = exports.SessionRequestMessage = exports.ServiceAcceptMessage = exports.ServiceRequestMessage = exports.DebugMessage = exports.UnimplementedMessage = exports.IgnoreMessage = exports.DisconnectMessage = exports.SshDisconnectReason = void 0;\r\nconst sshMessage_1 = require(\"./sshMessage\");\r\nconst connectionMessages_1 = require(\"./connectionMessages\");\r\nvar SshDisconnectReason;\r\n(function (SshDisconnectReason) {\r\n    SshDisconnectReason[SshDisconnectReason[\"none\"] = 0] = \"none\";\r\n    SshDisconnectReason[SshDisconnectReason[\"hostNotAllowedToConnect\"] = 1] = \"hostNotAllowedToConnect\";\r\n    SshDisconnectReason[SshDisconnectReason[\"protocolError\"] = 2] = \"protocolError\";\r\n    SshDisconnectReason[SshDisconnectReason[\"keyExchangeFailed\"] = 3] = \"keyExchangeFailed\";\r\n    SshDisconnectReason[SshDisconnectReason[\"reserved\"] = 4] = \"reserved\";\r\n    SshDisconnectReason[SshDisconnectReason[\"macError\"] = 5] = \"macError\";\r\n    SshDisconnectReason[SshDisconnectReason[\"compressionError\"] = 6] = \"compressionError\";\r\n    SshDisconnectReason[SshDisconnectReason[\"serviceNotAvailable\"] = 7] = \"serviceNotAvailable\";\r\n    SshDisconnectReason[SshDisconnectReason[\"protocolVersionNotSupported\"] = 8] = \"protocolVersionNotSupported\";\r\n    SshDisconnectReason[SshDisconnectReason[\"hostKeyNotVerifiable\"] = 9] = \"hostKeyNotVerifiable\";\r\n    SshDisconnectReason[SshDisconnectReason[\"connectionLost\"] = 10] = \"connectionLost\";\r\n    SshDisconnectReason[SshDisconnectReason[\"byApplication\"] = 11] = \"byApplication\";\r\n    SshDisconnectReason[SshDisconnectReason[\"tooManyConnections\"] = 12] = \"tooManyConnections\";\r\n    SshDisconnectReason[SshDisconnectReason[\"authCancelledByUser\"] = 13] = \"authCancelledByUser\";\r\n    SshDisconnectReason[SshDisconnectReason[\"noMoreAuthMethodsAvailable\"] = 14] = \"noMoreAuthMethodsAvailable\";\r\n    SshDisconnectReason[SshDisconnectReason[\"illegalUserName\"] = 15] = \"illegalUserName\";\r\n})(SshDisconnectReason = exports.SshDisconnectReason || (exports.SshDisconnectReason = {}));\r\nclass DisconnectMessage extends sshMessage_1.SshMessage {\r\n    get messageType() {\r\n        return 1;\r\n    }\r\n    onRead(reader) {\r\n        this.reasonCode = reader.readUInt32();\r\n        this.description = reader.readString('utf8');\r\n        if (reader.available >= 4) {\r\n            this.language = reader.readString('ascii');\r\n        }\r\n        else {\r\n            this.language = null;\r\n        }\r\n    }\r\n    onWrite(writer) {\r\n        writer.writeUInt32(this.validateField(this.reasonCode, 'reason code'));\r\n        writer.writeString(this.description || '', 'utf8');\r\n        if (this.language) {\r\n            writer.writeString(this.language, 'ascii');\r\n        }\r\n    }\r\n    toString() {\r\n        return `${super.toString()} (${SshDisconnectReason[this.reasonCode || 0]}: ${this.description})`;\r\n    }\r\n}\r\nexports.DisconnectMessage = DisconnectMessage;\r\nclass IgnoreMessage extends sshMessage_1.SshMessage {\r\n    get messageType() {\r\n        return 2;\r\n    }\r\n    onRead(reader) { }\r\n    onWrite(writer) { }\r\n}\r\nexports.IgnoreMessage = IgnoreMessage;\r\nclass UnimplementedMessage extends sshMessage_1.SshMessage {\r\n    get messageType() {\r\n        return 3;\r\n    }\r\n    onRead(reader) {\r\n        this.sequenceNumber = reader.readUInt32();\r\n    }\r\n    onWrite(writer) {\r\n        writer.writeUInt32(this.validateField(this.sequenceNumber, 'sequence number'));\r\n    }\r\n    toString() {\r\n        return this.unimplementedMessageType\r\n            ? `${super.toString()} (messageType=${this.unimplementedMessageType})`\r\n            : `${super.toString()} (sequenceNumber=${this.sequenceNumber})`;\r\n    }\r\n}\r\nexports.UnimplementedMessage = UnimplementedMessage;\r\nclass DebugMessage extends sshMessage_1.SshMessage {\r\n    constructor(message) {\r\n        super();\r\n        this.alwaysDisplay = false;\r\n        this.message = message;\r\n    }\r\n    get messageType() {\r\n        return 4;\r\n    }\r\n    onRead(reader) {\r\n        this.alwaysDisplay = reader.readBoolean();\r\n        this.message = reader.readString('utf8');\r\n        this.language = reader.readString('ascii');\r\n    }\r\n    onWrite(writer) {\r\n        var _a, _b;\r\n        writer.writeBoolean(this.alwaysDisplay);\r\n        writer.writeString((_a = this.message) !== null && _a !== void 0 ? _a : '', 'utf8');\r\n        writer.writeString((_b = this.language) !== null && _b !== void 0 ? _b : '', 'ascii');\r\n    }\r\n    toString() {\r\n        return `${super.toString()}: ${this.message}`;\r\n    }\r\n}\r\nexports.DebugMessage = DebugMessage;\r\nclass ServiceRequestMessage extends sshMessage_1.SshMessage {\r\n    get messageType() {\r\n        return 5;\r\n    }\r\n    onRead(reader) {\r\n        this.serviceName = reader.readString('ascii');\r\n    }\r\n    onWrite(writer) {\r\n        writer.writeString(this.validateField(this.serviceName, 'service name'), 'ascii');\r\n    }\r\n}\r\nexports.ServiceRequestMessage = ServiceRequestMessage;\r\nclass ServiceAcceptMessage extends sshMessage_1.SshMessage {\r\n    get messageType() {\r\n        return 6;\r\n    }\r\n    onRead(reader) {\r\n        this.serviceName = reader.readString('ascii');\r\n    }\r\n    onWrite(writer) {\r\n        writer.writeString(this.validateField(this.serviceName, 'service name'), 'ascii');\r\n    }\r\n}\r\nexports.ServiceAcceptMessage = ServiceAcceptMessage;\r\nclass SessionRequestMessage extends sshMessage_1.SshMessage {\r\n    constructor(requestType, wantReply) {\r\n        super();\r\n        this.requestType = requestType;\r\n        this.wantReply = wantReply !== null && wantReply !== void 0 ? wantReply : false;\r\n    }\r\n    get messageType() {\r\n        return 80;\r\n    }\r\n    onRead(reader) {\r\n        this.requestType = reader.readString('ascii');\r\n        this.wantReply = reader.readBoolean();\r\n    }\r\n    onWrite(writer) {\r\n        writer.writeString(this.validateField(this.requestType, 'request type'), 'ascii');\r\n        writer.writeBoolean(this.wantReply);\r\n    }\r\n    toString() {\r\n        return `${super.toString()} (requestType=${this.requestType})`;\r\n    }\r\n}\r\nexports.SessionRequestMessage = SessionRequestMessage;\r\nclass SessionRequestSuccessMessage extends sshMessage_1.SshMessage {\r\n    get messageType() {\r\n        return 81;\r\n    }\r\n    onRead(reader) { }\r\n    onWrite(writer) { }\r\n}\r\nexports.SessionRequestSuccessMessage = SessionRequestSuccessMessage;\r\nclass SessionRequestFailureMessage extends sshMessage_1.SshMessage {\r\n    get messageType() {\r\n        return 82;\r\n    }\r\n    onRead(reader) { }\r\n    onWrite(writer) { }\r\n}\r\nexports.SessionRequestFailureMessage = SessionRequestFailureMessage;\r\nclass ExtensionInfoMessage extends sshMessage_1.SshMessage {\r\n    constructor() {\r\n        // https://tools.ietf.org/html/draft-ietf-curdle-ssh-ext-info-15\r\n        super(...arguments);\r\n        this.extensionInfo = {};\r\n    }\r\n    get messageType() {\r\n        return 7;\r\n    }\r\n    onRead(reader) {\r\n        const count = reader.readUInt32();\r\n        this.extensionInfo = {};\r\n        for (let i = 0; i < count; i++) {\r\n            const key = reader.readString('ascii');\r\n            const value = reader.readString('utf8');\r\n            this.extensionInfo[key] = value;\r\n        }\r\n    }\r\n    onWrite(writer) {\r\n        const keys = Object.keys(this.extensionInfo);\r\n        writer.writeUInt32(keys.length);\r\n        for (const key of keys) {\r\n            writer.writeString(key, 'ascii');\r\n            writer.writeString(this.extensionInfo[key] || '', 'utf8');\r\n        }\r\n    }\r\n    toString() {\r\n        let extensionInfoDetails = '';\r\n        for (const [key, value] of Object.entries(this.extensionInfo)) {\r\n            if (extensionInfoDetails) {\r\n                extensionInfoDetails += '; ';\r\n            }\r\n            extensionInfoDetails += key;\r\n            if (value) {\r\n                extensionInfoDetails += '=' + value;\r\n            }\r\n        }\r\n        return `${super.toString()} (${extensionInfoDetails})`;\r\n    }\r\n}\r\nexports.ExtensionInfoMessage = ExtensionInfoMessage;\r\nExtensionInfoMessage.serverIndicator = 'ext-info-c';\r\nExtensionInfoMessage.clientIndicator = 'ext-info-c';\r\nclass SessionChannelRequestMessage extends SessionRequestMessage {\r\n    onRead(reader) {\r\n        super.onRead(reader);\r\n        this.senderChannel = reader.readUInt32();\r\n        const request = new connectionMessages_1.ChannelRequestMessage();\r\n        request.read(reader);\r\n        this.request = request;\r\n    }\r\n    onWrite(writer) {\r\n        super.onWrite(writer);\r\n        writer.writeUInt32(this.validateField(this.senderChannel, 'sender channel'));\r\n        this.validateField(this.request, 'request message').write(writer);\r\n    }\r\n}\r\nexports.SessionChannelRequestMessage = SessionChannelRequestMessage;\r\nclass SessionReconnectRequestMessage extends SessionRequestMessage {\r\n    onRead(reader) {\r\n        super.onRead(reader);\r\n        this.clientReconnectToken = reader.readBinary();\r\n        this.lastReceivedSequenceNumber = reader.readUInt64();\r\n    }\r\n    onWrite(writer) {\r\n        super.onWrite(writer);\r\n        writer.writeBinary(this.validateField(this.clientReconnectToken, 'clientReconnectToken'));\r\n        writer.writeUInt64(this.validateField(this.lastReceivedSequenceNumber, 'lastReceivedSequenceNumber'));\r\n    }\r\n}\r\nexports.SessionReconnectRequestMessage = SessionReconnectRequestMessage;\r\nclass SessionReconnectResponseMessage extends SessionRequestSuccessMessage {\r\n    onRead(reader) {\r\n        super.onRead(reader);\r\n        this.serverReconnectToken = reader.readBinary();\r\n        this.lastReceivedSequenceNumber = reader.readUInt64();\r\n    }\r\n    onWrite(writer) {\r\n        super.onWrite(writer);\r\n        writer.writeBinary(this.validateField(this.serverReconnectToken, 'serverReconnectToken'));\r\n        writer.writeUInt64(this.validateField(this.lastReceivedSequenceNumber, 'lastReceivedSequenceNumber'));\r\n    }\r\n}\r\nexports.SessionReconnectResponseMessage = SessionReconnectResponseMessage;\r\nvar SshReconnectFailureReason;\r\n(function (SshReconnectFailureReason) {\r\n    /** No reason was specified. */\r\n    SshReconnectFailureReason[SshReconnectFailureReason[\"none\"] = 0] = \"none\";\r\n    /**\r\n     * Reconnection failed due to an unknown server-side error.\r\n     */\r\n    SshReconnectFailureReason[SshReconnectFailureReason[\"unknownServerFailure\"] = 1] = \"unknownServerFailure\";\r\n    /**\r\n     * The session ID requested by the client for reconnection was not found among\r\n     * the server's reconnectable sessions.\r\n     */\r\n    SshReconnectFailureReason[SshReconnectFailureReason[\"sessionNotFound\"] = 2] = \"sessionNotFound\";\r\n    /**\r\n     * The reconnect token supplied by the client was invalid when checked by the server.\r\n     * The validation ensures that the client knows a secret key negotiated in the\r\n     * previously connected session.\r\n     */\r\n    SshReconnectFailureReason[SshReconnectFailureReason[\"invalidClientReconnectToken\"] = 3] = \"invalidClientReconnectToken\";\r\n    /**\r\n     * The server was unable to re-send dropped messages that were requested by the client.\r\n     */\r\n    SshReconnectFailureReason[SshReconnectFailureReason[\"serverDroppedMessages\"] = 4] = \"serverDroppedMessages\";\r\n    /**\r\n     * Reconnection failed due to an unknown client-side error.\r\n     */\r\n    SshReconnectFailureReason[SshReconnectFailureReason[\"unknownClientFailure\"] = 101] = \"unknownClientFailure\";\r\n    /**\r\n     * The host key supplied by the reconnected server did not match the host key from the\r\n     * original session; the client refused to reconnect to a different host.\r\n     */\r\n    SshReconnectFailureReason[SshReconnectFailureReason[\"differentServerHostKey\"] = 102] = \"differentServerHostKey\";\r\n    /**\r\n     * The reconnect token supplied by the server was invalid when checked by the client.\r\n     * The validation ensures that the server knows a secret key negotiated in the\r\n     * previously connected session.\r\n     */\r\n    SshReconnectFailureReason[SshReconnectFailureReason[\"invalidServerReconnectToken\"] = 103] = \"invalidServerReconnectToken\";\r\n    /**\r\n     * The client was unable to re-send dropped messages that were requested by the server.\r\n     */\r\n    SshReconnectFailureReason[SshReconnectFailureReason[\"clientDroppedMessages\"] = 104] = \"clientDroppedMessages\";\r\n})(SshReconnectFailureReason = exports.SshReconnectFailureReason || (exports.SshReconnectFailureReason = {}));\r\nclass SessionReconnectFailureMessage extends SessionRequestFailureMessage {\r\n    onRead(reader) {\r\n        if (reader.available > 0) {\r\n            this.reasonCode = reader.readUInt32();\r\n            this.description = reader.readString('utf8');\r\n            this.language = reader.readString('ascii');\r\n        }\r\n    }\r\n    onWrite(writer) {\r\n        writer.writeUInt32(this.validateField(this.reasonCode, 'reason code'));\r\n        writer.writeString(this.description || '', 'utf8');\r\n        writer.writeString(this.language || 'en', 'ascii');\r\n    }\r\n    toString() {\r\n        return `${super.toString()} (${SshReconnectFailureReason[this.reasonCode || 0]}: ${this.description})`;\r\n    }\r\n}\r\nexports.SessionReconnectFailureMessage = SessionReconnectFailureMessage;\r\nsshMessage_1.SshMessage.index.set(1, DisconnectMessage);\r\nsshMessage_1.SshMessage.index.set(2, IgnoreMessage);\r\nsshMessage_1.SshMessage.index.set(3, UnimplementedMessage);\r\nsshMessage_1.SshMessage.index.set(5, ServiceRequestMessage);\r\nsshMessage_1.SshMessage.index.set(6, ServiceAcceptMessage);\r\nsshMessage_1.SshMessage.index.set(7, ExtensionInfoMessage);\r\nsshMessage_1.SshMessage.index.set(80, SessionRequestMessage);\r\nsshMessage_1.SshMessage.index.set(81, SessionRequestSuccessMessage);\r\nsshMessage_1.SshMessage.index.set(82, SessionRequestFailureMessage);\r\n//# sourceMappingURL=transportMessages.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ChannelMetrics = void 0;\r\n/**\r\n * Collects cumulative measurements about a channel.\r\n */\r\nclass ChannelMetrics {\r\n    /* @internal */\r\n    constructor() {\r\n        this.bytesSentSum = 0;\r\n        this.bytesReceivedSum = 0;\r\n    }\r\n    /**\r\n     * Gets the total cumulative number of bytes sent for the duration of the channel,\r\n     * not including message framing, padding, and MAC bytes.\r\n     */\r\n    get bytesSent() {\r\n        return this.bytesSentSum;\r\n    }\r\n    /**\r\n     * Gets the total cumulative number of bytes received for the duration of the channel,\r\n     * not including message framing, padding, and MAC bytes.\r\n     */\r\n    get bytesReceived() {\r\n        return this.bytesReceivedSum;\r\n    }\r\n    /* @internal */\r\n    addBytesSent(count) {\r\n        this.bytesSentSum += count;\r\n    }\r\n    /* @internal */\r\n    addBytesReceived(count) {\r\n        this.bytesReceivedSum += count;\r\n    }\r\n    toString() {\r\n        return `Bytes S/R: ${this.bytesSent} / ${this.bytesReceived}; `;\r\n    }\r\n}\r\nexports.ChannelMetrics = ChannelMetrics;\r\n//# sourceMappingURL=channelMetrics.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SessionContour = void 0;\r\nconst errors_1 = require(\"../errors\");\r\nconst queue_1 = require(\"../util/queue\");\r\nconst semaphore_1 = require(\"../util/semaphore\");\r\n/**\r\n * Collects session metrics over time, producing an outline of the timing, speed,\r\n * and quantity of bytes sent/received during the session.\r\n *\r\n * Metrics are recorded across a number of equal time intervals. As the session time\r\n * increases, intervals are expanded to keep the number of intervals under the configured\r\n * maximum. Each expansion doubles the length of all intervals, while combining the metrics\r\n * within each pair of combined intervals. Therefore, a longer session has longer intervals\r\n * and less-granular metrics. In this way, the memory usage (and serialized size) of the\r\n * session contour remains roughly constant regardless of the length of the session.\r\n *\r\n * Metrics exposed via the collection properties on this class may be momentarily\r\n * inconsistent (but will not throw exceptions) if continued session operation causes\r\n * intervals to be expanded while the data is being read concurrently. To avoid any\r\n * inconsistency, hold a lock on the <see cref=\"SessionContour\" /> instance while reading\r\n * data. (Or wait until the session ends.)\r\n *\r\n * A session contour can be exported in a compact form suitable for logging or telemetry.\r\n * Use the code in `SessionContour.kql` to chart a session contour in Azure Data Explorer.\r\n */\r\nclass SessionContour {\r\n    /**\r\n     * Creates a new instance of the `SessionContour` class.\r\n     *\r\n     * @param maxIntervals Maximum number of metric intervals to record,\r\n     * defaults to 256. Must be a power of two.\r\n     */\r\n    constructor(maxIntervals = 256) {\r\n        /** Current size of the metrics interval, in milliseconds. */\r\n        this.intervalMs = SessionContour.initialInterval;\r\n        /** Number of intervals for which metrics have been recorded. */\r\n        this.count = 0;\r\n        this.updateQueue = new queue_1.Queue();\r\n        this.updateSemaphore = new semaphore_1.Semaphore(0);\r\n        this.disposed = false;\r\n        if (maxIntervals < 2 || (maxIntervals & (maxIntervals - 1)) !== 0) {\r\n            throw new Error('Contour intervals must be a power of two.');\r\n        }\r\n        this.maxIntervals = maxIntervals;\r\n        this.intervalBytesSent = new Array(maxIntervals);\r\n        this.intervalBytesReceived = new Array(maxIntervals);\r\n        this.intervalLatencyMin = new Array(maxIntervals);\r\n        this.intervalLatencyMax = new Array(maxIntervals);\r\n        this.intervalLatencySum = new Array(maxIntervals);\r\n        this.intervalLatencyCount = new Array(maxIntervals);\r\n        this.intervalLatencyAvg = new Array(maxIntervals);\r\n        this.intervalBytesSent.fill(0);\r\n        this.intervalBytesReceived.fill(0);\r\n        this.intervalLatencyMin.fill(0);\r\n        this.intervalLatencyMax.fill(0);\r\n        this.intervalLatencySum.fill(0);\r\n        this.intervalLatencyCount.fill(0);\r\n        this.intervalLatencyAvg.fill(0);\r\n    }\r\n    /**\r\n     * Gets the current number of contour intervals with recorded metrics. This is always\r\n     * less than `maxIntervals`.\r\n     */\r\n    get intervalCount() {\r\n        return this.count;\r\n    }\r\n    /**\r\n     * Gets the current time span of each contour interval, in milliseconds. This interval time\r\n     * span is doubled as necesary such that the entire duration of the session is always covered\r\n     * by fewer intervals than the maximum.\r\n     */\r\n    get interval() {\r\n        return this.intervalMs;\r\n    }\r\n    /**\r\n     * Gets the total number of bytes sent for each interval during the session,\r\n     * including all channels and non-channel protocol messages, and including message\r\n     * framing, padding, and MAC bytes. The number of values is equal to `intervalCount`.\r\n     */\r\n    get bytesSent() {\r\n        return this.intervalBytesSent.slice(0, this.count);\r\n    }\r\n    /**\r\n     * Gets the total number of bytes received for each interval during the session,\r\n     * including all channels and non-channel protocol messages, and including message\r\n     * framing, padding, and MAC bytes. The number of values is equal to `intervalCount`.\r\n     */\r\n    get bytesReceived() {\r\n        return this.intervalBytesReceived.slice(0, this.count);\r\n    }\r\n    /**\r\n     * Gets the minimum recorded round-trip connection latency between client and server for\r\n     * each interval during the session. The number of values is equal to `intervalCount`.\r\n     */\r\n    get latencyMinMs() {\r\n        return this.intervalLatencyMin.slice(0, this.count);\r\n    }\r\n    /**\r\n     * Gets the maximum recorded round-trip connection latency between client and server for\r\n     * each interval during the session. The number of values is equal to `intervalCount`.\r\n     */\r\n    get latencyMaxMs() {\r\n        return this.intervalLatencyMax.slice(0, this.count);\r\n    }\r\n    /**\r\n     * Gets the average recorded round-trip connection latency between client and server for\r\n     * each interval during the session. The number of values is equal to `intervalCount`.\r\n     */\r\n    get latencyAverageMs() {\r\n        return this.intervalLatencyAvg.slice(0, this.count);\r\n    }\r\n    onMessageSent(e) {\r\n        this.updateQueue.enqueue({\r\n            time: e.time,\r\n            bytesSent: e.size,\r\n        });\r\n        this.updateSemaphore.tryRelease();\r\n    }\r\n    onMessageReceived(e) {\r\n        this.updateQueue.enqueue({\r\n            time: e.time,\r\n            bytesReceived: e.size,\r\n        });\r\n        this.updateSemaphore.tryRelease();\r\n    }\r\n    onLatencyUpdated(e) {\r\n        this.updateQueue.enqueue(e);\r\n        this.updateSemaphore.tryRelease();\r\n    }\r\n    onSessionClosed() {\r\n        this.updateSemaphore.tryRelease();\r\n    }\r\n    /**\r\n     * Starts collecting session metrics, and processes the metrics in a backgroud loop until\r\n     * cancelled or until the session is closed or the `SessionContour` instance is disposed.\r\n     */\r\n    async collectMetrics(sessionMetrics, cancellation) {\r\n        if (!sessionMetrics)\r\n            throw new TypeError('A session metrics object is required.');\r\n        if (this.disposed)\r\n            throw new errors_1.ObjectDisposedError(this);\r\n        const eventRegistrations = [];\r\n        eventRegistrations.push(sessionMetrics.onMessageSent(this.onMessageSent.bind(this)));\r\n        eventRegistrations.push(sessionMetrics.onMessageReceived(this.onMessageReceived.bind(this)));\r\n        eventRegistrations.push(sessionMetrics.onLatencyUpdated(this.onLatencyUpdated.bind(this)));\r\n        eventRegistrations.push(sessionMetrics.onSessionClosed(this.onSessionClosed.bind(this)));\r\n        try {\r\n            while (!(cancellation === null || cancellation === void 0 ? void 0 : cancellation.isCancellationRequested)) {\r\n                try {\r\n                    await this.updateSemaphore.wait(cancellation);\r\n                }\r\n                catch (e) {\r\n                    // The semaphore was disposed.\r\n                    break;\r\n                }\r\n                const update = this.updateQueue.dequeue();\r\n                if (!update) {\r\n                    // The semaphore was released without enqueueing an update item.\r\n                    break;\r\n                }\r\n                const intervalIndex = this.updateInterval(update.time);\r\n                if (update.bytesSent) {\r\n                    this.intervalBytesSent[intervalIndex] += update.bytesSent;\r\n                }\r\n                if (update.bytesReceived) {\r\n                    this.intervalBytesReceived[intervalIndex] += update.bytesReceived;\r\n                }\r\n                const latency = update.latency;\r\n                if (latency) {\r\n                    if (!this.intervalLatencyMin[intervalIndex] ||\r\n                        latency < this.intervalLatencyMin[intervalIndex]) {\r\n                        this.intervalLatencyMin[intervalIndex] = latency;\r\n                    }\r\n                    if (!this.intervalLatencyMax[intervalIndex] ||\r\n                        latency > this.intervalLatencyMax[intervalIndex]) {\r\n                        this.intervalLatencyMax[intervalIndex] = latency;\r\n                    }\r\n                    this.intervalLatencySum[intervalIndex] += latency;\r\n                    this.intervalLatencyCount[intervalIndex]++;\r\n                    this.intervalLatencyAvg[intervalIndex] =\r\n                        this.intervalLatencySum[intervalIndex] / this.intervalLatencyCount[intervalIndex];\r\n                }\r\n            }\r\n            if (this.disposed) {\r\n                this.updateSemaphore.dispose();\r\n            }\r\n        }\r\n        finally {\r\n            for (const eventRegistration of eventRegistrations) {\r\n                eventRegistration.dispose();\r\n            }\r\n        }\r\n    }\r\n    updateInterval(time) {\r\n        let intervalIndex = Math.floor(time / this.intervalMs);\r\n        if (intervalIndex >= this.intervalCount) {\r\n            // Expand as needed to accomodate the current time interval.\r\n            while (intervalIndex >= this.maxIntervals) {\r\n                this.expandIntervals();\r\n                intervalIndex = Math.floor(time / this.intervalMs);\r\n            }\r\n            this.count = intervalIndex + 1;\r\n        }\r\n        return intervalIndex;\r\n    }\r\n    expandIntervals() {\r\n        const combineLatency = (a, b, f) => a === 0 ? b : b === 0 ? a : f(a, b);\r\n        const halfMaxIntervals = this.maxIntervals / 2;\r\n        for (let i = 0; i < halfMaxIntervals; i++) {\r\n            const iA = 2 * i;\r\n            const iB = 2 * i + 1;\r\n            this.intervalBytesSent[i] = this.intervalBytesSent[iA] + this.intervalBytesSent[iB];\r\n            this.intervalBytesReceived[i] =\r\n                this.intervalBytesReceived[iA] + this.intervalBytesReceived[iB];\r\n            this.intervalLatencyMin[i] = combineLatency(this.intervalLatencyMin[iA], this.intervalLatencyMin[iB], Math.min);\r\n            this.intervalLatencyMax[i] = combineLatency(this.intervalLatencyMax[iA], this.intervalLatencyMax[iB], Math.max);\r\n            this.intervalLatencySum[i] = this.intervalLatencySum[iA] + this.intervalLatencySum[iB];\r\n            const countSum = this.intervalLatencyCount[iA] + this.intervalLatencyCount[iB];\r\n            this.intervalLatencyCount[i] = countSum;\r\n            this.intervalLatencyAvg[i] =\r\n                countSum === 0 ? 0 : this.intervalLatencySum[i] / this.intervalLatencyCount[i];\r\n        }\r\n        this.intervalBytesSent.fill(0, halfMaxIntervals, this.maxIntervals);\r\n        this.intervalBytesReceived.fill(0, halfMaxIntervals, this.maxIntervals);\r\n        this.intervalLatencyMin.fill(0, halfMaxIntervals, this.maxIntervals);\r\n        this.intervalLatencyMax.fill(0, halfMaxIntervals, this.maxIntervals);\r\n        this.intervalLatencySum.fill(0, halfMaxIntervals, this.maxIntervals);\r\n        this.intervalLatencyCount.fill(0, halfMaxIntervals, this.maxIntervals);\r\n        this.intervalLatencyAvg.fill(0, halfMaxIntervals, this.maxIntervals);\r\n        this.intervalMs *= 2;\r\n    }\r\n    dispose() {\r\n        this.disposed = true;\r\n        // The semaphore will be disposed after all remaining updates have been processed.\r\n        this.updateSemaphore.tryRelease();\r\n    }\r\n    /**\r\n     * Serializes the session contour into a compact form suitable for recording in\r\n     * logs or telemetry.\r\n     *\r\n     * This compact serialization format uses one byte per metric per interval, so there is\r\n     * some loss of precision, but generally not so much that it affects a visualization. A\r\n     * scale factor for each metric is automatically determined and included in the serialized\r\n     * header. The size of the serialized encoded data will be a little under 7 bytes per\r\n     * interval. With the default interval maximum (256), that comes out to less than 1.75 KB.\r\n     *\r\n     * Use the code in `SessionContour.kql` to decode and chart this output in\r\n     * Azure Data Explorer.\r\n     */\r\n    export() {\r\n        // Time and value scales are in log2 form, determined based on the maximum\r\n        // value in each series. This allows for a reasonable range of precision for each\r\n        // value (with byte values ranging from 0-255). For example a max latency in the\r\n        // 500ms range will get a scale factor of 1 (because ceil(log2(500/255)) = 1), so\r\n        // each serialized value (0-255) is half the actual value (0-510).\r\n        const getScale = (values) => Math.max(0, Math.ceil(Math.log2(Math.max(...values) / 255)));\r\n        const applyReverseScale = (value, scale) => Math.round(value / Math.pow(2, scale));\r\n        const bytes = Buffer.alloc(3 + (2 + this.intervalCount) * 5);\r\n        const version = 1;\r\n        const timeScale = Math.log2(this.interval / SessionContour.initialInterval);\r\n        bytes[0] = version;\r\n        bytes[1] = 5; // Number of metrics per interval\r\n        bytes[2] = timeScale;\r\n        bytes[3] = getScale(this.latencyMinMs);\r\n        bytes[4] = getScale(this.latencyMaxMs);\r\n        bytes[5] = getScale(this.latencyAverageMs);\r\n        bytes[6] = getScale(this.bytesSent);\r\n        bytes[7] = getScale(this.bytesReceived);\r\n        bytes[8] = SessionMetric.latencyMin;\r\n        bytes[9] = SessionMetric.latencyMax;\r\n        bytes[10] = SessionMetric.latencyAverage;\r\n        bytes[11] = SessionMetric.bytesSent;\r\n        bytes[12] = SessionMetric.bytesReceived;\r\n        for (let i = 0; i < this.intervalCount; i++) {\r\n            const offset = 13 + 5 * i;\r\n            bytes[offset + 0] = applyReverseScale(this.intervalLatencyMin[i], bytes[3]);\r\n            bytes[offset + 1] = applyReverseScale(this.intervalLatencyMax[i], bytes[4]);\r\n            bytes[offset + 2] = applyReverseScale(this.intervalLatencyAvg[i], bytes[5]);\r\n            bytes[offset + 3] = applyReverseScale(this.intervalBytesSent[i], bytes[6]);\r\n            bytes[offset + 4] = applyReverseScale(this.intervalBytesReceived[i], bytes[7]);\r\n        }\r\n        return bytes.toString('base64');\r\n    }\r\n    /**\r\n     * Deserializes a session contour that was previously exported.\r\n     *\r\n     * Due to loss in precision, some values in the deserialized contour will not exactly match\r\n     * the original, but they will be close.\r\n     */\r\n    static import(contourBase64) {\r\n        const bytes = Buffer.from(contourBase64, 'base64');\r\n        if (bytes.length < 3) {\r\n            throw new Error('Invalid session contour string.');\r\n        }\r\n        const version = bytes[0];\r\n        const metricsPerInterval = bytes[1];\r\n        const timeScale = bytes[2];\r\n        if (version !== 1) {\r\n            throw new Error(`Unsupported session contour version: ${version}`);\r\n        }\r\n        const intervalCount = (bytes.length - 3) / metricsPerInterval - 2;\r\n        if (intervalCount < 1 || bytes.length !== 3 + metricsPerInterval * (intervalCount + 2)) {\r\n            throw new Error('Incomplete session contour string.');\r\n        }\r\n        const maxIntervals = Math.pow(2, Math.ceil(Math.log2(intervalCount)));\r\n        const sessionContour = new SessionContour(maxIntervals);\r\n        sessionContour.intervalMs = Math.pow(2, timeScale) * SessionContour.initialInterval;\r\n        sessionContour.count = intervalCount;\r\n        const scales = new Array(metricsPerInterval);\r\n        for (let m = 0; m < metricsPerInterval; m++) {\r\n            scales[m] = Math.pow(2, bytes[3 + m]);\r\n        }\r\n        const ids = new Array(metricsPerInterval);\r\n        for (let m = 0; m < metricsPerInterval; m++) {\r\n            ids[m] = bytes[3 + metricsPerInterval + m];\r\n        }\r\n        for (let i = 0; i < intervalCount; i++) {\r\n            const offset = 3 + (2 + i) * metricsPerInterval;\r\n            for (let m = 0; m < metricsPerInterval; m++) {\r\n                switch (ids[m]) {\r\n                    case SessionMetric.latencyMin:\r\n                        sessionContour.intervalLatencyMin[i] = bytes[offset + m] * scales[m];\r\n                        break;\r\n                    case SessionMetric.latencyMax:\r\n                        sessionContour.intervalLatencyMax[i] = bytes[offset + m] * scales[m];\r\n                        break;\r\n                    case SessionMetric.latencyAverage:\r\n                        sessionContour.intervalLatencyAvg[i] = sessionContour.intervalLatencySum[i] =\r\n                            bytes[offset + m] * scales[m];\r\n                        sessionContour.intervalLatencyCount[i] = bytes[offset + m] === 0 ? 0 : 1;\r\n                        break;\r\n                    case SessionMetric.bytesSent:\r\n                        sessionContour.intervalBytesSent[i] = bytes[offset + m] * scales[m];\r\n                        break;\r\n                    case SessionMetric.bytesReceived:\r\n                        sessionContour.intervalBytesReceived[i] = bytes[offset + m] * scales[m];\r\n                        break;\r\n                    default:\r\n                        // Ignore any unknown metrics\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        return sessionContour;\r\n    }\r\n}\r\nexports.SessionContour = SessionContour;\r\nSessionContour.initialInterval = 1000; // 1 second (in milliseconds)\r\nvar SessionMetric;\r\n(function (SessionMetric) {\r\n    SessionMetric[SessionMetric[\"none\"] = 0] = \"none\";\r\n    SessionMetric[SessionMetric[\"latencyMin\"] = 1] = \"latencyMin\";\r\n    SessionMetric[SessionMetric[\"latencyMax\"] = 2] = \"latencyMax\";\r\n    SessionMetric[SessionMetric[\"latencyAverage\"] = 3] = \"latencyAverage\";\r\n    SessionMetric[SessionMetric[\"bytesSent\"] = 11] = \"bytesSent\";\r\n    SessionMetric[SessionMetric[\"bytesReceived\"] = 12] = \"bytesReceived\";\r\n})(SessionMetric || (SessionMetric = {}));\r\n//# sourceMappingURL=sessionContour.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SessionMetrics = void 0;\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\n/**\r\n * Collects current and cumulative measurements about a session.\r\n */\r\nclass SessionMetrics {\r\n    /* @internal */\r\n    constructor() {\r\n        this.startTime = 0;\r\n        this.messagesSentCount = 0;\r\n        this.messagesReceivedCount = 0;\r\n        this.bytesSentSum = 0;\r\n        this.bytesReceivedSum = 0;\r\n        this.reconnectionsCount = 0;\r\n        this.currentLatency = 0;\r\n        this.minLatency = 0;\r\n        this.maxLatency = 0;\r\n        this.latencySum = 0;\r\n        this.latencyCount = 0;\r\n        this.messageSentEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onMessageSent = this.messageSentEmitter.event;\r\n        this.messageReceivedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onMessageReceived = this.messageReceivedEmitter.event;\r\n        this.latencyUpdatedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onLatencyUpdated = this.latencyUpdatedEmitter.event;\r\n        this.sessionClosedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onSessionClosed = this.sessionClosedEmitter.event;\r\n        if (typeof performance === 'object' && typeof performance.now === 'function') {\r\n            Object.defineProperty(this, 'time', { get: this.browserTime });\r\n        }\r\n        else if (typeof process === 'object' && typeof process.hrtime === 'function') {\r\n            Object.defineProperty(this, 'time', { get: this.nodejsTime });\r\n        }\r\n        this.startTime = this.time;\r\n    }\r\n    /**\r\n     * Gets the current stopwatch value in milliseconds (possibly including fractional milliseconds),\r\n     * used for measuring latency.\r\n     */\r\n    /* @internal */\r\n    get time() {\r\n        // The SessionMetrics constructor may replace this with either of the below\r\n        // high-precision implementations, depending on availability of platform APIs.\r\n        return Date.now() - this.startTime;\r\n    }\r\n    browserTime() {\r\n        // Use the browser high-resolution time API.\r\n        // Note the precision may be reduced for pricacy depending on browser and page policy.\r\n        return performance.now() - this.startTime;\r\n    }\r\n    nodejsTime() {\r\n        // Use Node.js high-resolution time API.\r\n        const [s, ns] = process.hrtime();\r\n        return s * 1000 + ns / 1000000 - this.startTime;\r\n    }\r\n    /**\r\n     * Gets the total cumulative number of messages sent for the duration of the session,\r\n     * including all channels and non-channel protocol messages.\r\n     */\r\n    get messagesSent() {\r\n        return this.messagesSentCount;\r\n    }\r\n    /**\r\n     * Gets the total cumulative number of messages received for the duration of the session,\r\n     * including all channels and non-channel protocol messages.\r\n     */\r\n    get messagesReceived() {\r\n        return this.messagesReceivedCount;\r\n    }\r\n    /**\r\n     * Gets the total cumulative number of bytes sent for the duration of the session,\r\n     * including all channels and non-channel protocol messages, and including message\r\n     * framing, padding, and MAC bytes.\r\n     */\r\n    get bytesSent() {\r\n        return this.bytesSentSum;\r\n    }\r\n    /**\r\n     * Gets the total cumulative number of bytes received for the duration of the session,\r\n     * including all channels and non-channel protocol messages, and including message\r\n     * framing, padding, and MAC bytes.\r\n     */\r\n    get bytesReceived() {\r\n        return this.bytesReceivedSum;\r\n    }\r\n    /**\r\n     * Gets the number of times the session has reconnected.\r\n     * </summary>\r\n     * <remarks>\r\n     * Reconnection requires both sides to support the\r\n     * <see cref=\"SshProtocolExtensionNames.SessionReconnect\" /> protocol extension.\r\n     */\r\n    get reconnections() {\r\n        return this.reconnectionsCount;\r\n    }\r\n    /**\r\n     * Gets the average measured round-trip connection latency between client and server\r\n     * over the duration of the session, in milliseconds.\r\n     * </summary>\r\n     * <remarks>\r\n     * Latency measurement requires both sides to support the\r\n     * <see cref=\"SshProtocolExtensionNames.SessionLatency\" /> protocol extension.\r\n     * If not supported, this Sum will be 0.\r\n     */\r\n    get latencyAverageMs() {\r\n        return this.latencyCount === 0 ? 0 : this.latencySum / this.latencyCount;\r\n    }\r\n    /**\r\n     * Gets the minimum measured round-trip connection latency between client and server\r\n     * over the duration of the session, in milliseconds.\r\n     * </summary>\r\n     * <remarks>\r\n     * Latency measurement requires both sides to support the\r\n     * <see cref=\"SshProtocolExtensionNames.SessionLatency\" /> protocol extension.\r\n     * If not supported, this Sum will be 0.\r\n     */\r\n    get latencyMinMs() {\r\n        return this.minLatency;\r\n    }\r\n    /**\r\n     * Gets the maximum measured round-trip connection latency between client and server\r\n     * over the duration of the session, in milliseconds.\r\n     * </summary>\r\n     * <remarks>\r\n     * Latency measurement requires both sides to support the\r\n     * <see cref=\"SshProtocolExtensionNames.SessionLatency\" /> protocol extension.\r\n     * If not supported, this Sum will be 0.\r\n     */\r\n    get latencyMaxMs() {\r\n        return this.maxLatency;\r\n    }\r\n    /**\r\n     * Gets the most recent measurement of round-trip connection latency between client and\r\n     * server, in milliseconds.\r\n     * </summary>\r\n     * <remarks>\r\n     * Latency measurement requires both sides to support the\r\n     * <see cref=\"SshProtocolExtensionNames.SessionLatency\" /> protocol extension.\r\n     * If not supported or the session is not currently connected, this Sum will be 0.\r\n     */\r\n    get latencyCurrentMs() {\r\n        return this.currentLatency;\r\n    }\r\n    /* @internal */\r\n    addMessageSent(size) {\r\n        this.messagesSentCount++;\r\n        this.bytesSentSum += size;\r\n        this.messageSentEmitter.fire({ time: this.time, size });\r\n    }\r\n    /* @internal */\r\n    addMessageReceived(size) {\r\n        this.messagesReceivedCount++;\r\n        this.bytesReceivedSum += size;\r\n        this.messageReceivedEmitter.fire({ time: this.time, size });\r\n    }\r\n    /* @internal */\r\n    addReconnection() {\r\n        this.reconnectionsCount++;\r\n    }\r\n    /* @internal */\r\n    updateLatency(latencyMs) {\r\n        if (latencyMs < 0) {\r\n            throw new Error('Measured latency cannot be negative.');\r\n        }\r\n        this.currentLatency = latencyMs;\r\n        if (latencyMs === 0) {\r\n            // Disconnected.\r\n            return;\r\n        }\r\n        if (this.minLatency === 0 || latencyMs < this.minLatency) {\r\n            this.minLatency = latencyMs;\r\n        }\r\n        if (this.maxLatency === 0 || latencyMs > this.maxLatency) {\r\n            this.maxLatency = latencyMs;\r\n        }\r\n        // Enable computing the average.\r\n        this.latencySum += latencyMs;\r\n        this.latencyCount++;\r\n        this.latencyUpdatedEmitter.fire({ time: this.time, latency: latencyMs });\r\n    }\r\n    /* @internal */\r\n    close() {\r\n        this.currentLatency = 0;\r\n        this.sessionClosedEmitter.fire();\r\n    }\r\n    toString() {\r\n        let s = `Messages S/R: ${this.messagesSent} / ${this.messagesReceived}; ` +\r\n            `Bytes S/R: ${this.bytesSent} / ${this.bytesReceived}; ` +\r\n            `Reconnections: ${this.reconnections}; `;\r\n        // Show extra precision for a low-latency connection.\r\n        const precision = this.minLatency >= 10 ? 1 : this.minLatency >= 1 ? 10 : 100;\r\n        if (this.maxLatency > 0) {\r\n            const min = Math.round(this.minLatency * precision) / precision;\r\n            const avg = Math.round((this.latencySum / this.latencyCount) * precision) / precision;\r\n            const max = Math.round(this.maxLatency * precision) / precision;\r\n            s += `Latency Min-Avg-Max: ${min} - ${avg} - ${max} ms; `;\r\n        }\r\n        if (this.currentLatency > 0) {\r\n            const current = Math.round(this.currentLatency * precision) / precision;\r\n            s += `Current Latency: ${current} ms; `;\r\n        }\r\n        return s;\r\n    }\r\n}\r\nexports.SessionMetrics = SessionMetrics;\r\n//# sourceMappingURL=sessionMetrics.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultiChannelStream = void 0;\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst sshChannel_1 = require(\"./sshChannel\");\r\nconst sshStream_1 = require(\"./sshStream\");\r\nconst sshSession_1 = require(\"./sshSession\");\r\nconst sshSessionConfiguration_1 = require(\"./sshSessionConfiguration\");\r\nconst transportMessages_1 = require(\"./messages/transportMessages\");\r\nconst trace_1 = require(\"./trace\");\r\nconst connectionMessages_1 = require(\"./messages/connectionMessages\");\r\n/**\r\n * Multiplexes multiple virtual streams (channels) over a single transport stream, using the\r\n * SSH protocol while providing a simplified interface without any encryption or authentication.\r\n *\r\n * This class is a complement to `SecureStream`, which provides only the encryption and\r\n * authentication functions of SSH.\r\n *\r\n * To communicate over multiple channels, two sides first establish a transport stream\r\n * over a pipe, socket, or anything else. Then one side accepts a channel while the\r\n * other side opens a channel. Either side can both open and accept channels over the\r\n * same transport stream, as long as the other side does the complementary action.\r\n */\r\nclass MultiChannelStream {\r\n    /**\r\n     * Creates a new multi-channel stream over an underlying transport stream.\r\n     * @param transportStream Stream that is used to multiplex all the channels.\r\n     */\r\n    constructor(transportStream) {\r\n        this.transportStream = transportStream;\r\n        this.disposed = false;\r\n        this.disposables = [];\r\n        /**\r\n         * Gets or sets the maximum window size for channels within the multi-channel stream.\r\n         * @see `SshChannel.maxWindowSize`\r\n         */\r\n        this.channelMaxWindowSize = sshChannel_1.SshChannel.defaultMaxWindowSize;\r\n        this.closedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onClosed = this.closedEmitter.event;\r\n        this.channelOpeningEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onChannelOpening = this.channelOpeningEmitter.event;\r\n        if (!transportStream)\r\n            throw new TypeError('transportStream is required.');\r\n        const noSecurityConfig = new sshSessionConfiguration_1.SshSessionConfiguration(false);\r\n        this.session = new sshSession_1.SshSession(noSecurityConfig);\r\n        this.session.onClosed(this.onSessionClosed, this, this.disposables);\r\n        this.session.onChannelOpening(this.onSessionChannelOpening, this, this.disposables);\r\n    }\r\n    get trace() {\r\n        return this.session.trace;\r\n    }\r\n    set trace(trace) {\r\n        this.session.trace = trace;\r\n    }\r\n    get isClosed() {\r\n        return this.disposed || this.session.isClosed;\r\n    }\r\n    /**\r\n     * Initiates the SSH session over the transport stream by exchanging initial messages with the\r\n     * remote peer. Waits for the protocol version exchange and key exchange. Additional message\r\n     * processing is kicked off as a background promise chain.\r\n     * @param cancellation optional cancellation token.\r\n     */\r\n    async connect(cancellation) {\r\n        await this.session.connect(this.transportStream, cancellation);\r\n    }\r\n    /**\r\n     * Asynchronously waits for the other side to open a channel.\r\n     * @param channelType optional channel type\r\n     * @param cancellation optional cancellation token.\r\n     */\r\n    async acceptChannel(channelType, cancellation) {\r\n        await this.session.connect(this.transportStream, cancellation);\r\n        const channel = await this.session.acceptChannel(channelType, cancellation);\r\n        return channel;\r\n    }\r\n    /**\r\n     * Asynchronously waits for the other side to open a channel.\r\n     * @param channelType optional channel type\r\n     * @param cancellation optional cancellation token.\r\n     */\r\n    async acceptStream(channelType, cancellation) {\r\n        return this.createStream(await this.acceptChannel(channelType, cancellation));\r\n    }\r\n    /**\r\n     * Opens a channel and asynchronously waits for the other side to accept it.\r\n     * @param channelType optional channel type\r\n     * @param cancellation optional cancellation token.\r\n     */\r\n    async openChannel(channelType, cancellation) {\r\n        await this.session.connect(this.transportStream, cancellation);\r\n        const openMessage = new connectionMessages_1.ChannelOpenMessage();\r\n        openMessage.channelType = channelType !== null && channelType !== void 0 ? channelType : sshChannel_1.SshChannel.sessionChannelType;\r\n        openMessage.maxWindowSize = this.channelMaxWindowSize;\r\n        const channel = await this.session.openChannel(openMessage, null, cancellation);\r\n        return channel;\r\n    }\r\n    /**\r\n     * Opens a channel and asynchronously waits for the other side to accept it.\r\n     * @param channelType optional channel type\r\n     * @param cancellation optional cancellation token.\r\n     */\r\n    async openStream(channelType, cancellation) {\r\n        return this.createStream(await this.openChannel(channelType, cancellation));\r\n    }\r\n    /**\r\n     * Creates a stream instance for a channel. May be overridden to create a `SshStream` subclass.\r\n     */\r\n    createStream(channel) {\r\n        return new sshStream_1.SshStream(channel);\r\n    }\r\n    /**\r\n     * Connects, waits until the session closes or `cancellation` is cancelled, and then disposes the\r\n     * session and the transport stream.\r\n     * @param cancellation optional cancellation token.\r\n     */\r\n    async connectAndRunUntilClosed(cancellation) {\r\n        const disposables = [];\r\n        const sessionClosedPromise = new Promise((resolve, reject) => {\r\n            cancellation === null || cancellation === void 0 ? void 0 : cancellation.onCancellationRequested(reject, null, disposables);\r\n            this.session.onClosed(resolve, null, disposables);\r\n        });\r\n        try {\r\n            await this.connect(cancellation);\r\n            await sessionClosedPromise;\r\n        }\r\n        finally {\r\n            disposables.forEach((d) => d.dispose());\r\n            await this.close();\r\n        }\r\n    }\r\n    dispose() {\r\n        if (!this.disposed) {\r\n            this.disposed = true;\r\n            this.session.dispose();\r\n            this.unsubscribe();\r\n            try {\r\n                if (this.transportStream)\r\n                    this.transportStream.close().catch((e) => {\r\n                        this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.streamCloseError, `Error closing transport stream: ${e.message}`, e);\r\n                    });\r\n            }\r\n            catch (e) {\r\n                if (!(e instanceof Error))\r\n                    throw e;\r\n                this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.streamCloseError, `Error closing transport stream: ${e.message}`, e);\r\n            }\r\n        }\r\n    }\r\n    async close() {\r\n        if (!this.disposed) {\r\n            this.disposed = true;\r\n            await this.session.close(transportMessages_1.SshDisconnectReason.none, 'SshSession disposed');\r\n            this.session.dispose();\r\n            this.unsubscribe();\r\n            await this.transportStream.close();\r\n        }\r\n    }\r\n    onSessionClosed(e) {\r\n        this.unsubscribe();\r\n        this.closedEmitter.fire(e);\r\n    }\r\n    onSessionChannelOpening(e) {\r\n        if (e.isRemoteRequest) {\r\n            e.channel.maxWindowSize = this.channelMaxWindowSize;\r\n        }\r\n        this.channelOpeningEmitter.fire(e);\r\n    }\r\n    unsubscribe() {\r\n        this.disposables.forEach((d) => d.dispose());\r\n        this.disposables = [];\r\n    }\r\n}\r\nexports.MultiChannelStream = MultiChannelStream;\r\n//# sourceMappingURL=multiChannelStream.js.map","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nvar CancellationToken;\r\n(function (CancellationToken) {\r\n    CancellationToken.None = Object.freeze({\r\n        isCancellationRequested: false,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    CancellationToken.Cancelled = Object.freeze({\r\n        isCancellationRequested: true,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && (candidate === CancellationToken.None\r\n            || candidate === CancellationToken.Cancelled\r\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\r\n    }\r\n    CancellationToken.is = is;\r\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\r\nconst shortcutEvent = Object.freeze(function (callback, context) {\r\n    let handle = setTimeout(callback.bind(context), 0);\r\n    return { dispose() { clearTimeout(handle); } };\r\n});\r\nclass MutableToken {\r\n    constructor() {\r\n        this._isCancelled = false;\r\n    }\r\n    cancel() {\r\n        if (!this._isCancelled) {\r\n            this._isCancelled = true;\r\n            if (this._emitter) {\r\n                this._emitter.fire(undefined);\r\n                this._emitter = undefined;\r\n            }\r\n        }\r\n    }\r\n    get isCancellationRequested() {\r\n        return this._isCancelled;\r\n    }\r\n    get onCancellationRequested() {\r\n        if (this._isCancelled) {\r\n            return shortcutEvent;\r\n        }\r\n        if (!this._emitter) {\r\n            this._emitter = new events_1.Emitter();\r\n        }\r\n        return this._emitter.event;\r\n    }\r\n}\r\nclass CancellationTokenSource {\r\n    get token() {\r\n        if (!this._token) {\r\n            // be lazy and create the token only when\r\n            // actually needed\r\n            this._token = new MutableToken();\r\n        }\r\n        return this._token;\r\n    }\r\n    cancel() {\r\n        if (!this._token) {\r\n            // save an object by returning the default\r\n            // cancelled token when cancellation happens\r\n            // before someone asks for the token\r\n            this._token = CancellationToken.Cancelled;\r\n        }\r\n        else {\r\n            this._token.cancel();\r\n        }\r\n    }\r\n    dispose() {\r\n        this.cancel();\r\n    }\r\n}\r\nexports.CancellationTokenSource = CancellationTokenSource;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Disposable;\r\n(function (Disposable) {\r\n    function create(func) {\r\n        return {\r\n            dispose: func\r\n        };\r\n    }\r\n    Disposable.create = create;\r\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\r\nvar Event;\r\n(function (Event) {\r\n    const _disposable = { dispose() { } };\r\n    Event.None = function () { return _disposable; };\r\n})(Event = exports.Event || (exports.Event = {}));\r\nclass CallbackList {\r\n    add(callback, context = null, bucket) {\r\n        if (!this._callbacks) {\r\n            this._callbacks = [];\r\n            this._contexts = [];\r\n        }\r\n        this._callbacks.push(callback);\r\n        this._contexts.push(context);\r\n        if (Array.isArray(bucket)) {\r\n            bucket.push({ dispose: () => this.remove(callback, context) });\r\n        }\r\n    }\r\n    remove(callback, context = null) {\r\n        if (!this._callbacks) {\r\n            return;\r\n        }\r\n        var foundCallbackWithDifferentContext = false;\r\n        for (var i = 0, len = this._callbacks.length; i < len; i++) {\r\n            if (this._callbacks[i] === callback) {\r\n                if (this._contexts[i] === context) {\r\n                    // callback & context match => remove it\r\n                    this._callbacks.splice(i, 1);\r\n                    this._contexts.splice(i, 1);\r\n                    return;\r\n                }\r\n                else {\r\n                    foundCallbackWithDifferentContext = true;\r\n                }\r\n            }\r\n        }\r\n        if (foundCallbackWithDifferentContext) {\r\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\r\n        }\r\n    }\r\n    invoke(...args) {\r\n        if (!this._callbacks) {\r\n            return [];\r\n        }\r\n        var ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\r\n        for (var i = 0, len = callbacks.length; i < len; i++) {\r\n            try {\r\n                ret.push(callbacks[i].apply(contexts[i], args));\r\n            }\r\n            catch (e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    isEmpty() {\r\n        return !this._callbacks || this._callbacks.length === 0;\r\n    }\r\n    dispose() {\r\n        this._callbacks = undefined;\r\n        this._contexts = undefined;\r\n    }\r\n}\r\nclass Emitter {\r\n    constructor(_options) {\r\n        this._options = _options;\r\n    }\r\n    /**\r\n     * For the public to allow to subscribe\r\n     * to events from this Emitter\r\n     */\r\n    get event() {\r\n        if (!this._event) {\r\n            this._event = (listener, thisArgs, disposables) => {\r\n                if (!this._callbacks) {\r\n                    this._callbacks = new CallbackList();\r\n                }\r\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\r\n                    this._options.onFirstListenerAdd(this);\r\n                }\r\n                this._callbacks.add(listener, thisArgs);\r\n                let result;\r\n                result = {\r\n                    dispose: () => {\r\n                        this._callbacks.remove(listener, thisArgs);\r\n                        result.dispose = Emitter._noop;\r\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\r\n                            this._options.onLastListenerRemove(this);\r\n                        }\r\n                    }\r\n                };\r\n                if (Array.isArray(disposables)) {\r\n                    disposables.push(result);\r\n                }\r\n                return result;\r\n            };\r\n        }\r\n        return this._event;\r\n    }\r\n    /**\r\n     * To be kept private to fire an event to\r\n     * subscribers\r\n     */\r\n    fire(event) {\r\n        if (this._callbacks) {\r\n            this._callbacks.invoke.call(this._callbacks, event);\r\n        }\r\n    }\r\n    dispose() {\r\n        if (this._callbacks) {\r\n            this._callbacks.dispose();\r\n            this._callbacks = undefined;\r\n        }\r\n    }\r\n}\r\nEmitter._noop = function () { };\r\nexports.Emitter = Emitter;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Touch;\r\n(function (Touch) {\r\n    Touch.None = 0;\r\n    Touch.First = 1;\r\n    Touch.Last = 2;\r\n})(Touch = exports.Touch || (exports.Touch = {}));\r\nclass LinkedMap {\r\n    constructor() {\r\n        this._map = new Map();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    clear() {\r\n        this._map.clear();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    isEmpty() {\r\n        return !this._head && !this._tail;\r\n    }\r\n    get size() {\r\n        return this._size;\r\n    }\r\n    has(key) {\r\n        return this._map.has(key);\r\n    }\r\n    get(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return item.value;\r\n    }\r\n    set(key, value, touch = Touch.None) {\r\n        let item = this._map.get(key);\r\n        if (item) {\r\n            item.value = value;\r\n            if (touch !== Touch.None) {\r\n                this.touch(item, touch);\r\n            }\r\n        }\r\n        else {\r\n            item = { key, value, next: undefined, previous: undefined };\r\n            switch (touch) {\r\n                case Touch.None:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                case Touch.First:\r\n                    this.addItemFirst(item);\r\n                    break;\r\n                case Touch.Last:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                default:\r\n                    this.addItemLast(item);\r\n                    break;\r\n            }\r\n            this._map.set(key, item);\r\n            this._size++;\r\n        }\r\n    }\r\n    delete(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return false;\r\n        }\r\n        this._map.delete(key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return true;\r\n    }\r\n    shift() {\r\n        if (!this._head && !this._tail) {\r\n            return undefined;\r\n        }\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        const item = this._head;\r\n        this._map.delete(item.key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return item.value;\r\n    }\r\n    forEach(callbackfn, thisArg) {\r\n        let current = this._head;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.next;\r\n        }\r\n    }\r\n    forEachReverse(callbackfn, thisArg) {\r\n        let current = this._tail;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.previous;\r\n        }\r\n    }\r\n    values() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.value);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    keys() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.key);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    /* JSON RPC run on es5 which has no Symbol.iterator\r\n    public keys(): IterableIterator<K> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<K> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<K> {\r\n                if (current) {\r\n                    let result = { value: current.key, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n\r\n    public values(): IterableIterator<V> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<V> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<V> {\r\n                if (current) {\r\n                    let result = { value: current.value, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n    */\r\n    addItemFirst(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._tail = item;\r\n        }\r\n        else if (!this._head) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n        }\r\n        this._head = item;\r\n    }\r\n    addItemLast(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._head = item;\r\n        }\r\n        else if (!this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n        }\r\n        this._tail = item;\r\n    }\r\n    removeItem(item) {\r\n        if (item === this._head && item === this._tail) {\r\n            this._head = undefined;\r\n            this._tail = undefined;\r\n        }\r\n        else if (item === this._head) {\r\n            this._head = item.next;\r\n        }\r\n        else if (item === this._tail) {\r\n            this._tail = item.previous;\r\n        }\r\n        else {\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            if (!next || !previous) {\r\n                throw new Error('Invalid list');\r\n            }\r\n            next.previous = previous;\r\n            previous.next = next;\r\n        }\r\n    }\r\n    touch(item, touch) {\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\r\n            return;\r\n        }\r\n        if (touch === Touch.First) {\r\n            if (item === this._head) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item\r\n            if (item === this._tail) {\r\n                // previous must be defined since item was not head but is tail\r\n                // So there are more than on item in the map\r\n                previous.next = undefined;\r\n                this._tail = previous;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            // Insert the node at head\r\n            item.previous = undefined;\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n            this._head = item;\r\n        }\r\n        else if (touch === Touch.Last) {\r\n            if (item === this._tail) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item.\r\n            if (item === this._head) {\r\n                // next must be defined since item was not tail but is head\r\n                // So there are more than on item in the map\r\n                next.previous = undefined;\r\n                this._head = next;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            item.next = undefined;\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n            this._tail = item;\r\n        }\r\n    }\r\n}\r\nexports.LinkedMap = LinkedMap;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n/// <reference path=\"./thenable.ts\" />\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Is = require(\"./is\");\r\nconst messages_1 = require(\"./messages\");\r\nexports.RequestType = messages_1.RequestType;\r\nexports.RequestType0 = messages_1.RequestType0;\r\nexports.RequestType1 = messages_1.RequestType1;\r\nexports.RequestType2 = messages_1.RequestType2;\r\nexports.RequestType3 = messages_1.RequestType3;\r\nexports.RequestType4 = messages_1.RequestType4;\r\nexports.RequestType5 = messages_1.RequestType5;\r\nexports.RequestType6 = messages_1.RequestType6;\r\nexports.RequestType7 = messages_1.RequestType7;\r\nexports.RequestType8 = messages_1.RequestType8;\r\nexports.RequestType9 = messages_1.RequestType9;\r\nexports.ResponseError = messages_1.ResponseError;\r\nexports.ErrorCodes = messages_1.ErrorCodes;\r\nexports.NotificationType = messages_1.NotificationType;\r\nexports.NotificationType0 = messages_1.NotificationType0;\r\nexports.NotificationType1 = messages_1.NotificationType1;\r\nexports.NotificationType2 = messages_1.NotificationType2;\r\nexports.NotificationType3 = messages_1.NotificationType3;\r\nexports.NotificationType4 = messages_1.NotificationType4;\r\nexports.NotificationType5 = messages_1.NotificationType5;\r\nexports.NotificationType6 = messages_1.NotificationType6;\r\nexports.NotificationType7 = messages_1.NotificationType7;\r\nexports.NotificationType8 = messages_1.NotificationType8;\r\nexports.NotificationType9 = messages_1.NotificationType9;\r\nconst messageReader_1 = require(\"./messageReader\");\r\nexports.MessageReader = messageReader_1.MessageReader;\r\nexports.StreamMessageReader = messageReader_1.StreamMessageReader;\r\nexports.IPCMessageReader = messageReader_1.IPCMessageReader;\r\nexports.SocketMessageReader = messageReader_1.SocketMessageReader;\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nexports.MessageWriter = messageWriter_1.MessageWriter;\r\nexports.StreamMessageWriter = messageWriter_1.StreamMessageWriter;\r\nexports.IPCMessageWriter = messageWriter_1.IPCMessageWriter;\r\nexports.SocketMessageWriter = messageWriter_1.SocketMessageWriter;\r\nconst events_1 = require(\"./events\");\r\nexports.Disposable = events_1.Disposable;\r\nexports.Event = events_1.Event;\r\nexports.Emitter = events_1.Emitter;\r\nconst cancellation_1 = require(\"./cancellation\");\r\nexports.CancellationTokenSource = cancellation_1.CancellationTokenSource;\r\nexports.CancellationToken = cancellation_1.CancellationToken;\r\nconst linkedMap_1 = require(\"./linkedMap\");\r\n__export(require(\"./pipeSupport\"));\r\n__export(require(\"./socketSupport\"));\r\nvar CancelNotification;\r\n(function (CancelNotification) {\r\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\r\n})(CancelNotification || (CancelNotification = {}));\r\nexports.NullLogger = Object.freeze({\r\n    error: () => { },\r\n    warn: () => { },\r\n    info: () => { },\r\n    log: () => { }\r\n});\r\nvar Trace;\r\n(function (Trace) {\r\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\r\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\r\n    Trace[Trace[\"Verbose\"] = 2] = \"Verbose\";\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\n(function (Trace) {\r\n    function fromString(value) {\r\n        value = value.toLowerCase();\r\n        switch (value) {\r\n            case 'off':\r\n                return Trace.Off;\r\n            case 'messages':\r\n                return Trace.Messages;\r\n            case 'verbose':\r\n                return Trace.Verbose;\r\n            default:\r\n                return Trace.Off;\r\n        }\r\n    }\r\n    Trace.fromString = fromString;\r\n    function toString(value) {\r\n        switch (value) {\r\n            case Trace.Off:\r\n                return 'off';\r\n            case Trace.Messages:\r\n                return 'messages';\r\n            case Trace.Verbose:\r\n                return 'verbose';\r\n            default:\r\n                return 'off';\r\n        }\r\n    }\r\n    Trace.toString = toString;\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\nvar TraceFormat;\r\n(function (TraceFormat) {\r\n    TraceFormat[\"Text\"] = \"text\";\r\n    TraceFormat[\"JSON\"] = \"json\";\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\n(function (TraceFormat) {\r\n    function fromString(value) {\r\n        value = value.toLowerCase();\r\n        if (value === 'json') {\r\n            return TraceFormat.JSON;\r\n        }\r\n        else {\r\n            return TraceFormat.Text;\r\n        }\r\n    }\r\n    TraceFormat.fromString = fromString;\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\nvar SetTraceNotification;\r\n(function (SetTraceNotification) {\r\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTraceNotification');\r\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\r\nvar LogTraceNotification;\r\n(function (LogTraceNotification) {\r\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTraceNotification');\r\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\r\nvar ConnectionErrors;\r\n(function (ConnectionErrors) {\r\n    /**\r\n     * The connection is closed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\r\n    /**\r\n     * The connection got disposed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\r\n    /**\r\n     * The connection is already in listening mode.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\r\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\r\nclass ConnectionError extends Error {\r\n    constructor(code, message) {\r\n        super(message);\r\n        this.code = code;\r\n        Object.setPrototypeOf(this, ConnectionError.prototype);\r\n    }\r\n}\r\nexports.ConnectionError = ConnectionError;\r\nvar ConnectionStrategy;\r\n(function (ConnectionStrategy) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.cancelUndispatched);\r\n    }\r\n    ConnectionStrategy.is = is;\r\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\r\nvar ConnectionState;\r\n(function (ConnectionState) {\r\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\r\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\r\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\r\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\r\n})(ConnectionState || (ConnectionState = {}));\r\nfunction _createMessageConnection(messageReader, messageWriter, logger, strategy) {\r\n    let sequenceNumber = 0;\r\n    let notificationSquenceNumber = 0;\r\n    let unknownResponseSquenceNumber = 0;\r\n    const version = '2.0';\r\n    let starRequestHandler = undefined;\r\n    let requestHandlers = Object.create(null);\r\n    let starNotificationHandler = undefined;\r\n    let notificationHandlers = Object.create(null);\r\n    let timer;\r\n    let messageQueue = new linkedMap_1.LinkedMap();\r\n    let responsePromises = Object.create(null);\r\n    let requestTokens = Object.create(null);\r\n    let trace = Trace.Off;\r\n    let traceFormat = TraceFormat.Text;\r\n    let tracer;\r\n    let state = ConnectionState.New;\r\n    let errorEmitter = new events_1.Emitter();\r\n    let closeEmitter = new events_1.Emitter();\r\n    let unhandledNotificationEmitter = new events_1.Emitter();\r\n    let disposeEmitter = new events_1.Emitter();\r\n    function createRequestQueueKey(id) {\r\n        return 'req-' + id.toString();\r\n    }\r\n    function createResponseQueueKey(id) {\r\n        if (id === null) {\r\n            return 'res-unknown-' + (++unknownResponseSquenceNumber).toString();\r\n        }\r\n        else {\r\n            return 'res-' + id.toString();\r\n        }\r\n    }\r\n    function createNotificationQueueKey() {\r\n        return 'not-' + (++notificationSquenceNumber).toString();\r\n    }\r\n    function addMessageToQueue(queue, message) {\r\n        if (messages_1.isRequestMessage(message)) {\r\n            queue.set(createRequestQueueKey(message.id), message);\r\n        }\r\n        else if (messages_1.isResponseMessage(message)) {\r\n            queue.set(createResponseQueueKey(message.id), message);\r\n        }\r\n        else {\r\n            queue.set(createNotificationQueueKey(), message);\r\n        }\r\n    }\r\n    function cancelUndispatched(_message) {\r\n        return undefined;\r\n    }\r\n    function isListening() {\r\n        return state === ConnectionState.Listening;\r\n    }\r\n    function isClosed() {\r\n        return state === ConnectionState.Closed;\r\n    }\r\n    function isDisposed() {\r\n        return state === ConnectionState.Disposed;\r\n    }\r\n    function closeHandler() {\r\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\r\n            state = ConnectionState.Closed;\r\n            closeEmitter.fire(undefined);\r\n        }\r\n        // If the connection is disposed don't sent close events.\r\n    }\r\n    ;\r\n    function readErrorHandler(error) {\r\n        errorEmitter.fire([error, undefined, undefined]);\r\n    }\r\n    function writeErrorHandler(data) {\r\n        errorEmitter.fire(data);\r\n    }\r\n    messageReader.onClose(closeHandler);\r\n    messageReader.onError(readErrorHandler);\r\n    messageWriter.onClose(closeHandler);\r\n    messageWriter.onError(writeErrorHandler);\r\n    function triggerMessageQueue() {\r\n        if (timer || messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        timer = setImmediate(() => {\r\n            timer = undefined;\r\n            processMessageQueue();\r\n        });\r\n    }\r\n    function processMessageQueue() {\r\n        if (messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        let message = messageQueue.shift();\r\n        try {\r\n            if (messages_1.isRequestMessage(message)) {\r\n                handleRequest(message);\r\n            }\r\n            else if (messages_1.isNotificationMessage(message)) {\r\n                handleNotification(message);\r\n            }\r\n            else if (messages_1.isResponseMessage(message)) {\r\n                handleResponse(message);\r\n            }\r\n            else {\r\n                handleInvalidMessage(message);\r\n            }\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    }\r\n    let callback = (message) => {\r\n        try {\r\n            // We have received a cancellation message. Check if the message is still in the queue\r\n            // and cancel it if allowed to do so.\r\n            if (messages_1.isNotificationMessage(message) && message.method === CancelNotification.type.method) {\r\n                let key = createRequestQueueKey(message.params.id);\r\n                let toCancel = messageQueue.get(key);\r\n                if (messages_1.isRequestMessage(toCancel)) {\r\n                    let response = strategy && strategy.cancelUndispatched ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\r\n                    if (response && (response.error !== void 0 || response.result !== void 0)) {\r\n                        messageQueue.delete(key);\r\n                        response.id = toCancel.id;\r\n                        traceSendingResponse(response, message.method, Date.now());\r\n                        messageWriter.write(response);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            addMessageToQueue(messageQueue, message);\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    };\r\n    function handleRequest(requestMessage) {\r\n        if (isDisposed()) {\r\n            // we return here silently since we fired an event when the\r\n            // connection got disposed.\r\n            return;\r\n        }\r\n        function reply(resultOrError, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id\r\n            };\r\n            if (resultOrError instanceof messages_1.ResponseError) {\r\n                message.error = resultOrError.toJson();\r\n            }\r\n            else {\r\n                message.result = resultOrError === void 0 ? null : resultOrError;\r\n            }\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replyError(error, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                error: error.toJson()\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replySuccess(result, method, startTime) {\r\n            // The JSON RPC defines that a response must either have a result or an error\r\n            // So we can't treat undefined as a valid response result.\r\n            if (result === void 0) {\r\n                result = null;\r\n            }\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                result: result\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        traceReceivedRequest(requestMessage);\r\n        let element = requestHandlers[requestMessage.method];\r\n        let type;\r\n        let requestHandler;\r\n        if (element) {\r\n            type = element.type;\r\n            requestHandler = element.handler;\r\n        }\r\n        let startTime = Date.now();\r\n        if (requestHandler || starRequestHandler) {\r\n            let cancellationSource = new cancellation_1.CancellationTokenSource();\r\n            let tokenKey = String(requestMessage.id);\r\n            requestTokens[tokenKey] = cancellationSource;\r\n            try {\r\n                let handlerResult;\r\n                if (requestMessage.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, cancellationSource.token);\r\n                }\r\n                else if (Is.array(requestMessage.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(...requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, ...requestMessage.params, cancellationSource.token);\r\n                }\r\n                else {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\r\n                }\r\n                let promise = handlerResult;\r\n                if (!handlerResult) {\r\n                    delete requestTokens[tokenKey];\r\n                    replySuccess(handlerResult, requestMessage.method, startTime);\r\n                }\r\n                else if (promise.then) {\r\n                    promise.then((resultOrError) => {\r\n                        delete requestTokens[tokenKey];\r\n                        reply(resultOrError, requestMessage.method, startTime);\r\n                    }, error => {\r\n                        delete requestTokens[tokenKey];\r\n                        if (error instanceof messages_1.ResponseError) {\r\n                            replyError(error, requestMessage.method, startTime);\r\n                        }\r\n                        else if (error && Is.string(error.message)) {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                        }\r\n                        else {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    delete requestTokens[tokenKey];\r\n                    reply(handlerResult, requestMessage.method, startTime);\r\n                }\r\n            }\r\n            catch (error) {\r\n                delete requestTokens[tokenKey];\r\n                if (error instanceof messages_1.ResponseError) {\r\n                    reply(error, requestMessage.method, startTime);\r\n                }\r\n                else if (error && Is.string(error.message)) {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                }\r\n                else {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\r\n        }\r\n    }\r\n    function handleResponse(responseMessage) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        if (responseMessage.id === null) {\r\n            if (responseMessage.error) {\r\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\r\n            }\r\n            else {\r\n                logger.error(`Received response message without id. No further error information provided.`);\r\n            }\r\n        }\r\n        else {\r\n            let key = String(responseMessage.id);\r\n            let responsePromise = responsePromises[key];\r\n            traceReceivedResponse(responseMessage, responsePromise);\r\n            if (responsePromise) {\r\n                delete responsePromises[key];\r\n                try {\r\n                    if (responseMessage.error) {\r\n                        let error = responseMessage.error;\r\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\r\n                    }\r\n                    else if (responseMessage.result !== void 0) {\r\n                        responsePromise.resolve(responseMessage.result);\r\n                    }\r\n                    else {\r\n                        throw new Error('Should never happen.');\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    if (error.message) {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\r\n                    }\r\n                    else {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function handleNotification(message) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        let type = undefined;\r\n        let notificationHandler;\r\n        if (message.method === CancelNotification.type.method) {\r\n            notificationHandler = (params) => {\r\n                let id = params.id;\r\n                let source = requestTokens[String(id)];\r\n                if (source) {\r\n                    source.cancel();\r\n                }\r\n            };\r\n        }\r\n        else {\r\n            let element = notificationHandlers[message.method];\r\n            if (element) {\r\n                notificationHandler = element.handler;\r\n                type = element.type;\r\n            }\r\n        }\r\n        if (notificationHandler || starNotificationHandler) {\r\n            try {\r\n                traceReceivedNotification(message);\r\n                if (message.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    notificationHandler ? notificationHandler() : starNotificationHandler(message.method);\r\n                }\r\n                else if (Is.array(message.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    notificationHandler ? notificationHandler(...message.params) : starNotificationHandler(message.method, ...message.params);\r\n                }\r\n                else {\r\n                    notificationHandler ? notificationHandler(message.params) : starNotificationHandler(message.method, message.params);\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error.message) {\r\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\r\n                }\r\n                else {\r\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            unhandledNotificationEmitter.fire(message);\r\n        }\r\n    }\r\n    function handleInvalidMessage(message) {\r\n        if (!message) {\r\n            logger.error('Received empty message.');\r\n            return;\r\n        }\r\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\r\n        // Test whether we find an id to reject the promise\r\n        let responseMessage = message;\r\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\r\n            let key = String(responseMessage.id);\r\n            let responseHandler = responsePromises[key];\r\n            if (responseHandler) {\r\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\r\n            }\r\n        }\r\n    }\r\n    function traceSendingRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-request', message);\r\n        }\r\n    }\r\n    function traceSendingNotification(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Sending notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-notification', message);\r\n        }\r\n    }\r\n    function traceSendingResponse(message, method, startTime) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-response', message);\r\n        }\r\n    }\r\n    function traceReceivedRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-request', message);\r\n        }\r\n    }\r\n    function traceReceivedNotification(message) {\r\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Received notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-notification', message);\r\n        }\r\n    }\r\n    function traceReceivedResponse(message, responsePromise) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            if (responsePromise) {\r\n                let error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\r\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\r\n            }\r\n            else {\r\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\r\n            }\r\n        }\r\n        else {\r\n            logLSPMessage('receive-response', message);\r\n        }\r\n    }\r\n    function logLSPMessage(type, message) {\r\n        if (!tracer || trace === Trace.Off) {\r\n            return;\r\n        }\r\n        const lspMessage = {\r\n            isLSPMessage: true,\r\n            type,\r\n            message,\r\n            timestamp: Date.now()\r\n        };\r\n        tracer.log(lspMessage);\r\n    }\r\n    function throwIfClosedOrDisposed() {\r\n        if (isClosed()) {\r\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\r\n        }\r\n        if (isDisposed()) {\r\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\r\n        }\r\n    }\r\n    function throwIfListening() {\r\n        if (isListening()) {\r\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\r\n        }\r\n    }\r\n    function throwIfNotListening() {\r\n        if (!isListening()) {\r\n            throw new Error('Call listen() first.');\r\n        }\r\n    }\r\n    function undefinedToNull(param) {\r\n        if (param === void 0) {\r\n            return null;\r\n        }\r\n        else {\r\n            return param;\r\n        }\r\n    }\r\n    function computeMessageParams(type, params) {\r\n        let result;\r\n        let numberOfParams = type.numberOfParams;\r\n        switch (numberOfParams) {\r\n            case 0:\r\n                result = null;\r\n                break;\r\n            case 1:\r\n                result = undefinedToNull(params[0]);\r\n                break;\r\n            default:\r\n                result = [];\r\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\r\n                    result.push(undefinedToNull(params[i]));\r\n                }\r\n                if (params.length < numberOfParams) {\r\n                    for (let i = params.length; i < numberOfParams; i++) {\r\n                        result.push(null);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n    let connection = {\r\n        sendNotification: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            let method;\r\n            let messageParams;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        messageParams = params[0];\r\n                        break;\r\n                    default:\r\n                        messageParams = params;\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n            }\r\n            let notificationMessage = {\r\n                jsonrpc: version,\r\n                method: method,\r\n                params: messageParams\r\n            };\r\n            traceSendingNotification(notificationMessage);\r\n            messageWriter.write(notificationMessage);\r\n        },\r\n        onNotification: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starNotificationHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    notificationHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    notificationHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        sendRequest: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfNotListening();\r\n            let method;\r\n            let messageParams;\r\n            let token = undefined;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        // The cancellation token is optional so it can also be undefined.\r\n                        if (cancellation_1.CancellationToken.is(params[0])) {\r\n                            messageParams = null;\r\n                            token = params[0];\r\n                        }\r\n                        else {\r\n                            messageParams = undefinedToNull(params[0]);\r\n                        }\r\n                        break;\r\n                    default:\r\n                        const last = params.length - 1;\r\n                        if (cancellation_1.CancellationToken.is(params[last])) {\r\n                            token = params[last];\r\n                            if (params.length === 2) {\r\n                                messageParams = undefinedToNull(params[0]);\r\n                            }\r\n                            else {\r\n                                messageParams = params.slice(0, last).map(value => undefinedToNull(value));\r\n                            }\r\n                        }\r\n                        else {\r\n                            messageParams = params.map(value => undefinedToNull(value));\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n                let numberOfParams = type.numberOfParams;\r\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\r\n            }\r\n            let id = sequenceNumber++;\r\n            let result = new Promise((resolve, reject) => {\r\n                let requestMessage = {\r\n                    jsonrpc: version,\r\n                    id: id,\r\n                    method: method,\r\n                    params: messageParams\r\n                };\r\n                let responsePromise = { method: method, timerStart: Date.now(), resolve, reject };\r\n                traceSendingRequest(requestMessage);\r\n                try {\r\n                    messageWriter.write(requestMessage);\r\n                }\r\n                catch (e) {\r\n                    // Writing the message failed. So we need to reject the promise.\r\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\r\n                    responsePromise = null;\r\n                }\r\n                if (responsePromise) {\r\n                    responsePromises[String(id)] = responsePromise;\r\n                }\r\n            });\r\n            if (token) {\r\n                token.onCancellationRequested(() => {\r\n                    connection.sendNotification(CancelNotification.type, { id });\r\n                });\r\n            }\r\n            return result;\r\n        },\r\n        onRequest: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starRequestHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    requestHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    requestHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        trace: (_value, _tracer, sendNotificationOrTraceOptions) => {\r\n            let _sendNotification = false;\r\n            let _traceFormat = TraceFormat.Text;\r\n            if (sendNotificationOrTraceOptions !== void 0) {\r\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\r\n                    _sendNotification = sendNotificationOrTraceOptions;\r\n                }\r\n                else {\r\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\r\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\r\n                }\r\n            }\r\n            trace = _value;\r\n            traceFormat = _traceFormat;\r\n            if (trace === Trace.Off) {\r\n                tracer = undefined;\r\n            }\r\n            else {\r\n                tracer = _tracer;\r\n            }\r\n            if (_sendNotification && !isClosed() && !isDisposed()) {\r\n                connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\r\n            }\r\n        },\r\n        onError: errorEmitter.event,\r\n        onClose: closeEmitter.event,\r\n        onUnhandledNotification: unhandledNotificationEmitter.event,\r\n        onDispose: disposeEmitter.event,\r\n        dispose: () => {\r\n            if (isDisposed()) {\r\n                return;\r\n            }\r\n            state = ConnectionState.Disposed;\r\n            disposeEmitter.fire(undefined);\r\n            let error = new Error('Connection got disposed.');\r\n            Object.keys(responsePromises).forEach((key) => {\r\n                responsePromises[key].reject(error);\r\n            });\r\n            responsePromises = Object.create(null);\r\n            requestTokens = Object.create(null);\r\n            messageQueue = new linkedMap_1.LinkedMap();\r\n            // Test for backwards compatibility\r\n            if (Is.func(messageWriter.dispose)) {\r\n                messageWriter.dispose();\r\n            }\r\n            if (Is.func(messageReader.dispose)) {\r\n                messageReader.dispose();\r\n            }\r\n        },\r\n        listen: () => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfListening();\r\n            state = ConnectionState.Listening;\r\n            messageReader.listen(callback);\r\n        },\r\n        inspect: () => {\r\n            console.log(\"inspect\");\r\n        }\r\n    };\r\n    connection.onNotification(LogTraceNotification.type, (params) => {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        tracer.log(params.message, trace === Trace.Verbose ? params.verbose : undefined);\r\n    });\r\n    return connection;\r\n}\r\nfunction isMessageReader(value) {\r\n    return value.listen !== void 0 && value.read === void 0;\r\n}\r\nfunction isMessageWriter(value) {\r\n    return value.write !== void 0 && value.end === void 0;\r\n}\r\nfunction createMessageConnection(input, output, logger, strategy) {\r\n    if (!logger) {\r\n        logger = exports.NullLogger;\r\n    }\r\n    let reader = isMessageReader(input) ? input : new messageReader_1.StreamMessageReader(input);\r\n    let writer = isMessageWriter(output) ? output : new messageWriter_1.StreamMessageWriter(output);\r\n    return _createMessageConnection(reader, writer, logger, strategy);\r\n}\r\nexports.createMessageConnection = createMessageConnection;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet DefaultSize = 8192;\r\nlet CR = Buffer.from('\\r', 'ascii')[0];\r\nlet LF = Buffer.from('\\n', 'ascii')[0];\r\nlet CRLF = '\\r\\n';\r\nclass MessageBuffer {\r\n    constructor(encoding = 'utf8') {\r\n        this.encoding = encoding;\r\n        this.index = 0;\r\n        this.buffer = Buffer.allocUnsafe(DefaultSize);\r\n    }\r\n    append(chunk) {\r\n        var toAppend = chunk;\r\n        if (typeof (chunk) === 'string') {\r\n            var str = chunk;\r\n            var bufferLen = Buffer.byteLength(str, this.encoding);\r\n            toAppend = Buffer.allocUnsafe(bufferLen);\r\n            toAppend.write(str, 0, bufferLen, this.encoding);\r\n        }\r\n        if (this.buffer.length - this.index >= toAppend.length) {\r\n            toAppend.copy(this.buffer, this.index, 0, toAppend.length);\r\n        }\r\n        else {\r\n            var newSize = (Math.ceil((this.index + toAppend.length) / DefaultSize) + 1) * DefaultSize;\r\n            if (this.index === 0) {\r\n                this.buffer = Buffer.allocUnsafe(newSize);\r\n                toAppend.copy(this.buffer, 0, 0, toAppend.length);\r\n            }\r\n            else {\r\n                this.buffer = Buffer.concat([this.buffer.slice(0, this.index), toAppend], newSize);\r\n            }\r\n        }\r\n        this.index += toAppend.length;\r\n    }\r\n    tryReadHeaders() {\r\n        let result = undefined;\r\n        let current = 0;\r\n        while (current + 3 < this.index && (this.buffer[current] !== CR || this.buffer[current + 1] !== LF || this.buffer[current + 2] !== CR || this.buffer[current + 3] !== LF)) {\r\n            current++;\r\n        }\r\n        // No header / body separator found (e.g CRLFCRLF)\r\n        if (current + 3 >= this.index) {\r\n            return result;\r\n        }\r\n        result = Object.create(null);\r\n        let headers = this.buffer.toString('ascii', 0, current).split(CRLF);\r\n        headers.forEach((header) => {\r\n            let index = header.indexOf(':');\r\n            if (index === -1) {\r\n                throw new Error('Message header must separate key and value using :');\r\n            }\r\n            let key = header.substr(0, index);\r\n            let value = header.substr(index + 1).trim();\r\n            result[key] = value;\r\n        });\r\n        let nextStart = current + 4;\r\n        this.buffer = this.buffer.slice(nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    tryReadContent(length) {\r\n        if (this.index < length) {\r\n            return null;\r\n        }\r\n        let result = this.buffer.toString(this.encoding, 0, length);\r\n        let nextStart = length;\r\n        this.buffer.copy(this.buffer, 0, nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    get numberOfBytes() {\r\n        return this.index;\r\n    }\r\n}\r\nvar MessageReader;\r\n(function (MessageReader) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\r\n    }\r\n    MessageReader.is = is;\r\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\r\nclass AbstractMessageReader {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n        this.partialMessageEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error) {\r\n        this.errorEmitter.fire(this.asError(error));\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    get onPartialMessage() {\r\n        return this.partialMessageEmitter.event;\r\n    }\r\n    firePartialMessage(info) {\r\n        this.partialMessageEmitter.fire(info);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Reader recevied error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageReader = AbstractMessageReader;\r\nclass StreamMessageReader extends AbstractMessageReader {\r\n    constructor(readable, encoding = 'utf8') {\r\n        super();\r\n        this.readable = readable;\r\n        this.buffer = new MessageBuffer(encoding);\r\n        this._partialMessageTimeout = 10000;\r\n    }\r\n    set partialMessageTimeout(timeout) {\r\n        this._partialMessageTimeout = timeout;\r\n    }\r\n    get partialMessageTimeout() {\r\n        return this._partialMessageTimeout;\r\n    }\r\n    listen(callback) {\r\n        this.nextMessageLength = -1;\r\n        this.messageToken = 0;\r\n        this.partialMessageTimer = undefined;\r\n        this.callback = callback;\r\n        this.readable.on('data', (data) => {\r\n            this.onData(data);\r\n        });\r\n        this.readable.on('error', (error) => this.fireError(error));\r\n        this.readable.on('close', () => this.fireClose());\r\n    }\r\n    onData(data) {\r\n        this.buffer.append(data);\r\n        while (true) {\r\n            if (this.nextMessageLength === -1) {\r\n                let headers = this.buffer.tryReadHeaders();\r\n                if (!headers) {\r\n                    return;\r\n                }\r\n                let contentLength = headers['Content-Length'];\r\n                if (!contentLength) {\r\n                    throw new Error('Header must provide a Content-Length property.');\r\n                }\r\n                let length = parseInt(contentLength);\r\n                if (isNaN(length)) {\r\n                    throw new Error('Content-Length value must be a number.');\r\n                }\r\n                this.nextMessageLength = length;\r\n                // Take the encoding form the header. For compatibility\r\n                // treat both utf-8 and utf8 as node utf8\r\n            }\r\n            var msg = this.buffer.tryReadContent(this.nextMessageLength);\r\n            if (msg === null) {\r\n                /** We haven't recevied the full message yet. */\r\n                this.setPartialMessageTimer();\r\n                return;\r\n            }\r\n            this.clearPartialMessageTimer();\r\n            this.nextMessageLength = -1;\r\n            this.messageToken++;\r\n            var json = JSON.parse(msg);\r\n            this.callback(json);\r\n        }\r\n    }\r\n    clearPartialMessageTimer() {\r\n        if (this.partialMessageTimer) {\r\n            clearTimeout(this.partialMessageTimer);\r\n            this.partialMessageTimer = undefined;\r\n        }\r\n    }\r\n    setPartialMessageTimer() {\r\n        this.clearPartialMessageTimer();\r\n        if (this._partialMessageTimeout <= 0) {\r\n            return;\r\n        }\r\n        this.partialMessageTimer = setTimeout((token, timeout) => {\r\n            this.partialMessageTimer = undefined;\r\n            if (token === this.messageToken) {\r\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\r\n                this.setPartialMessageTimer();\r\n            }\r\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\r\n    }\r\n}\r\nexports.StreamMessageReader = StreamMessageReader;\r\nclass IPCMessageReader extends AbstractMessageReader {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose());\r\n    }\r\n    listen(callback) {\r\n        this.process.on('message', callback);\r\n    }\r\n}\r\nexports.IPCMessageReader = IPCMessageReader;\r\nclass SocketMessageReader extends StreamMessageReader {\r\n    constructor(socket, encoding = 'utf-8') {\r\n        super(socket, encoding);\r\n    }\r\n}\r\nexports.SocketMessageReader = SocketMessageReader;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet ContentLength = 'Content-Length: ';\r\nlet CRLF = '\\r\\n';\r\nvar MessageWriter;\r\n(function (MessageWriter) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.write);\r\n    }\r\n    MessageWriter.is = is;\r\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\r\nclass AbstractMessageWriter {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error, message, count) {\r\n        this.errorEmitter.fire([this.asError(error), message, count]);\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Writer recevied error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageWriter = AbstractMessageWriter;\r\nclass StreamMessageWriter extends AbstractMessageWriter {\r\n    constructor(writable, encoding = 'utf8') {\r\n        super();\r\n        this.writable = writable;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.writable.on('error', (error) => this.fireError(error));\r\n        this.writable.on('close', () => this.fireClose());\r\n    }\r\n    write(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.writable.write(headers.join(''), 'ascii');\r\n            // Now write the content. This can be written in any encoding\r\n            this.writable.write(json, this.encoding);\r\n            this.errorCount = 0;\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.StreamMessageWriter = StreamMessageWriter;\r\nclass IPCMessageWriter extends AbstractMessageWriter {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        this.errorCount = 0;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose);\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        try {\r\n            if (this.process.send) {\r\n                this.sending = true;\r\n                this.process.send(msg, undefined, undefined, (error) => {\r\n                    this.sending = false;\r\n                    if (error) {\r\n                        this.errorCount++;\r\n                        this.fireError(error, msg, this.errorCount);\r\n                    }\r\n                    else {\r\n                        this.errorCount = 0;\r\n                    }\r\n                    if (this.queue.length > 0) {\r\n                        this.doWriteMessage(this.queue.shift());\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.IPCMessageWriter = IPCMessageWriter;\r\nclass SocketMessageWriter extends AbstractMessageWriter {\r\n    constructor(socket, encoding = 'utf8') {\r\n        super();\r\n        this.socket = socket;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.socket.on('error', (error) => this.fireError(error));\r\n        this.socket.on('close', () => this.fireClose());\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.sending = true;\r\n            this.socket.write(headers.join(''), 'ascii', (error) => {\r\n                if (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n                try {\r\n                    // Now write the content. This can be written in any encoding\r\n                    this.socket.write(json, this.encoding, (error) => {\r\n                        this.sending = false;\r\n                        if (error) {\r\n                            this.handleError(error, msg);\r\n                        }\r\n                        else {\r\n                            this.errorCount = 0;\r\n                        }\r\n                        if (this.queue.length > 0) {\r\n                            this.doWriteMessage(this.queue.shift());\r\n                        }\r\n                    });\r\n                }\r\n                catch (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n            });\r\n        }\r\n        catch (error) {\r\n            this.handleError(error, msg);\r\n        }\r\n    }\r\n    handleError(error, msg) {\r\n        this.errorCount++;\r\n        this.fireError(error, msg, this.errorCount);\r\n    }\r\n}\r\nexports.SocketMessageWriter = SocketMessageWriter;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst is = require(\"./is\");\r\n/**\r\n * Predefined error codes.\r\n */\r\nvar ErrorCodes;\r\n(function (ErrorCodes) {\r\n    // Defined by JSON RPC\r\n    ErrorCodes.ParseError = -32700;\r\n    ErrorCodes.InvalidRequest = -32600;\r\n    ErrorCodes.MethodNotFound = -32601;\r\n    ErrorCodes.InvalidParams = -32602;\r\n    ErrorCodes.InternalError = -32603;\r\n    ErrorCodes.serverErrorStart = -32099;\r\n    ErrorCodes.serverErrorEnd = -32000;\r\n    ErrorCodes.ServerNotInitialized = -32002;\r\n    ErrorCodes.UnknownErrorCode = -32001;\r\n    // Defined by the protocol.\r\n    ErrorCodes.RequestCancelled = -32800;\r\n    // Defined by VSCode library.\r\n    ErrorCodes.MessageWriteError = 1;\r\n    ErrorCodes.MessageReadError = 2;\r\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\r\n/**\r\n * An error object return in a response in case a request\r\n * has failed.\r\n */\r\nclass ResponseError extends Error {\r\n    constructor(code, message, data) {\r\n        super(message);\r\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\r\n        this.data = data;\r\n        Object.setPrototypeOf(this, ResponseError.prototype);\r\n    }\r\n    toJson() {\r\n        return {\r\n            code: this.code,\r\n            message: this.message,\r\n            data: this.data,\r\n        };\r\n    }\r\n}\r\nexports.ResponseError = ResponseError;\r\n/**\r\n * An abstract implementation of a MessageType.\r\n */\r\nclass AbstractMessageType {\r\n    constructor(_method, _numberOfParams) {\r\n        this._method = _method;\r\n        this._numberOfParams = _numberOfParams;\r\n    }\r\n    get method() {\r\n        return this._method;\r\n    }\r\n    get numberOfParams() {\r\n        return this._numberOfParams;\r\n    }\r\n}\r\nexports.AbstractMessageType = AbstractMessageType;\r\n/**\r\n * Classes to type request response pairs\r\n */\r\nclass RequestType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType0 = RequestType0;\r\nclass RequestType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType = RequestType;\r\nclass RequestType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType1 = RequestType1;\r\nclass RequestType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType2 = RequestType2;\r\nclass RequestType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType3 = RequestType3;\r\nclass RequestType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType4 = RequestType4;\r\nclass RequestType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType5 = RequestType5;\r\nclass RequestType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType6 = RequestType6;\r\nclass RequestType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType7 = RequestType7;\r\nclass RequestType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType8 = RequestType8;\r\nclass RequestType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.RequestType9 = RequestType9;\r\nclass NotificationType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType = NotificationType;\r\nclass NotificationType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType0 = NotificationType0;\r\nclass NotificationType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType1 = NotificationType1;\r\nclass NotificationType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType2 = NotificationType2;\r\nclass NotificationType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType3 = NotificationType3;\r\nclass NotificationType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType4 = NotificationType4;\r\nclass NotificationType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType5 = NotificationType5;\r\nclass NotificationType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType6 = NotificationType6;\r\nclass NotificationType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType7 = NotificationType7;\r\nclass NotificationType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType8 = NotificationType8;\r\nclass NotificationType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType9 = NotificationType9;\r\n/**\r\n * Tests if the given message is a request message\r\n */\r\nfunction isRequestMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\r\n}\r\nexports.isRequestMessage = isRequestMessage;\r\n/**\r\n * Tests if the given message is a notification message\r\n */\r\nfunction isNotificationMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && message.id === void 0;\r\n}\r\nexports.isNotificationMessage = isNotificationMessage;\r\n/**\r\n * Tests if the given message is a response message\r\n */\r\nfunction isResponseMessage(message) {\r\n    let candidate = message;\r\n    return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\r\n}\r\nexports.isResponseMessage = isResponseMessage;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst path_1 = require(\"path\");\r\nconst os_1 = require(\"os\");\r\nconst crypto_1 = require(\"crypto\");\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction generateRandomPipeName() {\r\n    const randomSuffix = crypto_1.randomBytes(21).toString('hex');\r\n    if (process.platform === 'win32') {\r\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\r\n    }\r\n    else {\r\n        // Mac/Unix: use socket file\r\n        return path_1.join(os_1.tmpdir(), `vscode-${randomSuffix}.sock`);\r\n    }\r\n}\r\nexports.generateRandomPipeName = generateRandomPipeName;\r\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(pipeName, () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientPipeTransport = createClientPipeTransport;\r\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(pipeName);\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerPipeTransport = createServerPipeTransport;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(port, '127.0.0.1', () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientSocketTransport = createClientSocketTransport;\r\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(port, '127.0.0.1');\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerSocketTransport = createServerSocketTransport;\r\n","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PipeExtensions = void 0;\r\nconst buffer_1 = require(\"buffer\");\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst transportMessages_1 = require(\"./messages/transportMessages\");\r\nconst connectionMessages_1 = require(\"./messages/connectionMessages\");\r\nconst promiseCompletionSource_1 = require(\"./util/promiseCompletionSource\");\r\nconst errors_1 = require(\"./errors\");\r\n/**\r\n * Extension methods for piping sessions and channels.\r\n *\r\n * Note this class is not exported from the package. Instead, the piping APIs are exposed via\r\n * public methods on the `SshSession` and `SshChannel` classes. See those respective methods\r\n * for API documentation.\r\n */\r\nclass PipeExtensions {\r\n    static async pipeSession(session, toSession) {\r\n        if (!session)\r\n            throw new TypeError('Session is required.');\r\n        if (!toSession)\r\n            throw new TypeError('Target session is required');\r\n        const endCompletion = new promiseCompletionSource_1.PromiseCompletionSource();\r\n        session.onRequest((e) => {\r\n            e.responsePromise = PipeExtensions.forwardSessionRequest(e, toSession, e.cancellation);\r\n        });\r\n        toSession.onRequest((e) => {\r\n            e.responsePromise = PipeExtensions.forwardSessionRequest(e, session, e.cancellation);\r\n        });\r\n        session.onChannelOpening((e) => {\r\n            if (e.isRemoteRequest) {\r\n                e.openingPromise = PipeExtensions.forwardChannel(e, toSession, e.cancellation);\r\n            }\r\n        });\r\n        toSession.onChannelOpening((e) => {\r\n            if (e.isRemoteRequest) {\r\n                e.openingPromise = PipeExtensions.forwardChannel(e, session, e.cancellation);\r\n            }\r\n        });\r\n        session.onClosed((e) => {\r\n            endCompletion.resolve(PipeExtensions.forwardSessionClose(toSession, e));\r\n        });\r\n        toSession.onClosed((e) => {\r\n            endCompletion.resolve(PipeExtensions.forwardSessionClose(session, e));\r\n        });\r\n        const endPromise = await endCompletion.promise;\r\n        await endPromise;\r\n    }\r\n    static async pipeChannel(channel, toChannel) {\r\n        if (!channel)\r\n            throw new TypeError('Channel is required.');\r\n        if (!toChannel)\r\n            throw new TypeError('Target channel is required');\r\n        const endCompletion = new promiseCompletionSource_1.PromiseCompletionSource();\r\n        let closed = false;\r\n        channel.onRequest((e) => {\r\n            e.responsePromise = PipeExtensions.forwardChannelRequest(e, toChannel, e.cancellation);\r\n        });\r\n        toChannel.onRequest((e) => {\r\n            e.responsePromise = PipeExtensions.forwardChannelRequest(e, channel, e.cancellation);\r\n        });\r\n        channel.onDataReceived((data) => {\r\n            void PipeExtensions.forwardData(channel, toChannel, data).catch();\r\n        });\r\n        toChannel.onDataReceived((data) => {\r\n            void PipeExtensions.forwardData(toChannel, channel, data).catch();\r\n        });\r\n        channel.onClosed((e) => {\r\n            if (!closed) {\r\n                closed = true;\r\n                endCompletion.resolve(PipeExtensions.forwardChannelClose(toChannel, e));\r\n            }\r\n        });\r\n        toChannel.onClosed((e) => {\r\n            if (!closed) {\r\n                closed = true;\r\n                endCompletion.resolve(PipeExtensions.forwardChannelClose(channel, e));\r\n            }\r\n        });\r\n        const endTask = await endCompletion.promise;\r\n        await endTask;\r\n    }\r\n    static async forwardSessionRequest(e, toSession, cancellation) {\r\n        // `SshSession.requestResponse()` always set `wantReply` to `true` internally and waits for a\r\n        // response, but since the message buffer is cached the updated `wantReply` value is not sent.\r\n        // Anyway, it's better to forward a no-reply message as another no-reply message, using\r\n        // `SshSession.request()` instead.\r\n        if (!e.request.wantReply) {\r\n            return toSession.request(e.request, cancellation).then(() => new transportMessages_1.SessionRequestSuccessMessage());\r\n        }\r\n        return toSession.requestResponse(e.request, transportMessages_1.SessionRequestSuccessMessage, transportMessages_1.SessionRequestFailureMessage, cancellation);\r\n    }\r\n    static async forwardChannel(e, toSession, cancellation) {\r\n        var _a;\r\n        try {\r\n            const toChannel = await toSession.openChannel(e.request, null, cancellation);\r\n            void PipeExtensions.pipeChannel(e.channel, toChannel).catch();\r\n            return new connectionMessages_1.ChannelOpenConfirmationMessage();\r\n        }\r\n        catch (err) {\r\n            if (!(err instanceof Error))\r\n                throw err;\r\n            const failureMessage = new connectionMessages_1.ChannelOpenFailureMessage();\r\n            if (err instanceof errors_1.SshChannelError) {\r\n                failureMessage.reasonCode = (_a = err.reason) !== null && _a !== void 0 ? _a : connectionMessages_1.SshChannelOpenFailureReason.connectFailed;\r\n            }\r\n            else {\r\n                failureMessage.reasonCode = connectionMessages_1.SshChannelOpenFailureReason.connectFailed;\r\n            }\r\n            failureMessage.description = err.message;\r\n            return failureMessage;\r\n        }\r\n    }\r\n    static async forwardChannelRequest(e, toChannel, cancellation) {\r\n        e.request.recipientChannel = toChannel.remoteChannelId;\r\n        const result = await toChannel.request(e.request, cancellation);\r\n        return result ? new connectionMessages_1.ChannelSuccessMessage() : new connectionMessages_1.ChannelFailureMessage();\r\n    }\r\n    static async forwardSessionClose(session, e) {\r\n        var _a;\r\n        return session.close(e.reason, e.message, (_a = e.error) !== null && _a !== void 0 ? _a : undefined);\r\n    }\r\n    static async forwardData(channel, toChannel, data) {\r\n        // Make a copy of the buffer before sending because SshChannel.send() is an async operation\r\n        // (it may need to wait for the window to open), while the buffer will be re-used for the\r\n        // next message as sson as this task yields.\r\n        const buffer = buffer_1.Buffer.alloc(data.length);\r\n        data.copy(buffer);\r\n        const promise = toChannel.send(buffer, vscode_jsonrpc_1.CancellationToken.None);\r\n        channel.adjustWindow(buffer.length);\r\n        return promise;\r\n    }\r\n    static async forwardChannelClose(channel, e) {\r\n        if (e.error) {\r\n            channel.close(e.error);\r\n            return Promise.resolve();\r\n        }\r\n        else if (e.exitSignal) {\r\n            return channel.close(e.exitSignal, e.errorMessage);\r\n        }\r\n        else if (typeof e.exitStatus === 'number') {\r\n            return channel.close(e.exitStatus);\r\n        }\r\n        else {\r\n            return channel.close();\r\n        }\r\n    }\r\n}\r\nexports.PipeExtensions = PipeExtensions;\r\n//# sourceMappingURL=pipeExtensions.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SecureStream = void 0;\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst streams_1 = require(\"./streams\");\r\nconst sshStream_1 = require(\"./sshStream\");\r\nconst sshSessionConfiguration_1 = require(\"./sshSessionConfiguration\");\r\nconst transportMessages_1 = require(\"./messages/transportMessages\");\r\nconst trace_1 = require(\"./trace\");\r\nconst sshClientSession_1 = require(\"./sshClientSession\");\r\nconst sshServerSession_1 = require(\"./sshServerSession\");\r\nconst errors_1 = require(\"./errors\");\r\nconst stream_1 = require(\"stream\");\r\nconst promiseCompletionSource_1 = require(\"./util/promiseCompletionSource\");\r\n/**\r\n * Establishes an end-to-end encrypted two-way authenticated data stream over an underlying\r\n * transport stream, using the SSH protocol but providing simplified interface that is limited to\r\n * a single duplex stream (channel).\r\n *\r\n * This class is a complement to `MultiChannelStream`, which provides only the channel-multiplexing\r\n * functions of SSH.\r\n *\r\n * To establish a secure connection, the two sides first establish an insecure transport stream\r\n * over a pipe, socket, or anything else. Then they encrypt and authenticate the connection\r\n * before beginning to send and receive data.\r\n */\r\nclass SecureStream extends stream_1.Duplex {\r\n    /**\r\n     * Creates a new multi-channel stream over an underlying transport stream.\r\n     * @param transportStream Stream that is used to multiplex all the channels.\r\n     */\r\n    constructor(transportStream, credentials) {\r\n        super({\r\n            write(chunk, encoding, cb) {\r\n                this.connectCompletion.promise.then((stream) => {\r\n                    // eslint-disable-next-line no-underscore-dangle\r\n                    stream._write(chunk, encoding, cb);\r\n                }, cb);\r\n            },\r\n            writev(chunks, cb) {\r\n                this.connectCompletion.promise.then((stream) => {\r\n                    // eslint-disable-next-line no-underscore-dangle\r\n                    stream._writev(chunks, cb);\r\n                }, cb);\r\n            },\r\n            final(cb) {\r\n                this.connectCompletion.promise.then((stream) => {\r\n                    // eslint-disable-next-line no-underscore-dangle\r\n                    stream._final(cb);\r\n                }, cb);\r\n            },\r\n            read(size) {\r\n                this.connectCompletion.promise.then((stream) => {\r\n                    // eslint-disable-next-line no-underscore-dangle\r\n                    stream._read(size);\r\n                }, (e) => {\r\n                    // The error will be thrown from the connect() method.\r\n                });\r\n            },\r\n        });\r\n        this.transportStream = transportStream;\r\n        this.clientCredentials = null;\r\n        this.serverCredentials = null;\r\n        this.connectCompletion = new promiseCompletionSource_1.PromiseCompletionSource();\r\n        this.disposed = false;\r\n        this.disposables = [];\r\n        this.closedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onClosed = this.closedEmitter.event;\r\n        if (!transportStream)\r\n            throw new TypeError('A transport stream is required.');\r\n        if (!credentials)\r\n            throw new TypeError('Client or server credentials are required.');\r\n        const sessionConfig = new sshSessionConfiguration_1.SshSessionConfiguration(true);\r\n        if ('username' in credentials) {\r\n            this.clientCredentials = credentials;\r\n            this.session = new sshClientSession_1.SshClientSession(sessionConfig);\r\n        }\r\n        else if (credentials.publicKeys) {\r\n            this.serverCredentials = credentials;\r\n            this.session = new sshServerSession_1.SshServerSession(sessionConfig);\r\n        }\r\n        else {\r\n            throw new TypeError('Client or server credentials are required.');\r\n        }\r\n        this.session.onClosed(this.onSessionClosed, this, this.disposables);\r\n    }\r\n    get trace() {\r\n        return this.session.trace;\r\n    }\r\n    set trace(trace) {\r\n        this.session.trace = trace;\r\n    }\r\n    get isClosed() {\r\n        return this.disposed || this.session.isClosed;\r\n    }\r\n    onAuthenticating(listener, thisArgs, disposables) {\r\n        return this.session.onAuthenticating(listener, thisArgs, disposables);\r\n    }\r\n    /**\r\n     * Initiates the SSH session over the transport stream by exchanging initial messages with the\r\n     * remote peer. Waits for the protocol version exchange and key exchange. Additional message\r\n     * processing is kicked off as a background promise chain.\r\n     * @param cancellation optional cancellation token.\r\n     */\r\n    async connect(cancellation) {\r\n        try {\r\n            if (this.serverCredentials) {\r\n                const serverSession = this.session;\r\n                serverSession.credentials = this.serverCredentials;\r\n            }\r\n            let stream = this.transportStream;\r\n            if (stream instanceof stream_1.Duplex) {\r\n                stream = new streams_1.NodeStream(stream);\r\n            }\r\n            await this.session.connect(stream, cancellation);\r\n            let channel = null;\r\n            if (this.clientCredentials) {\r\n                const clientSession = this.session;\r\n                if (!(await clientSession.authenticateServer(cancellation))) {\r\n                    throw new errors_1.SshConnectionError('Server authentication failed.', transportMessages_1.SshDisconnectReason.hostKeyNotVerifiable);\r\n                }\r\n                if (!(await clientSession.authenticateClient(this.clientCredentials, cancellation))) {\r\n                    throw new errors_1.SshConnectionError('Client authentication failed.', transportMessages_1.SshDisconnectReason.noMoreAuthMethodsAvailable);\r\n                }\r\n                channel = await this.session.openChannel(cancellation);\r\n            }\r\n            else {\r\n                channel = await this.session.acceptChannel(cancellation);\r\n            }\r\n            this.stream = this.createStream(channel);\r\n            // Do not forward the 'readable' event because adding a listener causes a read.\r\n            this.stream.on('data', (data) => this.emit('data', data));\r\n            this.stream.on('end', () => this.emit('end'));\r\n            this.stream.on('close', () => this.emit('close'));\r\n            this.stream.on('error', () => this.emit('error'));\r\n            channel.onClosed(() => this.dispose());\r\n            this.connectCompletion.resolve(this.stream);\r\n        }\r\n        catch (e) {\r\n            if (!(e instanceof Error))\r\n                throw e;\r\n            let disconnectReason = e instanceof errors_1.SshConnectionError ? e.reason : undefined;\r\n            disconnectReason !== null && disconnectReason !== void 0 ? disconnectReason : (disconnectReason = transportMessages_1.SshDisconnectReason.protocolError);\r\n            await this.session.close(disconnectReason, e.message, e);\r\n            this.connectCompletion.reject(e);\r\n            throw e;\r\n        }\r\n    }\r\n    /**\r\n     * Creates a stream instance for a channel. May be overridden to create a `SshStream` subclass.\r\n     */\r\n    createStream(channel) {\r\n        return new sshStream_1.SshStream(channel);\r\n    }\r\n    dispose() {\r\n        if (!this.disposed) {\r\n            this.disposed = true;\r\n            this.session.dispose();\r\n            this.unsubscribe();\r\n            try {\r\n                if (this.transportStream) {\r\n                    if (this.transportStream instanceof stream_1.Duplex) {\r\n                        this.transportStream.end();\r\n                        this.transportStream.destroy();\r\n                    }\r\n                    else {\r\n                        this.transportStream.close().catch((e) => {\r\n                            this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.streamCloseError, `Error closing transport stream: ${e.message}`, e);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            catch (e) {\r\n                if (!(e instanceof Error))\r\n                    throw e;\r\n                this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.streamCloseError, `Error closing transport stream: ${e.message}`, e);\r\n            }\r\n        }\r\n    }\r\n    async close() {\r\n        if (!this.disposed) {\r\n            this.disposed = true;\r\n            await this.session.close(transportMessages_1.SshDisconnectReason.none, 'SshSession disposed');\r\n            this.session.dispose();\r\n            this.unsubscribe();\r\n            if (this.transportStream instanceof stream_1.Duplex) {\r\n                await new Promise((resolve) => {\r\n                    this.transportStream.end(resolve);\r\n                });\r\n            }\r\n            else {\r\n                await this.transportStream.close();\r\n            }\r\n        }\r\n    }\r\n    onSessionClosed(e) {\r\n        this.unsubscribe();\r\n        this.closedEmitter.fire(e);\r\n    }\r\n    unsubscribe() {\r\n        this.disposables.forEach((d) => d.dispose());\r\n        this.disposables = [];\r\n    }\r\n}\r\nexports.SecureStream = SecureStream;\r\n//# sourceMappingURL=secureStream.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar AuthenticationService_1;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AuthenticationService = void 0;\r\nconst sshService_1 = require(\"./sshService\");\r\nconst authenticationMessages_1 = require(\"../messages/authenticationMessages\");\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst sshData_1 = require(\"../io/sshData\");\r\nconst transportMessages_1 = require(\"../messages/transportMessages\");\r\nconst sshAuthenticatingEventArgs_1 = require(\"../events/sshAuthenticatingEventArgs\");\r\nconst connectionService_1 = require(\"./connectionService\");\r\nconst serviceActivation_1 = require(\"./serviceActivation\");\r\nconst queue_1 = require(\"../util/queue\");\r\nconst trace_1 = require(\"../trace\");\r\n/**\r\n * Handles SSH protocol messages related to client authentication.\r\n */\r\nlet AuthenticationService = AuthenticationService_1 = class AuthenticationService extends sshService_1.SshService {\r\n    constructor(session) {\r\n        var _a;\r\n        super(session);\r\n        this.authenticationFailureCount = 0;\r\n        this.disposeCancellationSource = new vscode_jsonrpc_1.CancellationTokenSource();\r\n        const algorithmName = (_a = session.algorithms) === null || _a === void 0 ? void 0 : _a.publicKeyAlgorithmName;\r\n        if (!algorithmName) {\r\n            throw new Error('Algorithms not initialized.');\r\n        }\r\n        this.publicKeyAlgorithmName = algorithmName;\r\n    }\r\n    handleMessage(message, cancellation) {\r\n        if (message instanceof authenticationMessages_1.AuthenticationSuccessMessage) {\r\n            return this.handleSuccessMessage(message);\r\n        }\r\n        else if (message instanceof authenticationMessages_1.AuthenticationFailureMessage) {\r\n            return this.handleFailureMessage(message);\r\n        }\r\n        else if (message instanceof authenticationMessages_1.AuthenticationRequestMessage) {\r\n            return this.handleAuthenticationRequestMessage(message, cancellation);\r\n        }\r\n        else {\r\n            throw new Error(`Message not implemented: ${message}`);\r\n        }\r\n    }\r\n    async handleAuthenticationRequestMessage(message, cancellation) {\r\n        this.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.sessionAuthenticating, `Authentication request: ${message.methodName}`);\r\n        if (message.methodName === \"publickey\" /* AuthenticationMethod.publicKey */ ||\r\n            message.methodName === \"hostbased\" /* AuthenticationMethod.hostBased */) {\r\n            return this.handlePublicKeyRequestMessage(message.convertTo(new authenticationMessages_1.PublicKeyRequestMessage()), cancellation);\r\n        }\r\n        else if (message.methodName === \"password\" /* AuthenticationMethod.password */) {\r\n            return this.handlePasswordRequestMessage(message.convertTo(new authenticationMessages_1.PasswordRequestMessage()), cancellation);\r\n        }\r\n        else if (message.methodName === \"none\" /* AuthenticationMethod.none */) {\r\n            return this.handleAuthenticating(message, new sshAuthenticatingEventArgs_1.SshAuthenticatingEventArgs(sshAuthenticatingEventArgs_1.SshAuthenticationType.clientNone, { username: message.username }, cancellation));\r\n        }\r\n        else {\r\n            const failureMessage = new authenticationMessages_1.AuthenticationFailureMessage();\r\n            failureMessage.methodNames = [\r\n                \"publickey\" /* AuthenticationMethod.publicKey */,\r\n                \"password\" /* AuthenticationMethod.password */,\r\n                \"hostbased\" /* AuthenticationMethod.hostBased */,\r\n            ];\r\n            await this.session.sendMessage(failureMessage, cancellation);\r\n        }\r\n    }\r\n    async handlePublicKeyRequestMessage(message, cancellation) {\r\n        var _a, _b, _c;\r\n        const publicKeyAlg = this.session.config.getPublicKeyAlgorithm(message.keyAlgorithmName);\r\n        if (!publicKeyAlg) {\r\n            const failureMessage = new authenticationMessages_1.AuthenticationFailureMessage();\r\n            failureMessage.methodNames = [\r\n                \"publickey\" /* AuthenticationMethod.publicKey */,\r\n                \"password\" /* AuthenticationMethod.password */,\r\n            ];\r\n            await this.session.sendMessage(failureMessage, cancellation);\r\n            return;\r\n        }\r\n        const publicKey = publicKeyAlg.createKeyPair();\r\n        await publicKey.setPublicKeyBytes(message.publicKey);\r\n        let args;\r\n        if (message.methodName === \"hostbased\" /* AuthenticationMethod.hostBased */) {\r\n            args = new sshAuthenticatingEventArgs_1.SshAuthenticatingEventArgs(sshAuthenticatingEventArgs_1.SshAuthenticationType.clientHostBased, {\r\n                username: (_a = message.username) !== null && _a !== void 0 ? _a : '',\r\n                publicKey: publicKey,\r\n                clientHostname: message.clientHostname,\r\n                clientUsername: message.clientUsername,\r\n            });\r\n        }\r\n        else if (!message.hasSignature) {\r\n            args = new sshAuthenticatingEventArgs_1.SshAuthenticatingEventArgs(sshAuthenticatingEventArgs_1.SshAuthenticationType.clientPublicKeyQuery, {\r\n                username: (_b = message.username) !== null && _b !== void 0 ? _b : '',\r\n                publicKey: publicKey,\r\n            });\r\n        }\r\n        else {\r\n            // Verify that the signature matches the public key.\r\n            const signature = publicKeyAlg.readSignatureData(message.signature);\r\n            const sessionId = this.session.sessionId;\r\n            if (sessionId == null) {\r\n                throw new Error('Session ID not initialized.');\r\n            }\r\n            const writer = new sshData_1.SshDataWriter(Buffer.alloc(sessionId.length + message.payloadWithoutSignature.length + 20));\r\n            writer.writeBinary(sessionId);\r\n            writer.write(message.payloadWithoutSignature);\r\n            const signedData = writer.toBuffer();\r\n            const verifier = publicKeyAlg.createVerifier(publicKey);\r\n            const verified = await verifier.verify(signedData, signature);\r\n            if (!verified) {\r\n                await this.handleAuthenticationFailure('Public key authentication failed: invalid signature.', cancellation);\r\n            }\r\n            args = new sshAuthenticatingEventArgs_1.SshAuthenticatingEventArgs(sshAuthenticatingEventArgs_1.SshAuthenticationType.clientPublicKey, {\r\n                username: (_c = message.username) !== null && _c !== void 0 ? _c : '',\r\n                publicKey: publicKey,\r\n            });\r\n        }\r\n        // Raise an Authenticating event that allows handlers to do additional verification\r\n        // of the client's username and public key.\r\n        await this.handleAuthenticating(message, args, cancellation);\r\n    }\r\n    async handlePasswordRequestMessage(message, cancellation) {\r\n        var _a, _b;\r\n        // Raise an Authenticating event that allows handlers to do verification\r\n        // of the client's username and password.\r\n        const args = new sshAuthenticatingEventArgs_1.SshAuthenticatingEventArgs(sshAuthenticatingEventArgs_1.SshAuthenticationType.clientPassword, {\r\n            username: (_a = message.username) !== null && _a !== void 0 ? _a : '',\r\n            password: (_b = message.password) !== null && _b !== void 0 ? _b : '',\r\n        });\r\n        await this.handleAuthenticating(message, args, cancellation);\r\n    }\r\n    async handleAuthenticating(requestMessage, args, cancellation) {\r\n        var _a;\r\n        args.cancellation = this.disposeCancellationSource.token;\r\n        let authenticatedPrincipal = null;\r\n        try {\r\n            authenticatedPrincipal = await this.session.raiseAuthenticatingEvent(args);\r\n        }\r\n        catch (e) {\r\n            if (!(e instanceof Error))\r\n                throw e;\r\n            this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.authenticationError, `Error while authenticating client: ${e.message}`, e);\r\n            authenticatedPrincipal = null;\r\n        }\r\n        if (authenticatedPrincipal) {\r\n            if (args.authenticationType === sshAuthenticatingEventArgs_1.SshAuthenticationType.clientPublicKeyQuery) {\r\n                const publicKeyRequest = requestMessage;\r\n                const okMessage = new authenticationMessages_1.PublicKeyOKMessage();\r\n                okMessage.keyAlgorithmName = publicKeyRequest.keyAlgorithmName;\r\n                okMessage.publicKey = publicKeyRequest.publicKey;\r\n                await this.session.sendMessage(okMessage, cancellation);\r\n            }\r\n            else {\r\n                this.session.principal = authenticatedPrincipal;\r\n                if (requestMessage.serviceName) {\r\n                    this.session.activateService(requestMessage.serviceName);\r\n                }\r\n                this.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.sessionAuthenticated, `${sshAuthenticatingEventArgs_1.SshAuthenticationType[args.authenticationType]} authentication succeeded.`);\r\n                await this.session.sendMessage(new authenticationMessages_1.AuthenticationSuccessMessage(), cancellation);\r\n                (_a = this.session) === null || _a === void 0 ? void 0 : _a.handleClientAuthenticated();\r\n            }\r\n        }\r\n        else {\r\n            await this.handleAuthenticationFailure(`${sshAuthenticatingEventArgs_1.SshAuthenticationType[args.authenticationType]} authentication failed.`);\r\n        }\r\n    }\r\n    async handleAuthenticationFailure(message, cancellation) {\r\n        this.authenticationFailureCount++;\r\n        this.trace(trace_1.TraceLevel.Warning, trace_1.SshTraceEventIds.clientAuthenticationFailed, message);\r\n        const failureMessage = new authenticationMessages_1.AuthenticationFailureMessage();\r\n        failureMessage.methodNames = [\r\n            \"publickey\" /* AuthenticationMethod.publicKey */,\r\n            \"password\" /* AuthenticationMethod.password */,\r\n            \"hostbased\" /* AuthenticationMethod.hostBased */,\r\n        ];\r\n        await this.session.sendMessage(failureMessage, cancellation);\r\n        // Allow trying again with another authentication method. But prevent unlimited tries.\r\n        if (this.authenticationFailureCount >= this.session.config.maxClientAuthenticationAttempts) {\r\n            await this.session.close(transportMessages_1.SshDisconnectReason.noMoreAuthMethodsAvailable, 'Authentication failed.');\r\n        }\r\n    }\r\n    async authenticateClient(credentials, cancellation) {\r\n        var _a, _b, _c, _d;\r\n        this.clientAuthenticationMethods = new queue_1.Queue();\r\n        for (const publicKey of (_a = credentials.publicKeys) !== null && _a !== void 0 ? _a : []) {\r\n            if (!publicKey)\r\n                continue;\r\n            const username = (_b = credentials.username) !== null && _b !== void 0 ? _b : '';\r\n            let privateKey = publicKey;\r\n            const privateKeyProvider = credentials.privateKeyProvider;\r\n            this.clientAuthenticationMethods.enqueue(async (cancellation2) => {\r\n                if (!privateKey.hasPrivateKey) {\r\n                    if (privateKeyProvider == null) {\r\n                        throw new Error('A private key provider is required.');\r\n                    }\r\n                    privateKey = await privateKeyProvider(publicKey, cancellation2 !== null && cancellation2 !== void 0 ? cancellation2 : vscode_jsonrpc_1.CancellationToken.None);\r\n                }\r\n                if (privateKey) {\r\n                    await this.requestPublicKeyAuthentication(username, privateKey, cancellation2);\r\n                }\r\n                else {\r\n                    await this.session.close(transportMessages_1.SshDisconnectReason.authCancelledByUser);\r\n                }\r\n            });\r\n        }\r\n        const passwordCredentialProvider = credentials.passwordProvider;\r\n        if (passwordCredentialProvider) {\r\n            this.clientAuthenticationMethods.enqueue(async (cancellation2) => {\r\n                var _a;\r\n                const passwordCredentialPromise = passwordCredentialProvider(cancellation2 !== null && cancellation2 !== void 0 ? cancellation2 : vscode_jsonrpc_1.CancellationToken.None);\r\n                const passwordCredential = passwordCredentialPromise\r\n                    ? await passwordCredentialPromise\r\n                    : null;\r\n                if (passwordCredential) {\r\n                    await this.requestPasswordAuthentication((_a = passwordCredential[0]) !== null && _a !== void 0 ? _a : '', passwordCredential[1], cancellation2);\r\n                }\r\n                else {\r\n                    await this.session.close(transportMessages_1.SshDisconnectReason.authCancelledByUser);\r\n                }\r\n            });\r\n        }\r\n        else if (credentials.password) {\r\n            const username = (_c = credentials.username) !== null && _c !== void 0 ? _c : '';\r\n            const password = credentials.password;\r\n            this.clientAuthenticationMethods.enqueue(async (cancellation2) => {\r\n                await this.requestPasswordAuthentication(username, password, cancellation2);\r\n            });\r\n        }\r\n        if (this.clientAuthenticationMethods.size === 0) {\r\n            const username = (_d = credentials.username) !== null && _d !== void 0 ? _d : '';\r\n            this.clientAuthenticationMethods.enqueue(async (cancellation2) => {\r\n                await this.requestUsernameAuthentication(username, cancellation2);\r\n            });\r\n        }\r\n        const firstAuthMethod = this.clientAuthenticationMethods.dequeue();\r\n        await firstAuthMethod(cancellation);\r\n    }\r\n    async requestUsernameAuthentication(username, cancellation) {\r\n        const authMessage = new authenticationMessages_1.AuthenticationRequestMessage();\r\n        authMessage.serviceName = connectionService_1.ConnectionService.serviceName;\r\n        authMessage.methodName = \"none\" /* AuthenticationMethod.none */;\r\n        authMessage.username = username;\r\n        await this.session.sendMessage(authMessage, cancellation);\r\n        // Assume the included service request succeeds, without waiting for an auth success\r\n        // message. If not, a following channel open request will fail anyway.\r\n        this.session.activateService(connectionService_1.ConnectionService);\r\n    }\r\n    async requestPublicKeyAuthentication(username, key, cancellation) {\r\n        const algorithm = this.session.config.publicKeyAlgorithms.find((a) => (a === null || a === void 0 ? void 0 : a.keyAlgorithmName) === key.keyAlgorithmName);\r\n        if (!algorithm) {\r\n            throw new Error(`Public key algorithm '${key.keyAlgorithmName}' is not in session config.`);\r\n        }\r\n        const authMessage = new authenticationMessages_1.PublicKeyRequestMessage();\r\n        authMessage.serviceName = connectionService_1.ConnectionService.serviceName;\r\n        authMessage.username = username;\r\n        authMessage.keyAlgorithmName = algorithm.name;\r\n        authMessage.publicKey = (await key.getPublicKeyBytes(algorithm.name));\r\n        authMessage.signature = await this.createAuthenticationSignature(authMessage, algorithm, key);\r\n        await this.session.sendMessage(authMessage, cancellation);\r\n        if (this.clientAuthenticationMethods.size === 0) {\r\n            // There are no remaining auth methods. Assume the service request\r\n            // included here succeeds, without waiting for an auth success message\r\n            // If not, a following channel open request will fail anyway.\r\n            this.session.activateService(connectionService_1.ConnectionService);\r\n        }\r\n    }\r\n    async requestPasswordAuthentication(username, password, cancellation) {\r\n        const authMessage = new authenticationMessages_1.PasswordRequestMessage();\r\n        authMessage.serviceName = connectionService_1.ConnectionService.serviceName;\r\n        authMessage.username = username;\r\n        authMessage.password = password;\r\n        await this.session.sendMessage(authMessage, cancellation);\r\n        // Assume the included service request succeeds, without waiting for an auth success\r\n        // message. If not, a following channel open request will fail anyway.\r\n        this.session.activateService(connectionService_1.ConnectionService);\r\n    }\r\n    handleFailureMessage(message) {\r\n        this.session.onAuthenticationComplete(false);\r\n    }\r\n    handleSuccessMessage(message) {\r\n        // The authentication request included the connection service name.\r\n        // So it should be registered when authentication succeeded.\r\n        this.session.activateService(connectionService_1.ConnectionService);\r\n        this.session.onAuthenticationComplete(true);\r\n    }\r\n    async createAuthenticationSignature(requestMessage, algorithm, key) {\r\n        const sessionId = this.session.sessionId;\r\n        if (sessionId == null) {\r\n            throw new Error('Session ID not initialized.');\r\n        }\r\n        const writer = new sshData_1.SshDataWriter(Buffer.alloc(requestMessage.publicKey.length + (requestMessage.username || '').length + 400));\r\n        writer.writeBinary(sessionId);\r\n        writer.writeByte(requestMessage.messageType);\r\n        writer.writeString(requestMessage.username || '', 'utf8');\r\n        writer.writeString(requestMessage.serviceName || '', 'ascii');\r\n        writer.writeString(\"publickey\" /* AuthenticationMethod.publicKey */, 'ascii');\r\n        writer.writeBoolean(true);\r\n        writer.writeString(requestMessage.keyAlgorithmName, 'ascii');\r\n        writer.writeBinary(requestMessage.publicKey);\r\n        const signer = algorithm.createSigner(key);\r\n        const signature = await signer.sign(writer.toBuffer());\r\n        return algorithm.createSignatureData(signature);\r\n    }\r\n    dispose() {\r\n        try {\r\n            this.disposeCancellationSource.cancel();\r\n            this.disposeCancellationSource.dispose();\r\n        }\r\n        catch (_a) { }\r\n        super.dispose();\r\n    }\r\n};\r\nAuthenticationService.serviceName = 'ssh-userauth';\r\nAuthenticationService = AuthenticationService_1 = __decorate([\r\n    (0, serviceActivation_1.serviceActivation)({ serviceRequest: AuthenticationService_1.serviceName })\r\n], AuthenticationService);\r\nexports.AuthenticationService = AuthenticationService;\r\n//# sourceMappingURL=authenticationService.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar ConnectionService_1;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ConnectionService = void 0;\r\nconst sshService_1 = require(\"./sshService\");\r\nconst connectionMessages_1 = require(\"../messages/connectionMessages\");\r\nconst promiseCompletionSource_1 = require(\"../util/promiseCompletionSource\");\r\nconst sshChannel_1 = require(\"../sshChannel\");\r\nconst cancellation_1 = require(\"../util/cancellation\");\r\nconst errors_1 = require(\"../errors\");\r\nconst sshChannelOpeningEventArgs_1 = require(\"../events/sshChannelOpeningEventArgs\");\r\nconst serviceActivation_1 = require(\"./serviceActivation\");\r\nconst trace_1 = require(\"../trace\");\r\nlet ConnectionService = ConnectionService_1 = class ConnectionService extends sshService_1.SshService {\r\n    constructor(session) {\r\n        super(session);\r\n        this.channelCounter = 0;\r\n        this.channelMap = new Map();\r\n        this.nonAcceptedChannels = new Map();\r\n        this.pendingChannels = new Map();\r\n        this.pendingAcceptChannels = new Map();\r\n    }\r\n    get channels() {\r\n        return Array.from(this.channelMap.values());\r\n    }\r\n    close(e) {\r\n        let channelCompletions = [...this.pendingChannels.values()].map((pc) => pc.completionSource);\r\n        if (this.pendingAcceptChannels.size > 0) {\r\n            channelCompletions = channelCompletions.concat([...this.pendingAcceptChannels.values()].reduce((a, b) => a.concat(b)));\r\n        }\r\n        for (const channel of this.channelMap.values()) {\r\n            channel.close(e);\r\n        }\r\n        for (const channelCompletion of channelCompletions) {\r\n            channelCompletion.reject(e);\r\n        }\r\n    }\r\n    dispose() {\r\n        const channels = [...this.channelMap.values()];\r\n        let channelCompletions = [...this.pendingChannels.values()].map((pc) => pc.completionSource);\r\n        if (this.pendingAcceptChannels.size > 0) {\r\n            channelCompletions = channelCompletions.concat([...this.pendingAcceptChannels.values()].reduce((a, b) => a.concat(b)));\r\n        }\r\n        for (const channel of channels) {\r\n            channel.dispose();\r\n        }\r\n        for (const channelCompletion of channelCompletions) {\r\n            channelCompletion.reject(new errors_1.SshConnectionError('Session closed.'));\r\n        }\r\n        super.dispose();\r\n    }\r\n    async acceptChannel(channelType, cancellation) {\r\n        const completionSource = new promiseCompletionSource_1.PromiseCompletionSource();\r\n        let cancellationRegistration;\r\n        if (cancellation) {\r\n            if (cancellation.isCancellationRequested)\r\n                throw new cancellation_1.CancellationError();\r\n            cancellationRegistration = cancellation.onCancellationRequested(() => {\r\n                const list = this.pendingAcceptChannels.get(channelType);\r\n                if (list) {\r\n                    const index = list.findIndex((item) => Object.is(item, completionSource));\r\n                    if (index >= 0) {\r\n                        list.splice(index, 1);\r\n                    }\r\n                }\r\n                completionSource.reject(new cancellation_1.CancellationError());\r\n            });\r\n        }\r\n        let channel = null;\r\n        channel =\r\n            Array.from(this.nonAcceptedChannels.values()).find((c) => c.channelType === channelType) ||\r\n                null;\r\n        if (channel) {\r\n            // Found a channel that was already opened but not accepted.\r\n            this.nonAcceptedChannels.delete(channel.channelId);\r\n        }\r\n        else {\r\n            // Set up the completion source to wait for a channel of the requested type.\r\n            let list = this.pendingAcceptChannels.get(channelType);\r\n            if (!list) {\r\n                list = [];\r\n                this.pendingAcceptChannels.set(channelType, list);\r\n            }\r\n            list.push(completionSource);\r\n        }\r\n        try {\r\n            return channel || (await completionSource.promise);\r\n        }\r\n        finally {\r\n            if (cancellationRegistration)\r\n                cancellationRegistration.dispose();\r\n        }\r\n    }\r\n    async openChannel(openMessage, completionSource, cancellation) {\r\n        const channelId = ++this.channelCounter;\r\n        openMessage.senderChannel = channelId;\r\n        let cancellationRegistration = null;\r\n        if (cancellation) {\r\n            if (cancellation.isCancellationRequested)\r\n                throw new cancellation_1.CancellationError();\r\n            cancellationRegistration = cancellation.onCancellationRequested(() => {\r\n                if (this.pendingChannels.delete(channelId)) {\r\n                    completionSource.reject(new cancellation_1.CancellationError());\r\n                }\r\n            });\r\n        }\r\n        this.pendingChannels.set(channelId, {\r\n            openMessage: openMessage,\r\n            completionSource: completionSource,\r\n            cancellationRegistration: cancellationRegistration,\r\n        });\r\n        await this.session.sendMessage(openMessage);\r\n        return channelId;\r\n    }\r\n    handleMessage(message, cancellation) {\r\n        if (message instanceof connectionMessages_1.ChannelDataMessage) {\r\n            return this.handleDataMessage(message);\r\n        }\r\n        else if (message instanceof connectionMessages_1.ChannelWindowAdjustMessage) {\r\n            return this.handleAdjustWindowMessage(message);\r\n        }\r\n        else if (message instanceof connectionMessages_1.ChannelEofMessage) {\r\n            return this.handleEofMessage(message);\r\n        }\r\n        else if (message instanceof connectionMessages_1.ChannelOpenMessage) {\r\n            return this.handleOpenMessage(message, cancellation);\r\n        }\r\n        else if (message instanceof connectionMessages_1.ChannelCloseMessage) {\r\n            return this.handleCloseMessage(message);\r\n        }\r\n        else if (message instanceof connectionMessages_1.ChannelOpenConfirmationMessage) {\r\n            return this.handleOpenConfirmationMessage(message, cancellation);\r\n        }\r\n        else if (message instanceof connectionMessages_1.ChannelOpenFailureMessage) {\r\n            return this.handleOpenFailureMessage(message);\r\n        }\r\n        else if (message instanceof connectionMessages_1.ChannelRequestMessage) {\r\n            return this.handleRequestMessage(message, cancellation);\r\n        }\r\n        else if (message instanceof connectionMessages_1.ChannelSuccessMessage) {\r\n            return this.handleSuccessMessage(message);\r\n        }\r\n        else if (message instanceof connectionMessages_1.ChannelFailureMessage) {\r\n            return this.handleFailureMessage(message);\r\n        }\r\n        else {\r\n            throw new Error(`Message not implemented: ${message}`);\r\n        }\r\n    }\r\n    async handleOpenMessage(message, cancellation) {\r\n        var _a;\r\n        const senderChannel = message.senderChannel;\r\n        if (!this.session.canAcceptRequests) {\r\n            this.trace(trace_1.TraceLevel.Warning, trace_1.SshTraceEventIds.channelOpenFailed, 'Channel open request blocked because the session is not yet authenticated.');\r\n            const openFailureMessage = new connectionMessages_1.ChannelOpenFailureMessage();\r\n            openFailureMessage.recipientChannel = senderChannel;\r\n            openFailureMessage.reasonCode = connectionMessages_1.SshChannelOpenFailureReason.administrativelyProhibited;\r\n            openFailureMessage.description = 'Authenticate before opening channels.';\r\n            await this.session.sendMessage(openFailureMessage, cancellation);\r\n            return;\r\n        }\r\n        else if (!message.channelType) {\r\n            const openFailureMessage = new connectionMessages_1.ChannelOpenFailureMessage();\r\n            openFailureMessage.recipientChannel = senderChannel;\r\n            openFailureMessage.reasonCode = connectionMessages_1.SshChannelOpenFailureReason.unknownChannelType;\r\n            openFailureMessage.description = 'Channel type not specified.';\r\n            await this.session.sendMessage(openFailureMessage, cancellation);\r\n            return;\r\n        }\r\n        // Save a copy of the message because its buffer will be overwitten by the next receive.\r\n        message = message.convertTo(new connectionMessages_1.ChannelOpenMessage(), true);\r\n        // The confirmation message may be reassigned if the opening task returns a custom message.\r\n        let confirmationMessage = new connectionMessages_1.ChannelOpenConfirmationMessage();\r\n        const channelId = ++this.channelCounter;\r\n        const channel = new sshChannel_1.SshChannel(this, message.channelType, channelId, senderChannel, message.maxWindowSize, message.maxPacketSize, message, confirmationMessage);\r\n        let responseMessage;\r\n        const args = new sshChannelOpeningEventArgs_1.SshChannelOpeningEventArgs(message, channel, true);\r\n        try {\r\n            await this.session.handleChannelOpening(args, cancellation);\r\n            if (args.openingPromise) {\r\n                responseMessage = await args.openingPromise;\r\n            }\r\n            else if (args.failureReason !== connectionMessages_1.SshChannelOpenFailureReason.none) {\r\n                const failureMessage = new connectionMessages_1.ChannelOpenFailureMessage();\r\n                failureMessage.reasonCode = args.failureReason;\r\n                failureMessage.description = (_a = args.failureDescription) !== null && _a !== void 0 ? _a : undefined;\r\n                responseMessage = failureMessage;\r\n            }\r\n            else {\r\n                responseMessage = confirmationMessage;\r\n            }\r\n        }\r\n        catch (e) {\r\n            channel.dispose();\r\n            throw e;\r\n        }\r\n        if (responseMessage instanceof connectionMessages_1.ChannelOpenFailureMessage) {\r\n            responseMessage.recipientChannel = senderChannel;\r\n            try {\r\n                await this.session.sendMessage(responseMessage, cancellation);\r\n            }\r\n            finally {\r\n                channel.dispose();\r\n            }\r\n            return;\r\n        }\r\n        // The session might have been closed while opening the channel.\r\n        if (this.session.isClosed) {\r\n            channel.dispose();\r\n            return;\r\n        }\r\n        // Prevent any changes to the channel max window size after sending the value in the\r\n        // open confirmation message.\r\n        channel.isMaxWindowSizeLocked = true;\r\n        this.channelMap.set(channel.channelId, channel);\r\n        confirmationMessage = responseMessage;\r\n        confirmationMessage.recipientChannel = channel.remoteChannelId;\r\n        confirmationMessage.senderChannel = channel.channelId;\r\n        confirmationMessage.maxWindowSize = channel.maxWindowSize;\r\n        confirmationMessage.maxPacketSize = channel.maxPacketSize;\r\n        confirmationMessage.rewrite();\r\n        channel.openConfirmationMessage = confirmationMessage;\r\n        await this.session.sendMessage(confirmationMessage, cancellation);\r\n        // Check if there are any accept operations waiting on this channel type.\r\n        let accepted = false;\r\n        const list = this.pendingAcceptChannels.get(channel.channelType);\r\n        while (list && list.length > 0) {\r\n            const acceptCompletionSource = list.shift();\r\n            acceptCompletionSource.resolve(channel);\r\n            accepted = true;\r\n            break;\r\n        }\r\n        if (!accepted) {\r\n            this.nonAcceptedChannels.set(channel.channelId, channel);\r\n        }\r\n        this.onChannelOpenCompleted(channel.channelId, channel);\r\n        channel.enableSending();\r\n    }\r\n    handleCloseMessage(message) {\r\n        const channel = this.tryGetChannelForMessage(message);\r\n        if (channel) {\r\n            channel.handleClose();\r\n        }\r\n    }\r\n    async handleOpenConfirmationMessage(message, cancellation) {\r\n        var _a;\r\n        let completionSource = null;\r\n        let openMessage;\r\n        const pendingChannel = this.pendingChannels.get(message.recipientChannel);\r\n        if (pendingChannel) {\r\n            openMessage = pendingChannel.openMessage;\r\n            completionSource = pendingChannel.completionSource;\r\n            if (pendingChannel.cancellationRegistration) {\r\n                pendingChannel.cancellationRegistration.dispose();\r\n            }\r\n            this.pendingChannels.delete(message.recipientChannel);\r\n        }\r\n        else if (this.channelMap.has(message.recipientChannel)) {\r\n            throw new Error('Duplicate channel ID.');\r\n        }\r\n        else {\r\n            throw new Error('Channel confirmation was not requested.');\r\n        }\r\n        // Save a copy of the message because its buffer will be overwitten by the next receive.\r\n        message = message.convertTo(new connectionMessages_1.ChannelOpenConfirmationMessage(), true);\r\n        const channel = new sshChannel_1.SshChannel(this, openMessage.channelType || sshChannel_1.SshChannel.sessionChannelType, message.recipientChannel, message.senderChannel, message.maxWindowSize, message.maxPacketSize, openMessage, message);\r\n        // Set the channel max window size property to match the value sent in the open message,\r\n        // (if specified) and lock it to prevent any further changes.\r\n        if (typeof openMessage.maxWindowSize === 'number') {\r\n            channel.maxWindowSize = openMessage.maxWindowSize;\r\n        }\r\n        channel.isMaxWindowSizeLocked = true;\r\n        this.channelMap.set(channel.channelId, channel);\r\n        const args = new sshChannelOpeningEventArgs_1.SshChannelOpeningEventArgs(openMessage, channel, false);\r\n        await this.session.handleChannelOpening(args, cancellation);\r\n        if (completionSource) {\r\n            if (args.failureReason === connectionMessages_1.SshChannelOpenFailureReason.none) {\r\n                completionSource.resolve(channel);\r\n            }\r\n            else {\r\n                completionSource.reject(new errors_1.SshChannelError((_a = args.failureDescription) !== null && _a !== void 0 ? _a : 'Channel open failure.', args.failureReason));\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            this.onChannelOpenCompleted(channel.channelId, channel);\r\n        }\r\n        channel.enableSending();\r\n    }\r\n    handleOpenFailureMessage(message) {\r\n        let completionSource = null;\r\n        const pendingChannel = this.pendingChannels.get(message.recipientChannel);\r\n        if (pendingChannel) {\r\n            completionSource = pendingChannel.completionSource;\r\n            if (pendingChannel.cancellationRegistration) {\r\n                pendingChannel.cancellationRegistration.dispose();\r\n            }\r\n            this.pendingChannels.delete(message.recipientChannel);\r\n        }\r\n        if (completionSource != null) {\r\n            completionSource.reject(new errors_1.SshChannelError(message.description || 'Channel open rejected.', message.reasonCode));\r\n        }\r\n        else {\r\n            this.onChannelOpenCompleted(message.recipientChannel, null);\r\n        }\r\n    }\r\n    async handleRequestMessage(message, cancellation) {\r\n        const channel = this.tryGetChannelForMessage(message);\r\n        if (!channel)\r\n            return;\r\n        await channel.handleRequest(message, cancellation);\r\n    }\r\n    handleSuccessMessage(message) {\r\n        const channel = this.tryGetChannelForMessage(message);\r\n        channel === null || channel === void 0 ? void 0 : channel.handleResponse(true);\r\n    }\r\n    handleFailureMessage(message) {\r\n        const channel = this.tryGetChannelForMessage(message);\r\n        channel === null || channel === void 0 ? void 0 : channel.handleResponse(false);\r\n    }\r\n    handleDataMessage(message) {\r\n        const channel = this.tryGetChannelForMessage(message);\r\n        channel === null || channel === void 0 ? void 0 : channel.handleDataReceived(message.data);\r\n    }\r\n    handleAdjustWindowMessage(message) {\r\n        const channel = this.tryGetChannelForMessage(message);\r\n        channel === null || channel === void 0 ? void 0 : channel.adjustRemoteWindow(message.bytesToAdd);\r\n    }\r\n    handleEofMessage(message) {\r\n        const channel = this.tryGetChannelForMessage(message);\r\n        channel === null || channel === void 0 ? void 0 : channel.handleEof();\r\n    }\r\n    onChannelOpenCompleted(channelId, channel) {\r\n        if (channel) {\r\n            this.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.channelOpened, `${this.session} ChannelOpenCompleted(${channel})`);\r\n        }\r\n        else {\r\n            this.trace(trace_1.TraceLevel.Warning, trace_1.SshTraceEventIds.channelOpenFailed, `${this.session} ChannelOpenCompleted(${channelId} failed)`);\r\n        }\r\n    }\r\n    tryGetChannelForMessage(channelMessage) {\r\n        const channel = this.findChannelById(channelMessage.recipientChannel);\r\n        if (!channel) {\r\n            const messageString = channelMessage instanceof connectionMessages_1.ChannelDataMessage\r\n                ? 'channel data message'\r\n                : channelMessage.toString();\r\n            this.trace(trace_1.TraceLevel.Warning, trace_1.SshTraceEventIds.channelRequestFailed, `Invalid channel ID ${channelMessage.recipientChannel} in {messageString}.`);\r\n        }\r\n        return channel;\r\n    }\r\n    findChannelById(id) {\r\n        var _a;\r\n        const channel = (_a = this.channelMap.get(id)) !== null && _a !== void 0 ? _a : null;\r\n        return channel;\r\n    }\r\n    /* @internal */\r\n    removeChannel(channel) {\r\n        this.channelMap.delete(channel.channelId);\r\n        this.pendingChannels.delete(channel.channelId);\r\n    }\r\n};\r\nConnectionService.serviceName = 'ssh-connection';\r\nConnectionService = ConnectionService_1 = __decorate([\r\n    (0, serviceActivation_1.serviceActivation)({ serviceRequest: ConnectionService_1.serviceName })\r\n], ConnectionService);\r\nexports.ConnectionService = ConnectionService;\r\n//# sourceMappingURL=connectionService.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar KeyExchangeService_1;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.KeyExchangeService = void 0;\r\nconst buffer_1 = require(\"buffer\");\r\nconst sshSession_1 = require(\"../sshSession\");\r\nconst sshService_1 = require(\"./sshService\");\r\nconst bigInt_1 = require(\"../io/bigInt\");\r\nconst kexMessages_1 = require(\"../messages/kexMessages\");\r\nconst sshAlgorithms_1 = require(\"../algorithms/sshAlgorithms\");\r\nconst sshData_1 = require(\"../io/sshData\");\r\nconst errors_1 = require(\"../errors\");\r\nconst transportMessages_1 = require(\"../messages/transportMessages\");\r\nconst sshSessionAlgorithms_1 = require(\"../sshSessionAlgorithms\");\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst connectionService_1 = require(\"./connectionService\");\r\nconst serviceActivation_1 = require(\"./serviceActivation\");\r\nconst trace_1 = require(\"../trace\");\r\nclass ExchangeContext {\r\n}\r\nconst serverExtensionInfoSignal = 'ext-info-s';\r\nconst clientExtensionInfoSignal = 'ext-info-c';\r\nlet KeyExchangeService = KeyExchangeService_1 = class KeyExchangeService extends sshService_1.SshService {\r\n    constructor(session, isClientSession) {\r\n        super(session);\r\n        this.isClientSession = isClientSession;\r\n        this.isInitialExchange = false;\r\n        this.exchangeContext = null;\r\n    }\r\n    get exchanging() {\r\n        return !!this.exchangeContext;\r\n    }\r\n    async startKeyExchange(isInitialExchange) {\r\n        this.isInitialExchange = isInitialExchange;\r\n        this.exchangeContext = new ExchangeContext();\r\n        const kexInitMessage = this.createKeyExchangeInitMessage();\r\n        let kexGuessMessage = null;\r\n        if (this.isClientSession) {\r\n            if (isInitialExchange && this.session.config.enableKeyExchangeGuess) {\r\n                kexGuessMessage = await this.createKeyExchangeGuessMessage();\r\n                kexInitMessage.firstKexPacketFollows = !!kexGuessMessage;\r\n            }\r\n            this.exchangeContext.clientKexInitPayload = kexInitMessage.toBuffer();\r\n        }\r\n        else {\r\n            this.exchangeContext.serverKexInitPayload = kexInitMessage.toBuffer();\r\n        }\r\n        return [kexInitMessage, kexGuessMessage];\r\n    }\r\n    finishKeyExchange() {\r\n        const newAlgorithms = this.exchangeContext.newAlgorithms;\r\n        this.exchangeContext = null;\r\n        return newAlgorithms;\r\n    }\r\n    abortKeyExchange() {\r\n        this.exchangeContext = null;\r\n    }\r\n    createKeyExchangeInitMessage() {\r\n        // Reference RFC 8308: Signaling of Extension Negotiation in Key Exchange.\r\n        const extinfo = this.isClientSession ? clientExtensionInfoSignal : serverExtensionInfoSignal;\r\n        const config = this.session.config;\r\n        const message = new kexMessages_1.KeyExchangeInitMessage();\r\n        message.keyExchangeAlgorithms = (0, sshAlgorithms_1.algorithmNames)(config.keyExchangeAlgorithms).concat(extinfo);\r\n        message.serverHostKeyAlgorithms = this.getPublicKeyAlgorithms();\r\n        message.encryptionAlgorithmsClientToServer = message.encryptionAlgorithmsServerToClient = (0, sshAlgorithms_1.algorithmNames)(config.encryptionAlgorithms);\r\n        message.macAlgorithmsClientToServer = message.macAlgorithmsServerToClient = (0, sshAlgorithms_1.algorithmNames)(config.hmacAlgorithms);\r\n        message.compressionAlgorithmsClientToServer = message.compressionAlgorithmsServerToClient = (0, sshAlgorithms_1.algorithmNames)(config.compressionAlgorithms);\r\n        message.languagesClientToServer = [''];\r\n        message.languagesServerToClient = [''];\r\n        message.firstKexPacketFollows = false;\r\n        message.reserved = 0;\r\n        return message;\r\n    }\r\n    /**\r\n     * Gets the list of public key algorithms that the current session can support.\r\n     * For a server session the list is filtered based on the available private keys.\r\n     */\r\n    getPublicKeyAlgorithms() {\r\n        var _a, _b;\r\n        let publicKeyAlgorithms = [...this.session.config.publicKeyAlgorithms];\r\n        if (publicKeyAlgorithms.length > 1 && !this.isClientSession) {\r\n            const privateKeyAlgorithms = (_b = (_a = this.session.credentials) === null || _a === void 0 ? void 0 : _a.publicKeys) === null || _b === void 0 ? void 0 : _b.map((k) => k.keyAlgorithmName);\r\n            if (privateKeyAlgorithms) {\r\n                publicKeyAlgorithms = publicKeyAlgorithms.filter((a) => a && privateKeyAlgorithms.includes(a.keyAlgorithmName));\r\n            }\r\n        }\r\n        const publicKeyAlgorithmNames = (0, sshAlgorithms_1.algorithmNames)(publicKeyAlgorithms);\r\n        return publicKeyAlgorithmNames;\r\n    }\r\n    async createKeyExchangeGuessMessage() {\r\n        if (!this.exchangeContext) {\r\n            throw new Error('Key exchange was not started.');\r\n        }\r\n        // Select the first key exchange algorithm as the \"guess\". (They are in preferential order.)\r\n        const kexAlgorithm = this.session.config.keyExchangeAlgorithms[0];\r\n        if (!kexAlgorithm) {\r\n            return null;\r\n        }\r\n        this.exchangeContext.keyExchange = kexAlgorithm.name;\r\n        this.exchangeContext.exchange = kexAlgorithm.createKeyExchange();\r\n        this.exchangeContext.exchangeValue = await this.exchangeContext.exchange.startKeyExchange();\r\n        const guess = new kexMessages_1.KeyExchangeDhInitMessage();\r\n        guess.e = this.exchangeContext.exchangeValue;\r\n        return guess;\r\n    }\r\n    handleMessage(message, cancellation) {\r\n        if (message instanceof kexMessages_1.KeyExchangeInitMessage) {\r\n            return this.handleInitMessage(message, cancellation);\r\n        }\r\n        else if (message instanceof kexMessages_1.KeyExchangeDhInitMessage) {\r\n            return this.handleDhInitMessage(message, cancellation);\r\n        }\r\n        else if (message instanceof kexMessages_1.KeyExchangeDhReplyMessage) {\r\n            return this.handleDhReplyMessage(message, cancellation);\r\n        }\r\n        else {\r\n            throw new Error(`Message not implemented: ${message}`);\r\n        }\r\n    }\r\n    async handleInitMessage(message, cancellation) {\r\n        var _a, _b;\r\n        if (!this.exchangeContext) {\r\n            throw new Error('Key exchange was not started.');\r\n        }\r\n        const config = this.session.config;\r\n        this.exchangeContext.keyExchange = this.chooseAlgorithm('KeyExchange', (0, sshAlgorithms_1.algorithmNames)(config.keyExchangeAlgorithms), message.keyExchangeAlgorithms);\r\n        if (this.exchangeContext.keyExchange === 'none') {\r\n            this.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.algorithmNegotiation, 'Client and server negotiated no security. Cancelling key-exchange.');\r\n            // The connection service is normally activated after authentication. But when there is\r\n            // no key-exchange there will be no authentication, so connections must be enabled now.\r\n            this.session.activateService(connectionService_1.ConnectionService);\r\n            this.exchangeContext.newAlgorithms = new sshSessionAlgorithms_1.SshSessionAlgorithms();\r\n            await this.session.handleNewKeysMessage(new kexMessages_1.NewKeysMessage(), cancellation);\r\n            return;\r\n        }\r\n        this.exchangeContext.publicKey = this.chooseAlgorithm('PublicKey', this.getPublicKeyAlgorithms(), message.serverHostKeyAlgorithms);\r\n        this.exchangeContext.clientEncryption = this.chooseAlgorithm('ClientEncryption', (0, sshAlgorithms_1.algorithmNames)(config.encryptionAlgorithms), message.encryptionAlgorithmsClientToServer);\r\n        this.exchangeContext.serverEncryption = this.chooseAlgorithm('ServerEncryption', (0, sshAlgorithms_1.algorithmNames)(config.encryptionAlgorithms), message.encryptionAlgorithmsServerToClient);\r\n        this.exchangeContext.clientHmac = this.chooseAlgorithm('ClientHmac', (0, sshAlgorithms_1.algorithmNames)(config.hmacAlgorithms), message.macAlgorithmsClientToServer);\r\n        this.exchangeContext.serverHmac = this.chooseAlgorithm('ServerHmac', (0, sshAlgorithms_1.algorithmNames)(config.hmacAlgorithms), message.macAlgorithmsServerToClient);\r\n        this.exchangeContext.clientCompression = this.chooseAlgorithm('ClientCompression', (0, sshAlgorithms_1.algorithmNames)(config.compressionAlgorithms), message.compressionAlgorithmsClientToServer);\r\n        this.exchangeContext.serverCompression = this.chooseAlgorithm('ServerCompression', (0, sshAlgorithms_1.algorithmNames)(config.compressionAlgorithms), message.compressionAlgorithmsServerToClient);\r\n        let extensionInfoSignal;\r\n        if (this.isClientSession) {\r\n            this.exchangeContext.serverKexInitPayload = message.toBuffer();\r\n            // If the exchange value is already initialized then this side sent a guess.\r\n            const alreadySentGuess = !!this.exchangeContext.exchangeValue;\r\n            // Check if the negotiated algorithm is the one preferred by THIS side.\r\n            // This means if there was a \"guess\" at kex initialization then it was correct.\r\n            const negotiatedKexAlgorthmIsPreferred = this.exchangeContext.keyExchange === ((_a = config.keyExchangeAlgorithms[0]) === null || _a === void 0 ? void 0 : _a.name);\r\n            // If a guess was not sent, or the guess was wrong, send the init message now.\r\n            if (!alreadySentGuess || !negotiatedKexAlgorthmIsPreferred) {\r\n                const kexAlgorithm = config.getKeyExchangeAlgorithm(this.exchangeContext.keyExchange);\r\n                this.exchangeContext.exchange = kexAlgorithm.createKeyExchange();\r\n                this.exchangeContext.exchangeValue = await this.exchangeContext.exchange.startKeyExchange();\r\n                const reply = new kexMessages_1.KeyExchangeDhInitMessage();\r\n                reply.e = this.exchangeContext.exchangeValue;\r\n                await this.session.sendMessage(reply, cancellation);\r\n            }\r\n            extensionInfoSignal = serverExtensionInfoSignal;\r\n        }\r\n        else {\r\n            if (message.firstKexPacketFollows) {\r\n                // The remote side indicated it is sending a guess immediately following.\r\n                // Check if the negotiated algorithm is the one preferred by the OTHER side.\r\n                // If so, the following \"guess\" will be correct. Otherwise it must be ignored.\r\n                const negotiatedKexAlgorthmIsPreferred = this.exchangeContext.keyExchange === ((_b = message.keyExchangeAlgorithms) === null || _b === void 0 ? void 0 : _b[0]);\r\n                const guessResult = negotiatedKexAlgorthmIsPreferred ? 'correct' : 'incorrect';\r\n                this.trace(trace_1.TraceLevel.Verbose, trace_1.SshTraceEventIds.algorithmNegotiation, `Client's KeyExchange guess was ${guessResult}.`);\r\n                this.exchangeContext.discardGuessedInit = !negotiatedKexAlgorthmIsPreferred;\r\n            }\r\n            this.exchangeContext.clientKexInitPayload = message.toBuffer();\r\n            extensionInfoSignal = clientExtensionInfoSignal;\r\n        }\r\n        if (this.isInitialExchange && message.keyExchangeAlgorithms.includes(extensionInfoSignal)) {\r\n            // The extension info message will be blocked in the queue\r\n            // until immediately after the key-exchange is done.\r\n            await this.session.sendExtensionInfo(cancellation);\r\n        }\r\n    }\r\n    async handleDhInitMessage(message, cancellation) {\r\n        var _a, _b, _c, _d, _e;\r\n        if (this.isClientSession) {\r\n            return;\r\n        }\r\n        const serverSession = this.session;\r\n        if (!this.exchangeContext ||\r\n            !this.exchangeContext.keyExchange ||\r\n            !this.exchangeContext.publicKey) {\r\n            throw new errors_1.SshConnectionError('Key exchange not started.', transportMessages_1.SshDisconnectReason.protocolError);\r\n        }\r\n        if (this.exchangeContext.discardGuessedInit) {\r\n            // Algorithm negotiation determined that an incorrect guess would be received.\r\n            this.exchangeContext.discardGuessedInit = false;\r\n            return;\r\n        }\r\n        const kexAlg = this.session.config.getKeyExchangeAlgorithm(this.exchangeContext.keyExchange);\r\n        if (!kexAlg) {\r\n            throw new errors_1.SshConnectionError('Key exchange not supported for algorithm: ' + this.exchangeContext.keyExchange, transportMessages_1.SshDisconnectReason.keyExchangeFailed);\r\n        }\r\n        const publicKeyAlg = this.session.config.getPublicKeyAlgorithm(this.exchangeContext.publicKey);\r\n        if (!publicKeyAlg) {\r\n            throw new errors_1.SshConnectionError('Public key algorithm not supported: ' + this.exchangeContext.publicKey, transportMessages_1.SshDisconnectReason.keyExchangeFailed);\r\n        }\r\n        let privateKey = null;\r\n        if ((_a = serverSession.credentials) === null || _a === void 0 ? void 0 : _a.publicKeys) {\r\n            const publicKey = serverSession.credentials.publicKeys.find((k) => k.keyAlgorithmName === publicKeyAlg.keyAlgorithmName);\r\n            privateKey = publicKey !== null && publicKey !== void 0 ? publicKey : null;\r\n            if ((privateKey === null || privateKey === void 0 ? void 0 : privateKey.hasPrivateKey) === false) {\r\n                if (!serverSession.credentials.privateKeyProvider) {\r\n                    throw new Error('A private key provider is required.');\r\n                }\r\n                privateKey = await serverSession.credentials.privateKeyProvider(publicKey, cancellation !== null && cancellation !== void 0 ? cancellation : vscode_jsonrpc_1.CancellationToken.None);\r\n            }\r\n        }\r\n        if (privateKey == null) {\r\n            throw new errors_1.SshConnectionError('Private key not found for algorithm: ' + this.exchangeContext.publicKey, transportMessages_1.SshDisconnectReason.keyExchangeFailed);\r\n        }\r\n        const clientEncryption = this.session.config.getEncryptionAlgorithm(this.exchangeContext.clientEncryption);\r\n        const serverEncryption = this.session.config.getEncryptionAlgorithm(this.exchangeContext.serverEncryption);\r\n        const serverHmac = this.session.config.getHmacAlgorithm(this.exchangeContext.serverHmac);\r\n        const clientHmac = this.session.config.getHmacAlgorithm(this.exchangeContext.clientHmac);\r\n        const keyExchange = kexAlg.createKeyExchange();\r\n        const clientExchangeValue = message.e || buffer_1.Buffer.alloc(0);\r\n        const serverExchangeValue = await keyExchange.startKeyExchange();\r\n        const sharedSecret = await keyExchange.decryptKeyExchange(clientExchangeValue);\r\n        const hostKeyAndCerts = await privateKey.getPublicKeyBytes(publicKeyAlg.name);\r\n        if (!hostKeyAndCerts) {\r\n            throw new errors_1.SshConnectionError('Public key not set.', transportMessages_1.SshDisconnectReason.keyExchangeFailed);\r\n        }\r\n        const exchangeHash = await this.computeExchangeHash(keyExchange, hostKeyAndCerts, clientExchangeValue, serverExchangeValue, sharedSecret);\r\n        if (!this.session.sessionId) {\r\n            this.session.sessionId = exchangeHash;\r\n        }\r\n        const [clientCipherIV, serverCipherIV, clientCipherKey, serverCipherKey, clientHmacKey, serverHmacKey,] = await this.computeKeys(keyExchange, sharedSecret, exchangeHash, clientEncryption, serverEncryption, clientHmac, serverHmac);\r\n        const cipher = (_b = (await (serverEncryption === null || serverEncryption === void 0 ? void 0 : serverEncryption.createCipher(true, serverCipherKey, serverCipherIV)))) !== null && _b !== void 0 ? _b : null;\r\n        const decipher = (_c = (await (clientEncryption === null || clientEncryption === void 0 ? void 0 : clientEncryption.createCipher(false, clientCipherKey, clientCipherIV)))) !== null && _c !== void 0 ? _c : null;\r\n        const signer = (_d = (await (serverHmac === null || serverHmac === void 0 ? void 0 : serverHmac.createSigner(serverHmacKey)))) !== null && _d !== void 0 ? _d : null;\r\n        const verifier = (_e = (await (clientHmac === null || clientHmac === void 0 ? void 0 : clientHmac.createVerifier(clientHmacKey)))) !== null && _e !== void 0 ? _e : null;\r\n        const algorithms = new sshSessionAlgorithms_1.SshSessionAlgorithms();\r\n        algorithms.publicKeyAlgorithmName = this.exchangeContext.publicKey;\r\n        algorithms.cipher = cipher;\r\n        algorithms.decipher = decipher;\r\n        algorithms.signer = signer;\r\n        algorithms.verifier = verifier;\r\n        algorithms.messageSigner = (cipher === null || cipher === void 0 ? void 0 : cipher.authenticatedEncryption)\r\n            ? cipher\r\n            : signer;\r\n        algorithms.messageVerifier = (decipher === null || decipher === void 0 ? void 0 : decipher.authenticatedEncryption)\r\n            ? decipher\r\n            : verifier;\r\n        algorithms.compressor = this.session.config.getCompressionAlgorithm(this.exchangeContext.serverCompression);\r\n        algorithms.decompressor = this.session.config.getCompressionAlgorithm(this.exchangeContext.clientCompression);\r\n        this.exchangeContext.newAlgorithms = algorithms;\r\n        // Wipe the keys from memory after they are stored in native key objects.\r\n        if (clientCipherIV)\r\n            clientCipherIV.fill(0);\r\n        if (clientCipherKey)\r\n            clientCipherKey.fill(0);\r\n        if (clientHmacKey)\r\n            clientHmacKey.fill(0);\r\n        if (serverCipherIV)\r\n            serverCipherIV.fill(0);\r\n        if (serverCipherKey)\r\n            serverCipherKey.fill(0);\r\n        if (serverHmacKey)\r\n            serverHmacKey.fill(0);\r\n        const exchangeSigner = publicKeyAlg.createSigner(privateKey);\r\n        let signature = await exchangeSigner.sign(exchangeHash);\r\n        signature = publicKeyAlg.createSignatureData(signature);\r\n        const reply = new kexMessages_1.KeyExchangeDhReplyMessage();\r\n        reply.hostKey = hostKeyAndCerts;\r\n        reply.f = serverExchangeValue;\r\n        reply.signature = signature;\r\n        await this.session.sendMessage(reply, cancellation);\r\n        await this.session.sendMessage(new kexMessages_1.NewKeysMessage(), cancellation);\r\n    }\r\n    async handleDhReplyMessage(message, cancellation) {\r\n        var _a, _b, _c, _d;\r\n        if (!this.isClientSession) {\r\n            return;\r\n        }\r\n        if (!this.exchangeContext) {\r\n            throw new errors_1.SshConnectionError('Key exchange was not started.', transportMessages_1.SshDisconnectReason.protocolError);\r\n        }\r\n        const config = this.session.config;\r\n        const keyExchange = this.exchangeContext.exchange;\r\n        const publicKeyAlgorithmName = this.exchangeContext.publicKey;\r\n        const publicKeyAlg = config.getPublicKeyAlgorithm(publicKeyAlgorithmName);\r\n        const clientEncryption = config.getEncryptionAlgorithm(this.exchangeContext.clientEncryption);\r\n        const serverEncryption = config.getEncryptionAlgorithm(this.exchangeContext.serverEncryption);\r\n        const serverHmac = config.getHmacAlgorithm(this.exchangeContext.serverHmac);\r\n        const clientHmac = config.getHmacAlgorithm(this.exchangeContext.clientHmac);\r\n        const clientExchangeValue = this.exchangeContext.exchangeValue;\r\n        const serverExchangeValue = message.f;\r\n        if (!keyExchange || !clientExchangeValue) {\r\n            throw new errors_1.SshConnectionError('Failed to initialize crypto after key exchange.', transportMessages_1.SshDisconnectReason.keyExchangeFailed);\r\n        }\r\n        // Load the server's public key bytes into a key-pair instance.\r\n        this.hostKey = publicKeyAlg.createKeyPair();\r\n        await this.hostKey.setPublicKeyBytes(message.hostKey);\r\n        const sharedSecret = await keyExchange.decryptKeyExchange(serverExchangeValue);\r\n        const hostKeyAndCerts = message.hostKey;\r\n        const exchangeHash = await this.computeExchangeHash(keyExchange, hostKeyAndCerts, clientExchangeValue, serverExchangeValue, sharedSecret);\r\n        const signature = publicKeyAlg.readSignatureData(message.signature);\r\n        const exchangeVerifier = publicKeyAlg.createVerifier(this.hostKey);\r\n        let verified;\r\n        try {\r\n            verified = await exchangeVerifier.verify(exchangeHash, signature);\r\n        }\r\n        catch (e) {\r\n            if (!(e instanceof Error))\r\n                throw e;\r\n            this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.serverAuthenticationFailed, `Server public key verification error: ${e.message}`, e);\r\n            throw new errors_1.SshConnectionError(`Server public key verification failed: ${e.message}`, transportMessages_1.SshDisconnectReason.hostKeyNotVerifiable);\r\n        }\r\n        if (verified) {\r\n            this.trace(trace_1.TraceLevel.Verbose, trace_1.SshTraceEventIds.sessionAuthenticated, 'Server public key verification succeeded.');\r\n        }\r\n        else {\r\n            this.trace(trace_1.TraceLevel.Warning, trace_1.SshTraceEventIds.serverAuthenticationFailed, 'Server public key verification failed.');\r\n            throw new errors_1.SshConnectionError('Server public key verification failed.', transportMessages_1.SshDisconnectReason.hostKeyNotVerifiable);\r\n        }\r\n        if (this.session.sessionId == null) {\r\n            this.session.sessionId = exchangeHash;\r\n        }\r\n        const [clientCipherIV, serverCipherIV, clientCipherKey, serverCipherKey, clientHmacKey, serverHmacKey,] = await this.computeKeys(keyExchange, sharedSecret, exchangeHash, clientEncryption, serverEncryption, clientHmac, serverHmac);\r\n        const cipher = (_a = (await (clientEncryption === null || clientEncryption === void 0 ? void 0 : clientEncryption.createCipher(true, clientCipherKey, clientCipherIV)))) !== null && _a !== void 0 ? _a : null;\r\n        const decipher = (_b = (await (serverEncryption === null || serverEncryption === void 0 ? void 0 : serverEncryption.createCipher(false, serverCipherKey, serverCipherIV)))) !== null && _b !== void 0 ? _b : null;\r\n        const signer = (_c = (await (clientHmac === null || clientHmac === void 0 ? void 0 : clientHmac.createSigner(clientHmacKey)))) !== null && _c !== void 0 ? _c : null;\r\n        const verifier = (_d = (await (serverHmac === null || serverHmac === void 0 ? void 0 : serverHmac.createVerifier(serverHmacKey)))) !== null && _d !== void 0 ? _d : null;\r\n        const algorithms = new sshSessionAlgorithms_1.SshSessionAlgorithms();\r\n        algorithms.publicKeyAlgorithmName = publicKeyAlgorithmName;\r\n        algorithms.cipher = cipher;\r\n        algorithms.decipher = decipher;\r\n        algorithms.signer = signer;\r\n        algorithms.verifier = verifier;\r\n        algorithms.messageSigner = (cipher === null || cipher === void 0 ? void 0 : cipher.authenticatedEncryption)\r\n            ? cipher\r\n            : signer;\r\n        algorithms.messageVerifier = (decipher === null || decipher === void 0 ? void 0 : decipher.authenticatedEncryption)\r\n            ? decipher\r\n            : verifier;\r\n        algorithms.compressor = config.getCompressionAlgorithm(this.exchangeContext.clientCompression);\r\n        algorithms.decompressor = config.getCompressionAlgorithm(this.exchangeContext.serverCompression);\r\n        this.exchangeContext.newAlgorithms = algorithms;\r\n        // Wipe the keys from memory after they are stored in native key objects.\r\n        if (clientCipherIV)\r\n            clientCipherIV.fill(0);\r\n        if (clientCipherKey)\r\n            clientCipherKey.fill(0);\r\n        if (clientHmacKey)\r\n            clientHmacKey.fill(0);\r\n        if (serverCipherIV)\r\n            serverCipherIV.fill(0);\r\n        if (serverCipherKey)\r\n            serverCipherKey.fill(0);\r\n        if (serverHmacKey)\r\n            serverHmacKey.fill(0);\r\n        await this.session.sendMessage(new kexMessages_1.NewKeysMessage(), cancellation);\r\n    }\r\n    chooseAlgorithm(label, localAlgorithms, remoteAlgorithms) {\r\n        // Ensure consistent results if the client and server list the same algorithms\r\n        // in different order of preference.\r\n        let serverAlgorithms;\r\n        let clientAlgorithms;\r\n        if (this.isClientSession) {\r\n            serverAlgorithms = remoteAlgorithms || [];\r\n            clientAlgorithms = localAlgorithms;\r\n        }\r\n        else {\r\n            serverAlgorithms = localAlgorithms;\r\n            clientAlgorithms = remoteAlgorithms || [];\r\n        }\r\n        const negotiationDetail = `${label} negotiation: ` +\r\n            `Server (${serverAlgorithms.join(', ')}) ` +\r\n            `Client (${clientAlgorithms.join(', ')})`;\r\n        for (const client of clientAlgorithms) {\r\n            for (const server of serverAlgorithms) {\r\n                if (server === client) {\r\n                    const result = server;\r\n                    this.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.algorithmNegotiation, `${negotiationDetail} => ${result}`);\r\n                    return result;\r\n                }\r\n            }\r\n        }\r\n        throw new Error(`Failed ${negotiationDetail}`);\r\n    }\r\n    async computeExchangeHash(kex, hostKeyAndCerts, clientExchangeValue, serverExchangeValue, sharedSecret) {\r\n        if (!this.session.remoteVersion) {\r\n            throw new Error('Key exchange not completed.');\r\n        }\r\n        const writer = new sshData_1.SshDataWriter(buffer_1.Buffer.alloc(2048));\r\n        if (this.isClientSession) {\r\n            writer.writeString(sshSession_1.SshSession.localVersion.toString(), 'ascii');\r\n            writer.writeString(this.session.remoteVersion.toString(), 'ascii');\r\n        }\r\n        else {\r\n            writer.writeString(this.session.remoteVersion.toString(), 'ascii');\r\n            writer.writeString(sshSession_1.SshSession.localVersion.toString(), 'ascii');\r\n        }\r\n        writer.writeBinary(this.exchangeContext.clientKexInitPayload);\r\n        writer.writeBinary(this.exchangeContext.serverKexInitPayload);\r\n        writer.writeBinary(hostKeyAndCerts);\r\n        // These values are formatted as bigints (with leading zeroes if the first bit is high)\r\n        // even though they might not really be bigints, depending on the key-exchange algorithm.\r\n        writer.writeBigInt(bigInt_1.BigInt.fromBytes(clientExchangeValue, { unsigned: true }));\r\n        writer.writeBigInt(bigInt_1.BigInt.fromBytes(serverExchangeValue, { unsigned: true }));\r\n        writer.writeBigInt(bigInt_1.BigInt.fromBytes(sharedSecret, { unsigned: true }));\r\n        const hash = await kex.sign(writer.toBuffer());\r\n        return hash;\r\n    }\r\n    async computeKeys(keyExchange, sharedSecret, exchangeHash, clientEncryption, serverEncryption, clientHmac, serverHmac) {\r\n        var _a, _b;\r\n        const writer = new sshData_1.SshDataWriter(buffer_1.Buffer.alloc(4 /* mpint header */ +\r\n            sharedSecret.length +\r\n            exchangeHash.length +\r\n            Math.max(1 /* letter */ + ((_b = (_a = this.session.sessionId) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0), keyExchange.digestLength)));\r\n        writer.writeBinary(sharedSecret);\r\n        writer.write(exchangeHash);\r\n        const offset = writer.position;\r\n        const clientCipherIV = clientEncryption &&\r\n            (await this.computeKey(keyExchange, writer, offset, clientEncryption.blockLength, 'A'));\r\n        const serverCipherIV = serverEncryption &&\r\n            (await this.computeKey(keyExchange, writer, offset, serverEncryption.blockLength, 'B'));\r\n        const clientCipherKey = clientEncryption &&\r\n            (await this.computeKey(keyExchange, writer, offset, clientEncryption.keyLength, 'C'));\r\n        const serverCipherKey = serverEncryption &&\r\n            (await this.computeKey(keyExchange, writer, offset, serverEncryption.keyLength, 'D'));\r\n        const clientHmacKey = clientHmac &&\r\n            (await this.computeKey(keyExchange, writer, offset, clientHmac.keyLength, 'E'));\r\n        const serverHmacKey = serverHmac &&\r\n            (await this.computeKey(keyExchange, writer, offset, serverHmac.keyLength, 'F'));\r\n        return [\r\n            clientCipherIV,\r\n            serverCipherIV,\r\n            clientCipherKey,\r\n            serverCipherKey,\r\n            clientHmacKey,\r\n            serverHmacKey,\r\n        ];\r\n    }\r\n    async computeKey(keyExchange, writer, writerOffset, blockSize, letter) {\r\n        const keyBuffer = buffer_1.Buffer.alloc(blockSize);\r\n        let keyBufferIndex = 0;\r\n        let currentHashLength = 0;\r\n        let currentHash = null;\r\n        if (!this.session.sessionId) {\r\n            throw new Error('Session ID not set.');\r\n        }\r\n        while (keyBufferIndex < blockSize) {\r\n            writer.position = writerOffset;\r\n            if (!currentHash) {\r\n                writer.writeByte(letter.charCodeAt(0));\r\n                writer.write(this.session.sessionId);\r\n            }\r\n            else {\r\n                writer.write(currentHash);\r\n            }\r\n            currentHash = await keyExchange.sign(writer.toBuffer());\r\n            currentHashLength = Math.min(currentHash.length, blockSize - keyBufferIndex);\r\n            currentHash.copy(keyBuffer, keyBufferIndex);\r\n            keyBufferIndex += currentHashLength;\r\n        }\r\n        if (currentHash) {\r\n            currentHash.fill(0);\r\n        }\r\n        return keyBuffer;\r\n    }\r\n};\r\nKeyExchangeService.serviceName = 'ssh-keyexchange';\r\nKeyExchangeService = KeyExchangeService_1 = __decorate([\r\n    (0, serviceActivation_1.serviceActivation)({ serviceRequest: KeyExchangeService_1.serviceName })\r\n], KeyExchangeService);\r\nexports.KeyExchangeService = KeyExchangeService;\r\n//# sourceMappingURL=keyExchangeService.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.findService = exports.serviceActivation = void 0;\r\n/**\r\n * Decorator applied to suclasses of `SshService` that declares how the service gets activated.\r\n */\r\nfunction serviceActivation(activation) {\r\n    // eslint-disable-next-line @typescript-eslint/ban-types\r\n    return (constructor) => {\r\n        if (!constructor.activations) {\r\n            constructor.activations = [];\r\n        }\r\n        constructor.activations.push(activation);\r\n    };\r\n}\r\nexports.serviceActivation = serviceActivation;\r\n/**\r\n * Locates a service type in configuration, using a predicate to check service activation\r\n * attributes.\r\n *\r\n * @param serviceConfigs Service configuration dictionary from `SshSessionConfiguration.services`.\r\n * @param predicate Function to test whether a service activation attribute matches some condition.\r\n * @returns Service type (constructor), or null if no service type satisfies the predicate.\r\n */\r\nfunction findService(serviceConfigs, predicate) {\r\n    for (const serviceType of serviceConfigs.keys()) {\r\n        const activations = serviceType.activations;\r\n        let foundActivation = false;\r\n        for (const activation of activations) {\r\n            foundActivation = true;\r\n            if (predicate(activation)) {\r\n                return serviceType;\r\n            }\r\n        }\r\n        if (!foundActivation) {\r\n            throw new Error(`SSH service type '${serviceType.name}' must have one or more ` +\r\n                '\\'serviceActivation\\' decorators.');\r\n        }\r\n    }\r\n    return null;\r\n}\r\nexports.findService = findService;\r\n//# sourceMappingURL=serviceActivation.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshService = void 0;\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst sshSession_1 = require(\"../sshSession\");\r\n/**\r\n * Base class for SSH session services that handle incoming requests.\r\n *\r\n * Services can be on either the server side or the client side, because either side may\r\n * send requests to the other's services.\r\n *\r\n * Service subclasses must have one or more `serviceActivation` decorators applied to them to\r\n * declare the type(s) of requests that cause the service to be activated. Only one instance\r\n * of each service type gets activated for a session, even if there are multiple activation\r\n * rules. After activation, a service remains active for the duration of the session,\r\n * handling any additional requests, until it is disposed when the session is disposed.\r\n *\r\n * To enable activation of a service, add the service type to\r\n * `SshSessionConfiguration.services`. When a service is activated, the session raises a\r\n * `SshSession.serviceActivated` event.\r\n */\r\nclass SshService {\r\n    constructor(session) {\r\n        this.session = session;\r\n        this.disposed = false;\r\n        this.disposedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onDisposed = this.disposedEmitter.event;\r\n        if (!(session instanceof sshSession_1.SshSession)) {\r\n            // Other packages provide services that inherit from SshService. When they do, they\r\n            // reference the SshSession type from a specific version of this package. But at runtime,\r\n            // the service may be activated with a session from a different version of this package,\r\n            // if there are multiple instances due to version mismatches. Multiple instances of SSH\r\n            // types causes problems, so it's best to detect the error at initialization time.\r\n            throw new TypeError('Session is not an instance of SshSession. ' +\r\n                '(This may be due to a version mismatch between SSH packages.)');\r\n        }\r\n    }\r\n    get trace() {\r\n        return this.session.trace;\r\n    }\r\n    dispose() {\r\n        if (this.disposed)\r\n            return;\r\n        this.disposed = true;\r\n        this.disposedEmitter.fire();\r\n    }\r\n    /**\r\n     * Services that are activated via session requests must override this method to handle\r\n     * incoming session requests.\r\n     *\r\n     * Implementations must set `SshRequestEventArgs.isAuthorized` or\r\n     * `SshRequestEventArgs.responsePromise` to indicate whether the request was allowed.\r\n     */\r\n    async onSessionRequest(request, cancellation) {\r\n        this.session.raiseSessionRequest(request);\r\n    }\r\n    /**\r\n     * Services that are activated via channel types must override this method to handle\r\n     * incoming requests to open a channel.\r\n     *\r\n     * Implementations may set `SshChannelOpeningEventArgs.failureReason` or\r\n     * `SshChannelOpeningEventArgs.openingPromise` to block opening of the channel.\r\n     * The default behavior allows the channel to open.\r\n     *\r\n     * Requests on the opened channel will not be directed to `onChannelRequest`\r\n     * unless the service also declares activation on specific channel request(s). Otherwise,\r\n     * an implementation of this method may add any event-handlers to the\r\n     * `SshChannelOpeningEventArgs.channel` including a request event handler.\r\n     */\r\n    async onChannelOpening(request, cancellation) {\r\n        if (!request)\r\n            throw new TypeError('Request is required.');\r\n        return this.session.handleChannelOpening(request, cancellation, false);\r\n    }\r\n    /**\r\n     * Services that are activated via channel requests must override this method to handle\r\n     * incoming channel requests.\r\n     *\r\n     * Implementations must set `SshRequestEventArgs.isAuthorized` or\r\n     * `SshRequestEventArgs.responsePromise` to indicate whether the request was allowed.\r\n     */\r\n    async onChannelRequest(channel, request, cancellation) { }\r\n    /**\r\n     * Sends any message.\r\n     */\r\n    async sendMessage(message, cancellation) {\r\n        await this.session.sendMessage(message, cancellation);\r\n    }\r\n}\r\nexports.SshService = SshService;\r\n//# sourceMappingURL=sshService.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshChannel = void 0;\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst serviceActivation_1 = require(\"./services/serviceActivation\");\r\nconst connectionMessages_1 = require(\"./messages/connectionMessages\");\r\nconst transportMessages_1 = require(\"./messages/transportMessages\");\r\nconst channelMetrics_1 = require(\"./metrics/channelMetrics\");\r\nconst promiseCompletionSource_1 = require(\"./util/promiseCompletionSource\");\r\nconst errors_1 = require(\"./errors\");\r\nconst sshRequestEventArgs_1 = require(\"./events/sshRequestEventArgs\");\r\nconst sshChannelClosedEventArgs_1 = require(\"./events/sshChannelClosedEventArgs\");\r\nconst cancellation_1 = require(\"./util/cancellation\");\r\nconst semaphore_1 = require(\"./util/semaphore\");\r\nconst trace_1 = require(\"./trace\");\r\nconst pipeExtensions_1 = require(\"./pipeExtensions\");\r\n/**\r\n * Represents a channel on an SSH session. A session may include multiple channels, which\r\n * are multiplexed over the connection. Each channel within a session has a unique integer ID.\r\n */\r\nclass SshChannel {\r\n    /* @internal */\r\n    constructor(connectionService, channelType, channelId, remoteChannelId, remoteMaxWindowSize, remoteMaxPacketSize, openMessage, openConfirmationMessage) {\r\n        this.connectionService = connectionService;\r\n        this.channelType = channelType;\r\n        this.channelId = channelId;\r\n        this.remoteChannelId = remoteChannelId;\r\n        this.openMessage = openMessage;\r\n        this.openConfirmationMessage = openConfirmationMessage;\r\n        this.remoteClosed = false;\r\n        this.localClosed = false;\r\n        this.sentEof = false;\r\n        this.disposed = false;\r\n        this.openSendingWindowCompletionSource = null;\r\n        this.requestCompletionSource = null;\r\n        this.sendSemaphore = new semaphore_1.Semaphore(0);\r\n        /**\r\n         * Gets an object that reports measurements about the channel.\r\n         */\r\n        this.metrics = new channelMetrics_1.ChannelMetrics();\r\n        this.dataReceivedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        /**\r\n         * Event raised when a data message is received on the channel.\r\n         *\r\n         * Users of a channel MUST add a `onDataReceived` event handler immediately after a\r\n         * channel is opened/accepted, or else all session communication will be blocked.\r\n         * (The `SshStream` class does this automatically.)\r\n         *\r\n         * The event handler must call `adjustWindow` when the data has been consumed,\r\n         * to notify the remote side that it may send more data.\r\n         */\r\n        this.onDataReceived = this.dataReceivedEmitter.event;\r\n        this.eofEmitter = new vscode_jsonrpc_1.Emitter();\r\n        /**\r\n         * Event raised when an EOF message is received on the channel.\r\n         */\r\n        this.onEof = this.eofEmitter.event;\r\n        this.closedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onClosed = this.closedEmitter.event;\r\n        this.requestEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onRequest = this.requestEmitter.event;\r\n        /**\r\n         * Gets or sets a value indicating whether `maxWindowSize is locked, so that it cannot be\r\n         * changed after the channel is opened.\r\n         */\r\n        /* @internal */\r\n        this.isMaxWindowSizeLocked = false;\r\n        this.remoteWindowSize = remoteMaxWindowSize;\r\n        this.maxWindowSizeValue = SshChannel.defaultMaxWindowSize;\r\n        this.windowSize = this.maxWindowSizeValue;\r\n        this.maxPacketSize = Math.min(remoteMaxPacketSize, SshChannel.defaultMaxPacketSize);\r\n    }\r\n    get session() {\r\n        return this.connectionService.session;\r\n    }\r\n    get isClosed() {\r\n        return this.localClosed || this.remoteClosed;\r\n    }\r\n    /**\r\n     * Gets the maximum window size for received data. The other side will not send more\r\n     * data than the window size until it receives an acknowledgement that some of the data was\r\n     * received and processed by this side.\r\n     */\r\n    get maxWindowSize() {\r\n        return this.maxWindowSizeValue;\r\n    }\r\n    /**\r\n     * Sets the maximum window size for received data. The other side will not send more\r\n     * data than the window size until it receives an acknowledgement that some of the data was\r\n     * received and processed by this side.\r\n     *\r\n     * The default value is `defaultMaxWindowSize`. The value may be configured for a channel\r\n     * opened by this side by setting `ChannelOpenMessage.maxWindowSize` in the message object\r\n     * passed to `SshSession.openChannel()`, or for a channel opened by the other side by\r\n     * assigning to this property while handling the `SshSession.onChannelOpening` event.\r\n     * Changing the maximum window size at any other time is not valid because the other\r\n     * side would not be aware of the change.\r\n     */\r\n    set maxWindowSize(value) {\r\n        if (this.isMaxWindowSizeLocked) {\r\n            throw new Error('Cannot change the max window size after opening the channel.');\r\n        }\r\n        if (value < this.maxPacketSize) {\r\n            throw new Error('Maximum window size cannot be less than maximum packet size.');\r\n        }\r\n        this.maxWindowSizeValue = value;\r\n    }\r\n    /**\r\n     * Sends a channel request and waits for a response.\r\n     *\r\n     * Note if `wantReply` is `false`, this method returns `true` immediately after sending the\r\n     * request, without waiting for a reply.\r\n     *\r\n     * @returns The authorization status of the response; if false, the other side denied the\r\n     * request.\r\n     * @throws `ObjectDisposedError` if the channel was closed before sending the request.\r\n     * @throws `SshChannelError` if the channel was closed while waiting for a reply to the request.\r\n     */\r\n    async request(request, cancellation) {\r\n        if (!request)\r\n            throw new TypeError('Request is required.');\r\n        if (this.disposed)\r\n            throw new errors_1.ObjectDisposedError(this);\r\n        request.recipientChannel = this.remoteChannelId;\r\n        if (!request.wantReply) {\r\n            // If a reply is not requested, there's no need to set up a completion source.\r\n            await this.session.sendMessage(request, cancellation);\r\n            return true;\r\n        }\r\n        // TODO: enable sending multiple requests in TS\r\n        // see https://dev.azure.com/devdiv/DevDiv/_git/SSH/commit/0b84a48811e2f015107c73bf4584b6c3b676a6de\r\n        if (this.requestCompletionSource != null) {\r\n            throw new Error('Another request is already pending.');\r\n        }\r\n        // Capture as a local variable because the member may change.\r\n        const requestCompletionSource = new promiseCompletionSource_1.PromiseCompletionSource();\r\n        this.requestCompletionSource = requestCompletionSource;\r\n        if (cancellation) {\r\n            if (cancellation.isCancellationRequested)\r\n                throw new cancellation_1.CancellationError();\r\n            cancellation.onCancellationRequested(() => {\r\n                requestCompletionSource.reject(new cancellation_1.CancellationError());\r\n            });\r\n        }\r\n        await this.session.sendMessage(request, cancellation);\r\n        return await requestCompletionSource.promise;\r\n    }\r\n    async send(data, cancellation) {\r\n        if (this.disposed)\r\n            throw new errors_1.ObjectDisposedError(this);\r\n        if (data.length === 0) {\r\n            await this.sendEof();\r\n            return;\r\n        }\r\n        else if (this.sentEof) {\r\n            throw new Error('Cannot send more data after EOF.');\r\n        }\r\n        // Prevent out-of-order message chunks even if the caller does not await.\r\n        // Also don't send until the channel is fully opened.\r\n        await this.sendSemaphore.wait(cancellation);\r\n        try {\r\n            let offset = 0;\r\n            let count = data.length;\r\n            while (count > 0) {\r\n                let packetSize = Math.min(Math.min(this.remoteWindowSize, this.maxPacketSize), count);\r\n                while (packetSize === 0) {\r\n                    if (!this.openSendingWindowCompletionSource) {\r\n                        this.openSendingWindowCompletionSource = new promiseCompletionSource_1.PromiseCompletionSource();\r\n                    }\r\n                    this.session.trace(trace_1.TraceLevel.Warning, trace_1.SshTraceEventIds.channelWaitForWindowAdjust, `${this} send window is full. Waiting for window adjustment before sending.`);\r\n                    await (0, cancellation_1.withCancellation)(this.openSendingWindowCompletionSource.promise, cancellation);\r\n                    this.openSendingWindowCompletionSource = null;\r\n                    packetSize = Math.min(Math.min(this.remoteWindowSize, this.maxPacketSize), count);\r\n                }\r\n                const msg = new connectionMessages_1.ChannelDataMessage();\r\n                msg.recipientChannel = this.remoteChannelId;\r\n                // Unfortunately the data must be copied to a new buffer at this point\r\n                // to ensure it is still available to be re-sent later in case of disconnect.\r\n                msg.data = Buffer.from(data.slice(offset, offset + packetSize));\r\n                await this.session.sendMessage(msg, cancellation);\r\n                this.remoteWindowSize -= packetSize;\r\n                count -= packetSize;\r\n                offset += packetSize;\r\n                this.metrics.addBytesSent(packetSize);\r\n            }\r\n        }\r\n        finally {\r\n            this.sendSemaphore.tryRelease();\r\n        }\r\n    }\r\n    /* @internal */\r\n    enableSending() {\r\n        this.sendSemaphore.tryRelease();\r\n    }\r\n    async sendEof(cancellation) {\r\n        if (this.sentEof) {\r\n            return;\r\n        }\r\n        await this.sendSemaphore.wait(cancellation);\r\n        try {\r\n            this.sentEof = true;\r\n            const msg = new connectionMessages_1.ChannelEofMessage();\r\n            msg.recipientChannel = this.remoteChannelId;\r\n            await this.session.sendMessage(msg, cancellation);\r\n        }\r\n        finally {\r\n            this.sendSemaphore.tryRelease();\r\n        }\r\n    }\r\n    /* @internal */\r\n    async handleRequest(request, cancellation) {\r\n        if (!request.requestType) {\r\n            throw new errors_1.SshConnectionError('Channel request type not specified.', transportMessages_1.SshDisconnectReason.protocolError);\r\n        }\r\n        if (request.requestType === connectionMessages_1.ChannelRequestType.exitStatus) {\r\n            const signal = new connectionMessages_1.ChannelSignalMessage();\r\n            request.convertTo(signal);\r\n            this.exitStatus = signal.exitStatus;\r\n            return true;\r\n        }\r\n        else if (request.requestType === connectionMessages_1.ChannelRequestType.exitSignal) {\r\n            const signal = new connectionMessages_1.ChannelSignalMessage();\r\n            request.convertTo(signal);\r\n            this.exitSignal = signal.exitSignal;\r\n            this.exitErrorMessage = signal.errorMessage;\r\n            return true;\r\n        }\r\n        else if (request.requestType === connectionMessages_1.ChannelRequestType.signal) {\r\n            const signal = new connectionMessages_1.ChannelSignalMessage();\r\n            request.convertTo(signal);\r\n        }\r\n        const args = new sshRequestEventArgs_1.SshRequestEventArgs(request.requestType, request, this.session.principal, cancellation);\r\n        const serviceType = (0, serviceActivation_1.findService)(this.session.config.services, (a) => (!a.channelType || a.channelType === this.channelType) &&\r\n            a.channelRequest === request.requestType);\r\n        await this.sendSemaphore.wait(cancellation);\r\n        try {\r\n            let response = null;\r\n            if (serviceType) {\r\n                // A service was configured for activation via this session request type.\r\n                const service = this.session.activateService(serviceType);\r\n                // `onChannelRequest` should really be 'protected internal'.\r\n                await service.onChannelRequest(this, args, cancellation);\r\n            }\r\n            else {\r\n                this.requestEmitter.fire(args);\r\n            }\r\n            // TODO: do not block requests in TS (similar to CS)\r\n            // see https://dev.azure.com/devdiv/DevDiv/_git/SSH/commit/0b84a48811e2f015107c73bf4584b6c3b676a6de\r\n            if (args.responsePromise) {\r\n                response = await args.responsePromise;\r\n                args.isAuthorized = response instanceof connectionMessages_1.ChannelSuccessMessage;\r\n            }\r\n            if (request.wantReply) {\r\n                if (args.isAuthorized) {\r\n                    response = response !== null && response !== void 0 ? response : new connectionMessages_1.ChannelSuccessMessage();\r\n                    response.recipientChannel = this.remoteChannelId;\r\n                }\r\n                else {\r\n                    response = response !== null && response !== void 0 ? response : new connectionMessages_1.ChannelFailureMessage();\r\n                    response.recipientChannel = this.remoteChannelId;\r\n                }\r\n                await this.session.sendMessage(response, cancellation);\r\n            }\r\n        }\r\n        finally {\r\n            this.sendSemaphore.tryRelease();\r\n        }\r\n        return args.isAuthorized || false;\r\n    }\r\n    /* @internal */\r\n    handleResponse(result) {\r\n        if (this.requestCompletionSource) {\r\n            this.requestCompletionSource.resolve(result);\r\n            this.requestCompletionSource = null;\r\n        }\r\n    }\r\n    /* @internal */\r\n    handleDataReceived(data) {\r\n        this.metrics.addBytesReceived(data.length);\r\n        // DataReceived handler is to adjust the window when it's done with the data.\r\n        this.dataReceivedEmitter.fire(data);\r\n    }\r\n    /**\r\n     * Adjusts the local receiving window size by the specified amount, notifying\r\n     * the remote side that it is free to send more data.\r\n     *\r\n     * This method MUST be called either immediately or eventually by the\r\n     * `onDataReceived` event handler as incoming data is processed.\r\n     */\r\n    adjustWindow(messageLength) {\r\n        if (this.disposed)\r\n            return;\r\n        this.windowSize -= messageLength;\r\n        if (this.windowSize <= this.maxWindowSizeValue / 2) {\r\n            const windowAdjustMessage = new connectionMessages_1.ChannelWindowAdjustMessage();\r\n            windowAdjustMessage.recipientChannel = this.remoteChannelId;\r\n            windowAdjustMessage.bytesToAdd = this.maxWindowSizeValue - this.windowSize;\r\n            this.windowSize = this.maxWindowSizeValue;\r\n            this.session.sendMessage(windowAdjustMessage).catch((e) => {\r\n                this.session.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.channelWindowAdjustFailed, `Error sending window adjust message: ${e.message}`, e);\r\n            });\r\n        }\r\n    }\r\n    /* @internal */\r\n    adjustRemoteWindow(bytesToAdd) {\r\n        this.remoteWindowSize += bytesToAdd;\r\n        if (this.openSendingWindowCompletionSource) {\r\n            this.openSendingWindowCompletionSource.resolve(undefined);\r\n        }\r\n    }\r\n    /* @internal */\r\n    handleEof() {\r\n        this.session.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.channelEofReceived, `${this} EOF received.`);\r\n        this.eofEmitter.fire();\r\n    }\r\n    close(exitStatusOrSignal, errorMessage, cancellation) {\r\n        if (exitStatusOrSignal instanceof Error) {\r\n            const error = exitStatusOrSignal;\r\n            if (!this.localClosed) {\r\n                this.localClosed = true;\r\n                this.session.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.channelClosed, `${this} Closed: ${error.message}`);\r\n                this.closedEmitter.fire(new sshChannelClosedEventArgs_1.SshChannelClosedEventArgs(error));\r\n            }\r\n            this.disposeInternal();\r\n            return;\r\n        }\r\n        if (typeof exitStatusOrSignal === 'number') {\r\n            return this.closeWithStatus(exitStatusOrSignal, errorMessage);\r\n        }\r\n        else if (typeof exitStatusOrSignal === 'string') {\r\n            return this.closeWithSignal(exitStatusOrSignal, errorMessage, cancellation);\r\n        }\r\n        else {\r\n            return this.closeDefault(exitStatusOrSignal);\r\n        }\r\n    }\r\n    async closeDefault(cancellation) {\r\n        var _a;\r\n        if (!this.remoteClosed && !this.localClosed) {\r\n            this.remoteClosed = true;\r\n            await this.sendSemaphore.wait(cancellation);\r\n            try {\r\n                const closeMessage = new connectionMessages_1.ChannelCloseMessage();\r\n                closeMessage.recipientChannel = this.remoteChannelId;\r\n                await this.session.sendMessage(closeMessage);\r\n            }\r\n            catch (e) {\r\n                // The session was already closed.\r\n            }\r\n            finally {\r\n                this.sendSemaphore.tryRelease();\r\n            }\r\n        }\r\n        if (!this.localClosed) {\r\n            this.localClosed = true;\r\n            const closedMessage = this.raiseClosedEvent();\r\n            (_a = this.requestCompletionSource) === null || _a === void 0 ? void 0 : _a.reject(new errors_1.SshChannelError(closedMessage));\r\n        }\r\n        this.disposeInternal();\r\n    }\r\n    async closeWithStatus(exitStatus, cancellation) {\r\n        if (!this.remoteClosed && !this.localClosed) {\r\n            this.exitStatus = exitStatus;\r\n            const signalMessage = new connectionMessages_1.ChannelSignalMessage();\r\n            signalMessage.recipientChannel = this.remoteChannelId;\r\n            signalMessage.exitStatus = exitStatus;\r\n            await this.session.sendMessage(signalMessage);\r\n        }\r\n        await this.closeDefault(cancellation);\r\n    }\r\n    async closeWithSignal(exitSignal, errorMessage, cancellation) {\r\n        if (!this.remoteClosed && !this.localClosed) {\r\n            this.exitSignal = exitSignal;\r\n            this.exitErrorMessage = errorMessage;\r\n            const signalMessage = new connectionMessages_1.ChannelSignalMessage();\r\n            signalMessage.recipientChannel = this.remoteChannelId;\r\n            signalMessage.exitSignal = exitSignal;\r\n            signalMessage.errorMessage = errorMessage;\r\n            await this.session.sendMessage(signalMessage);\r\n        }\r\n        await this.closeDefault(cancellation);\r\n    }\r\n    /* @internal */\r\n    handleClose() {\r\n        var _a;\r\n        if (!this.localClosed) {\r\n            this.localClosed = true;\r\n            const closedMessage = this.raiseClosedEvent(true);\r\n            (_a = this.requestCompletionSource) === null || _a === void 0 ? void 0 : _a.reject(new errors_1.SshChannelError(closedMessage));\r\n        }\r\n        this.disposeInternal();\r\n    }\r\n    raiseClosedEvent(closedByRemote = false) {\r\n        const metricsMessage = ` (S: ${this.metrics.bytesSent}, R: ${this.metrics.bytesReceived})`;\r\n        const originMessage = closedByRemote ? 'remotely' : 'locally';\r\n        let closedMessage;\r\n        let args;\r\n        if (typeof this.exitStatus !== 'undefined') {\r\n            args = new sshChannelClosedEventArgs_1.SshChannelClosedEventArgs(this.exitStatus);\r\n            closedMessage = `${this} closed ${originMessage}: status=${this.exitStatus}`;\r\n        }\r\n        else if (typeof this.exitSignal !== 'undefined') {\r\n            args = new sshChannelClosedEventArgs_1.SshChannelClosedEventArgs(this.exitSignal, this.exitErrorMessage);\r\n            closedMessage = `${this} closed ${originMessage}: signal=${this.exitSignal} ${this.exitErrorMessage}`;\r\n        }\r\n        else {\r\n            args = new sshChannelClosedEventArgs_1.SshChannelClosedEventArgs();\r\n            closedMessage = `${this} closed ${originMessage}.`;\r\n        }\r\n        this.session.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.channelClosed, closedMessage + metricsMessage);\r\n        this.closedEmitter.fire(args);\r\n        return closedMessage;\r\n    }\r\n    dispose() {\r\n        var _a;\r\n        if (!this.disposed && !this.localClosed) {\r\n            if (!this.remoteClosed) {\r\n                this.remoteClosed = true;\r\n                const closeMessage = new connectionMessages_1.ChannelCloseMessage();\r\n                closeMessage.recipientChannel = this.remoteChannelId;\r\n                this.session.sendMessage(closeMessage).catch((e) => {\r\n                    // The session was already closed, or some other sending error occurred.\r\n                    // The details have already been traced.\r\n                });\r\n            }\r\n            const message = this.session.isClosed ? `${this.session} closed.` : `${this} disposed.`;\r\n            this.session.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.channelClosed, message);\r\n            const args = new sshChannelClosedEventArgs_1.SshChannelClosedEventArgs('SIGABRT', message);\r\n            this.localClosed = true;\r\n            this.closedEmitter.fire(args);\r\n            (_a = this.requestCompletionSource) === null || _a === void 0 ? void 0 : _a.reject(new errors_1.SshChannelError(message));\r\n        }\r\n        this.disposeInternal();\r\n    }\r\n    disposeInternal() {\r\n        var _a;\r\n        if (this.disposed)\r\n            return;\r\n        this.disposed = true;\r\n        (_a = this.requestCompletionSource) === null || _a === void 0 ? void 0 : _a.reject(new errors_1.ObjectDisposedError(this));\r\n        this.connectionService.removeChannel(this);\r\n        this.sendSemaphore.dispose();\r\n    }\r\n    /**\r\n     * Pipes one SSH channel into another, relaying all data between them.\r\n     * @param toChannel Channel to which the current channel will be connected via the pipe.\r\n     * @returns A promise that resolves when the channels are closed.\r\n     */\r\n    pipe(toChannel) {\r\n        return pipeExtensions_1.PipeExtensions.pipeChannel(this, toChannel);\r\n    }\r\n    toString() {\r\n        return `SshChannel(Type: ${this.channelType}, Id: ${this.channelId}, RemoteId: ${this.remoteChannelId})`;\r\n    }\r\n}\r\nexports.SshChannel = SshChannel;\r\nSshChannel.sessionChannelType = 'session';\r\n/**\r\n * Default maximum packet size. Channel data payloads larger than the max packet size will\r\n * be broken into chunks before sending. The actual `maxPacketSize` may be smaller (but\r\n * never larger) than the default if requested by the other side.\r\n */\r\nSshChannel.defaultMaxPacketSize = connectionMessages_1.ChannelOpenMessage.defaultMaxPacketSize;\r\n/**\r\n * Default maximum window size for received data. The other side will not send more data than\r\n * the window size until it receives an acknowledgement that some of the data was received and\r\n * processed by this side. A non-default `maxWindowSize` may be configured at the time of\r\n * opening the channel.\r\n */\r\nSshChannel.defaultMaxWindowSize = connectionMessages_1.ChannelOpenMessage.defaultMaxWindowSize;\r\n//# sourceMappingURL=sshChannel.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshClientSession = void 0;\r\nconst sshSession_1 = require(\"./sshSession\");\r\nconst transportMessages_1 = require(\"./messages/transportMessages\");\r\nconst sshAuthenticatingEventArgs_1 = require(\"./events/sshAuthenticatingEventArgs\");\r\nconst promiseCompletionSource_1 = require(\"./util/promiseCompletionSource\");\r\nconst cancellation_1 = require(\"./util/cancellation\");\r\nconst sshSessionConfiguration_1 = require(\"./sshSessionConfiguration\");\r\nconst authenticationService_1 = require(\"./services/authenticationService\");\r\nconst connectionService_1 = require(\"./services/connectionService\");\r\nconst errors_1 = require(\"./errors\");\r\nconst trace_1 = require(\"./trace\");\r\n/**\r\n * The client side of an SSH session. Extends the base `SshSession` class to\r\n * support client authentication.\r\n */\r\nclass SshClientSession extends sshSession_1.SshSession {\r\n    constructor(config) {\r\n        super(config, true);\r\n        this.serviceRequests = new Map();\r\n        this.clientAuthCompletion = null;\r\n    }\r\n    /**\r\n     * Attempts to authenticate both the server and client.\r\n     *\r\n     * This method must be called only after encrypting the session. It is equivalent\r\n     * to calling both `authenticateServer()` and `authenticateClient()` and waiting on\r\n     * both results.\r\n     *\r\n     * @returns `true` if authentication succeeded, `false` if it failed.\r\n     */\r\n    async authenticate(clientCredentials, cancellation) {\r\n        const serverAuthenticated = await this.authenticateServer(cancellation);\r\n        if (!serverAuthenticated) {\r\n            return false;\r\n        }\r\n        const clientAuthenticated = await this.authenticateClient(clientCredentials, cancellation);\r\n        if (!clientAuthenticated) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    /**\r\n     * Triggers server authentication by invoking the `authenticating` event with\r\n     * the verified server host key.\r\n     *\r\n     * This method must be called only after encrypting the session. It does not wait for any\r\n     * further message exchange with the server, since the server host key would have already\r\n     * been obtained during the key-exchange.\r\n     *\r\n     * @returns `true` if authentication succeeded, `false` if it failed.\r\n     */\r\n    async authenticateServer(cancellation) {\r\n        if (!(this.kexService && this.kexService.hostKey)) {\r\n            throw new Error('Encrypt the session before authenticating.');\r\n        }\r\n        try {\r\n            // Raise an Authenticating event that allows handlers to do verification\r\n            // of the host key and return a principal for the server.\r\n            this.principal = await this.raiseAuthenticatingEvent(new sshAuthenticatingEventArgs_1.SshAuthenticatingEventArgs(sshAuthenticatingEventArgs_1.SshAuthenticationType.serverPublicKey, {\r\n                publicKey: this.kexService.hostKey,\r\n            }, cancellation));\r\n        }\r\n        catch (e) {\r\n            if (!(e instanceof Error))\r\n                throw e;\r\n            this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.authenticationError, `Error while authenticating server: ${e.message}`, e);\r\n            throw e;\r\n        }\r\n        if (!this.principal) {\r\n            await this.close(transportMessages_1.SshDisconnectReason.hostKeyNotVerifiable, 'Server authentication failed.');\r\n            this.trace(trace_1.TraceLevel.Warning, trace_1.SshTraceEventIds.serverAuthenticationFailed, `${this} server authentication failed.`);\r\n            return false;\r\n        }\r\n        this.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.sessionAuthenticated, `${this} server authenticated.`);\r\n        return true;\r\n    }\r\n    /* @internal */\r\n    authenticateClient(credentials, callbackOrCancellation, cancellation) {\r\n        if (!credentials) {\r\n            throw new TypeError('A credentials object is required.');\r\n        }\r\n        if (typeof callbackOrCancellation === 'function') {\r\n            return this.authenticateClientWithCompletion(credentials, callbackOrCancellation, cancellation);\r\n        }\r\n        else {\r\n            return new Promise((resolve, reject) => this.authenticateClientWithCompletion(credentials, (err, result) => {\r\n                if (err)\r\n                    reject(err);\r\n                else\r\n                    resolve(result);\r\n            }, callbackOrCancellation));\r\n        }\r\n    }\r\n    async authenticateClientWithCompletion(credentials, callback, cancellation) {\r\n        this.clientAuthCompletion = new promiseCompletionSource_1.PromiseCompletionSource();\r\n        this.clientAuthCompletion.promise.then((result) => callback(undefined, result), (err) => callback(err));\r\n        if (cancellation) {\r\n            if (cancellation.isCancellationRequested)\r\n                throw new cancellation_1.CancellationError();\r\n            cancellation.onCancellationRequested((e) => {\r\n                if (this.clientAuthCompletion) {\r\n                    this.clientAuthCompletion.reject(new cancellation_1.CancellationError());\r\n                }\r\n            });\r\n        }\r\n        let authService = this.getService(authenticationService_1.AuthenticationService);\r\n        if (!authService) {\r\n            const serviceRequestMessage = new transportMessages_1.ServiceRequestMessage();\r\n            serviceRequestMessage.serviceName = authenticationService_1.AuthenticationService.serviceName;\r\n            await this.sendMessage(serviceRequestMessage, cancellation);\r\n            // Assume the service request is accepted, without waiting for an accept message.\r\n            // (If not, the following auth requests will fail anyway.)\r\n            authService = this.activateService(authenticationService_1.AuthenticationService);\r\n        }\r\n        await authService.authenticateClient(credentials, cancellation);\r\n    }\r\n    /* @internal */\r\n    onAuthenticationComplete(success) {\r\n        if (success) {\r\n            this.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.sessionAuthenticated, `${this} client authenticated.`);\r\n        }\r\n        else {\r\n            this.trace(trace_1.TraceLevel.Warning, trace_1.SshTraceEventIds.clientAuthenticationFailed, `${this} client authentication failed.`);\r\n        }\r\n        if (this.clientAuthCompletion) {\r\n            this.clientAuthCompletion.resolve(success);\r\n            this.clientAuthCompletion = null;\r\n        }\r\n    }\r\n    /**\r\n     * Sends a request for a service and waits for a response.\r\n     *\r\n     * @param serviceName Name of the service to be requested.\r\n     * @param cancellation Optional cancellation token.\r\n     * @returns A promise that resolves when the service request has been accepted.\r\n     *\r\n     * If the server does not accept the service request, it will disconnect the session.\r\n     */\r\n    async requestService(serviceName, cancellation) {\r\n        let sendRequest = false;\r\n        let completion = this.serviceRequests.get(serviceName);\r\n        if (!completion) {\r\n            completion = new promiseCompletionSource_1.PromiseCompletionSource();\r\n            this.serviceRequests.set(serviceName, completion);\r\n            sendRequest = true;\r\n        }\r\n        if (sendRequest) {\r\n            const requestMessage = new transportMessages_1.ServiceRequestMessage();\r\n            requestMessage.serviceName = serviceName;\r\n            await this.sendMessage(requestMessage, cancellation);\r\n        }\r\n        await completion.promise;\r\n    }\r\n    /* @internal */\r\n    async handleServiceAcceptMessage(message, cancellation) {\r\n        const completion = this.serviceRequests.get(message.serviceName);\r\n        completion === null || completion === void 0 ? void 0 : completion.resolve(true);\r\n    }\r\n    async openChannel(channelTypeOrOpenMessageOrCancellation, initialRequestOrCancellation, cancellation) {\r\n        if (!this.connectionService) {\r\n            // Authentication must have been skipped, meaning there was no\r\n            // connection service request sent yet. Send it now, and assume\r\n            // it is accepted without waiting for a response.\r\n            const serviceRequestMessage = new transportMessages_1.ServiceRequestMessage();\r\n            serviceRequestMessage.serviceName = connectionService_1.ConnectionService.serviceName;\r\n            await this.sendMessage(serviceRequestMessage, cancellation);\r\n        }\r\n        return await super.openChannel(channelTypeOrOpenMessageOrCancellation, initialRequestOrCancellation, cancellation);\r\n    }\r\n    /* @internal */\r\n    handleDisconnected() {\r\n        if (this.reconnecting) {\r\n            this.reconnecting = false;\r\n            return false;\r\n        }\r\n        return super.handleDisconnected();\r\n    }\r\n    /**\r\n     * Call instead of `connect()` to reconnect to a prior session instead of connecting\r\n     * a new session.\r\n     * @param stream A new stream that has just (re-) connected to the server.\r\n     * @param cancellation Optional cancellation token.\r\n     * @returns True if reconnect succeeded, false if the server declined the reconnect\r\n     * request or reconnect session validation failed. In the case of a false return value,\r\n     * retrying is unlikely to succeed.\r\n     * @throws {SshConnectionError} There was a problem connecting to or communicating with\r\n     * the server; retrying may still succeed if connectivity is restored.\r\n     * @throws {SshReconnectError} Reconnect failed for some reason other than a communication\r\n     * issue: see the `failureReason` property of the error. Retrying is unlikely to succeed,\r\n     * unless the specific error condition can be addressed.\r\n     */\r\n    async reconnect(stream, cancellation) {\r\n        this.trace(trace_1.TraceLevel.Verbose, trace_1.SshTraceEventIds.clientSessionReconnecting, 'Attempting to reconnect...');\r\n        if (this.isClosed) {\r\n            throw new errors_1.ObjectDisposedError(this);\r\n        }\r\n        else if (this.isConnected) {\r\n            throw new Error('Already connected.');\r\n        }\r\n        if (!this.protocol) {\r\n            throw new Error('The session was never previously connected.');\r\n        }\r\n        if (this.reconnecting) {\r\n            throw new Error('Already reconnecting.');\r\n        }\r\n        this.reconnecting = true;\r\n        try {\r\n            await this.reconnectInternal(stream, cancellation);\r\n        }\r\n        finally {\r\n            this.reconnecting = false;\r\n        }\r\n    }\r\n    async reconnectInternal(stream, cancellation) {\r\n        var _a, _b, _c, _d, _e, _f;\r\n        const previousSessionId = this.sessionId;\r\n        const previousProtocolInstance = this.protocol;\r\n        const previousHostKey = (_a = this.kexService) === null || _a === void 0 ? void 0 : _a.hostKey;\r\n        if (!previousSessionId ||\r\n            !previousProtocolInstance ||\r\n            !this.kexService ||\r\n            !previousHostKey ||\r\n            !((_b = previousProtocolInstance.extensions) === null || _b === void 0 ? void 0 : _b.has(sshSessionConfiguration_1.SshProtocolExtensionNames.sessionReconnect))) {\r\n            throw new Error('Reconnect was not enabled for this session.');\r\n        }\r\n        let newSessionId;\r\n        try {\r\n            // Reconnecting will temporarily create a new session ID.\r\n            this.sessionId = null;\r\n            await this.connect(stream, cancellation);\r\n            if (!this.sessionId || !this.algorithms || !this.algorithms.signer) {\r\n                throw new Error('Session is not encrypted.');\r\n            }\r\n            // Ensure the client is not reconnecting to a different server.\r\n            const newHostKey = this.kexService.hostKey;\r\n            const newHostPublicKey = !newHostKey ? null : await newHostKey.getPublicKeyBytes();\r\n            const previousHostPublicKey = await previousHostKey.getPublicKeyBytes();\r\n            if (!newHostPublicKey ||\r\n                !previousHostPublicKey ||\r\n                !newHostPublicKey.equals(previousHostPublicKey)) {\r\n                const message = 'The server host key is different.';\r\n                this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.clientSessionReconnectFailed, `Reconnection failed: ${message}`);\r\n                throw new errors_1.SshReconnectError(message, transportMessages_1.SshReconnectFailureReason.differentServerHostKey);\r\n            }\r\n            newSessionId = this.sessionId;\r\n        }\r\n        catch (e) {\r\n            // Restore the previous protocol instance so reconnect may be attempted again.\r\n            this.protocol = previousProtocolInstance;\r\n            super.handleDisconnected();\r\n            throw e;\r\n        }\r\n        finally {\r\n            // Restore the previous session ID and host key for the reconnected session.\r\n            this.sessionId = previousSessionId;\r\n            this.kexService.hostKey = previousHostKey;\r\n        }\r\n        const reconnectToken = await this.createReconnectToken(previousSessionId, newSessionId);\r\n        const reconnectRequest = new transportMessages_1.SessionReconnectRequestMessage();\r\n        reconnectRequest.requestType = \"session-reconnect@microsoft.com\" /* ExtensionRequestTypes.sessionReconnect */;\r\n        reconnectRequest.clientReconnectToken = reconnectToken;\r\n        reconnectRequest.lastReceivedSequenceNumber = previousProtocolInstance.lastIncomingSequence;\r\n        reconnectRequest.wantReply = true;\r\n        const response = await this.requestResponse(reconnectRequest, transportMessages_1.SessionReconnectResponseMessage, transportMessages_1.SessionReconnectFailureMessage, cancellation);\r\n        if (response instanceof transportMessages_1.SessionReconnectFailureMessage) {\r\n            const reason = (_c = response.reasonCode) !== null && _c !== void 0 ? _c : transportMessages_1.SshReconnectFailureReason.unknownServerFailure;\r\n            const message = (_d = response.description) !== null && _d !== void 0 ? _d : 'The server rejected the reconnect request.';\r\n            this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.clientSessionReconnectFailed, `Reconnection failed: ${message}`);\r\n            // Restore the previous protocol instance so reconnect may be attempted again.\r\n            this.protocol = previousProtocolInstance;\r\n            throw new errors_1.SshReconnectError(message, reason);\r\n        }\r\n        if (!this.verifyReconnectToken(previousSessionId, newSessionId, (_e = response.serverReconnectToken) !== null && _e !== void 0 ? _e : Buffer.alloc(0))) {\r\n            const message = 'The reconnect token provided by the server was invalid.';\r\n            this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.clientSessionReconnectFailed, `Reconnection failed: ${message}`);\r\n            throw new errors_1.SshReconnectError(message, transportMessages_1.SshReconnectFailureReason.invalidServerReconnectToken);\r\n        }\r\n        this.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.clientSessionReconnecting, 'Reconnect request was accepted by the server.');\r\n        // Re-send lost messages.\r\n        const messagesToResend = previousProtocolInstance.getSentMessages(((_f = response.lastReceivedSequenceNumber) !== null && _f !== void 0 ? _f : 0) + 1);\r\n        if (!messagesToResend) {\r\n            const message = 'Client is unable to re-send messages requested by the server.';\r\n            this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.clientSessionReconnectFailed, `Reconnection failed: ${message}`);\r\n            throw new errors_1.SshReconnectError(message, transportMessages_1.SshReconnectFailureReason.clientDroppedMessages);\r\n        }\r\n        let count = 0;\r\n        for (const message of messagesToResend) {\r\n            await this.sendMessage(message, cancellation);\r\n            count++;\r\n        }\r\n        // Now the session is fully reconnected!\r\n        previousProtocolInstance.dispose();\r\n        this.metrics.addReconnection();\r\n        this.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.clientSessionReconnecting, `{this} reconnected. Re-sent ${count} dropped messages.`);\r\n    }\r\n    dispose() {\r\n        if (this.clientAuthCompletion) {\r\n            this.clientAuthCompletion.reject(new errors_1.ObjectDisposedError(this));\r\n        }\r\n        super.dispose();\r\n    }\r\n}\r\nexports.SshClientSession = SshClientSession;\r\n//# sourceMappingURL=sshClientSession.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshRpcMessageStream = void 0;\r\nconst rpc = require(\"vscode-jsonrpc\");\r\nconst buffer_1 = require(\"buffer\");\r\nconst sshData_1 = require(\"./io/sshData\");\r\nconst contentLengthHeaderPrefix = 'Content-Length: ';\r\nconst headersSeparator = '\\r\\n\\r\\n';\r\nclass SshRpcMessageReader {\r\n    constructor(channel) {\r\n        this.channel = channel;\r\n        this.errorEmitter = new rpc.Emitter();\r\n        this.closeEmitter = new rpc.Emitter();\r\n        this.partialMessageEmitter = new rpc.Emitter();\r\n        this.callback = null;\r\n        this.messageBuffer = new sshData_1.SshDataWriter(buffer_1.Buffer.alloc(1024));\r\n        this.headersLength = null;\r\n        this.messageLength = null;\r\n        this.onError = this.errorEmitter.event;\r\n        this.onClose = this.closeEmitter.event;\r\n        this.onPartialMessage = this.partialMessageEmitter.event;\r\n        this.eventRegistration = this.channel.onDataReceived(this.onDataReceived.bind(this));\r\n        this.channel.onClosed((e) => {\r\n            if (e.error) {\r\n                this.errorEmitter.fire(e.error);\r\n            }\r\n            // Note: we always want to fire a close event to avoid the rpc connection\r\n            // to be used. After the event any usage of the rpc message connection will\r\n            // throw an error with this code: ConnectionErrors.Closed\r\n            this.closeEmitter.fire();\r\n        });\r\n    }\r\n    listen(callback) {\r\n        this.callback = callback;\r\n        return rpc.Disposable.create(() => {\r\n            this.callback = null;\r\n        });\r\n    }\r\n    dispose() {\r\n        if (this.eventRegistration) {\r\n            this.eventRegistration.dispose();\r\n        }\r\n    }\r\n    onDataReceived(data) {\r\n        this.messageBuffer.write(data);\r\n        this.channel.adjustWindow(data.length);\r\n        // In case of recursion, the `data` might have already been a slice of the message buffer,\r\n        // but it could have been invalidated by expansion during write() above.\r\n        data = this.messageBuffer.toBuffer();\r\n        if (this.messageLength === null) {\r\n            const headersEnd = data.indexOf(headersSeparator);\r\n            if (headersEnd < 0) {\r\n                return; // Wait for more data.\r\n            }\r\n            const headers = data.slice(0, headersEnd).toString();\r\n            if (!headers.startsWith(contentLengthHeaderPrefix)) {\r\n                throw new Error(`Message does not start with JSON-RPC headers.\\n${headers}`);\r\n            }\r\n            this.headersLength = headersEnd + headersSeparator.length;\r\n            this.messageLength = parseInt(headers.substr(contentLengthHeaderPrefix.length, headersEnd - contentLengthHeaderPrefix.length), 10);\r\n        }\r\n        const position = this.messageBuffer.position;\r\n        const totalLength = this.headersLength + this.messageLength;\r\n        if (position >= totalLength) {\r\n            if (this.callback) {\r\n                const messageJson = data.slice(this.headersLength, totalLength).toString();\r\n                let message;\r\n                try {\r\n                    message = JSON.parse(messageJson);\r\n                }\r\n                catch (e) {\r\n                    if (!(e instanceof Error))\r\n                        throw e;\r\n                    throw new Error(`Failed to parse JSON-RPC message: ${e.message}\\n${messageJson}`);\r\n                }\r\n                this.callback(message);\r\n            }\r\n            this.messageLength = null;\r\n            this.messageBuffer.position = 0;\r\n            if (position > totalLength) {\r\n                // Recursively receive the remaining data, which will cause it\r\n                // to be copied to the beginning of the buffer;\r\n                this.onDataReceived(data.slice(totalLength));\r\n            }\r\n        }\r\n    }\r\n}\r\nclass SshRpcMessageWriter {\r\n    constructor(channel) {\r\n        this.channel = channel;\r\n        this.errorEmitter = new rpc.Emitter();\r\n        this.closeEmitter = new rpc.Emitter();\r\n        this.onError = this.errorEmitter.event;\r\n        this.onClose = this.closeEmitter.event;\r\n        this.channel.onClosed((e) => {\r\n            if (e.error) {\r\n                this.errorEmitter.fire([\r\n                    e.error,\r\n                    (e.errorMessage && { jsonrpc: e.errorMessage }) || undefined,\r\n                    e.exitStatus,\r\n                ]);\r\n            }\r\n            this.closeEmitter.fire();\r\n        });\r\n    }\r\n    write(message) {\r\n        const messageJson = JSON.stringify(message);\r\n        const messageData = buffer_1.Buffer.from(messageJson);\r\n        const headerData = buffer_1.Buffer.from(contentLengthHeaderPrefix + messageData.length + headersSeparator);\r\n        const data = buffer_1.Buffer.alloc(headerData.length + messageData.length);\r\n        headerData.copy(data, 0);\r\n        messageData.copy(data, headerData.length);\r\n        return this.channel.send(data).catch((e) => {\r\n            this.errorEmitter.fire([e, undefined, undefined]);\r\n        });\r\n    }\r\n    end() { }\r\n    dispose() { }\r\n}\r\nclass SshRpcMessageStream {\r\n    constructor(channel) {\r\n        this.reader = new SshRpcMessageReader(channel);\r\n        this.writer = new SshRpcMessageWriter(channel);\r\n    }\r\n}\r\nexports.SshRpcMessageStream = SshRpcMessageStream;\r\n//# sourceMappingURL=sshRpcMessageStream.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshServerSession = void 0;\r\nconst sshSession_1 = require(\"./sshSession\");\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst transportMessages_1 = require(\"./messages/transportMessages\");\r\nconst errors_1 = require(\"./errors\");\r\nconst sshSessionConfiguration_1 = require(\"./sshSessionConfiguration\");\r\nconst trace_1 = require(\"./trace\");\r\n/**\r\n * The server side of an SSH session. Extends the base `SshSession` class\r\n * to support host authentication.\r\n */\r\nclass SshServerSession extends sshSession_1.SshSession {\r\n    constructor(config, reconnectableSessions) {\r\n        super(config, false);\r\n        this.clientAuthenticatedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onClientAuthenticated = this.clientAuthenticatedEmitter.event;\r\n        this.reconnectedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onReconnected = this.reconnectedEmitter.event;\r\n        /**\r\n         * Gets or sets credentials and/or credential callbacks for authenticating the session.\r\n         */\r\n        this.credentials = { publicKeys: [] };\r\n        const enableReconnect = config.protocolExtensions.includes(sshSessionConfiguration_1.SshProtocolExtensionNames.sessionReconnect);\r\n        if (enableReconnect && !reconnectableSessions) {\r\n            throw new Error('When reconnect is enabled, server sessions require a reference to a ' +\r\n                'shared collection to track reconnectable sessions.');\r\n        }\r\n        else if (!enableReconnect && reconnectableSessions) {\r\n            throw new Error('When reconnect is not enabled, the reconnectable sessions collection ' +\r\n                'is not applicable.');\r\n        }\r\n        this.reconnectableSessions = reconnectableSessions;\r\n    }\r\n    /* @internal */\r\n    async handleServiceRequestMessage(message, cancellation) {\r\n        const service = this.activateService(message.serviceName);\r\n        if (service) {\r\n            const acceptMessage = new transportMessages_1.ServiceAcceptMessage();\r\n            acceptMessage.serviceName = message.serviceName;\r\n            await this.sendMessage(acceptMessage, cancellation);\r\n        }\r\n        else {\r\n            throw new errors_1.SshConnectionError(`Service \"${message.serviceName}\" not available.`, transportMessages_1.SshDisconnectReason.serviceNotAvailable);\r\n        }\r\n    }\r\n    /* @internal */\r\n    async handleRequestMessage(message, cancellation) {\r\n        var _a;\r\n        if (message.requestType === \"session-reconnect@microsoft.com\" /* ExtensionRequestTypes.sessionReconnect */ &&\r\n            ((_a = this.config.protocolExtensions) === null || _a === void 0 ? void 0 : _a.includes(sshSessionConfiguration_1.SshProtocolExtensionNames.sessionReconnect))) {\r\n            const reconnectRequest = message.convertTo(new transportMessages_1.SessionReconnectRequestMessage());\r\n            await this.reconnect(reconnectRequest, cancellation);\r\n            // reconnect() handles sending the response message.\r\n            return;\r\n        }\r\n        await super.handleRequestMessage(message, cancellation);\r\n    }\r\n    /* @internal */\r\n    handleClientAuthenticated() {\r\n        this.clientAuthenticatedEmitter.fire();\r\n    }\r\n    /* @internal */\r\n    async enableReconnect(cancellation) {\r\n        await super.enableReconnect(cancellation);\r\n        if (!this.reconnectableSessions.includes(this)) {\r\n            this.reconnectableSessions.push(this);\r\n        }\r\n    }\r\n    /* @internal */\r\n    handleDisconnected() {\r\n        if (this.reconnecting) {\r\n            // Prevent closing the session while reconnecting.\r\n            return true;\r\n        }\r\n        return super.handleDisconnected();\r\n    }\r\n    /**\r\n     * Attempts to reconnect the client to a disconnected server session.\r\n     *\r\n     * If reconnection is successful, the current server session is disposed because the client\r\n     * gets reconnected to a different server session.\r\n     */\r\n    /* @internal */\r\n    async reconnect(reconnectRequest, cancellation) {\r\n        var _a, _b, _c;\r\n        if (!this.reconnectableSessions) {\r\n            throw new Error('Disconnected sessions collection ' +\r\n                'should have been initialied when reconnect is enabled.');\r\n        }\r\n        // Try to find the requested server session in the list of available disconnected\r\n        // server sessions, by validating the reconnect token.\r\n        let reconnectSession;\r\n        for (const reconnectableSession of this.reconnectableSessions) {\r\n            if (reconnectableSession !== this &&\r\n                (await this.verifyReconnectToken(reconnectableSession.sessionId, this.sessionId, (_a = reconnectRequest.clientReconnectToken) !== null && _a !== void 0 ? _a : Buffer.alloc(0)))) {\r\n                reconnectSession = reconnectableSession;\r\n                this.reconnectableSessions.splice(this.reconnectableSessions.indexOf(reconnectSession), 1);\r\n                break;\r\n            }\r\n        }\r\n        if (!reconnectSession || reconnectSession.isClosed) {\r\n            const message = 'Requested reconnect session was not found or ' +\r\n                'the reconnect token provided by the client was invalid.';\r\n            this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.serverSessionReconnectFailed, `Reconnect failed: ${message}`);\r\n            const failure = new transportMessages_1.SessionReconnectFailureMessage();\r\n            failure.reasonCode = transportMessages_1.SshReconnectFailureReason.sessionNotFound;\r\n            failure.description = message;\r\n            await this.sendMessage(failure, cancellation);\r\n            return;\r\n        }\r\n        const messagesToResend = reconnectSession.protocol.getSentMessages(((_b = reconnectRequest.lastReceivedSequenceNumber) !== null && _b !== void 0 ? _b : 0) + 1);\r\n        if (!messagesToResend) {\r\n            // Messages are not available from requested sequence number.\r\n            // Restore the current session protocol and put the old session back in the collection.\r\n            this.reconnectableSessions.push(reconnectSession);\r\n            const message = 'Server is unable to re-send messages requested by the client.';\r\n            this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.serverSessionReconnectFailed, `Reconnect failed: ${message}`);\r\n            const failure = new transportMessages_1.SessionReconnectFailureMessage();\r\n            failure.reasonCode = transportMessages_1.SshReconnectFailureReason.serverDroppedMessages;\r\n            failure.description = message;\r\n            await this.sendMessage(failure, cancellation);\r\n            return;\r\n        }\r\n        const responseMessage = new transportMessages_1.SessionReconnectResponseMessage();\r\n        responseMessage.serverReconnectToken = await this.createReconnectToken(reconnectSession.sessionId, this.sessionId);\r\n        responseMessage.lastReceivedSequenceNumber = reconnectSession.protocol.lastIncomingSequence;\r\n        await this.sendMessage(responseMessage, cancellation);\r\n        try {\r\n            reconnectSession.reconnecting = true;\r\n            // Ensure the old connection is disconnected before switching over to the new one.\r\n            (_c = reconnectSession.protocol) === null || _c === void 0 ? void 0 : _c.dispose();\r\n            while (reconnectSession.isConnected) {\r\n                await new Promise((resolve) => setTimeout(() => resolve(), 5));\r\n            }\r\n            // Move this session's protocol instance over to the reconnected session.\r\n            reconnectSession.protocol = this.protocol;\r\n            reconnectSession.protocol.kexService = reconnectSession.kexService;\r\n            this.protocol = undefined;\r\n            // Re-send the lost messages that the client requested.\r\n            for (const message of messagesToResend) {\r\n                await reconnectSession.sendMessage(message, cancellation);\r\n            }\r\n            // Now this server session is invalid because the client reconnected to another one.\r\n            this.dispose();\r\n        }\r\n        finally {\r\n            reconnectSession.reconnecting = false;\r\n        }\r\n        this.reconnectableSessions.push(reconnectSession);\r\n        reconnectSession.metrics.addReconnection();\r\n        // Restart the message loop for the reconnected session.\r\n        reconnectSession.processMessages().catch((e) => {\r\n            this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.unknownError, `Unhandled error processing messages: ${e.message}`, e);\r\n        });\r\n        this.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.serverSessionReconnecting, `${reconnectSession} reconnected. Re-sent ${messagesToResend.length} dropped messages.`);\r\n        // Notify event listeners about the successful reconnection.\r\n        reconnectSession.reconnectedEmitter.fire();\r\n    }\r\n    dispose() {\r\n        if (this.reconnectableSessions) {\r\n            const index = this.reconnectableSessions.indexOf(this);\r\n            if (index >= 0) {\r\n                this.reconnectableSessions.splice(index, 1);\r\n            }\r\n        }\r\n        super.dispose();\r\n    }\r\n}\r\nexports.SshServerSession = SshServerSession;\r\n//# sourceMappingURL=sshServerSession.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshSession = void 0;\r\nconst trace_1 = require(\"./trace\");\r\nconst buffer_1 = require(\"buffer\");\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst sshSessionConfiguration_1 = require(\"./sshSessionConfiguration\");\r\nconst sshChannel_1 = require(\"./sshChannel\");\r\nconst sshVersionInfo_1 = require(\"./sshVersionInfo\");\r\nconst sshProtocol_1 = require(\"./io/sshProtocol\");\r\nconst keyExchangeService_1 = require(\"./services/keyExchangeService\");\r\nconst serviceActivation_1 = require(\"./services/serviceActivation\");\r\nconst connectionService_1 = require(\"./services/connectionService\");\r\nconst authenticationService_1 = require(\"./services/authenticationService\");\r\nconst sshMessage_1 = require(\"./messages/sshMessage\");\r\nconst kexMessages_1 = require(\"./messages/kexMessages\");\r\nconst connectionMessages_1 = require(\"./messages/connectionMessages\");\r\nconst authenticationMessages_1 = require(\"./messages/authenticationMessages\");\r\nconst transportMessages_1 = require(\"./messages/transportMessages\");\r\nconst sessionMetrics_1 = require(\"./metrics/sessionMetrics\");\r\nconst promiseCompletionSource_1 = require(\"./util/promiseCompletionSource\");\r\nconst sshSessionClosedEventArgs_1 = require(\"./events/sshSessionClosedEventArgs\");\r\nconst sshRequestEventArgs_1 = require(\"./events/sshRequestEventArgs\");\r\nconst sshAlgorithms_1 = require(\"./algorithms/sshAlgorithms\");\r\nconst cancellation_1 = require(\"./util/cancellation\");\r\nconst errors_1 = require(\"./errors\");\r\nconst semaphore_1 = require(\"./util/semaphore\");\r\nconst pipeExtensions_1 = require(\"./pipeExtensions\");\r\n/**\r\n * Base class for an SSH server or client connection; coordinates high-level SSH\r\n * protocol details and dispatches messages to registered internal services.\r\n * Enables opening and accepting `SshChannel` instances.\r\n */\r\nclass SshSession {\r\n    get algorithms() {\r\n        return this.protocol ? this.protocol.algorithms : null;\r\n    }\r\n    /**\r\n     * Gets an object containing claims about the server or client on the\r\n     * other end of the session, or `null` if the session is not authenticated.\r\n     *\r\n     * This property is initially `null` for an unauthenticated session. On\r\n     * successful authentication, the session Authenticating event handler\r\n     * provides a Task that returns a principal that is stored here.\r\n     */\r\n    get principal() {\r\n        return this.principalValue;\r\n    }\r\n    /* @internal */\r\n    set principal(value) {\r\n        this.principalValue = value;\r\n    }\r\n    constructor(config, isClientSession) {\r\n        this.config = config;\r\n        this.remoteVersion = null;\r\n        this.activatedServices = new Map();\r\n        this.connectionService = null;\r\n        this.requestHandler = null;\r\n        this.blockedMessages = [];\r\n        this.blockedMessagesSemaphore = new semaphore_1.Semaphore(1);\r\n        this.connected = false;\r\n        this.disposed = false;\r\n        /**\r\n         * Gets an object that reports current and cumulative measurements about the session.\r\n         */\r\n        this.metrics = new sessionMetrics_1.SessionMetrics();\r\n        /* @internal */\r\n        this.reconnecting = false;\r\n        this.sessionId = null;\r\n        this.principalValue = null;\r\n        this.authenticatingEmitter = new vscode_jsonrpc_1.Emitter();\r\n        /**\r\n         * Event that is raised when a client or server is requesting authentication.\r\n         *\r\n         * See `SshAuthenticationType` for a description of the different authentication\r\n         * methods and how they map to the event-args object.\r\n         *\r\n         * After validating the credentials, the event handler must set the\r\n         * `SshAuthenticatingEventArgs.authenticationPromise` property to a task that\r\n         * resolves to a principal object to indicate successful authentication. That principal will\r\n         * then be associated with the sesssion as the `principal` property.\r\n         */\r\n        this.onAuthenticating = this.authenticatingEmitter.event;\r\n        this.closedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onClosed = this.closedEmitter.event;\r\n        this.disconnectedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onDisconnected = this.disconnectedEmitter.event;\r\n        this.serviceActivatedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onServiceActivated = this.serviceActivatedEmitter.event;\r\n        this.channelOpeningEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onChannelOpening = this.channelOpeningEmitter.event;\r\n        this.requestEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.onRequest = this.requestEmitter.event;\r\n        /**\r\n         * Gets or sets a function that handles trace messages associated with the session.\r\n         *\r\n         * By default, no messages are traced. To enable tracing, set this property to a function\r\n         * that routes the message to console.log, a file, or anywhere else.\r\n         *\r\n         * @param level Level of message: error, warning, info, or verbose\r\n         * @param eventId Integer identifier of the event being traced.\r\n         * @param msg Message (non-localized) describing the event.\r\n         */\r\n        this.trace = (level, eventId, msg, err) => { };\r\n        if (!config)\r\n            throw new TypeError('Session configuration is required.');\r\n        if (!config.keyExchangeAlgorithms.find((a) => !!a)) {\r\n            if (config.encryptionAlgorithms.length > 0 &&\r\n                config.encryptionAlgorithms.indexOf(null) < 0) {\r\n                throw new Error('Encryption requires a key-exchange algorithm to be configured.');\r\n            }\r\n            else if (config.hmacAlgorithms.length > 0 && config.hmacAlgorithms.indexOf(null) < 0) {\r\n                throw new Error('HMAC requires a key-exchange algorithm to be configured.');\r\n            }\r\n            else if (config.publicKeyAlgorithms.length > 0 &&\r\n                config.publicKeyAlgorithms.indexOf(null) < 0) {\r\n                throw new Error('Host authentication requires a key-exchange algorithm to be configured.');\r\n            }\r\n            // No key exchange, no encryption, no HMAC.\r\n            this.kexService = null;\r\n            this.activateService(connectionService_1.ConnectionService);\r\n        }\r\n        else {\r\n            this.kexService = new keyExchangeService_1.KeyExchangeService(this, isClientSession !== null && isClientSession !== void 0 ? isClientSession : false);\r\n        }\r\n        config.onConfigurationChanged(() => {\r\n            const protocol = this.protocol;\r\n            if (protocol) {\r\n                protocol.traceChannelData = config.traceChannelData;\r\n            }\r\n        });\r\n    }\r\n    get isConnected() {\r\n        return this.connected;\r\n    }\r\n    get isClosed() {\r\n        return this.disposed;\r\n    }\r\n    get services() {\r\n        return [...this.activatedServices.values()];\r\n    }\r\n    get channels() {\r\n        var _a, _b;\r\n        return (_b = (_a = this.connectionService) === null || _a === void 0 ? void 0 : _a.channels) !== null && _b !== void 0 ? _b : [];\r\n    }\r\n    get protocolExtensions() {\r\n        var _a;\r\n        return ((_a = this.protocol) === null || _a === void 0 ? void 0 : _a.extensions) || null;\r\n    }\r\n    /**\r\n     * Gets an activated service instance by type.\r\n     *\r\n     * @returns The service instance, or `null` if the service has not been activated.\r\n     */\r\n    getService(serviceType) {\r\n        const service = this.activatedServices.get(serviceType);\r\n        return service ? service : null;\r\n    }\r\n    /* @internal */\r\n    activateService(serviceTypeOrName) {\r\n        let serviceType;\r\n        if (typeof serviceTypeOrName === 'function') {\r\n            serviceType = serviceTypeOrName;\r\n        }\r\n        else {\r\n            const serviceName = serviceTypeOrName;\r\n            serviceType = (0, serviceActivation_1.findService)(this.config.services, (a) => a.serviceRequest === serviceName);\r\n            if (!serviceType) {\r\n                return null;\r\n            }\r\n        }\r\n        let activatedService = this.activatedServices.get(serviceType);\r\n        if (!activatedService) {\r\n            if (!this.config.services.has(serviceType)) {\r\n                throw new Error(`Service type not configured: ${serviceType.name}`);\r\n            }\r\n            const serviceConfig = this.config.services.get(serviceType);\r\n            activatedService = new serviceType(this, serviceConfig);\r\n            // This service is maintained in a separate member because it is accessed frequently.\r\n            if (serviceType === connectionService_1.ConnectionService) {\r\n                this.connectionService = activatedService;\r\n            }\r\n            this.activatedServices.set(serviceType, activatedService);\r\n            this.serviceActivatedEmitter.fire(activatedService);\r\n        }\r\n        return activatedService;\r\n    }\r\n    async connect(stream, cancellation) {\r\n        if (!stream)\r\n            throw new TypeError('A session stream is required.');\r\n        if (this.disposed)\r\n            throw new errors_1.ObjectDisposedError(this);\r\n        if (!this.connectPromise) {\r\n            this.connectPromise = this.doConnect(stream, cancellation);\r\n        }\r\n        await this.connectPromise;\r\n    }\r\n    async doConnect(stream, cancellation) {\r\n        this.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.sessionConnecting, `${this} ${this.reconnecting ? 're' : ''}connecting...`);\r\n        this.protocol = new sshProtocol_1.SshProtocol(stream, this.config, this.metrics, this.trace);\r\n        this.protocol.kexService = this.kexService;\r\n        await this.exchangeVersions(cancellation);\r\n        if (this.kexService) {\r\n            await this.encrypt(cancellation);\r\n        }\r\n        else {\r\n            // When there's no key-exchange service configured, send a key-exchange init message\r\n            // that specifies \"none\" for all algorithms.\r\n            await this.sendMessage(kexMessages_1.KeyExchangeInitMessage.none, cancellation);\r\n            // When encrypting, the key-exchange step will wait on the version-exchange.\r\n            // When not encrypting, it must be directly awaited.\r\n            await (0, cancellation_1.withCancellation)(this.versionExchangePromise, cancellation);\r\n            this.connected = true;\r\n        }\r\n        this.processMessages().catch((e) => {\r\n            this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.unknownError, `Unhandled error processing messages: ${e.message}`, e);\r\n        });\r\n    }\r\n    async exchangeVersions(cancellation) {\r\n        const writePromise = this.protocol.writeProtocolVersion(SshSession.localVersion.toString(), cancellation);\r\n        const readPromise = this.protocol.readProtocolVersion(cancellation);\r\n        // Don't wait for and verify the other side's version info yet.\r\n        // Instead save a promise that can be awaited later.\r\n        this.versionExchangePromise = readPromise.then(async (remoteVersion) => {\r\n            this.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.protocolVersion, `Local version: ${SshSession.localVersion}, remote version: ${remoteVersion}`);\r\n            let errorMessage;\r\n            const remoteVersionInfo = sshVersionInfo_1.SshVersionInfo.tryParse(remoteVersion);\r\n            if (remoteVersionInfo) {\r\n                this.remoteVersion = remoteVersionInfo;\r\n                if (remoteVersionInfo.protocolVersion === '2.0') {\r\n                    return;\r\n                }\r\n                errorMessage =\r\n                    `Remote SSH version ${this.remoteVersion} is not supported. ` +\r\n                        'This library only supports SSH v2.0.';\r\n            }\r\n            else {\r\n                errorMessage = `Could not parse remote SSH version ${remoteVersion}`;\r\n            }\r\n            await this.close(transportMessages_1.SshDisconnectReason.protocolVersionNotSupported, errorMessage, new Error(errorMessage));\r\n        });\r\n        await writePromise;\r\n    }\r\n    async encrypt(cancellation) {\r\n        var _a, _b;\r\n        const protocol = this.protocol;\r\n        if (!protocol)\r\n            throw new errors_1.ObjectDisposedError(this);\r\n        await protocol.considerReExchange(true, cancellation);\r\n        // Ensure the protocol version has been received before receiving any messages.\r\n        await (0, cancellation_1.withCancellation)(this.versionExchangePromise, cancellation);\r\n        this.connected = true;\r\n        let message = null;\r\n        while (!this.isClosed &&\r\n            !((_a = this.protocol) === null || _a === void 0 ? void 0 : _a.algorithms) &&\r\n            !(message instanceof transportMessages_1.DisconnectMessage)) {\r\n            message = await protocol.receiveMessage(cancellation);\r\n            if (!message) {\r\n                break;\r\n            }\r\n            await this.handleMessage(message, cancellation);\r\n        }\r\n        if (!((_b = this.protocol) === null || _b === void 0 ? void 0 : _b.algorithms)) {\r\n            throw new errors_1.SshConnectionError('Session closed while encrypting.', transportMessages_1.SshDisconnectReason.connectionLost);\r\n        }\r\n        else if (this.protocol.algorithms.cipher) {\r\n            this.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.sessionEncrypted, `${this} encrypted.`);\r\n        }\r\n    }\r\n    /* @internal */\r\n    async processMessages() {\r\n        var _a;\r\n        this.connected = true;\r\n        while (!this.disposed) {\r\n            const protocol = this.protocol;\r\n            if (!protocol) {\r\n                break;\r\n            }\r\n            let message = null;\r\n            try {\r\n                message = await protocol.receiveMessage();\r\n            }\r\n            catch (e) {\r\n                if (!(e instanceof Error))\r\n                    throw e;\r\n                let reason = transportMessages_1.SshDisconnectReason.protocolError;\r\n                if (e instanceof errors_1.SshConnectionError) {\r\n                    reason = (_a = e.reason) !== null && _a !== void 0 ? _a : reason;\r\n                }\r\n                else {\r\n                    this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.receiveMessageFailed, `Error receiving message: ${e.message}`, e);\r\n                }\r\n                await this.close(reason, e.message, e);\r\n            }\r\n            if (!message) {\r\n                await this.close(transportMessages_1.SshDisconnectReason.connectionLost, 'Connection lost.');\r\n                break;\r\n            }\r\n            try {\r\n                await this.handleMessage(message);\r\n            }\r\n            catch (e) {\r\n                if (!(e instanceof Error))\r\n                    throw e;\r\n                this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.handleMessageFailed, `Error handling ${message}: ${e.message}`, e);\r\n                await this.close(transportMessages_1.SshDisconnectReason.protocolError, e.message, e);\r\n            }\r\n        }\r\n        this.connected = false;\r\n    }\r\n    /**\r\n     * Checks whether the session is in a state that allows requests, such as session requests\r\n     * and open-channel requests.\r\n     *\r\n     * A session with disabled crypto (no key-exchange service) always allows requests. A\r\n     * session with enabled crypto does not allow requests until the first key-exchange has\r\n     * completed (algorithms are negotiated). If the negotiated algorithms enabled encryption,\r\n     * then the session must be authenticated (have a principal) before allowing requests.\r\n     */\r\n    /* @internal */\r\n    get canAcceptRequests() {\r\n        var _a;\r\n        return (!this.kexService ||\r\n            (!!((_a = this.protocol) === null || _a === void 0 ? void 0 : _a.algorithms) && (!this.protocol.algorithms.cipher || !!this.principal)));\r\n    }\r\n    async sendMessage(message, cancellation) {\r\n        var _a, _b;\r\n        if (!message)\r\n            throw new TypeError('Message expected.');\r\n        if (cancellation && cancellation.isCancellationRequested)\r\n            throw new cancellation_1.CancellationError();\r\n        const protocol = this.protocol;\r\n        if (!protocol || this.disposed) {\r\n            throw new errors_1.ObjectDisposedError(this);\r\n        }\r\n        // Delay sending messages if in the middle of a key (re-)exchange.\r\n        if (this.kexService &&\r\n            this.kexService.exchanging &&\r\n            message.messageType > 4 &&\r\n            (message.messageType < 20 || message.messageType > 49)) {\r\n            this.blockedMessages.push(message);\r\n            return;\r\n        }\r\n        await this.blockedMessagesSemaphore.wait(cancellation);\r\n        let result;\r\n        try {\r\n            result = await protocol.sendMessage(message, cancellation);\r\n            this.blockedMessagesSemaphore.release();\r\n        }\r\n        catch (e) {\r\n            this.blockedMessagesSemaphore.release();\r\n            if (e instanceof errors_1.SshConnectionError) {\r\n                const ce = e;\r\n                if (ce.reason === transportMessages_1.SshDisconnectReason.connectionLost &&\r\n                    ((_a = this.protocolExtensions) === null || _a === void 0 ? void 0 : _a.has(sshSessionConfiguration_1.SshProtocolExtensionNames.sessionReconnect))) {\r\n                    // Connection-lost error when reconnect is enabled. Don't throw an error;\r\n                    // the message will remain in the reconnect message cache and will be re-sent\r\n                    // upon reconnection.\r\n                    return;\r\n                }\r\n            }\r\n            if (!(e instanceof Error))\r\n                throw e;\r\n            this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.sendMessageFailed, `Error sending ${message}: ${e.message}`, e);\r\n            throw e;\r\n        }\r\n        if (!result) {\r\n            // Sending failed due to a closed stream, but don't throw when reconnect is enabled.\r\n            // In that case the sent message is buffered and will be re-sent after reconnecting.\r\n            if (!((_b = this.protocolExtensions) === null || _b === void 0 ? void 0 : _b.has(sshSessionConfiguration_1.SshProtocolExtensionNames.sessionReconnect))) {\r\n                throw new errors_1.SshConnectionError('Session disconnected.', transportMessages_1.SshDisconnectReason.connectionLost);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Handles an incoming message. Can be overridden by subclasses to handle additional\r\n     * message types that are registered via `SshSessionConfiguration.messages`.\r\n     */\r\n    handleMessage(message, cancellation) {\r\n        var _a;\r\n        if (message instanceof connectionMessages_1.ConnectionMessage && this.connectionService) {\r\n            return this.connectionService.handleMessage(message, cancellation);\r\n        }\r\n        else if (message instanceof kexMessages_1.NewKeysMessage) {\r\n            return this.handleNewKeysMessage(message, cancellation);\r\n        }\r\n        else if (message instanceof kexMessages_1.KeyExchangeMessage) {\r\n            return this.handleKeyExchangeMessage(message, cancellation);\r\n        }\r\n        else if (message instanceof authenticationMessages_1.AuthenticationMessage) {\r\n            return (_a = this.getService(authenticationService_1.AuthenticationService)) === null || _a === void 0 ? void 0 : _a.handleMessage(message, cancellation);\r\n        }\r\n        else if (message instanceof transportMessages_1.ServiceRequestMessage) {\r\n            return this.handleServiceRequestMessage(message, cancellation);\r\n        }\r\n        else if (message instanceof transportMessages_1.ServiceAcceptMessage) {\r\n            return this.handleServiceAcceptMessage(message, cancellation);\r\n        }\r\n        else if (message instanceof transportMessages_1.SessionRequestMessage) {\r\n            return this.handleRequestMessage(message, cancellation);\r\n        }\r\n        else if (message instanceof transportMessages_1.SessionRequestSuccessMessage) {\r\n            return this.handleRequestSuccessMessage(message);\r\n        }\r\n        else if (message instanceof transportMessages_1.SessionRequestFailureMessage) {\r\n            return this.handleRequestFailureMessage(message);\r\n        }\r\n        else if (message instanceof transportMessages_1.ExtensionInfoMessage) {\r\n            return this.handleExtensionInfoMessage(message, cancellation);\r\n        }\r\n        else if (message instanceof transportMessages_1.DisconnectMessage) {\r\n            return this.handleDisconnectMessage(message);\r\n        }\r\n        else if (message instanceof transportMessages_1.UnimplementedMessage) {\r\n            return this.handleUnimplementedMessage(message, cancellation);\r\n        }\r\n        else if (message instanceof transportMessages_1.DebugMessage) {\r\n            return this.handleDebugMessage(message);\r\n        }\r\n        else if (message instanceof transportMessages_1.IgnoreMessage) {\r\n            // Do nothing for ignore message\r\n            return;\r\n        }\r\n        else if (message instanceof sshMessage_1.SshMessage) {\r\n            throw new Error(`Unhandled message type: ${message.constructor.name}`);\r\n        }\r\n        else {\r\n            throw new TypeError('Message argument was ' + (message ? 'invalid type.' : 'null.'));\r\n        }\r\n    }\r\n    /* @internal */\r\n    async handleRequestMessage(message, cancellation) {\r\n        var _a;\r\n        let result = false;\r\n        let response = null;\r\n        if (message.requestType === \"initial-channel-request@microsoft.com\" /* ExtensionRequestTypes.initialChannelRequest */ &&\r\n            this.config.protocolExtensions.includes(sshSessionConfiguration_1.SshProtocolExtensionNames.openChannelRequest)) {\r\n            const sessionChannelRequest = message.convertTo(new transportMessages_1.SessionChannelRequestMessage());\r\n            const remoteChannelId = sessionChannelRequest.senderChannel;\r\n            const channel = this.channels.find((c) => c.remoteChannelId === remoteChannelId);\r\n            if (channel && sessionChannelRequest.request) {\r\n                sessionChannelRequest.request.wantReply = false; // Avoid redundant reply\r\n                result = await channel.handleRequest(sessionChannelRequest.request, cancellation);\r\n            }\r\n        }\r\n        else if (message.requestType === \"enable-session-reconnect@microsoft.com\" /* ExtensionRequestTypes.enableSessionReconnect */ &&\r\n            ((_a = this.config.protocolExtensions) === null || _a === void 0 ? void 0 : _a.includes(sshSessionConfiguration_1.SshProtocolExtensionNames.sessionReconnect))) {\r\n            if (!this.protocol.incomingMessagesHaveReconnectInfo) {\r\n                // Starting immediately after this message, all incoming messages include\r\n                // an extra field or two after the payload.\r\n                this.protocol.incomingMessagesHaveReconnectInfo = true;\r\n                this.protocol.incomingMessagesHaveLatencyInfo = this.protocol.extensions.has(sshSessionConfiguration_1.SshProtocolExtensionNames.sessionLatency);\r\n                result = true;\r\n            }\r\n        }\r\n        else if (!this.canAcceptRequests) {\r\n            this.trace(trace_1.TraceLevel.Warning, trace_1.SshTraceEventIds.sessionRequestFailed, 'Session request blocked because the session is not yet authenticated.');\r\n            result = false;\r\n        }\r\n        else {\r\n            const args = new sshRequestEventArgs_1.SshRequestEventArgs(message.requestType || '', message, this.principal, cancellation);\r\n            const serviceType = (0, serviceActivation_1.findService)(this.config.services, (a) => a.sessionRequest === message.requestType);\r\n            if (serviceType) {\r\n                // A service was configured for activation via this session request type.\r\n                const service = this.activateService(serviceType);\r\n                // `onSessionRequest` should really be 'protected internal'.\r\n                await service.onSessionRequest(args, cancellation);\r\n            }\r\n            else {\r\n                // Raise a request event to let an event listener handle this request.\r\n                this.raiseSessionRequest(args);\r\n            }\r\n            // TODO: do not block requests in TS (similar to CS)\r\n            // see https://dev.azure.com/devdiv/DevDiv/_git/SSH/commit/0b84a48811e2f015107c73bf4584b6c3b676a6de\r\n            if (args.responsePromise) {\r\n                response = await args.responsePromise;\r\n                result = response instanceof transportMessages_1.SessionRequestSuccessMessage;\r\n            }\r\n            else {\r\n                result = args.isAuthorized || false;\r\n            }\r\n        }\r\n        if (message.wantReply) {\r\n            if (result) {\r\n                if (!(response instanceof transportMessages_1.SessionRequestSuccessMessage)) {\r\n                    response = new transportMessages_1.SessionRequestSuccessMessage();\r\n                }\r\n            }\r\n            else {\r\n                if (!(response instanceof transportMessages_1.SessionRequestFailureMessage)) {\r\n                    response = new transportMessages_1.SessionRequestFailureMessage();\r\n                }\r\n            }\r\n            await this.sendMessage(response, cancellation);\r\n        }\r\n    }\r\n    /* @internal */\r\n    raiseSessionRequest(args) {\r\n        this.requestEmitter.fire(args);\r\n    }\r\n    /* @internal */\r\n    async handleServiceRequestMessage(message, cancellation) {\r\n        // Do nothing. Subclasses may override.\r\n    }\r\n    /* @internal */\r\n    async handleServiceAcceptMessage(message, cancellation) {\r\n        // Do nothing. Subclasses may override.\r\n    }\r\n    async handleKeyExchangeMessage(message, cancellation) {\r\n        if (this.kexService) {\r\n            await this.kexService.handleMessage(message, cancellation);\r\n        }\r\n        else if (!(message instanceof kexMessages_1.KeyExchangeInitMessage && message.allowsNone)) {\r\n            // The other side required some security, but it's not configured here.\r\n            await this.close(transportMessages_1.SshDisconnectReason.keyExchangeFailed, 'Encryption is disabled.');\r\n        }\r\n    }\r\n    /* @internal */\r\n    async handleNewKeysMessage(message, cancellation) {\r\n        try {\r\n            await this.blockedMessagesSemaphore.wait(cancellation);\r\n            await this.protocol.handleNewKeys(cancellation);\r\n            try {\r\n                // Send messages that were blocked during key exchange.\r\n                while (this.blockedMessages.length > 0) {\r\n                    const blockedMessage = this.blockedMessages.shift();\r\n                    if (!this.protocol)\r\n                        throw new errors_1.ObjectDisposedError(this);\r\n                    await this.protocol.sendMessage(blockedMessage, cancellation);\r\n                }\r\n            }\r\n            catch (e) {\r\n                if (!(e instanceof Error))\r\n                    throw e;\r\n                await this.close(transportMessages_1.SshDisconnectReason.protocolError, undefined, e);\r\n            }\r\n        }\r\n        finally {\r\n            this.blockedMessagesSemaphore.release();\r\n        }\r\n    }\r\n    async handleUnimplementedMessage(message, cancellation) {\r\n        if (message.unimplementedMessageType !== undefined) {\r\n            // Received a message type that is unimplemented by this side.\r\n            // Send a reply to inform the other side.\r\n            await this.sendMessage(message, cancellation);\r\n        }\r\n        else {\r\n            // This is a reply indicating this side previously sent a message type\r\n            // that is not implemented by the other side. It has already been traced.\r\n        }\r\n    }\r\n    handleDebugMessage(message) {\r\n        if (message.message) {\r\n            this.trace(message.alwaysDisplay ? trace_1.TraceLevel.Info : trace_1.TraceLevel.Verbose, trace_1.SshTraceEventIds.debugMessage, message.message);\r\n        }\r\n    }\r\n    /* @internal */\r\n    async raiseAuthenticatingEvent(args) {\r\n        this.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.sessionAuthenticating, `${this} Authenticating(${args})`);\r\n        this.authenticatingEmitter.fire(args);\r\n        let authPromise = args.authenticationPromise;\r\n        if (!authPromise) {\r\n            authPromise = Promise.resolve(null);\r\n        }\r\n        const principal = await authPromise;\r\n        return principal;\r\n    }\r\n    /**\r\n     * Sends a session request and waits for a response.\r\n     *\r\n     * Note if `wantReply` is `false`, this method returns `true` immediately after sending\r\n     * the request, without waiting for a response.\r\n     *\r\n     * @returns The authorization status of the response; if `false`, the other side denied the\r\n     * request.\r\n     */\r\n    async request(request, cancellation) {\r\n        if (!request)\r\n            throw new TypeError('Request is required.');\r\n        if (!request.wantReply) {\r\n            await this.sendMessage(request, cancellation);\r\n            return true;\r\n        }\r\n        const response = await this.requestResponse(request, transportMessages_1.SessionRequestSuccessMessage, transportMessages_1.SessionRequestFailureMessage, cancellation);\r\n        return response instanceof transportMessages_1.SessionRequestSuccessMessage;\r\n    }\r\n    /**\r\n     * Sends a session request and waits for a specific type of success or failure message.\r\n     *\r\n     * @returns The success or failure response message.\r\n     */\r\n    async requestResponse(request, successType, failureType, cancellation) {\r\n        if (!request)\r\n            throw new TypeError('Request is required.');\r\n        if (!successType)\r\n            throw new TypeError('Success response type is required.');\r\n        if (!failureType)\r\n            throw new TypeError('Failure response type is required.');\r\n        // TODO: enable sending multiple requests in TS\r\n        // see https://dev.azure.com/devdiv/DevDiv/_git/SSH/commit/0b84a48811e2f015107c73bf4584b6c3b676a6de\r\n        if (this.requestHandler) {\r\n            throw new Error('Another request is already pending.');\r\n        }\r\n        request.wantReply = true;\r\n        // Capture as a local variable because the member may change.\r\n        const requestCompletionSource = new promiseCompletionSource_1.PromiseCompletionSource();\r\n        if (cancellation) {\r\n            if (cancellation.isCancellationRequested)\r\n                throw new cancellation_1.CancellationError();\r\n            cancellation.onCancellationRequested(() => {\r\n                this.requestHandler = null;\r\n                requestCompletionSource.reject(new cancellation_1.CancellationError());\r\n            });\r\n        }\r\n        this.requestHandler = (err, result) => {\r\n            var _a, _b;\r\n            this.requestHandler = null;\r\n            if (err) {\r\n                requestCompletionSource.reject(err);\r\n            }\r\n            else if (result instanceof transportMessages_1.SessionRequestFailureMessage) {\r\n                const failure = (_a = result === null || result === void 0 ? void 0 : result.convertTo(new failureType(), true)) !== null && _a !== void 0 ? _a : null;\r\n                requestCompletionSource.resolve(failure);\r\n            }\r\n            else if (result instanceof transportMessages_1.SessionRequestSuccessMessage) {\r\n                // Make a copy of the response message because the continuation may be\r\n                // asynchronous; meanwhile the receive buffer will be re-used.\r\n                const success = (_b = result === null || result === void 0 ? void 0 : result.convertTo(new successType(), true)) !== null && _b !== void 0 ? _b : null;\r\n                requestCompletionSource.resolve(success);\r\n            }\r\n            else {\r\n                requestCompletionSource.reject(new Error('Unknown response message type.'));\r\n            }\r\n        };\r\n        await this.sendMessage(request, cancellation);\r\n        return await requestCompletionSource.promise;\r\n    }\r\n    handleRequestSuccessMessage(message) {\r\n        if (this.requestHandler) {\r\n            this.requestHandler(undefined, message);\r\n        }\r\n    }\r\n    handleRequestFailureMessage(message) {\r\n        if (this.requestHandler) {\r\n            this.requestHandler(undefined, message);\r\n        }\r\n    }\r\n    async acceptChannel(channelTypeOrCancellation, cancellation) {\r\n        const channelType = typeof channelTypeOrCancellation === 'string' ? channelTypeOrCancellation : undefined;\r\n        if (!cancellation && typeof channelTypeOrCancellation === 'object')\r\n            cancellation = channelTypeOrCancellation;\r\n        this.activateService(connectionService_1.ConnectionService);\r\n        // Prepare to accept the channel before connecting. This ensures that if the channel\r\n        // open request comes in immediately after connecting then the channel won't be missed\r\n        // in case of a task scheduling delay.\r\n        const acceptPromise = this.connectionService.acceptChannel(channelType || sshChannel_1.SshChannel.sessionChannelType, cancellation);\r\n        return await acceptPromise;\r\n    }\r\n    async openChannel(channelTypeOrOpenMessageOrCancellation, initialRequestOrCancellation, cancellation) {\r\n        let openMessage;\r\n        if (typeof channelTypeOrOpenMessageOrCancellation === 'string' ||\r\n            channelTypeOrOpenMessageOrCancellation === null) {\r\n            openMessage = new connectionMessages_1.ChannelOpenMessage();\r\n            openMessage.channelType =\r\n                channelTypeOrOpenMessageOrCancellation !== null && channelTypeOrOpenMessageOrCancellation !== void 0 ? channelTypeOrOpenMessageOrCancellation : sshChannel_1.SshChannel.sessionChannelType;\r\n        }\r\n        else if (channelTypeOrOpenMessageOrCancellation instanceof connectionMessages_1.ChannelOpenMessage) {\r\n            openMessage = channelTypeOrOpenMessageOrCancellation;\r\n        }\r\n        else {\r\n            openMessage = new connectionMessages_1.ChannelOpenMessage();\r\n            openMessage.channelType = sshChannel_1.SshChannel.sessionChannelType;\r\n            cancellation = channelTypeOrOpenMessageOrCancellation;\r\n        }\r\n        if (initialRequestOrCancellation instanceof connectionMessages_1.ChannelRequestMessage) {\r\n            return await this.openChannelWithInitialRequest(openMessage, initialRequestOrCancellation, cancellation);\r\n        }\r\n        else if (!cancellation && initialRequestOrCancellation !== null) {\r\n            cancellation = initialRequestOrCancellation;\r\n        }\r\n        this.activateService(connectionService_1.ConnectionService);\r\n        const completionSource = new promiseCompletionSource_1.PromiseCompletionSource();\r\n        await this.connectionService.openChannel(openMessage, completionSource, cancellation);\r\n        return await completionSource.promise;\r\n    }\r\n    async openChannelWithInitialRequest(openMessage, initialRequest, cancellation) {\r\n        var _a;\r\n        this.activateService(connectionService_1.ConnectionService);\r\n        const completionSource = new promiseCompletionSource_1.PromiseCompletionSource();\r\n        const channelId = await this.connectionService.openChannel(openMessage, completionSource, cancellation);\r\n        if (cancellation) {\r\n            if (cancellation.isCancellationRequested)\r\n                throw new cancellation_1.CancellationError();\r\n            cancellation.onCancellationRequested(() => completionSource.reject(new cancellation_1.CancellationError()));\r\n        }\r\n        let channel;\r\n        let requestResult;\r\n        const isExtensionSupported = this.config.protocolExtensions.includes(sshSessionConfiguration_1.SshProtocolExtensionNames.openChannelRequest) &&\r\n            ((_a = this.protocolExtensions) === null || _a === void 0 ? void 0 : _a.has(sshSessionConfiguration_1.SshProtocolExtensionNames.openChannelRequest));\r\n        if (isExtensionSupported === false) {\r\n            // The local or remote side definitely doesn't support this extension. Just send a\r\n            // normal channel request after waiting for the channel open confirmation.\r\n            channel = await completionSource.promise;\r\n            requestResult = await channel.request(initialRequest, cancellation);\r\n        }\r\n        else {\r\n            // The remote side does or might support this extension. If uncertain then a reply\r\n            // is required.\r\n            const wantReply = initialRequest.wantReply || isExtensionSupported === undefined;\r\n            // Send the initial channel request message BEFORE waiting for the\r\n            // channel open confirmation.\r\n            const sessionRequest = new transportMessages_1.SessionChannelRequestMessage();\r\n            sessionRequest.requestType = \"initial-channel-request@microsoft.com\" /* ExtensionRequestTypes.initialChannelRequest */;\r\n            sessionRequest.senderChannel = channelId;\r\n            sessionRequest.request = initialRequest;\r\n            sessionRequest.wantReply = wantReply;\r\n            const requestPromise = this.request(sessionRequest, cancellation);\r\n            // Wait for the channel open confirmation.\r\n            channel = await completionSource.promise;\r\n            if (!wantReply) {\r\n                requestResult = true;\r\n            }\r\n            else {\r\n                // Wait for the response to the initial channel request.\r\n                requestResult = await requestPromise;\r\n                if (!requestResult && isExtensionSupported === undefined) {\r\n                    // The initial request failed. This could be because the other side doesn't\r\n                    // support the initial-request extension or because the request was denied.\r\n                    // Try sending the request again as a regular channel request.\r\n                    requestResult = await channel.request(initialRequest);\r\n                }\r\n            }\r\n        }\r\n        if (!requestResult) {\r\n            // The regular request still failed, so close the channel and throw.\r\n            await channel.close();\r\n            throw new Error('The initial channel request was denied.');\r\n        }\r\n        return channel;\r\n    }\r\n    /* @internal */\r\n    async handleChannelOpening(args, cancellation, resolveService = true) {\r\n        if (resolveService) {\r\n            const serviceType = (0, serviceActivation_1.findService)(this.config.services, (a) => a.channelType === args.channel.channelType && !a.channelRequest);\r\n            if (serviceType) {\r\n                // A service was configured for activation via this channel type.\r\n                const service = this.activateService(serviceType);\r\n                // `onChannelOpening` should really be 'protected internal'.\r\n                await service.onChannelOpening(args, cancellation);\r\n                return;\r\n            }\r\n        }\r\n        args.cancellation = cancellation !== null && cancellation !== void 0 ? cancellation : vscode_jsonrpc_1.CancellationToken.None;\r\n        this.channelOpeningEmitter.fire(args);\r\n    }\r\n    /* @internal */\r\n    async sendExtensionInfo(cancellation) {\r\n        const message = new transportMessages_1.ExtensionInfoMessage();\r\n        message.extensionInfo = {};\r\n        for (const extensionName of this.config.protocolExtensions) {\r\n            if (extensionName === sshSessionConfiguration_1.SshProtocolExtensionNames.serverSignatureAlgorithms) {\r\n                // Send the list of enabled host key signature algorithms.\r\n                const publicKeyAlgorithms = Array.from(new Set((0, sshAlgorithms_1.algorithmNames)(this.config.publicKeyAlgorithms))).join(',');\r\n                message.extensionInfo[extensionName] = publicKeyAlgorithms;\r\n            }\r\n            else {\r\n                message.extensionInfo[extensionName] = '';\r\n            }\r\n        }\r\n        await this.sendMessage(message, cancellation);\r\n    }\r\n    async handleExtensionInfoMessage(message, cancellation) {\r\n        if (!this.protocol) {\r\n            return;\r\n        }\r\n        this.protocol.extensions = new Map();\r\n        const proposedExtensions = message.extensionInfo;\r\n        if (!proposedExtensions) {\r\n            return;\r\n        }\r\n        for (const extensionName of this.config.protocolExtensions) {\r\n            const proposedExtension = message.extensionInfo[extensionName];\r\n            if (typeof proposedExtension === 'string') {\r\n                this.protocol.extensions.set(extensionName, proposedExtension);\r\n            }\r\n        }\r\n        if (this.protocol.extensions.has(sshSessionConfiguration_1.SshProtocolExtensionNames.sessionReconnect)) {\r\n            await this.enableReconnect(cancellation);\r\n        }\r\n    }\r\n    async close(reason, message, error) {\r\n        var _a, _b, _c;\r\n        if (this.disposed || !this.connected) {\r\n            return;\r\n        }\r\n        this.connected = false;\r\n        this.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.sessionClosing, `${this} Close(${transportMessages_1.SshDisconnectReason[reason]}, \"${message || ''}\")`);\r\n        if (reason !== transportMessages_1.SshDisconnectReason.connectionLost) {\r\n            try {\r\n                const disconnectMessage = new transportMessages_1.DisconnectMessage();\r\n                disconnectMessage.reasonCode = reason;\r\n                disconnectMessage.description = message || '';\r\n                await ((_a = this.protocol) === null || _a === void 0 ? void 0 : _a.sendMessage(disconnectMessage));\r\n            }\r\n            catch (e) {\r\n                // Already disconnected.\r\n            }\r\n        }\r\n        else if (this.handleDisconnected()) {\r\n            // Keep the session in a disconnected (but not closed) state.\r\n            (_b = this.protocol) === null || _b === void 0 ? void 0 : _b.dispose();\r\n            this.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.sessionDisconnected, `${this} disconnected.`);\r\n            this.disconnectedEmitter.fire();\r\n            return;\r\n        }\r\n        this.disposed = true;\r\n        this.closedError = error;\r\n        error = error !== null && error !== void 0 ? error : new errors_1.SshConnectionError(message, reason);\r\n        if (error) {\r\n            (_c = this.connectionService) === null || _c === void 0 ? void 0 : _c.close(error);\r\n        }\r\n        this.closedEmitter.fire(new sshSessionClosedEventArgs_1.SshSessionClosedEventArgs(reason, message || 'Disconnected.', error));\r\n        this.dispose();\r\n    }\r\n    /* @internal */\r\n    handleDisconnected() {\r\n        var _a, _b;\r\n        this.connectPromise = undefined;\r\n        (_a = this.kexService) === null || _a === void 0 ? void 0 : _a.abortKeyExchange();\r\n        if (!((_b = this.protocolExtensions) === null || _b === void 0 ? void 0 : _b.has(sshSessionConfiguration_1.SshProtocolExtensionNames.sessionReconnect))) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    async handleDisconnectMessage(message) {\r\n        var _a;\r\n        const description = message.description || 'Received disconnect message.';\r\n        await this.close((_a = message.reasonCode) !== null && _a !== void 0 ? _a : transportMessages_1.SshDisconnectReason.none, description);\r\n    }\r\n    dispose() {\r\n        var _a, _b;\r\n        const closedError = this.closedError instanceof errors_1.SshConnectionError\r\n            ? this.closedError\r\n            : new errors_1.SshConnectionError('Session disposed.');\r\n        if (!this.disposed) {\r\n            this.trace(trace_1.TraceLevel.Info, trace_1.SshTraceEventIds.sessionClosing, `${this} disposed.`);\r\n            this.disposed = true;\r\n            this.closedEmitter.fire(new sshSessionClosedEventArgs_1.SshSessionClosedEventArgs(transportMessages_1.SshDisconnectReason.none, 'SshSession disposed', closedError));\r\n        }\r\n        if (this.requestHandler) {\r\n            this.requestHandler(closedError);\r\n        }\r\n        this.metrics.close();\r\n        // Dispose the connection service before other services, to ensure\r\n        // channels are disposed before services that work with them.\r\n        (_a = this.connectionService) === null || _a === void 0 ? void 0 : _a.dispose();\r\n        for (const service of this.activatedServices.values()) {\r\n            if (service !== this.connectionService) {\r\n                service.dispose();\r\n            }\r\n        }\r\n        this.activatedServices.clear();\r\n        (_b = this.protocol) === null || _b === void 0 ? void 0 : _b.dispose();\r\n        this.protocol = undefined;\r\n    }\r\n    /* @internal */\r\n    async enableReconnect(cancellation) {\r\n        var _a;\r\n        try {\r\n            // Ensure no other messages are sent in the middle of turning this on.\r\n            await this.blockedMessagesSemaphore.wait();\r\n            // This should not be done during a key-exchange, however that should never\r\n            // be the case since the EnableSessionReconnectRequest is sent in response\r\n            // to an ExtensionInfo message which is sent in response to a NewKeys message.\r\n            // So a key exchange just finished and won't be restarted again soon.\r\n            if ((_a = this.kexService) === null || _a === void 0 ? void 0 : _a.exchanging) {\r\n                this.trace(trace_1.TraceLevel.Error, trace_1.SshTraceEventIds.sessionReconnectInitFailed, 'Failed to initialize session reconnect because a key-exchange was in-progress.');\r\n            }\r\n            else {\r\n                // Send the message indicating reconnect message tracking is starting.\r\n                const enableReconnectMessage = new transportMessages_1.SessionRequestMessage(\"enable-session-reconnect@microsoft.com\" /* ExtensionRequestTypes.enableSessionReconnect */, false);\r\n                await this.protocol.sendMessage(enableReconnectMessage, cancellation);\r\n                // Start using the protocol extensions that include an extra field or two\r\n                // with every sent message.\r\n                if (this.protocol) {\r\n                    this.protocol.outgoingMessagesHaveReconnectInfo = true;\r\n                    this.protocol.outgoingMessagesHaveLatencyInfo = this.protocol.extensions.has(sshSessionConfiguration_1.SshProtocolExtensionNames.sessionLatency);\r\n                }\r\n            }\r\n            this.blockedMessagesSemaphore.release();\r\n        }\r\n        catch (e) {\r\n            // This is not in a finally block because the semaphore must be released before\r\n            // the call to close() which tries to send a message.\r\n            this.blockedMessagesSemaphore.release();\r\n            if (e instanceof Error) {\r\n                await this.close(transportMessages_1.SshDisconnectReason.protocolError, undefined, e);\r\n            }\r\n            throw e;\r\n        }\r\n    }\r\n    /* @internal */\r\n    async createReconnectToken(previousSessionId, newSessionId) {\r\n        // To generate the reconnect token, combine the old session ID and new (re-negotiated)\r\n        // session ID and sign the result using the new negotiated HMAC algorithm and key. This\r\n        // proves that the old (secret) session ID is known while not disclosing it, and also\r\n        // prevents replay attacks.\r\n        const reconnectToken = await this.algorithms.signer.sign(buffer_1.Buffer.concat([previousSessionId, newSessionId]));\r\n        return reconnectToken;\r\n    }\r\n    /* @internal */\r\n    async verifyReconnectToken(previousSessionId, newSessionId, reconnectToken) {\r\n        const result = await this.algorithms.verifier.verify(buffer_1.Buffer.concat([previousSessionId, newSessionId]), reconnectToken);\r\n        return result;\r\n    }\r\n    /**\r\n     * Pipes one SSH session into another, relaying all data between them.\r\n     *\r\n     * Any new channels opened from the remote side of either session will be piped into a\r\n     * new channel in the other session. Any channels opened before connecting the session pipe,\r\n     * or any channels opened from the local side, will not be piped.\r\n     *\r\n     * @param toSession Session to which the current session will be connected via the pipe.\r\n     * @returns A promise that resolves when the sessions are closed.\r\n     */\r\n    pipe(toSession) {\r\n        return pipeExtensions_1.PipeExtensions.pipeSession(this, toSession);\r\n    }\r\n    toString() {\r\n        return this.constructor.name;\r\n    }\r\n}\r\nexports.SshSession = SshSession;\r\nSshSession.localVersion = sshVersionInfo_1.SshVersionInfo.getLocalVersion();\r\n//# sourceMappingURL=sshSession.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshSessionAlgorithms = void 0;\r\nclass SshSessionAlgorithms {\r\n    dispose() {\r\n        if (this.cipher)\r\n            this.cipher.dispose();\r\n        if (this.decipher)\r\n            this.decipher.dispose();\r\n        if (this.signer)\r\n            this.signer.dispose();\r\n        if (this.verifier)\r\n            this.verifier.dispose();\r\n    }\r\n}\r\nexports.SshSessionAlgorithms = SshSessionAlgorithms;\r\n//# sourceMappingURL=sshSessionAlgorithms.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshSessionConfiguration = exports.SshProtocolExtensionNames = void 0;\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst sshAlgorithms_1 = require(\"./algorithms/sshAlgorithms\");\r\nconst keyExchangeService_1 = require(\"./services/keyExchangeService\");\r\nconst connectionService_1 = require(\"./services/connectionService\");\r\nconst authenticationService_1 = require(\"./services/authenticationService\");\r\nconst sshMessage_1 = require(\"./messages/sshMessage\");\r\nvar SshProtocolExtensionNames;\r\n(function (SshProtocolExtensionNames) {\r\n    /**\r\n     * Lists host key signature algorithms enabled by the sender.\r\n     *\r\n     * This is a \"standard\" protocol extension supported by most SSH implementations.\r\n     */\r\n    SshProtocolExtensionNames[\"serverSignatureAlgorithms\"] = \"server-sig-algs\";\r\n    /**\r\n     * An optimization that enables sending an initial channel request without\r\n     * waiting for a channel open confirmation message.\r\n     */\r\n    SshProtocolExtensionNames[\"openChannelRequest\"] = \"open-channel-request@microsoft.com\";\r\n    /**\r\n     * Enables reconnecting to a session that was recently disconnected.\r\n     */\r\n    SshProtocolExtensionNames[\"sessionReconnect\"] = \"session-reconnect@microsoft.com\";\r\n    /**\r\n     * Enables continual latency measurements between client and server.\r\n     *\r\n     * This extension requires that the reconnect extension is also enabled, because\r\n     * it leverages some of the session history info for reconnect to compute latency.\r\n     */\r\n    SshProtocolExtensionNames[\"sessionLatency\"] = \"session-latency@microsoft.com\";\r\n})(SshProtocolExtensionNames = exports.SshProtocolExtensionNames || (exports.SshProtocolExtensionNames = {}));\r\n/**\r\n * Specifies the sets of algorithms and other configuration for an SSH session.\r\n *\r\n * Each collection of algorithms is in order of preference. Server and client\r\n * negotiate the most-preferred algorithm that is supported by both.\r\n */\r\nclass SshSessionConfiguration {\r\n    constructor(useSecurity = true) {\r\n        /**\r\n         * Gets the protocol extensions that are enabled for the session.\r\n         */\r\n        this.protocolExtensions = [];\r\n        /**\r\n         * Gets a dictionary that maps from service types to service configuration objects.\r\n         *\r\n         * Service types must extend the `SshService` abstract class.\r\n         *\r\n         * The service configuration object is passed to the service constructor upon activation.\r\n         */\r\n        this.services = new Map();\r\n        /**\r\n         * Gets a dictionary that maps from known message numbers to message types.\r\n         *\r\n         * Message types must extend the `SshMessage` abstract class. Message subclasses that do\r\n         * not have a distinct message type from their base class must not be included in this map.\r\n         */\r\n        this.messages = new Map();\r\n        /**\r\n         * Gets the collection of algorithms that are enabled for key exchange.\r\n         *\r\n         * Client and server sides negotiate which of these algorithms will be used.\r\n         *\r\n         * If this collection includes `null`, and if negotiation selects it, then the session is\r\n         * allowed to skip key exchange and connect with no security of any kind: No key exchange,\r\n         * no authentication, no encryption, no HMAC, and no compression.\r\n         */\r\n        this.keyExchangeAlgorithms = [];\r\n        /**\r\n         * Gets the collection of algorithms that are enabled for server (host) and client\r\n         * public-key authentication.\r\n         *\r\n         * Client and server sides negotiate which of these algorithms will be used.\r\n         */\r\n        this.publicKeyAlgorithms = [];\r\n        /*\r\n         * Gets the collection of algorithms that are enabled for encryption.\r\n         *\r\n         * Client and server sides negotiate which of these algorithms will be used.\r\n         */\r\n        this.encryptionAlgorithms = [];\r\n        /**\r\n         * Gets the collection of algorithms that are enabled for message integrity (HMAC).\r\n         *\r\n         * Client and server sides negotiate which of these algorithms will be used.\r\n         */\r\n        this.hmacAlgorithms = [];\r\n        /**\r\n         * Gets the collection of algorithms that are enabled for message compression.\r\n         *\r\n         * Client and server sides negotiate which of these algorithms will be used.\r\n         */\r\n        this.compressionAlgorithms = [];\r\n        this.traceChannelDataValue = false;\r\n        this.configurationChangedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        /* @internal */\r\n        this.onConfigurationChanged = this.configurationChangedEmitter.event;\r\n        /**\r\n         * Gets or sets the number of times the server will allow a client to attempt to\r\n         * authenticate.\r\n         *\r\n         * The default value is 5.\r\n         *\r\n         * This setting applies only to server sessions. If the client has failed to authenticate\r\n         * after the maximum number of atttempts, the server will close the session.\r\n         *\r\n         * The SSH protocol allows a client to make multiple attempts to authenticate with\r\n         * the server, e.g. to find which public key algorithm a server will support, or to\r\n         * retry a mis-typed password. This maximum prevents unlimited retries, which would\r\n         * make it easier to \"guess\" a password.\r\n         *\r\n         * In certain applications the server may only support a single authentication method\r\n         * (which is not a typed password). Then it could be appropriate to set this value to 1.\r\n         */\r\n        this.maxClientAuthenticationAttempts = 5;\r\n        /**\r\n         * Gets or sets whether the client sends a key-exchange \"guess\" message before receiving\r\n         * the server's key-exchange algorithm preferences, slightly reducing the time to connect.\r\n         *\r\n         * This setting only applies to client sessions. (The server always supports the option when\r\n         * used by a client.)\r\n         *\r\n         * The \"guess\" mechanism is somewhat ambiguously defined in the SSH protocol spec, and as\r\n         * a result is not implemented or incorrectly implemented by some server implementations,\r\n         * including older versions of this library. Therefore it is disabled in the default\r\n         * configuration, and should only be enabled when connecting to a known-good server.\r\n         */\r\n        this.enableKeyExchangeGuess = false;\r\n        /* @internal */\r\n        this.keyRotationThreshold = 512 * 1024 * 1024; // 0.5 GiB;\r\n        this.protocolExtensions.push(SshProtocolExtensionNames.serverSignatureAlgorithms);\r\n        this.protocolExtensions.push(SshProtocolExtensionNames.openChannelRequest);\r\n        this.services.set(keyExchangeService_1.KeyExchangeService, null);\r\n        this.services.set(connectionService_1.ConnectionService, null);\r\n        this.services.set(authenticationService_1.AuthenticationService, null);\r\n        for (const [messageNumber, messageType] of sshMessage_1.SshMessage.index) {\r\n            this.messages.set(messageNumber, messageType);\r\n        }\r\n        if (useSecurity) {\r\n            this.keyExchangeAlgorithms.push(sshAlgorithms_1.SshAlgorithms.keyExchange.ecdhNistp384Sha384);\r\n            this.keyExchangeAlgorithms.push(sshAlgorithms_1.SshAlgorithms.keyExchange.ecdhNistp256Sha256);\r\n            this.keyExchangeAlgorithms.push(sshAlgorithms_1.SshAlgorithms.keyExchange.dhGroup16Sha512);\r\n            this.keyExchangeAlgorithms.push(sshAlgorithms_1.SshAlgorithms.keyExchange.dhGroup14Sha256);\r\n            this.publicKeyAlgorithms.push(sshAlgorithms_1.SshAlgorithms.publicKey.rsaWithSha512);\r\n            this.publicKeyAlgorithms.push(sshAlgorithms_1.SshAlgorithms.publicKey.rsaWithSha256);\r\n            this.publicKeyAlgorithms.push(sshAlgorithms_1.SshAlgorithms.publicKey.ecdsaSha2Nistp384);\r\n            this.publicKeyAlgorithms.push(sshAlgorithms_1.SshAlgorithms.publicKey.ecdsaSha2Nistp256);\r\n            ////this.encryptionAlgorithms.push(SshAlgorithms.encryption.aes256Cbc);\r\n            this.encryptionAlgorithms.push(sshAlgorithms_1.SshAlgorithms.encryption.aes256Gcm);\r\n            this.encryptionAlgorithms.push(sshAlgorithms_1.SshAlgorithms.encryption.aes256Ctr);\r\n            this.hmacAlgorithms.push(sshAlgorithms_1.SshAlgorithms.hmac.hmacSha512Etm);\r\n            this.hmacAlgorithms.push(sshAlgorithms_1.SshAlgorithms.hmac.hmacSha256Etm);\r\n            this.hmacAlgorithms.push(sshAlgorithms_1.SshAlgorithms.hmac.hmacSha512);\r\n            this.hmacAlgorithms.push(sshAlgorithms_1.SshAlgorithms.hmac.hmacSha256);\r\n        }\r\n        else {\r\n            this.keyExchangeAlgorithms.push(sshAlgorithms_1.SshAlgorithms.keyExchange.none);\r\n            this.publicKeyAlgorithms.push(sshAlgorithms_1.SshAlgorithms.publicKey.none);\r\n            this.encryptionAlgorithms.push(sshAlgorithms_1.SshAlgorithms.encryption.none);\r\n            this.hmacAlgorithms.push(sshAlgorithms_1.SshAlgorithms.hmac.none);\r\n        }\r\n        this.compressionAlgorithms.push(sshAlgorithms_1.SshAlgorithms.compression.none);\r\n    }\r\n    /**\r\n     * Adds a service to the configuration.\r\n     */\r\n    addService(serviceType, serviceConfig) {\r\n        if (this.services.has(serviceType)) {\r\n            throw new Error('Duplicate service entry.');\r\n        }\r\n        this.services.set(serviceType, serviceConfig);\r\n    }\r\n    getKeyExchangeAlgorithm(name) {\r\n        return this.getAlgorithm(name, this.keyExchangeAlgorithms);\r\n    }\r\n    getPublicKeyAlgorithm(name) {\r\n        return this.getAlgorithm(name, this.publicKeyAlgorithms);\r\n    }\r\n    getEncryptionAlgorithm(name) {\r\n        return this.getAlgorithm(name, this.encryptionAlgorithms);\r\n    }\r\n    getHmacAlgorithm(name) {\r\n        return this.getAlgorithm(name, this.hmacAlgorithms);\r\n    }\r\n    getCompressionAlgorithm(name) {\r\n        return this.getAlgorithm(name, this.compressionAlgorithms);\r\n    }\r\n    getAlgorithm(name, collection) {\r\n        const algorithm = collection.find((a) => (a ? a.name === name : false));\r\n        if (!algorithm) {\r\n            if (name === 'none') {\r\n                return null;\r\n            }\r\n            throw new Error('Algorithm not found: ' + name);\r\n        }\r\n        return algorithm;\r\n    }\r\n    get traceChannelData() {\r\n        return this.traceChannelDataValue;\r\n    }\r\n    /**\r\n     * Enables tracing of all channel data messages.\r\n     *\r\n     * Unlike other configuration, this option may be adjusted any time while the session\r\n     * is active. Channel data tracing produces a large volume of trace events, so it is\r\n     * primarily meant only for debugging.\r\n     */\r\n    set traceChannelData(value) {\r\n        if (value !== this.traceChannelDataValue) {\r\n            this.traceChannelDataValue = value;\r\n            this.configurationChangedEmitter.fire();\r\n        }\r\n    }\r\n}\r\nexports.SshSessionConfiguration = SshSessionConfiguration;\r\n//# sourceMappingURL=sshSessionConfiguration.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshStream = void 0;\r\nconst promiseCompletionSource_1 = require(\"./util/promiseCompletionSource\");\r\nconst stream_1 = require(\"stream\");\r\n/**\r\n * Adapts an SshChannel as a Readable+Writable stream.\r\n */\r\nclass SshStream extends stream_1.Duplex {\r\n    constructor(channel) {\r\n        let readPaused = null;\r\n        super({\r\n            async write(chunk, encoding, cb) {\r\n                let error;\r\n                try {\r\n                    let buffer;\r\n                    if (typeof chunk === 'string') {\r\n                        buffer = Buffer.from(chunk, encoding);\r\n                    }\r\n                    else if (chunk instanceof Buffer || chunk instanceof Uint8Array) {\r\n                        buffer = chunk;\r\n                    }\r\n                    else {\r\n                        throw new Error('Unsupported chunk type: ' + typeof chunk);\r\n                    }\r\n                    await channel.send(buffer);\r\n                }\r\n                catch (e) {\r\n                    if (!(e instanceof Error))\r\n                        throw e;\r\n                    error = e;\r\n                }\r\n                if (cb) {\r\n                    cb(error);\r\n                }\r\n            },\r\n            async writev(chunks, cb) {\r\n                let error;\r\n                try {\r\n                    if (chunks.length === 1) {\r\n                        return this.write(chunks[0].chunk, chunks[0].encoding, cb);\r\n                    }\r\n                    else {\r\n                        function BufferReduce(accumulator, chunk) {\r\n                            if (chunk.chunk instanceof Buffer || chunk.chunk instanceof Uint8Array) {\r\n                                return accumulator + chunk.chunk.length;\r\n                            }\r\n                            else {\r\n                                throw new Error('Unsupported chunk type: ' + typeof chunk.chunk);\r\n                            }\r\n                        }\r\n                        const totalLength = chunks.reduce(BufferReduce, 0);\r\n                        const singleBuffer = Buffer.alloc(totalLength);\r\n                        let singleBufferIndex = 0;\r\n                        for (let i = 0; i < chunks.length; i++) {\r\n                            chunks[i].chunk.copy(singleBuffer, singleBufferIndex);\r\n                            singleBufferIndex += chunks[i].chunk.length;\r\n                        }\r\n                        await channel.send(singleBuffer);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    if (!(e instanceof Error))\r\n                        throw e;\r\n                    error = e;\r\n                }\r\n                if (cb) {\r\n                    cb(error);\r\n                }\r\n            },\r\n            async final(cb) {\r\n                let error;\r\n                try {\r\n                    await channel.close();\r\n                }\r\n                catch (e) {\r\n                    if (!(e instanceof Error))\r\n                        throw e;\r\n                    error = e;\r\n                }\r\n                if (cb) {\r\n                    cb(error);\r\n                }\r\n            },\r\n            read() {\r\n                if (readPaused) {\r\n                    readPaused.resolve();\r\n                    readPaused = null;\r\n                }\r\n            },\r\n        });\r\n        channel.onDataReceived(async (data) => {\r\n            const buffer = Buffer.alloc(data.length);\r\n            data.copy(buffer);\r\n            const result = this.push(buffer);\r\n            // Our flow control isn't great. Once we hit the highWaterMark,\r\n            // we stop adjusting the SSH window until our own reader has caught up,\r\n            // and then *all* the data received and buffered in the interim suddenly\r\n            // gets 'adjusted' so that we tend to be somewhat choppy about adjusting the window.\r\n            // Improving this would require that we know when the data we push gets passed to\r\n            // the Duplex reader, and I don't think there's a way to get that notification.\r\n            // So I suspect we'd have to dump Duplex and implement the stream ourselves.\r\n            if (!result) {\r\n                if (!readPaused) {\r\n                    readPaused = new promiseCompletionSource_1.PromiseCompletionSource();\r\n                }\r\n                await readPaused.promise;\r\n            }\r\n            // Notify the channel that the data has been consumed and more data may be sent.\r\n            channel.adjustWindow(buffer.length);\r\n        });\r\n        channel.onClosed(() => {\r\n            this.push(null);\r\n        });\r\n        this.channel = channel;\r\n    }\r\n    /**\r\n     * Destroys the stream and closes the underlying SSH channel.\r\n     */\r\n    destroy(error) {\r\n        void this.channel.close().catch();\r\n        super.destroy(error);\r\n        return this;\r\n    }\r\n    toString() {\r\n        return `SshStream(Channel Type: ${this.channel.channelType}, Id: ${this.channel.channelId}, RemoteId: ${this.channel.remoteChannelId})`;\r\n    }\r\n}\r\nexports.SshStream = SshStream;\r\n//# sourceMappingURL=sshStream.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshVersionInfo = void 0;\r\nconst packageJson = require(\"./package.json\");\r\nconst packageName = packageJson.name.replace(/^@\\w+\\//, ''); // Strip scope from name.\r\nconst packageVersion = packageJson.version;\r\n/**\r\n * Parses the SSH software name and version from the version string exchanged via the\r\n * initial packets sent between client and server.\r\n */\r\nclass SshVersionInfo {\r\n    /**\r\n     * Attempts to parse an SSH version string into a version info object.\r\n     */\r\n    static tryParse(versionString) {\r\n        if (!versionString) {\r\n            throw new TypeError('Version string expected.');\r\n        }\r\n        if (!versionString.startsWith('SSH-')) {\r\n            return null;\r\n        }\r\n        const firstDashIndex = 3;\r\n        const secondDashIndex = versionString.indexOf('-', firstDashIndex + 1);\r\n        if (secondDashIndex <= 0) {\r\n            return null;\r\n        }\r\n        const protocolVersion = versionString.substring(firstDashIndex + 1, secondDashIndex);\r\n        if (!/^\\d+\\.\\d+$/.test(protocolVersion)) {\r\n            return null;\r\n        }\r\n        let name;\r\n        let version;\r\n        const nameAndVersion = versionString.substring(secondDashIndex + 1);\r\n        const spaceIndex = nameAndVersion.indexOf(' ');\r\n        const lastUnderscoreBeforeSpace = nameAndVersion.lastIndexOf('_', spaceIndex >= 0 ? spaceIndex : nameAndVersion.length - 1);\r\n        if (lastUnderscoreBeforeSpace >= 0) {\r\n            name = nameAndVersion.substring(0, lastUnderscoreBeforeSpace).replace(/_/g, ' ');\r\n            // Ignore any non-digit characters after the version.\r\n            version = nameAndVersion.substring(lastUnderscoreBeforeSpace + 1);\r\n            for (let i = 0; i < version.length; i++) {\r\n                const c = version[i];\r\n                if (!(c >= '0' && c <= '9') && c !== '.') {\r\n                    version = version.substring(0, i);\r\n                    break;\r\n                }\r\n            }\r\n            if (!/^\\d+(\\.\\d+)*$/.test(version)) {\r\n                version = null;\r\n            }\r\n        }\r\n        else {\r\n            name = nameAndVersion;\r\n            version = null;\r\n        }\r\n        return new SshVersionInfo(versionString, protocolVersion, name, version);\r\n    }\r\n    /**\r\n     * Gets the version info for the current SSH library.\r\n     */\r\n    static getLocalVersion() {\r\n        const protocolVersion = '2.0';\r\n        const versionString = `SSH-${protocolVersion}-${packageName}_${packageVersion}`;\r\n        return new SshVersionInfo(versionString, protocolVersion, packageName, packageVersion);\r\n    }\r\n    constructor(versionString, protocolVersion, name, version) {\r\n        this.versionString = versionString;\r\n        this.protocolVersion = protocolVersion;\r\n        this.name = name;\r\n        this.version = version;\r\n    }\r\n    /** Returns the original SSH version string that was parsed. */\r\n    toString() {\r\n        return this.versionString;\r\n    }\r\n    /**\r\n     * Gets a value indicating whether this version info represents some version of\r\n     * this library.\r\n     */\r\n    get isVsSsh() {\r\n        return this.isVsSshCS || this.isVsSshTS;\r\n    }\r\n    get isVsSshCS() {\r\n        return this.name === 'Microsoft.VisualStudio.Ssh' || this.name === 'Microsoft.DevTunnels.Ssh';\r\n    }\r\n    get isVsSshTS() {\r\n        return this.name === 'vs-ssh' || this.name === 'dev-tunnels-ssh';\r\n    }\r\n}\r\nexports.SshVersionInfo = SshVersionInfo;\r\n//# sourceMappingURL=sshVersionInfo.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.WebSocketStream = exports.NodeStream = exports.BaseStream = void 0;\r\nconst buffer_1 = require(\"buffer\");\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nconst cancellation_1 = require(\"./util/cancellation\");\r\nconst errors_1 = require(\"./errors\");\r\nfunction handleCancellation(reject, cancellation) {\r\n    if (cancellation) {\r\n        if (cancellation.isCancellationRequested) {\r\n            reject(new cancellation_1.CancellationError());\r\n        }\r\n        else {\r\n            cancellation.onCancellationRequested(() => {\r\n                reject(new cancellation_1.CancellationError());\r\n            });\r\n        }\r\n    }\r\n}\r\n/**\r\n * Base class for stream adapters.\r\n */\r\nclass BaseStream {\r\n    constructor() {\r\n        this.incomingData = [];\r\n        this.pendingReads = [];\r\n        this.error = null;\r\n        this.disposed = false;\r\n        this.closedEmitter = new vscode_jsonrpc_1.Emitter();\r\n        this.closed = this.closedEmitter.event;\r\n    }\r\n    onData(data) {\r\n        while (this.pendingReads.length > 0) {\r\n            const read = this.pendingReads.shift();\r\n            if (read.count >= data.length) {\r\n                // This read operation consumes all of the incoming data.\r\n                read.resolve(data);\r\n                return;\r\n            }\r\n            else {\r\n                // This read operation consumes part of the incoming data.\r\n                const readData = data.slice(0, read.count);\r\n                data = data.slice(read.count);\r\n                read.resolve(readData);\r\n            }\r\n        }\r\n        this.incomingData.push(data);\r\n    }\r\n    onEnd() {\r\n        while (this.pendingReads.length > 0) {\r\n            const read = this.pendingReads.shift();\r\n            read.resolve(null);\r\n        }\r\n        this.incomingData.push(buffer_1.Buffer.alloc(0));\r\n    }\r\n    onError(error) {\r\n        if (!this.error) {\r\n            this.error = error;\r\n        }\r\n        while (this.pendingReads.length > 0) {\r\n            const read = this.pendingReads.shift();\r\n            read.reject(error);\r\n        }\r\n    }\r\n    async read(count, cancellation) {\r\n        if (this.disposed)\r\n            throw new errors_1.ObjectDisposedError(this);\r\n        if (this.incomingData.length > 0) {\r\n            // Consume data that has already arrived.\r\n            let data = this.incomingData[0];\r\n            if (data.length === 0) {\r\n                // Reached the end of the stream.\r\n                return null;\r\n            }\r\n            else if (count >= data.length) {\r\n                // Consuming the whole chunk.\r\n                this.incomingData.shift();\r\n            }\r\n            else {\r\n                // Consuming part of the chunk.\r\n                this.incomingData[0] = data.slice(count);\r\n                data = data.slice(0, count);\r\n            }\r\n            return data;\r\n        }\r\n        else if (this.error) {\r\n            throw this.error;\r\n        }\r\n        else {\r\n            // Wait for more data to arrive.\r\n            return await new Promise((resolve, reject) => {\r\n                if (cancellation) {\r\n                    if (cancellation.isCancellationRequested) {\r\n                        reject(new cancellation_1.CancellationError());\r\n                        return;\r\n                    }\r\n                    cancellation.onCancellationRequested(() => {\r\n                        // Discard any pending reads that use this cancellation token.\r\n                        for (let i = 0; i < this.pendingReads.length; i++) {\r\n                            if (Object.is(cancellation, this.pendingReads[i].cancellation)) {\r\n                                const read = this.pendingReads.splice(i--, 1)[0];\r\n                                read.reject(new cancellation_1.CancellationError());\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                this.pendingReads.push({ count, resolve, reject, cancellation });\r\n            });\r\n        }\r\n    }\r\n    dispose() {\r\n        if (!this.disposed) {\r\n            this.disposed = true;\r\n            const error = new errors_1.ObjectDisposedError(this);\r\n            this.onError(error);\r\n            this.fireOnClose(error);\r\n        }\r\n    }\r\n    fireOnClose(error) {\r\n        this.closedEmitter.fire({ error });\r\n    }\r\n    get isDisposed() {\r\n        return this.disposed;\r\n    }\r\n}\r\nexports.BaseStream = BaseStream;\r\n/**\r\n * Stream adapter for a Node.js Socket, Duplex stream, or Readable/Writable stream pair.\r\n */\r\nclass NodeStream extends BaseStream {\r\n    constructor(duplexOrReadStream, writeStream) {\r\n        super();\r\n        if (!duplexOrReadStream)\r\n            throw new TypeError('Duplex or Readable/Writable stream are required.');\r\n        this.readStream = duplexOrReadStream;\r\n        this.writeStream = writeStream || duplexOrReadStream;\r\n        this.readStream.on('data', this.onData.bind(this));\r\n        this.readStream.on('end', this.onEnd.bind(this));\r\n        this.readStream.on('error', this.onError.bind(this));\r\n        this.readStream.on('close', () => {\r\n            this.onEnd();\r\n            this.fireOnClose();\r\n        });\r\n    }\r\n    async write(data, cancellation) {\r\n        if (!data)\r\n            throw new TypeError('Data is required.');\r\n        if (this.disposed)\r\n            throw new errors_1.ObjectDisposedError(this);\r\n        return new Promise((resolve, reject) => {\r\n            handleCancellation(reject, cancellation);\r\n            this.writeStream.write(data, (err) => {\r\n                if (!err) {\r\n                    resolve();\r\n                }\r\n                else {\r\n                    reject(err);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    async close(error, cancellation) {\r\n        if (this.disposed)\r\n            throw new errors_1.ObjectDisposedError(this);\r\n        await new Promise((resolve, reject) => {\r\n            handleCancellation(reject, cancellation);\r\n            this.writeStream.end(resolve);\r\n        });\r\n        this.disposed = true;\r\n        this.onError(error || new errors_1.ObjectDisposedError(this));\r\n        this.closedEmitter.fire({ error });\r\n    }\r\n    dispose() {\r\n        if (!this.disposed) {\r\n            const error = new errors_1.ObjectDisposedError(this);\r\n            this.readStream.destroy(error);\r\n            this.writeStream.destroy(error);\r\n        }\r\n        super.dispose();\r\n    }\r\n}\r\nexports.NodeStream = NodeStream;\r\n/**\r\n * Stream adapter for a browser websocket.\r\n */\r\nclass WebSocketStream extends BaseStream {\r\n    constructor(websocket) {\r\n        super();\r\n        this.websocket = websocket;\r\n        if (!websocket)\r\n            throw new TypeError('WebSocket is required.');\r\n        if (typeof websocket.binaryType === 'string' &&\r\n            websocket.binaryType !== 'arraybuffer') {\r\n            throw new Error('WebSocket must use arraybuffer binary type.');\r\n        }\r\n        websocket.onmessage = (e) => {\r\n            this.onData(buffer_1.Buffer.from(e.data));\r\n        };\r\n        websocket.onclose = (e) => {\r\n            if (e.wasClean) {\r\n                this.onEnd();\r\n            }\r\n            else {\r\n                const error = new Error(e.reason);\r\n                error.code = e.code;\r\n                this.onError(error);\r\n            }\r\n        };\r\n    }\r\n    get protocol() {\r\n        return this.websocket.protocol;\r\n    }\r\n    async write(data, cancellation) {\r\n        if (!data)\r\n            throw new TypeError('Data is required.');\r\n        if (this.disposed)\r\n            throw new errors_1.ObjectDisposedError(this);\r\n        if ('readyState' in this.websocket) {\r\n            if (this.websocket.readyState === 2 /* WebSocketReadyState.Closing */ ||\r\n                this.websocket.readyState === 3 /* WebSocketReadyState.Closed */) {\r\n                throw new DOMException('WebSocket is already in CLOSING or CLOSED state.', 'InvalidStateError');\r\n            }\r\n        }\r\n        this.websocket.send(data);\r\n    }\r\n    async close(error, cancellation) {\r\n        if (this.disposed)\r\n            throw new errors_1.ObjectDisposedError(this);\r\n        if (!error) {\r\n            this.websocket.close();\r\n        }\r\n        else {\r\n            const code = typeof error.code === 'number' ? error.code : undefined;\r\n            this.websocket.close(code, error.message);\r\n        }\r\n        this.disposed = true;\r\n        this.closedEmitter.fire({ error });\r\n        this.onError(error || new Error('Stream closed.'));\r\n    }\r\n    dispose() {\r\n        if (!this.disposed) {\r\n            this.websocket.close();\r\n        }\r\n        super.dispose();\r\n    }\r\n}\r\nexports.WebSocketStream = WebSocketStream;\r\n//# sourceMappingURL=streams.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SshTraceEventIds = exports.TraceLevel = void 0;\r\n/**\r\n * SSH trace event level.\r\n */\r\nvar TraceLevel;\r\n(function (TraceLevel) {\r\n    TraceLevel[\"Error\"] = \"error\";\r\n    TraceLevel[\"Warning\"] = \"warning\";\r\n    TraceLevel[\"Info\"] = \"info\";\r\n    TraceLevel[\"Verbose\"] = \"verbose\";\r\n})(TraceLevel = exports.TraceLevel || (exports.TraceLevel = {}));\r\n// Events defined below should stay in sync with those in C#.\r\nconst baseEventId = 9000;\r\nclass SshTraceEventIds {\r\n}\r\nexports.SshTraceEventIds = SshTraceEventIds;\r\n// Error / Warning events\r\nSshTraceEventIds.unknownError = baseEventId + 0;\r\nSshTraceEventIds.streamReadError = baseEventId + 1;\r\nSshTraceEventIds.streamWriteError = baseEventId + 2;\r\nSshTraceEventIds.streamCloseError = baseEventId + 3;\r\nSshTraceEventIds.sendMessageFailed = baseEventId + 4;\r\nSshTraceEventIds.receiveMessageFailed = baseEventId + 5;\r\nSshTraceEventIds.handleMessageFailed = baseEventId + 6;\r\nSshTraceEventIds.serverAuthenticationFailed = baseEventId + 7;\r\nSshTraceEventIds.clientAuthenticationFailed = baseEventId + 8;\r\nSshTraceEventIds.authenticationError = baseEventId + 9;\r\nSshTraceEventIds.channelWindowAdjustFailed = baseEventId + 10;\r\nSshTraceEventIds.channelWaitForWindowAdjust = baseEventId + 11;\r\nSshTraceEventIds.sessionReconnectInitFailed = baseEventId + 20;\r\nSshTraceEventIds.serverSessionReconnectFailed = baseEventId + 21;\r\nSshTraceEventIds.clientSessionReconnectFailed = baseEventId + 22;\r\nSshTraceEventIds.sessionRequestFailed = baseEventId + 23;\r\nSshTraceEventIds.channelRequestFailed = baseEventId + 24;\r\nSshTraceEventIds.serverListenFailed = baseEventId + 50;\r\nSshTraceEventIds.portForwardServerListenFailed = baseEventId + 51;\r\nSshTraceEventIds.portForwardRequestInvalid = baseEventId + 52;\r\nSshTraceEventIds.portForwardChannelInvalid = baseEventId + 53;\r\nSshTraceEventIds.portForwardChannelOpenFailed = baseEventId + 54;\r\nSshTraceEventIds.portForwardConnectionFailed = baseEventId + 55;\r\n// Info / Verbose events\r\nSshTraceEventIds.protocolVersion = baseEventId + 100;\r\nSshTraceEventIds.sendingMessage = baseEventId + 101;\r\nSshTraceEventIds.receivingMessage = baseEventId + 102;\r\nSshTraceEventIds.sendingChannelData = baseEventId + 103;\r\nSshTraceEventIds.receivingChannelData = baseEventId + 104;\r\nSshTraceEventIds.sessionEncrypted = baseEventId + 110;\r\nSshTraceEventIds.sessionAuthenticating = baseEventId + 111;\r\nSshTraceEventIds.sessionAuthenticated = baseEventId + 112;\r\nSshTraceEventIds.sessionClosing = baseEventId + 113;\r\nSshTraceEventIds.sessionConnecting = baseEventId + 114;\r\nSshTraceEventIds.channelOpened = baseEventId + 120;\r\nSshTraceEventIds.channelOpenFailed = baseEventId + 121;\r\nSshTraceEventIds.channelEofReceived = baseEventId + 122;\r\nSshTraceEventIds.channelClosed = baseEventId + 123;\r\nSshTraceEventIds.serverListening = baseEventId + 150;\r\nSshTraceEventIds.serverClientConnected = baseEventId + 151;\r\nSshTraceEventIds.portForwardServerListening = baseEventId + 152;\r\nSshTraceEventIds.portForwardConnectionAccepted = baseEventId + 153;\r\nSshTraceEventIds.portForwardChannelOpened = baseEventId + 154;\r\nSshTraceEventIds.portForwardChannelClosed = baseEventId + 155;\r\nSshTraceEventIds.portForwardConnectionOpened = baseEventId + 156;\r\nSshTraceEventIds.portForwardConnectionClosed = baseEventId + 157;\r\nSshTraceEventIds.sessionDisconnected = baseEventId + 160;\r\nSshTraceEventIds.clientSessionReconnecting = baseEventId + 161;\r\nSshTraceEventIds.serverSessionReconnecting = baseEventId + 162;\r\nSshTraceEventIds.clientSessionStartReconnecting = baseEventId + 163;\r\nSshTraceEventIds.algorithmNegotiation = baseEventId + 170;\r\nSshTraceEventIds.debugMessage = baseEventId + 200;\r\n//# sourceMappingURL=trace.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.withCancellation = exports.CancellationError = exports.CancellationTokenSource = exports.CancellationToken = void 0;\r\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\r\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return vscode_jsonrpc_1.CancellationToken; } });\r\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return vscode_jsonrpc_1.CancellationTokenSource; } });\r\n/**\r\n * Error thrown when an operation is cancelled via a CancellationToken.\r\n */\r\nclass CancellationError extends Error {\r\n    constructor(message) {\r\n        super(message || 'Operation cancelled.');\r\n    }\r\n}\r\nexports.CancellationError = CancellationError;\r\nfunction withCancellation(promise, cancellation) {\r\n    if (!cancellation) {\r\n        return promise;\r\n    }\r\n    return Promise.race([\r\n        promise,\r\n        new Promise((resolve, reject) => {\r\n            if (cancellation.isCancellationRequested) {\r\n                reject(new CancellationError());\r\n            }\r\n            else {\r\n                cancellation.onCancellationRequested(() => {\r\n                    reject(new CancellationError());\r\n                });\r\n            }\r\n        }),\r\n    ]);\r\n}\r\nexports.withCancellation = withCancellation;\r\n//# sourceMappingURL=cancellation.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PromiseCompletionSource = void 0;\r\nclass PromiseCompletionSource {\r\n    constructor() {\r\n        this.promise = new Promise((resolve, reject) => {\r\n            this.resolve = resolve;\r\n            this.reject = reject;\r\n        });\r\n    }\r\n    resolve(result) { }\r\n    reject(e) { }\r\n}\r\nexports.PromiseCompletionSource = PromiseCompletionSource;\r\n//# sourceMappingURL=promiseCompletionSource.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Queue = void 0;\r\n/**\r\n * Generic iterable queue implementation using an auto-expanding circular array buffer.\r\n * Designed to be more efficient for high-volume use compared to a simpler JS queue using\r\n * `Array.shift()` (which would cause a lot of allocations).\r\n */\r\nclass Queue {\r\n    constructor() {\r\n        this.array = new Array();\r\n        this.first = 0;\r\n        this.count = 0;\r\n        /**\r\n         * The version is incremented upon any changes to the queue, so that any iterators can detect the\r\n         * change and become invalid. `MAX_SAFE_INTEGER` is 2^53-1 so this isn't likely to ever overflow.\r\n         */\r\n        this.version = 0;\r\n    }\r\n    /**\r\n     * Gets the current size of the queue.\r\n     */\r\n    get size() {\r\n        return this.count;\r\n    }\r\n    /**\r\n     * Adds an item to the end of the queue.\r\n     */\r\n    enqueue(item) {\r\n        if (this.count === this.array.length) {\r\n            const newArray = new Array(Math.max(16, this.count * 2));\r\n            for (let i = 0; i < this.count; i++) {\r\n                newArray[i] = this.array[(this.first + i) % this.count];\r\n            }\r\n            this.array = newArray;\r\n            this.first = 0;\r\n        }\r\n        this.array[(this.first + this.count) % this.array.length] = item;\r\n        this.count++;\r\n        this.version++;\r\n    }\r\n    /**\r\n     * Removes an item from the front of the queue.\r\n     * @returns The removed item, or `undefined` if the queue is empty.\r\n     */\r\n    dequeue() {\r\n        if (this.count === 0)\r\n            return undefined;\r\n        const item = this.array[this.first];\r\n        this.array[this.first] = undefined; // Allow the item to be GC'd.\r\n        this.first = (this.first + 1) % this.array.length;\r\n        this.count--;\r\n        this.version++;\r\n        return item;\r\n    }\r\n    /**\r\n     * Gets the item at the front of the queue without removing it.\r\n     * @returns The front item, or `undefined` if the queue is empty.\r\n     */\r\n    peek() {\r\n        if (this.count === 0)\r\n            return undefined;\r\n        const item = this.array[this.first];\r\n        return item;\r\n    }\r\n    /**\r\n     * Clears the queue.\r\n     */\r\n    clear() {\r\n        this.first = 0;\r\n        this.count = 0;\r\n        this.array.fill(undefined); // Allow items to be GC'd.\r\n        this.version++;\r\n    }\r\n    /**\r\n     * Creates an iterator over the items in the queue.\r\n     * (Any changes to the queue will invalidate the iterator.)\r\n     */\r\n    *[Symbol.iterator]() {\r\n        const iteratorVersion = this.version;\r\n        for (let i = 0; i < this.count; i++) {\r\n            const item = this.array[(this.first + i) % this.array.length];\r\n            yield item;\r\n            if (this.version !== iteratorVersion) {\r\n                throw new Error('Iterator is invalid due to changes in the collection.');\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Queue = Queue;\r\n//# sourceMappingURL=queue.js.map","\"use strict\";\r\n//\r\n//  Copyright (c) Microsoft Corporation. All rights reserved.\r\n//\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Semaphore = void 0;\r\nconst promiseCompletionSource_1 = require(\"./promiseCompletionSource\");\r\nconst cancellation_1 = require(\"./cancellation\");\r\nconst errors_1 = require(\"../errors\");\r\n/**\r\n * Semaphore-like object that allows multiple awaiters to coordinate exclusive access to a resource.\r\n */\r\nclass Semaphore {\r\n    /**\r\n     * Creates a new semaphore instance.\r\n     * @param initialCount Optional initial count. Defaults to 0.\r\n     */\r\n    constructor(initialCount = 0) {\r\n        this.completions = [];\r\n        this.disposed = false;\r\n        this.count = initialCount;\r\n    }\r\n    /**\r\n     * Gets the current available count of the semaphore.\r\n     */\r\n    get currentCount() {\r\n        return this.count;\r\n    }\r\n    /**\r\n     * Releases the semaphore, increasing the available count or unblicking one or more awaiters.\r\n     * @param releaseCount Optional specified count to release. Defaults to 1.\r\n     * @returns The previous count (before release).\r\n     */\r\n    release(releaseCount = 1) {\r\n        if (this.disposed)\r\n            throw new errors_1.ObjectDisposedError(this);\r\n        const previousCount = this.count;\r\n        for (; releaseCount > 0; releaseCount--) {\r\n            if (this.completions.length > 0) {\r\n                // Something is waiting on the semaphore.\r\n                // Remove and complete the wait without incrementing the count.\r\n                const completion = this.completions.shift();\r\n                completion.resolve(true);\r\n            }\r\n            else {\r\n                // Nothing is currently waiting on the semaphore. Increment the available count.\r\n                this.count++;\r\n            }\r\n        }\r\n        return previousCount;\r\n    }\r\n    /**\r\n     * Releases the semaphore, but does not throw an `ObjectDisposedError` if it is already disposed.\r\n     */\r\n    tryRelease() {\r\n        try {\r\n            this.release();\r\n        }\r\n        catch (e) {\r\n            if (!(e instanceof errors_1.ObjectDisposedError)) {\r\n                throw e;\r\n            }\r\n        }\r\n    }\r\n    async wait(timeoutOrCancellation, cancellation) {\r\n        const millisecondsTimeout = typeof timeoutOrCancellation === 'number' ? timeoutOrCancellation : undefined;\r\n        if (typeof cancellation === 'undefined' && typeof timeoutOrCancellation === 'object') {\r\n            cancellation = timeoutOrCancellation;\r\n        }\r\n        if (this.disposed)\r\n            throw new errors_1.ObjectDisposedError(this);\r\n        if (cancellation === null || cancellation === void 0 ? void 0 : cancellation.isCancellationRequested)\r\n            throw new cancellation_1.CancellationError();\r\n        if (this.count > 0) {\r\n            // The semaphore is available now.\r\n            this.count--;\r\n            return true;\r\n        }\r\n        else if (millisecondsTimeout === 0) {\r\n            // The semaphore is not available and the caller doesn't want to wait.\r\n            return false;\r\n        }\r\n        else {\r\n            const completion = new promiseCompletionSource_1.PromiseCompletionSource();\r\n            this.completions.push(completion);\r\n            // Start with a promise that completes with `true` when the wait succeeds.\r\n            const promises = [completion.promise];\r\n            if (millisecondsTimeout) {\r\n                // Race against a promise that completes with `false` when the timeout expires.\r\n                promises.push(new Promise((resolve) => setTimeout(() => resolve(false), millisecondsTimeout)));\r\n            }\r\n            if (cancellation) {\r\n                // Race against a promise that throws when the cancellation token is cancelled.\r\n                const cancellationCompletion = new promiseCompletionSource_1.PromiseCompletionSource();\r\n                cancellation.onCancellationRequested(() => {\r\n                    cancellationCompletion.reject(new cancellation_1.CancellationError());\r\n                });\r\n                promises.push(cancellationCompletion.promise);\r\n            }\r\n            if (await Promise.race(promises)) {\r\n                // The wait succeeded.\r\n                return true;\r\n            }\r\n            else {\r\n                // The wait timed out. Remove the (not-completed) completion from the array.\r\n                const completionIndex = this.completions.indexOf(completion);\r\n                if (completionIndex >= 0)\r\n                    this.completions.splice(completionIndex, 1);\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * Disposes the semaphore and throws a diposed error to any awaiters.\r\n     */\r\n    dispose() {\r\n        if (this.disposed)\r\n            return;\r\n        this.disposed = true;\r\n        for (const completion of this.completions) {\r\n            completion.reject(new errors_1.ObjectDisposedError(this));\r\n        }\r\n        this.completions.splice(0, this.completions.length);\r\n        this.count = 0;\r\n    }\r\n}\r\nexports.Semaphore = Semaphore;\r\n//# sourceMappingURL=semaphore.js.map","\"use strict\";\r\nmodule.exports = asPromise;\r\n\r\n/**\r\n * Callback as used by {@link util.asPromise}.\r\n * @typedef asPromiseCallback\r\n * @type {function}\r\n * @param {Error|null} error Error, if any\r\n * @param {...*} params Additional arguments\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Returns a promise from a node-style callback function.\r\n * @memberof util\r\n * @param {asPromiseCallback} fn Function to call\r\n * @param {*} ctx Function context\r\n * @param {...*} params Function arguments\r\n * @returns {Promise<*>} Promisified function\r\n */\r\nfunction asPromise(fn, ctx/*, varargs */) {\r\n    var params  = new Array(arguments.length - 1),\r\n        offset  = 0,\r\n        index   = 2,\r\n        pending = true;\r\n    while (index < arguments.length)\r\n        params[offset++] = arguments[index++];\r\n    return new Promise(function executor(resolve, reject) {\r\n        params[offset] = function callback(err/*, varargs */) {\r\n            if (pending) {\r\n                pending = false;\r\n                if (err)\r\n                    reject(err);\r\n                else {\r\n                    var params = new Array(arguments.length - 1),\r\n                        offset = 0;\r\n                    while (offset < params.length)\r\n                        params[offset++] = arguments[offset];\r\n                    resolve.apply(null, params);\r\n                }\r\n            }\r\n        };\r\n        try {\r\n            fn.apply(ctx || null, params);\r\n        } catch (err) {\r\n            if (pending) {\r\n                pending = false;\r\n                reject(err);\r\n            }\r\n        }\r\n    });\r\n}\r\n","\"use strict\";\r\n\r\n/**\r\n * A minimal base64 implementation for number arrays.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar base64 = exports;\r\n\r\n/**\r\n * Calculates the byte length of a base64 encoded string.\r\n * @param {string} string Base64 encoded string\r\n * @returns {number} Byte length\r\n */\r\nbase64.length = function length(string) {\r\n    var p = string.length;\r\n    if (!p)\r\n        return 0;\r\n    var n = 0;\r\n    while (--p % 4 > 1 && string.charAt(p) === \"=\")\r\n        ++n;\r\n    return Math.ceil(string.length * 3) / 4 - n;\r\n};\r\n\r\n// Base64 encoding table\r\nvar b64 = new Array(64);\r\n\r\n// Base64 decoding table\r\nvar s64 = new Array(123);\r\n\r\n// 65..90, 97..122, 48..57, 43, 47\r\nfor (var i = 0; i < 64;)\r\n    s64[b64[i] = i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i - 59 | 43] = i++;\r\n\r\n/**\r\n * Encodes a buffer to a base64 encoded string.\r\n * @param {Uint8Array} buffer Source buffer\r\n * @param {number} start Source start\r\n * @param {number} end Source end\r\n * @returns {string} Base64 encoded string\r\n */\r\nbase64.encode = function encode(buffer, start, end) {\r\n    var parts = null,\r\n        chunk = [];\r\n    var i = 0, // output index\r\n        j = 0, // goto index\r\n        t;     // temporary\r\n    while (start < end) {\r\n        var b = buffer[start++];\r\n        switch (j) {\r\n            case 0:\r\n                chunk[i++] = b64[b >> 2];\r\n                t = (b & 3) << 4;\r\n                j = 1;\r\n                break;\r\n            case 1:\r\n                chunk[i++] = b64[t | b >> 4];\r\n                t = (b & 15) << 2;\r\n                j = 2;\r\n                break;\r\n            case 2:\r\n                chunk[i++] = b64[t | b >> 6];\r\n                chunk[i++] = b64[b & 63];\r\n                j = 0;\r\n                break;\r\n        }\r\n        if (i > 8191) {\r\n            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));\r\n            i = 0;\r\n        }\r\n    }\r\n    if (j) {\r\n        chunk[i++] = b64[t];\r\n        chunk[i++] = 61;\r\n        if (j === 1)\r\n            chunk[i++] = 61;\r\n    }\r\n    if (parts) {\r\n        if (i)\r\n            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));\r\n        return parts.join(\"\");\r\n    }\r\n    return String.fromCharCode.apply(String, chunk.slice(0, i));\r\n};\r\n\r\nvar invalidEncoding = \"invalid encoding\";\r\n\r\n/**\r\n * Decodes a base64 encoded string to a buffer.\r\n * @param {string} string Source string\r\n * @param {Uint8Array} buffer Destination buffer\r\n * @param {number} offset Destination offset\r\n * @returns {number} Number of bytes written\r\n * @throws {Error} If encoding is invalid\r\n */\r\nbase64.decode = function decode(string, buffer, offset) {\r\n    var start = offset;\r\n    var j = 0, // goto index\r\n        t;     // temporary\r\n    for (var i = 0; i < string.length;) {\r\n        var c = string.charCodeAt(i++);\r\n        if (c === 61 && j > 1)\r\n            break;\r\n        if ((c = s64[c]) === undefined)\r\n            throw Error(invalidEncoding);\r\n        switch (j) {\r\n            case 0:\r\n                t = c;\r\n                j = 1;\r\n                break;\r\n            case 1:\r\n                buffer[offset++] = t << 2 | (c & 48) >> 4;\r\n                t = c;\r\n                j = 2;\r\n                break;\r\n            case 2:\r\n                buffer[offset++] = (t & 15) << 4 | (c & 60) >> 2;\r\n                t = c;\r\n                j = 3;\r\n                break;\r\n            case 3:\r\n                buffer[offset++] = (t & 3) << 6 | c;\r\n                j = 0;\r\n                break;\r\n        }\r\n    }\r\n    if (j === 1)\r\n        throw Error(invalidEncoding);\r\n    return offset - start;\r\n};\r\n\r\n/**\r\n * Tests if the specified string appears to be base64 encoded.\r\n * @param {string} string String to test\r\n * @returns {boolean} `true` if probably base64 encoded, otherwise false\r\n */\r\nbase64.test = function test(string) {\r\n    return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(string);\r\n};\r\n","\"use strict\";\r\nmodule.exports = codegen;\r\n\r\n/**\r\n * Begins generating a function.\r\n * @memberof util\r\n * @param {string[]} functionParams Function parameter names\r\n * @param {string} [functionName] Function name if not anonymous\r\n * @returns {Codegen} Appender that appends code to the function's body\r\n */\r\nfunction codegen(functionParams, functionName) {\r\n\r\n    /* istanbul ignore if */\r\n    if (typeof functionParams === \"string\") {\r\n        functionName = functionParams;\r\n        functionParams = undefined;\r\n    }\r\n\r\n    var body = [];\r\n\r\n    /**\r\n     * Appends code to the function's body or finishes generation.\r\n     * @typedef Codegen\r\n     * @type {function}\r\n     * @param {string|Object.<string,*>} [formatStringOrScope] Format string or, to finish the function, an object of additional scope variables, if any\r\n     * @param {...*} [formatParams] Format parameters\r\n     * @returns {Codegen|Function} Itself or the generated function if finished\r\n     * @throws {Error} If format parameter counts do not match\r\n     */\r\n\r\n    function Codegen(formatStringOrScope) {\r\n        // note that explicit array handling below makes this ~50% faster\r\n\r\n        // finish the function\r\n        if (typeof formatStringOrScope !== \"string\") {\r\n            var source = toString();\r\n            if (codegen.verbose)\r\n                console.log(\"codegen: \" + source); // eslint-disable-line no-console\r\n            source = \"return \" + source;\r\n            if (formatStringOrScope) {\r\n                var scopeKeys   = Object.keys(formatStringOrScope),\r\n                    scopeParams = new Array(scopeKeys.length + 1),\r\n                    scopeValues = new Array(scopeKeys.length),\r\n                    scopeOffset = 0;\r\n                while (scopeOffset < scopeKeys.length) {\r\n                    scopeParams[scopeOffset] = scopeKeys[scopeOffset];\r\n                    scopeValues[scopeOffset] = formatStringOrScope[scopeKeys[scopeOffset++]];\r\n                }\r\n                scopeParams[scopeOffset] = source;\r\n                return Function.apply(null, scopeParams).apply(null, scopeValues); // eslint-disable-line no-new-func\r\n            }\r\n            return Function(source)(); // eslint-disable-line no-new-func\r\n        }\r\n\r\n        // otherwise append to body\r\n        var formatParams = new Array(arguments.length - 1),\r\n            formatOffset = 0;\r\n        while (formatOffset < formatParams.length)\r\n            formatParams[formatOffset] = arguments[++formatOffset];\r\n        formatOffset = 0;\r\n        formatStringOrScope = formatStringOrScope.replace(/%([%dfijs])/g, function replace($0, $1) {\r\n            var value = formatParams[formatOffset++];\r\n            switch ($1) {\r\n                case \"d\": case \"f\": return String(Number(value));\r\n                case \"i\": return String(Math.floor(value));\r\n                case \"j\": return JSON.stringify(value);\r\n                case \"s\": return String(value);\r\n            }\r\n            return \"%\";\r\n        });\r\n        if (formatOffset !== formatParams.length)\r\n            throw Error(\"parameter count mismatch\");\r\n        body.push(formatStringOrScope);\r\n        return Codegen;\r\n    }\r\n\r\n    function toString(functionNameOverride) {\r\n        return \"function \" + (functionNameOverride || functionName || \"\") + \"(\" + (functionParams && functionParams.join(\",\") || \"\") + \"){\\n  \" + body.join(\"\\n  \") + \"\\n}\";\r\n    }\r\n\r\n    Codegen.toString = toString;\r\n    return Codegen;\r\n}\r\n\r\n/**\r\n * Begins generating a function.\r\n * @memberof util\r\n * @function codegen\r\n * @param {string} [functionName] Function name if not anonymous\r\n * @returns {Codegen} Appender that appends code to the function's body\r\n * @variation 2\r\n */\r\n\r\n/**\r\n * When set to `true`, codegen will log generated code to console. Useful for debugging.\r\n * @name util.codegen.verbose\r\n * @type {boolean}\r\n */\r\ncodegen.verbose = false;\r\n","\"use strict\";\r\nmodule.exports = EventEmitter;\r\n\r\n/**\r\n * Constructs a new event emitter instance.\r\n * @classdesc A minimal event emitter.\r\n * @memberof util\r\n * @constructor\r\n */\r\nfunction EventEmitter() {\r\n\r\n    /**\r\n     * Registered listeners.\r\n     * @type {Object.<string,*>}\r\n     * @private\r\n     */\r\n    this._listeners = {};\r\n}\r\n\r\n/**\r\n * Registers an event listener.\r\n * @param {string} evt Event name\r\n * @param {function} fn Listener\r\n * @param {*} [ctx] Listener context\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.on = function on(evt, fn, ctx) {\r\n    (this._listeners[evt] || (this._listeners[evt] = [])).push({\r\n        fn  : fn,\r\n        ctx : ctx || this\r\n    });\r\n    return this;\r\n};\r\n\r\n/**\r\n * Removes an event listener or any matching listeners if arguments are omitted.\r\n * @param {string} [evt] Event name. Removes all listeners if omitted.\r\n * @param {function} [fn] Listener to remove. Removes all listeners of `evt` if omitted.\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.off = function off(evt, fn) {\r\n    if (evt === undefined)\r\n        this._listeners = {};\r\n    else {\r\n        if (fn === undefined)\r\n            this._listeners[evt] = [];\r\n        else {\r\n            var listeners = this._listeners[evt];\r\n            for (var i = 0; i < listeners.length;)\r\n                if (listeners[i].fn === fn)\r\n                    listeners.splice(i, 1);\r\n                else\r\n                    ++i;\r\n        }\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Emits an event by calling its listeners with the specified arguments.\r\n * @param {string} evt Event name\r\n * @param {...*} args Arguments\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.emit = function emit(evt) {\r\n    var listeners = this._listeners[evt];\r\n    if (listeners) {\r\n        var args = [],\r\n            i = 1;\r\n        for (; i < arguments.length;)\r\n            args.push(arguments[i++]);\r\n        for (i = 0; i < listeners.length;)\r\n            listeners[i].fn.apply(listeners[i++].ctx, args);\r\n    }\r\n    return this;\r\n};\r\n","\"use strict\";\r\nmodule.exports = fetch;\r\n\r\nvar asPromise = require(\"@protobufjs/aspromise\"),\r\n    inquire   = require(\"@protobufjs/inquire\");\r\n\r\nvar fs = inquire(\"fs\");\r\n\r\n/**\r\n * Node-style callback as used by {@link util.fetch}.\r\n * @typedef FetchCallback\r\n * @type {function}\r\n * @param {?Error} error Error, if any, otherwise `null`\r\n * @param {string} [contents] File contents, if there hasn't been an error\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Options as used by {@link util.fetch}.\r\n * @typedef FetchOptions\r\n * @type {Object}\r\n * @property {boolean} [binary=false] Whether expecting a binary response\r\n * @property {boolean} [xhr=false] If `true`, forces the use of XMLHttpRequest\r\n */\r\n\r\n/**\r\n * Fetches the contents of a file.\r\n * @memberof util\r\n * @param {string} filename File path or url\r\n * @param {FetchOptions} options Fetch options\r\n * @param {FetchCallback} callback Callback function\r\n * @returns {undefined}\r\n */\r\nfunction fetch(filename, options, callback) {\r\n    if (typeof options === \"function\") {\r\n        callback = options;\r\n        options = {};\r\n    } else if (!options)\r\n        options = {};\r\n\r\n    if (!callback)\r\n        return asPromise(fetch, this, filename, options); // eslint-disable-line no-invalid-this\r\n\r\n    // if a node-like filesystem is present, try it first but fall back to XHR if nothing is found.\r\n    if (!options.xhr && fs && fs.readFile)\r\n        return fs.readFile(filename, function fetchReadFileCallback(err, contents) {\r\n            return err && typeof XMLHttpRequest !== \"undefined\"\r\n                ? fetch.xhr(filename, options, callback)\r\n                : err\r\n                ? callback(err)\r\n                : callback(null, options.binary ? contents : contents.toString(\"utf8\"));\r\n        });\r\n\r\n    // use the XHR version otherwise.\r\n    return fetch.xhr(filename, options, callback);\r\n}\r\n\r\n/**\r\n * Fetches the contents of a file.\r\n * @name util.fetch\r\n * @function\r\n * @param {string} path File path or url\r\n * @param {FetchCallback} callback Callback function\r\n * @returns {undefined}\r\n * @variation 2\r\n */\r\n\r\n/**\r\n * Fetches the contents of a file.\r\n * @name util.fetch\r\n * @function\r\n * @param {string} path File path or url\r\n * @param {FetchOptions} [options] Fetch options\r\n * @returns {Promise<string|Uint8Array>} Promise\r\n * @variation 3\r\n */\r\n\r\n/**/\r\nfetch.xhr = function fetch_xhr(filename, options, callback) {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.onreadystatechange /* works everywhere */ = function fetchOnReadyStateChange() {\r\n\r\n        if (xhr.readyState !== 4)\r\n            return undefined;\r\n\r\n        // local cors security errors return status 0 / empty string, too. afaik this cannot be\r\n        // reliably distinguished from an actually empty file for security reasons. feel free\r\n        // to send a pull request if you are aware of a solution.\r\n        if (xhr.status !== 0 && xhr.status !== 200)\r\n            return callback(Error(\"status \" + xhr.status));\r\n\r\n        // if binary data is expected, make sure that some sort of array is returned, even if\r\n        // ArrayBuffers are not supported. the binary string fallback, however, is unsafe.\r\n        if (options.binary) {\r\n            var buffer = xhr.response;\r\n            if (!buffer) {\r\n                buffer = [];\r\n                for (var i = 0; i < xhr.responseText.length; ++i)\r\n                    buffer.push(xhr.responseText.charCodeAt(i) & 255);\r\n            }\r\n            return callback(null, typeof Uint8Array !== \"undefined\" ? new Uint8Array(buffer) : buffer);\r\n        }\r\n        return callback(null, xhr.responseText);\r\n    };\r\n\r\n    if (options.binary) {\r\n        // ref: https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Sending_and_Receiving_Binary_Data#Receiving_binary_data_in_older_browsers\r\n        if (\"overrideMimeType\" in xhr)\r\n            xhr.overrideMimeType(\"text/plain; charset=x-user-defined\");\r\n        xhr.responseType = \"arraybuffer\";\r\n    }\r\n\r\n    xhr.open(\"GET\", filename);\r\n    xhr.send();\r\n};\r\n","\"use strict\";\r\n\r\nmodule.exports = factory(factory);\r\n\r\n/**\r\n * Reads / writes floats / doubles from / to buffers.\r\n * @name util.float\r\n * @namespace\r\n */\r\n\r\n/**\r\n * Writes a 32 bit float to a buffer using little endian byte order.\r\n * @name util.float.writeFloatLE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Writes a 32 bit float to a buffer using big endian byte order.\r\n * @name util.float.writeFloatBE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Reads a 32 bit float from a buffer using little endian byte order.\r\n * @name util.float.readFloatLE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Reads a 32 bit float from a buffer using big endian byte order.\r\n * @name util.float.readFloatBE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Writes a 64 bit double to a buffer using little endian byte order.\r\n * @name util.float.writeDoubleLE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Writes a 64 bit double to a buffer using big endian byte order.\r\n * @name util.float.writeDoubleBE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Reads a 64 bit double from a buffer using little endian byte order.\r\n * @name util.float.readDoubleLE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Reads a 64 bit double from a buffer using big endian byte order.\r\n * @name util.float.readDoubleBE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n// Factory function for the purpose of node-based testing in modified global environments\r\nfunction factory(exports) {\r\n\r\n    // float: typed array\r\n    if (typeof Float32Array !== \"undefined\") (function() {\r\n\r\n        var f32 = new Float32Array([ -0 ]),\r\n            f8b = new Uint8Array(f32.buffer),\r\n            le  = f8b[3] === 128;\r\n\r\n        function writeFloat_f32_cpy(val, buf, pos) {\r\n            f32[0] = val;\r\n            buf[pos    ] = f8b[0];\r\n            buf[pos + 1] = f8b[1];\r\n            buf[pos + 2] = f8b[2];\r\n            buf[pos + 3] = f8b[3];\r\n        }\r\n\r\n        function writeFloat_f32_rev(val, buf, pos) {\r\n            f32[0] = val;\r\n            buf[pos    ] = f8b[3];\r\n            buf[pos + 1] = f8b[2];\r\n            buf[pos + 2] = f8b[1];\r\n            buf[pos + 3] = f8b[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.writeFloatLE = le ? writeFloat_f32_cpy : writeFloat_f32_rev;\r\n        /* istanbul ignore next */\r\n        exports.writeFloatBE = le ? writeFloat_f32_rev : writeFloat_f32_cpy;\r\n\r\n        function readFloat_f32_cpy(buf, pos) {\r\n            f8b[0] = buf[pos    ];\r\n            f8b[1] = buf[pos + 1];\r\n            f8b[2] = buf[pos + 2];\r\n            f8b[3] = buf[pos + 3];\r\n            return f32[0];\r\n        }\r\n\r\n        function readFloat_f32_rev(buf, pos) {\r\n            f8b[3] = buf[pos    ];\r\n            f8b[2] = buf[pos + 1];\r\n            f8b[1] = buf[pos + 2];\r\n            f8b[0] = buf[pos + 3];\r\n            return f32[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.readFloatLE = le ? readFloat_f32_cpy : readFloat_f32_rev;\r\n        /* istanbul ignore next */\r\n        exports.readFloatBE = le ? readFloat_f32_rev : readFloat_f32_cpy;\r\n\r\n    // float: ieee754\r\n    })(); else (function() {\r\n\r\n        function writeFloat_ieee754(writeUint, val, buf, pos) {\r\n            var sign = val < 0 ? 1 : 0;\r\n            if (sign)\r\n                val = -val;\r\n            if (val === 0)\r\n                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos);\r\n            else if (isNaN(val))\r\n                writeUint(2143289344, buf, pos);\r\n            else if (val > 3.4028234663852886e+38) // +-Infinity\r\n                writeUint((sign << 31 | 2139095040) >>> 0, buf, pos);\r\n            else if (val < 1.1754943508222875e-38) // denormal\r\n                writeUint((sign << 31 | Math.round(val / 1.401298464324817e-45)) >>> 0, buf, pos);\r\n            else {\r\n                var exponent = Math.floor(Math.log(val) / Math.LN2),\r\n                    mantissa = Math.round(val * Math.pow(2, -exponent) * 8388608) & 8388607;\r\n                writeUint((sign << 31 | exponent + 127 << 23 | mantissa) >>> 0, buf, pos);\r\n            }\r\n        }\r\n\r\n        exports.writeFloatLE = writeFloat_ieee754.bind(null, writeUintLE);\r\n        exports.writeFloatBE = writeFloat_ieee754.bind(null, writeUintBE);\r\n\r\n        function readFloat_ieee754(readUint, buf, pos) {\r\n            var uint = readUint(buf, pos),\r\n                sign = (uint >> 31) * 2 + 1,\r\n                exponent = uint >>> 23 & 255,\r\n                mantissa = uint & 8388607;\r\n            return exponent === 255\r\n                ? mantissa\r\n                ? NaN\r\n                : sign * Infinity\r\n                : exponent === 0 // denormal\r\n                ? sign * 1.401298464324817e-45 * mantissa\r\n                : sign * Math.pow(2, exponent - 150) * (mantissa + 8388608);\r\n        }\r\n\r\n        exports.readFloatLE = readFloat_ieee754.bind(null, readUintLE);\r\n        exports.readFloatBE = readFloat_ieee754.bind(null, readUintBE);\r\n\r\n    })();\r\n\r\n    // double: typed array\r\n    if (typeof Float64Array !== \"undefined\") (function() {\r\n\r\n        var f64 = new Float64Array([-0]),\r\n            f8b = new Uint8Array(f64.buffer),\r\n            le  = f8b[7] === 128;\r\n\r\n        function writeDouble_f64_cpy(val, buf, pos) {\r\n            f64[0] = val;\r\n            buf[pos    ] = f8b[0];\r\n            buf[pos + 1] = f8b[1];\r\n            buf[pos + 2] = f8b[2];\r\n            buf[pos + 3] = f8b[3];\r\n            buf[pos + 4] = f8b[4];\r\n            buf[pos + 5] = f8b[5];\r\n            buf[pos + 6] = f8b[6];\r\n            buf[pos + 7] = f8b[7];\r\n        }\r\n\r\n        function writeDouble_f64_rev(val, buf, pos) {\r\n            f64[0] = val;\r\n            buf[pos    ] = f8b[7];\r\n            buf[pos + 1] = f8b[6];\r\n            buf[pos + 2] = f8b[5];\r\n            buf[pos + 3] = f8b[4];\r\n            buf[pos + 4] = f8b[3];\r\n            buf[pos + 5] = f8b[2];\r\n            buf[pos + 6] = f8b[1];\r\n            buf[pos + 7] = f8b[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.writeDoubleLE = le ? writeDouble_f64_cpy : writeDouble_f64_rev;\r\n        /* istanbul ignore next */\r\n        exports.writeDoubleBE = le ? writeDouble_f64_rev : writeDouble_f64_cpy;\r\n\r\n        function readDouble_f64_cpy(buf, pos) {\r\n            f8b[0] = buf[pos    ];\r\n            f8b[1] = buf[pos + 1];\r\n            f8b[2] = buf[pos + 2];\r\n            f8b[3] = buf[pos + 3];\r\n            f8b[4] = buf[pos + 4];\r\n            f8b[5] = buf[pos + 5];\r\n            f8b[6] = buf[pos + 6];\r\n            f8b[7] = buf[pos + 7];\r\n            return f64[0];\r\n        }\r\n\r\n        function readDouble_f64_rev(buf, pos) {\r\n            f8b[7] = buf[pos    ];\r\n            f8b[6] = buf[pos + 1];\r\n            f8b[5] = buf[pos + 2];\r\n            f8b[4] = buf[pos + 3];\r\n            f8b[3] = buf[pos + 4];\r\n            f8b[2] = buf[pos + 5];\r\n            f8b[1] = buf[pos + 6];\r\n            f8b[0] = buf[pos + 7];\r\n            return f64[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.readDoubleLE = le ? readDouble_f64_cpy : readDouble_f64_rev;\r\n        /* istanbul ignore next */\r\n        exports.readDoubleBE = le ? readDouble_f64_rev : readDouble_f64_cpy;\r\n\r\n    // double: ieee754\r\n    })(); else (function() {\r\n\r\n        function writeDouble_ieee754(writeUint, off0, off1, val, buf, pos) {\r\n            var sign = val < 0 ? 1 : 0;\r\n            if (sign)\r\n                val = -val;\r\n            if (val === 0) {\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos + off1);\r\n            } else if (isNaN(val)) {\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint(2146959360, buf, pos + off1);\r\n            } else if (val > 1.7976931348623157e+308) { // +-Infinity\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint((sign << 31 | 2146435072) >>> 0, buf, pos + off1);\r\n            } else {\r\n                var mantissa;\r\n                if (val < 2.2250738585072014e-308) { // denormal\r\n                    mantissa = val / 5e-324;\r\n                    writeUint(mantissa >>> 0, buf, pos + off0);\r\n                    writeUint((sign << 31 | mantissa / 4294967296) >>> 0, buf, pos + off1);\r\n                } else {\r\n                    var exponent = Math.floor(Math.log(val) / Math.LN2);\r\n                    if (exponent === 1024)\r\n                        exponent = 1023;\r\n                    mantissa = val * Math.pow(2, -exponent);\r\n                    writeUint(mantissa * 4503599627370496 >>> 0, buf, pos + off0);\r\n                    writeUint((sign << 31 | exponent + 1023 << 20 | mantissa * 1048576 & 1048575) >>> 0, buf, pos + off1);\r\n                }\r\n            }\r\n        }\r\n\r\n        exports.writeDoubleLE = writeDouble_ieee754.bind(null, writeUintLE, 0, 4);\r\n        exports.writeDoubleBE = writeDouble_ieee754.bind(null, writeUintBE, 4, 0);\r\n\r\n        function readDouble_ieee754(readUint, off0, off1, buf, pos) {\r\n            var lo = readUint(buf, pos + off0),\r\n                hi = readUint(buf, pos + off1);\r\n            var sign = (hi >> 31) * 2 + 1,\r\n                exponent = hi >>> 20 & 2047,\r\n                mantissa = 4294967296 * (hi & 1048575) + lo;\r\n            return exponent === 2047\r\n                ? mantissa\r\n                ? NaN\r\n                : sign * Infinity\r\n                : exponent === 0 // denormal\r\n                ? sign * 5e-324 * mantissa\r\n                : sign * Math.pow(2, exponent - 1075) * (mantissa + 4503599627370496);\r\n        }\r\n\r\n        exports.readDoubleLE = readDouble_ieee754.bind(null, readUintLE, 0, 4);\r\n        exports.readDoubleBE = readDouble_ieee754.bind(null, readUintBE, 4, 0);\r\n\r\n    })();\r\n\r\n    return exports;\r\n}\r\n\r\n// uint helpers\r\n\r\nfunction writeUintLE(val, buf, pos) {\r\n    buf[pos    ] =  val        & 255;\r\n    buf[pos + 1] =  val >>> 8  & 255;\r\n    buf[pos + 2] =  val >>> 16 & 255;\r\n    buf[pos + 3] =  val >>> 24;\r\n}\r\n\r\nfunction writeUintBE(val, buf, pos) {\r\n    buf[pos    ] =  val >>> 24;\r\n    buf[pos + 1] =  val >>> 16 & 255;\r\n    buf[pos + 2] =  val >>> 8  & 255;\r\n    buf[pos + 3] =  val        & 255;\r\n}\r\n\r\nfunction readUintLE(buf, pos) {\r\n    return (buf[pos    ]\r\n          | buf[pos + 1] << 8\r\n          | buf[pos + 2] << 16\r\n          | buf[pos + 3] << 24) >>> 0;\r\n}\r\n\r\nfunction readUintBE(buf, pos) {\r\n    return (buf[pos    ] << 24\r\n          | buf[pos + 1] << 16\r\n          | buf[pos + 2] << 8\r\n          | buf[pos + 3]) >>> 0;\r\n}\r\n","\"use strict\";\r\nmodule.exports = inquire;\r\n\r\n/**\r\n * Requires a module only if available.\r\n * @memberof util\r\n * @param {string} moduleName Module to require\r\n * @returns {?Object} Required module if available and not empty, otherwise `null`\r\n */\r\nfunction inquire(moduleName) {\r\n    try {\r\n        var mod = eval(\"quire\".replace(/^/,\"re\"))(moduleName); // eslint-disable-line no-eval\r\n        if (mod && (mod.length || Object.keys(mod).length))\r\n            return mod;\r\n    } catch (e) {} // eslint-disable-line no-empty\r\n    return null;\r\n}\r\n","\"use strict\";\r\n\r\n/**\r\n * A minimal path module to resolve Unix, Windows and URL paths alike.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar path = exports;\r\n\r\nvar isAbsolute =\r\n/**\r\n * Tests if the specified path is absolute.\r\n * @param {string} path Path to test\r\n * @returns {boolean} `true` if path is absolute\r\n */\r\npath.isAbsolute = function isAbsolute(path) {\r\n    return /^(?:\\/|\\w+:)/.test(path);\r\n};\r\n\r\nvar normalize =\r\n/**\r\n * Normalizes the specified path.\r\n * @param {string} path Path to normalize\r\n * @returns {string} Normalized path\r\n */\r\npath.normalize = function normalize(path) {\r\n    path = path.replace(/\\\\/g, \"/\")\r\n               .replace(/\\/{2,}/g, \"/\");\r\n    var parts    = path.split(\"/\"),\r\n        absolute = isAbsolute(path),\r\n        prefix   = \"\";\r\n    if (absolute)\r\n        prefix = parts.shift() + \"/\";\r\n    for (var i = 0; i < parts.length;) {\r\n        if (parts[i] === \"..\") {\r\n            if (i > 0 && parts[i - 1] !== \"..\")\r\n                parts.splice(--i, 2);\r\n            else if (absolute)\r\n                parts.splice(i, 1);\r\n            else\r\n                ++i;\r\n        } else if (parts[i] === \".\")\r\n            parts.splice(i, 1);\r\n        else\r\n            ++i;\r\n    }\r\n    return prefix + parts.join(\"/\");\r\n};\r\n\r\n/**\r\n * Resolves the specified include path against the specified origin path.\r\n * @param {string} originPath Path to the origin file\r\n * @param {string} includePath Include path relative to origin path\r\n * @param {boolean} [alreadyNormalized=false] `true` if both paths are already known to be normalized\r\n * @returns {string} Path to the include file\r\n */\r\npath.resolve = function resolve(originPath, includePath, alreadyNormalized) {\r\n    if (!alreadyNormalized)\r\n        includePath = normalize(includePath);\r\n    if (isAbsolute(includePath))\r\n        return includePath;\r\n    if (!alreadyNormalized)\r\n        originPath = normalize(originPath);\r\n    return (originPath = originPath.replace(/(?:\\/|^)[^/]+$/, \"\")).length ? normalize(originPath + \"/\" + includePath) : includePath;\r\n};\r\n","\"use strict\";\r\nmodule.exports = pool;\r\n\r\n/**\r\n * An allocator as used by {@link util.pool}.\r\n * @typedef PoolAllocator\r\n * @type {function}\r\n * @param {number} size Buffer size\r\n * @returns {Uint8Array} Buffer\r\n */\r\n\r\n/**\r\n * A slicer as used by {@link util.pool}.\r\n * @typedef PoolSlicer\r\n * @type {function}\r\n * @param {number} start Start offset\r\n * @param {number} end End offset\r\n * @returns {Uint8Array} Buffer slice\r\n * @this {Uint8Array}\r\n */\r\n\r\n/**\r\n * A general purpose buffer pool.\r\n * @memberof util\r\n * @function\r\n * @param {PoolAllocator} alloc Allocator\r\n * @param {PoolSlicer} slice Slicer\r\n * @param {number} [size=8192] Slab size\r\n * @returns {PoolAllocator} Pooled allocator\r\n */\r\nfunction pool(alloc, slice, size) {\r\n    var SIZE   = size || 8192;\r\n    var MAX    = SIZE >>> 1;\r\n    var slab   = null;\r\n    var offset = SIZE;\r\n    return function pool_alloc(size) {\r\n        if (size < 1 || size > MAX)\r\n            return alloc(size);\r\n        if (offset + size > SIZE) {\r\n            slab = alloc(SIZE);\r\n            offset = 0;\r\n        }\r\n        var buf = slice.call(slab, offset, offset += size);\r\n        if (offset & 7) // align to 32 bit\r\n            offset = (offset | 7) + 1;\r\n        return buf;\r\n    };\r\n}\r\n","\"use strict\";\r\n\r\n/**\r\n * A minimal UTF8 implementation for number arrays.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar utf8 = exports;\r\n\r\n/**\r\n * Calculates the UTF8 byte length of a string.\r\n * @param {string} string String\r\n * @returns {number} Byte length\r\n */\r\nutf8.length = function utf8_length(string) {\r\n    var len = 0,\r\n        c = 0;\r\n    for (var i = 0; i < string.length; ++i) {\r\n        c = string.charCodeAt(i);\r\n        if (c < 128)\r\n            len += 1;\r\n        else if (c < 2048)\r\n            len += 2;\r\n        else if ((c & 0xFC00) === 0xD800 && (string.charCodeAt(i + 1) & 0xFC00) === 0xDC00) {\r\n            ++i;\r\n            len += 4;\r\n        } else\r\n            len += 3;\r\n    }\r\n    return len;\r\n};\r\n\r\n/**\r\n * Reads UTF8 bytes as a string.\r\n * @param {Uint8Array} buffer Source buffer\r\n * @param {number} start Source start\r\n * @param {number} end Source end\r\n * @returns {string} String read\r\n */\r\nutf8.read = function utf8_read(buffer, start, end) {\r\n    var len = end - start;\r\n    if (len < 1)\r\n        return \"\";\r\n    var parts = null,\r\n        chunk = [],\r\n        i = 0, // char offset\r\n        t;     // temporary\r\n    while (start < end) {\r\n        t = buffer[start++];\r\n        if (t < 128)\r\n            chunk[i++] = t;\r\n        else if (t > 191 && t < 224)\r\n            chunk[i++] = (t & 31) << 6 | buffer[start++] & 63;\r\n        else if (t > 239 && t < 365) {\r\n            t = ((t & 7) << 18 | (buffer[start++] & 63) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63) - 0x10000;\r\n            chunk[i++] = 0xD800 + (t >> 10);\r\n            chunk[i++] = 0xDC00 + (t & 1023);\r\n        } else\r\n            chunk[i++] = (t & 15) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63;\r\n        if (i > 8191) {\r\n            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));\r\n            i = 0;\r\n        }\r\n    }\r\n    if (parts) {\r\n        if (i)\r\n            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));\r\n        return parts.join(\"\");\r\n    }\r\n    return String.fromCharCode.apply(String, chunk.slice(0, i));\r\n};\r\n\r\n/**\r\n * Writes a string as UTF8 bytes.\r\n * @param {string} string Source string\r\n * @param {Uint8Array} buffer Destination buffer\r\n * @param {number} offset Destination offset\r\n * @returns {number} Bytes written\r\n */\r\nutf8.write = function utf8_write(string, buffer, offset) {\r\n    var start = offset,\r\n        c1, // character 1\r\n        c2; // character 2\r\n    for (var i = 0; i < string.length; ++i) {\r\n        c1 = string.charCodeAt(i);\r\n        if (c1 < 128) {\r\n            buffer[offset++] = c1;\r\n        } else if (c1 < 2048) {\r\n            buffer[offset++] = c1 >> 6       | 192;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        } else if ((c1 & 0xFC00) === 0xD800 && ((c2 = string.charCodeAt(i + 1)) & 0xFC00) === 0xDC00) {\r\n            c1 = 0x10000 + ((c1 & 0x03FF) << 10) + (c2 & 0x03FF);\r\n            ++i;\r\n            buffer[offset++] = c1 >> 18      | 240;\r\n            buffer[offset++] = c1 >> 12 & 63 | 128;\r\n            buffer[offset++] = c1 >> 6  & 63 | 128;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        } else {\r\n            buffer[offset++] = c1 >> 12      | 224;\r\n            buffer[offset++] = c1 >> 6  & 63 | 128;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        }\r\n    }\r\n    return offset - start;\r\n};\r\n","/**\n * Thrown when an abortable function was aborted.\n *\n * **Warning**: do not use `instanceof` with this class. Instead, use\n * `isAbortError` function.\n */\nexport class AbortError extends Error {\n    constructor() {\n        super('The operation has been aborted');\n        this.message = 'The operation has been aborted';\n        this.name = 'AbortError';\n        if (typeof Error.captureStackTrace === 'function') {\n            Error.captureStackTrace(this, this.constructor);\n        }\n    }\n}\n/**\n * Checks whether given `error` is an `AbortError`.\n */\nexport function isAbortError(error) {\n    return (typeof error === 'object' &&\n        error !== null &&\n        error.name === 'AbortError');\n}\n/**\n * If `signal` is aborted, throws `AbortError`. Otherwise does nothing.\n */\nexport function throwIfAborted(signal) {\n    if (signal.aborted) {\n        throw new AbortError();\n    }\n}\n/**\n * If `error` is `AbortError`, throws it. Otherwise does nothing.\n *\n * Useful for `try/catch` blocks around abortable code:\n *\n *    try {\n *      await somethingAbortable(signal);\n *    } catch (err) {\n *      rethrowAbortError(err);\n *\n *      // do normal error handling\n *    }\n */\nexport function rethrowAbortError(error) {\n    if (isAbortError(error)) {\n        throw error;\n    }\n    return;\n}\n/**\n * If `error` is `AbortError`, does nothing. Otherwise throws it.\n *\n * Useful for invoking top-level abortable functions:\n *\n *    somethingAbortable(signal).catch(catchAbortError)\n *\n * Without `catchAbortError`, aborting would result in unhandled promise\n * rejection.\n */\nexport function catchAbortError(error) {\n    if (isAbortError(error)) {\n        return;\n    }\n    throw error;\n}\n//# sourceMappingURL=AbortError.js.map","import { AbortError } from './AbortError';\n/**\n * Similar to `new Promise(executor)`, but allows executor to return abort\n * callback that is called once `signal` is aborted.\n *\n * Returned promise rejects with `AbortError` once `signal` is aborted.\n *\n * Callback can return a promise, e.g. for doing any async cleanup. In this\n * case, the promise returned from `execute` rejects with `AbortError` after\n * that promise fulfills.\n */\nexport function execute(signal, executor) {\n    return new Promise((resolve, reject) => {\n        if (signal.aborted) {\n            reject(new AbortError());\n            return;\n        }\n        let removeAbortListener;\n        let finished = false;\n        function finish() {\n            if (!finished) {\n                finished = true;\n                if (removeAbortListener != null) {\n                    removeAbortListener();\n                }\n            }\n        }\n        const callback = executor(value => {\n            resolve(value);\n            finish();\n        }, reason => {\n            reject(reason);\n            finish();\n        });\n        if (!finished) {\n            const listener = () => {\n                const callbackResult = callback();\n                if (callbackResult == null) {\n                    reject(new AbortError());\n                }\n                else {\n                    callbackResult.then(() => {\n                        reject(new AbortError());\n                    }, reason => {\n                        reject(reason);\n                    });\n                }\n                finish();\n            };\n            signal.addEventListener('abort', listener);\n            removeAbortListener = () => {\n                signal.removeEventListener('abort', listener);\n            };\n        }\n    });\n}\n//# sourceMappingURL=execute.js.map","import { execute } from './execute';\n/**\n * Wrap a promise to reject with `AbortError` once `signal` is aborted.\n *\n * Useful to wrap non-abortable promises.\n * Note that underlying process will NOT be aborted.\n */\nexport function abortable(signal, promise) {\n    if (signal.aborted) {\n        // prevent unhandled rejection\n        const noop = () => { };\n        promise.then(noop, noop);\n    }\n    return execute(signal, (resolve, reject) => {\n        promise.then(resolve, reject);\n        return () => { };\n    });\n}\n//# sourceMappingURL=abortable.js.map","import { execute } from './execute';\n/**\n * Returns a promise that fulfills after delay and rejects with\n * `AbortError` once `signal` is aborted.\n *\n * The delay time is specified as a `Date` object or as an integer denoting\n * milliseconds to wait.\n *\n * Example:\n *\n *     // Make requests repeatedly with a delay between consecutive requests\n *     while (true) {\n *       await makeRequest(signal, params);\n *       await delay(signal, 1000);\n *     }\n *\n * Example:\n *\n *     // Make requests repeatedly with a fixed interval\n *     import {addMilliseconds} from 'date-fns';\n *\n *     let date = new Date();\n *\n *     while (true) {\n *       await makeRequest(signal, params);\n *\n *       date = addMilliseconds(date, 1000);\n *       await delay(signal, date);\n *     }\n */\nexport function delay(signal, dueTime) {\n    return execute(signal, resolve => {\n        const ms = typeof dueTime === 'number' ? dueTime : dueTime.getTime() - Date.now();\n        const timer = setTimeout(resolve, ms);\n        return () => {\n            clearTimeout(timer);\n        };\n    });\n}\n//# sourceMappingURL=delay.js.map","import { execute } from './execute';\n/**\n * Return a promise that never fulfills and only rejects with `AbortError` once\n * `signal` is aborted.\n */\nexport function forever(signal) {\n    return execute(signal, () => () => { });\n}\n//# sourceMappingURL=forever.js.map","import { execute } from './execute';\n/**\n * Returns a promise that fulfills when an event of specific type is emitted\n * from given event target and rejects with `AbortError` once `signal` is\n * aborted.\n *\n * Example:\n *\n *     // Create a WebSocket and wait for connection\n *     const webSocket = new WebSocket(url);\n *\n *     const openEvent = await race(signal, signal => [\n *       waitForEvent<WebSocketEventMap['open']>(signal, webSocket, 'open'),\n *       waitForEvent<WebSocketEventMap['close']>(signal, webSocket, 'close').then(\n *         event => {\n *           throw new Error(`Failed to connect to ${url}: ${event.reason}`);\n *         },\n *       ),\n *     ]);\n */\nexport function waitForEvent(signal, target, eventName, options) {\n    return execute(signal, resolve => {\n        let unlisten;\n        let finished = false;\n        const handler = (...args) => {\n            resolve(args.length > 1 ? args : args[0]);\n            finished = true;\n            if (unlisten != null) {\n                unlisten();\n            }\n        };\n        unlisten = listen(target, eventName, handler, options);\n        if (finished) {\n            unlisten();\n        }\n        return () => {\n            finished = true;\n            if (unlisten != null) {\n                unlisten();\n            }\n        };\n    });\n}\nfunction listen(target, eventName, handler, options) {\n    if (isEventTarget(target)) {\n        target.addEventListener(eventName, handler, options);\n        return () => target.removeEventListener(eventName, handler, options);\n    }\n    if (isJQueryStyleEventEmitter(target)) {\n        target.on(eventName, handler);\n        return () => target.off(eventName, handler);\n    }\n    if (isNodeStyleEventEmitter(target)) {\n        target.addListener(eventName, handler);\n        return () => target.removeListener(eventName, handler);\n    }\n    throw new Error('Invalid event target');\n}\nfunction isNodeStyleEventEmitter(sourceObj) {\n    return (isFunction(sourceObj.addListener) && isFunction(sourceObj.removeListener));\n}\nfunction isJQueryStyleEventEmitter(sourceObj) {\n    return isFunction(sourceObj.on) && isFunction(sourceObj.off);\n}\nfunction isEventTarget(sourceObj) {\n    return (isFunction(sourceObj.addEventListener) &&\n        isFunction(sourceObj.removeEventListener));\n}\nconst isFunction = (obj) => typeof obj === 'function';\n//# sourceMappingURL=waitForEvent.js.map","import { AbortError, isAbortError } from './AbortError';\nexport function all(signal, executor) {\n    return new Promise((resolve, reject) => {\n        if (signal.aborted) {\n            reject(new AbortError());\n            return;\n        }\n        const innerAbortController = new AbortController();\n        const promises = executor(innerAbortController.signal);\n        if (promises.length === 0) {\n            resolve([]);\n            return;\n        }\n        const abortListener = () => {\n            innerAbortController.abort();\n        };\n        signal.addEventListener('abort', abortListener);\n        let rejection;\n        const results = new Array(promises.length);\n        let settledCount = 0;\n        function settled() {\n            settledCount += 1;\n            if (settledCount === promises.length) {\n                signal.removeEventListener('abort', abortListener);\n                if (rejection != null) {\n                    reject(rejection.reason);\n                }\n                else {\n                    resolve(results);\n                }\n            }\n        }\n        for (const [i, promise] of promises.entries()) {\n            promise.then(value => {\n                results[i] = value;\n                settled();\n            }, reason => {\n                innerAbortController.abort();\n                if (rejection == null ||\n                    (!isAbortError(reason) && isAbortError(rejection.reason))) {\n                    rejection = { reason };\n                }\n                settled();\n            });\n        }\n    });\n}\n//# sourceMappingURL=all.js.map","import { AbortError, isAbortError } from './AbortError';\n/**\n * Abortable version of `Promise.race`.\n *\n * Creates new inner `AbortSignal` and passes it to `executor`. That signal is\n * aborted when `signal` is aborted or any of the promises returned from\n * `executor` are fulfilled or rejected.\n *\n * Returns a promise that fulfills or rejects when any of the promises returned\n * from `executor` are fulfilled or rejected, and rejects with `AbortError` when\n * `signal` is aborted.\n *\n * The promises returned from `executor` must be abortable, i.e. once\n * `innerSignal` is aborted, they must reject with `AbortError` either\n * immediately, or after doing any async cleanup.\n *\n * Example:\n *\n *     const result = await race(signal, signal => [\n *       delay(signal, 1000).then(() => ({status: 'timeout'})),\n *       makeRequest(signal, params).then(value => ({status: 'success', value})),\n *     ]);\n *\n *     if (result.status === 'timeout') {\n *       // request timed out\n *     } else {\n *       const response = result.value;\n *     }\n */\nexport function race(signal, executor) {\n    return new Promise((resolve, reject) => {\n        if (signal.aborted) {\n            reject(new AbortError());\n            return;\n        }\n        const innerAbortController = new AbortController();\n        const promises = executor(innerAbortController.signal);\n        const abortListener = () => {\n            innerAbortController.abort();\n        };\n        signal.addEventListener('abort', abortListener);\n        let settledCount = 0;\n        function settled(result) {\n            innerAbortController.abort();\n            settledCount += 1;\n            if (settledCount === promises.length) {\n                signal.removeEventListener('abort', abortListener);\n                if (result.status === 'fulfilled') {\n                    resolve(result.value);\n                }\n                else {\n                    reject(result.reason);\n                }\n            }\n        }\n        let result;\n        for (const promise of promises) {\n            promise.then(value => {\n                if (result == null) {\n                    result = { status: 'fulfilled', value };\n                }\n                settled(result);\n            }, reason => {\n                if (result == null ||\n                    (!isAbortError(reason) &&\n                        (result.status === 'fulfilled' || isAbortError(result.reason)))) {\n                    result = { status: 'rejected', reason };\n                }\n                settled(result);\n            });\n        }\n    });\n}\n//# sourceMappingURL=race.js.map","import { delay } from './delay';\nimport { rethrowAbortError } from './AbortError';\n/**\n * Retry function with exponential backoff.\n *\n * The function receives AbortSignal, attempt number starting with 0, and reset\n * function that sets attempt number to -1 so that the next attempt will be\n * made without delay.\n */\nexport async function retry(signal, fn, options = {}) {\n    const { baseMs = 1000, maxDelayMs = 30000, onError, maxAttempts = Infinity, } = options;\n    let attempt = 0;\n    const reset = () => {\n        attempt = -1;\n    };\n    while (true) {\n        try {\n            return await fn(signal, attempt, reset);\n        }\n        catch (error) {\n            rethrowAbortError(error);\n            if (attempt >= maxAttempts) {\n                throw error;\n            }\n            let delayMs;\n            if (attempt === -1) {\n                delayMs = 0;\n            }\n            else {\n                // https://aws.amazon.com/ru/blogs/architecture/exponential-backoff-and-jitter/\n                const backoff = Math.min(maxDelayMs, Math.pow(2, attempt) * baseMs);\n                delayMs = Math.round((backoff * (1 + Math.random())) / 2);\n            }\n            if (onError) {\n                onError(error, attempt, delayMs);\n            }\n            if (delayMs !== 0) {\n                await delay(signal, delayMs);\n            }\n            attempt += 1;\n        }\n    }\n}\n//# sourceMappingURL=retry.js.map","import { AbortError, catchAbortError, isAbortError } from './AbortError';\n/**\n * Run an abortable function with `fork` and `defer` effects attached to it.\n *\n * `spawn` allows to write Go-style coroutines.\n *\n * Example:\n *\n *     // Connect to a database, then start a server, then block until abort.\n *     // On abort, gracefully shutdown the server, and once done, disconnect\n *     // from the database.\n *     spawn(signal, async (signal, {defer}) => {\n *       const db = await connectToDb();\n *\n *       defer(async () => {\n *         await db.close();\n *       });\n *\n *       const server = await startServer(db);\n *\n *       defer(async () => {\n *         await server.close();\n *       });\n *\n *       await forever(signal);\n *     });\n *\n * Example:\n *\n *     // Connect to a database, then start an infinite polling loop.\n *     // On abort, disconnect from the database.\n *     spawn(signal, async (signal, {defer}) => {\n *       const db = await connectToDb();\n *\n *       defer(async () => {\n *         await db.close();\n *       });\n *\n *       while (true) {\n *         await poll(signal, db);\n *         await delay(signal, 5000);\n *       }\n *     });\n *\n * Example:\n *\n *     // Acquire a lock and execute a function.\n *     // Extend the lock while the function is running.\n *     // Once the function finishes or the signal is aborted, stop extending\n *     // the lock and release it.\n *     import Redlock = require('redlock');\n *\n *     const lockTtl = 30_000;\n *\n *     function withLock<T>(\n *       signal: AbortSignal,\n *       redlock: Redlock,\n *       key: string,\n *       fn: (signal: AbortSignal) => Promise<T>,\n *     ): Promise<T> {\n *       return spawn(signal, async (signal, {fork, defer}) => {\n *         const lock = await redlock.lock(key, lockTtl);\n *\n *         defer(() => lock.unlock());\n *     \n *         fork(async signal => {\n *           while (true) {\n *             await delay(signal, lockTtl / 10);\n *             await lock.extend(lockTtl);\n *           }\n *         });\n *\n *         return await fn(signal);\n *       });\n *     }\n *\n *     const redlock = new Redlock([redis], {\n *       retryCount: -1,\n *     });\n *\n *     await withLock(signal, redlock, 'the-lock-key', async signal => {\n *       // ...\n *     });\n */\nexport function spawn(signal, fn) {\n    if (signal.aborted) {\n        return Promise.reject(new AbortError());\n    }\n    const deferredFunctions = [];\n    /**\n     * Aborted when spawned function finishes\n     * or one of forked functions throws\n     * or parent signal aborted.\n     */\n    const spawnAbortController = new AbortController();\n    const spawnSignal = spawnAbortController.signal;\n    const abortSpawn = () => {\n        spawnAbortController.abort();\n    };\n    signal.addEventListener('abort', abortSpawn);\n    const removeAbortListener = () => {\n        signal.removeEventListener('abort', abortSpawn);\n    };\n    const tasks = new Set();\n    const abortTasks = () => {\n        for (const task of tasks) {\n            task.abort();\n        }\n    };\n    spawnSignal.addEventListener('abort', abortTasks);\n    const removeSpawnAbortListener = () => {\n        spawnSignal.removeEventListener('abort', abortTasks);\n    };\n    let promise = new Promise((resolve, reject) => {\n        let result;\n        let failure;\n        fork(signal => fn(signal, {\n            defer(fn) {\n                deferredFunctions.push(fn);\n            },\n            fork,\n        }))\n            .join()\n            .then(value => {\n            spawnAbortController.abort();\n            result = { value };\n        }, error => {\n            spawnAbortController.abort();\n            if (!isAbortError(error) || failure == null) {\n                failure = { error };\n            }\n        });\n        function fork(forkFn) {\n            if (spawnSignal.aborted) {\n                // return already aborted task\n                return {\n                    abort() { },\n                    async join() {\n                        throw new AbortError();\n                    },\n                };\n            }\n            const taskAbortController = new AbortController();\n            const taskSignal = taskAbortController.signal;\n            const taskPromise = forkFn(taskSignal);\n            const task = {\n                abort() {\n                    taskAbortController.abort();\n                },\n                join: () => taskPromise,\n            };\n            tasks.add(task);\n            taskPromise\n                .catch(catchAbortError)\n                .catch(error => {\n                failure = { error };\n                // error in forked function\n                spawnAbortController.abort();\n            })\n                .finally(() => {\n                tasks.delete(task);\n                if (tasks.size === 0) {\n                    if (failure != null) {\n                        reject(failure.error);\n                    }\n                    else {\n                        resolve(result.value);\n                    }\n                }\n            });\n            return task;\n        }\n    });\n    promise = promise.finally(() => {\n        removeAbortListener();\n        removeSpawnAbortListener();\n        let deferPromise = Promise.resolve();\n        for (let i = deferredFunctions.length - 1; i >= 0; i--) {\n            deferPromise = deferPromise.finally(deferredFunctions[i]);\n        }\n        return deferPromise;\n    });\n    return promise;\n}\n//# sourceMappingURL=spawn.js.map","import { catchAbortError } from './AbortError';\n/**\n * Invokes an abortable function with implicitly created `AbortSignal`.\n *\n * Returns a function that aborts that signal and waits until passed function\n * finishes.\n *\n * Any error other than `AbortError` thrown from passed function will result in\n * unhandled promise rejection.\n *\n * Example:\n *\n *    const stop = run(async signal => {\n *      try {\n *        while (true) {\n *          await delay(signal, 1000);\n *          console.log('tick');\n *        }\n *      } finally {\n *        await doCleanup();\n *      }\n *    });\n *\n *    // abort and wait until cleanup is done\n *    await stop();\n */\nexport function run(fn) {\n    const abortController = new AbortController();\n    const promise = fn(abortController.signal).catch(catchAbortError);\n    return () => {\n        abortController.abort();\n        return promise;\n    };\n}\n//# sourceMappingURL=run.js.map","var crypto = require('crypto')\n\n// getDiffieHellman\nexports.DiffieHellmanGroup = crypto.DiffieHellmanGroup\nexports.createDiffieHellmanGroup = crypto.createDiffieHellmanGroup\nexports.getDiffieHellman = crypto.getDiffieHellman\n\n// createDiffieHellman\nexports.createDiffieHellman = crypto.createDiffieHellman\nexports.DiffieHellman = crypto.DiffieHellman\n","/*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\nvar $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;\n$jscomp.defineProperty=$jscomp.ASSUME_ES5||\"function\"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return\"undefined\"!=typeof window&&window===a?a:\"undefined\"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);\n$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(\".\");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill(\"Array.prototype.findIndex\",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).i}},\"es6\",\"es3\");\n$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError(\"The 'this' value for String.prototype.\"+c+\" must not be null or undefined\");if(b instanceof RegExp)throw new TypeError(\"First argument to String.prototype.\"+c+\" must not be a regular expression\");return a+\"\"};\n$jscomp.polyfill(\"String.prototype.endsWith\",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,\"endsWith\");a+=\"\";void 0===c&&(c=b.length);c=Math.max(0,Math.min(c|0,b.length));for(var e=a.length;0<e&&0<c;)if(b[--c]!=a[--e])return!1;return 0>=e}},\"es6\",\"es3\");$jscomp.polyfill(\"Array.prototype.find\",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},\"es6\",\"es3\");\n$jscomp.polyfill(\"String.prototype.startsWith\",function(a){return a?a:function(a,c){var b=$jscomp.checkStringArgs(this,a,\"startsWith\");a+=\"\";var e=b.length,f=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var g=0;g<f&&c<e;)if(b[c++]!=a[g++])return!1;return g>=f}},\"es6\",\"es3\");\n$jscomp.polyfill(\"String.prototype.repeat\",function(a){return a?a:function(a){var b=$jscomp.checkStringArgs(this,null,\"repeat\");if(0>a||1342177279<a)throw new RangeError(\"Invalid count value\");a|=0;for(var d=\"\";a;)if(a&1&&(d+=b),a>>>=1)b+=b;return d}},\"es6\",\"es3\");var COMPILED=!0,goog=goog||{};goog.global=this||self;\ngoog.exportPath_=function(a,b,c){a=a.split(\".\");c=c||goog.global;a[0]in c||\"undefined\"==typeof c.execScript||c.execScript(\"var \"+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b};\ngoog.define=function(a,b){if(!COMPILED){var c=goog.global.CLOSURE_UNCOMPILED_DEFINES,d=goog.global.CLOSURE_DEFINES;c&&void 0===c.nodeType&&Object.prototype.hasOwnProperty.call(c,a)?b=c[a]:d&&void 0===d.nodeType&&Object.prototype.hasOwnProperty.call(d,a)&&(b=d[a])}return b};goog.FEATURESET_YEAR=2012;goog.DEBUG=!0;goog.LOCALE=\"en\";goog.TRUSTED_SITE=!0;goog.STRICT_MODE_COMPATIBLE=!1;goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG;goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1;\ngoog.provide=function(a){if(goog.isInModuleLoader_())throw Error(\"goog.provide cannot be used within a module.\");if(!COMPILED&&goog.isProvided_(a))throw Error('Namespace \"'+a+'\" already declared.');goog.constructNamespace_(a)};goog.constructNamespace_=function(a,b){if(!COMPILED){delete goog.implicitNamespaces_[a];for(var c=a;(c=c.substring(0,c.lastIndexOf(\".\")))&&!goog.getObjectByName(c);)goog.implicitNamespaces_[c]=!0}goog.exportPath_(a,b)};\ngoog.getScriptNonce=function(a){if(a&&a!=goog.global)return goog.getScriptNonce_(a.document);null===goog.cspNonce_&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document));return goog.cspNonce_};goog.NONCE_PATTERN_=/^[\\w+/_-]+[=]{0,2}$/;goog.cspNonce_=null;goog.getScriptNonce_=function(a){return(a=a.querySelector&&a.querySelector(\"script[nonce]\"))&&(a=a.nonce||a.getAttribute(\"nonce\"))&&goog.NONCE_PATTERN_.test(a)?a:\"\"};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;\ngoog.module=function(a){if(\"string\"!==typeof a||!a||-1==a.search(goog.VALID_MODULE_RE_))throw Error(\"Invalid module identifier\");if(!goog.isInGoogModuleLoader_())throw Error(\"Module \"+a+\" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.\");\nif(goog.moduleLoaderState_.moduleName)throw Error(\"goog.module may only be called once per module.\");goog.moduleLoaderState_.moduleName=a;if(!COMPILED){if(goog.isProvided_(a))throw Error('Namespace \"'+a+'\" already declared.');delete goog.implicitNamespaces_[a]}};goog.module.get=function(a){return goog.module.getInternal_(a)};\ngoog.module.getInternal_=function(a){if(!COMPILED){if(a in goog.loadedModules_)return goog.loadedModules_[a].exports;if(!goog.implicitNamespaces_[a])return a=goog.getObjectByName(a),null!=a?a:null}return null};goog.ModuleType={ES6:\"es6\",GOOG:\"goog\"};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()};goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG};\ngoog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var a=goog.global.$jscomp;return a?\"function\"!=typeof a.getCurrentModulePath?!1:!!a.getCurrentModulePath():!1};\ngoog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error(\"goog.module.declareLegacyNamespace must be called from within a goog.module\");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error(\"goog.module must be called prior to goog.module.declareLegacyNamespace.\");goog.moduleLoaderState_.declareLegacyNamespace=!0};\ngoog.declareModuleId=function(a){if(!COMPILED){if(!goog.isInEs6ModuleLoader_())throw Error(\"goog.declareModuleId may only be called from within an ES6 module\");if(goog.moduleLoaderState_&&goog.moduleLoaderState_.moduleName)throw Error(\"goog.declareModuleId may only be called once per module.\");if(a in goog.loadedModules_)throw Error('Module with namespace \"'+a+'\" already exists.');}if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=a;else{var b=goog.global.$jscomp;if(!b||\"function\"!=typeof b.getCurrentModulePath)throw Error('Module with namespace \"'+\na+'\" has been loaded incorrectly.');b=b.require(b.getCurrentModulePath());goog.loadedModules_[a]={exports:b,type:goog.ModuleType.ES6,moduleId:a}}};goog.setTestOnly=function(a){if(goog.DISALLOW_TEST_ONLY_CODE)throw a=a||\"\",Error(\"Importing test-only code into non-debug environment\"+(a?\": \"+a:\".\"));};goog.forwardDeclare=function(a){};COMPILED||(goog.isProvided_=function(a){return a in goog.loadedModules_||!goog.implicitNamespaces_[a]&&null!=goog.getObjectByName(a)},goog.implicitNamespaces_={\"goog.module\":!0});\ngoog.getObjectByName=function(a,b){a=a.split(\".\");b=b||goog.global;for(var c=0;c<a.length;c++)if(b=b[a[c]],null==b)return null;return b};goog.globalize=function(a,b){b=b||goog.global;for(var c in a)b[c]=a[c]};goog.addDependency=function(a,b,c,d){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(a,b,c,d)};goog.ENABLE_DEBUG_LOADER=!0;goog.logToConsole_=function(a){goog.global.console&&goog.global.console.error(a)};\ngoog.require=function(a){if(!COMPILED){goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(a);if(goog.isProvided_(a)){if(goog.isInModuleLoader_())return goog.module.getInternal_(a)}else if(goog.ENABLE_DEBUG_LOADER){var b=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(a)}finally{goog.moduleLoaderState_=b}}return null}};goog.requireType=function(a){return{}};goog.basePath=\"\";goog.nullFunction=function(){};\ngoog.abstractMethod=function(){throw Error(\"unimplemented abstract method\");};goog.addSingletonGetter=function(a){a.instance_=void 0;a.getInstance=function(){if(a.instance_)return a.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a);return a.instance_=new a}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!0;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;goog.TRANSPILE=\"detect\";\ngoog.ASSUME_ES_MODULES_TRANSPILED=!1;goog.TRANSPILE_TO_LANGUAGE=\"\";goog.TRANSPILER=\"transpile.js\";goog.hasBadLetScoping=null;goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('\"use strict\";let x = 1; function f() { return typeof x; };f() == \"number\";')}catch(b){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping};goog.workaroundSafari10EvalBug=function(a){return\"(function(){\"+a+\"\\n;})();\\n\"};\ngoog.loadModule=function(a){var b=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:\"\",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG};if(goog.isFunction(a))var c=a.call(void 0,{});else if(\"string\"===typeof a)goog.useSafari10Workaround()&&(a=goog.workaroundSafari10EvalBug(a)),c=goog.loadModuleFromSource_.call(void 0,a);else throw Error(\"Invalid module definition\");var d=goog.moduleLoaderState_.moduleName;if(\"string\"===typeof d&&d)goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(d,\nc):goog.SEAL_MODULE_EXPORTS&&Object.seal&&\"object\"==typeof c&&null!=c&&Object.seal(c),goog.loadedModules_[d]={exports:c,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName};else throw Error('Invalid module name \"'+d+'\"');}finally{goog.moduleLoaderState_=b}};goog.loadModuleFromSource_=function(a){eval(a);return{}};goog.normalizePath_=function(a){a=a.split(\"/\");for(var b=0;b<a.length;)\".\"==a[b]?a.splice(b,1):b&&\"..\"==a[b]&&a[b-1]&&\"..\"!=a[b-1]?a.splice(--b,2):b++;return a.join(\"/\")};\ngoog.loadFileSync_=function(a){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(a);try{var b=new goog.global.XMLHttpRequest;b.open(\"get\",a,!1);b.send();return 0==b.status||200==b.status?b.responseText:null}catch(c){return null}};\ngoog.transpile_=function(a,b,c){var d=goog.global.$jscomp;d||(goog.global.$jscomp=d={});var e=d.transpile;if(!e){var f=goog.basePath+goog.TRANSPILER,g=goog.loadFileSync_(f);if(g){(function(){(0,eval)(g+\"\\n//# sourceURL=\"+f)}).call(goog.global);if(goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the \"transpile\" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=\ngoog.global.$gwtExport.$jscomp.transpile;d=goog.global.$jscomp;e=d.transpile}}e||(e=d.transpile=function(a,b){goog.logToConsole_(b+\" requires transpilation but no transpiler was found.\");return a});return e(a,b,c)};\ngoog.typeOf=function(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";\nelse if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b};goog.isArray=function(a){return\"array\"==goog.typeOf(a)};goog.isArrayLike=function(a){var b=goog.typeOf(a);return\"array\"==b||\"object\"==b&&\"number\"==typeof a.length};goog.isDateLike=function(a){return goog.isObject(a)&&\"function\"==typeof a.getFullYear};goog.isFunction=function(a){return\"function\"==goog.typeOf(a)};goog.isObject=function(a){var b=typeof a;return\"object\"==b&&null!=a||\"function\"==b};\ngoog.getUid=function(a){return Object.prototype.hasOwnProperty.call(a,goog.UID_PROPERTY_)&&a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(a){return!!a[goog.UID_PROPERTY_]};goog.removeUid=function(a){null!==a&&\"removeAttribute\"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(b){}};goog.UID_PROPERTY_=\"closure_uid_\"+(1E9*Math.random()>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;\ngoog.cloneObject=function(a){var b=goog.typeOf(a);if(\"object\"==b||\"array\"==b){if(\"function\"===typeof a.clone)return a.clone();b=\"array\"==b?[]:{};for(var c in a)b[c]=goog.cloneObject(a[c]);return b}return a};goog.bindNative_=function(a,b,c){return a.call.apply(a.bind,arguments)};\ngoog.bindJs_=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}};goog.bind=function(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_;return goog.bind.apply(null,arguments)};\ngoog.partial=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}};goog.mixin=function(a,b){for(var c in b)a[c]=b[c]};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};\ngoog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,\"JavaScript\");else if(goog.global.eval){if(null==goog.evalWorksForGlobals_){try{goog.global.eval(\"var _evalTest_ = 1;\")}catch(d){}if(\"undefined\"!=typeof goog.global._evalTest_){try{delete goog.global._evalTest_}catch(d){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(a);else{var b=goog.global.document,c=b.createElement(\"script\");c.type=\"text/javascript\";c.defer=\n!1;c.appendChild(b.createTextNode(a));b.head.appendChild(c);b.head.removeChild(c)}}else throw Error(\"goog.globalEval not available\");};goog.evalWorksForGlobals_=null;\ngoog.getCssName=function(a,b){if(\".\"==String(a).charAt(0))throw Error('className passed in goog.getCssName must not start with \".\". You passed: '+a);var c=function(a){return goog.cssNameMapping_[a]||a},d=function(a){a=a.split(\"-\");for(var b=[],d=0;d<a.length;d++)b.push(c(a[d]));return b.join(\"-\")};d=goog.cssNameMapping_?\"BY_WHOLE\"==goog.cssNameMappingStyle_?c:d:function(a){return a};a=b?a+\"-\"+d(b):d(a);return goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(a):a};\ngoog.setCssNameMapping=function(a,b){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=b};!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(a,b,c){c&&c.html&&(a=a.replace(/</g,\"&lt;\"));b&&(a=a.replace(/\\{\\$([^}]+)}/g,function(a,c){return null!=b&&c in b?b[c]:a}));return a};goog.getMsgWithFallback=function(a,b){return a};goog.exportSymbol=function(a,b,c){goog.exportPath_(a,b,c)};\ngoog.exportProperty=function(a,b,c){a[b]=c};goog.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};goog.scope=function(a){if(goog.isInModuleLoader_())throw Error(\"goog.scope is not supported within a module.\");a.call(goog.global)};COMPILED||(goog.global.COMPILED=COMPILED);\ngoog.defineClass=function(a,b){var c=b.constructor,d=b.statics;c&&c!=Object.prototype.constructor||(c=function(){throw Error(\"cannot instantiate an interface (no constructor defined).\");});c=goog.defineClass.createSealingConstructor_(c,a);a&&goog.inherits(c,a);delete b.constructor;delete b.statics;goog.defineClass.applyProperties_(c.prototype,b);null!=d&&(d instanceof Function?d(c):goog.defineClass.applyProperties_(c,d));return c};goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;\ngoog.defineClass.createSealingConstructor_=function(a,b){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return a;var c=!goog.defineClass.isUnsealable_(b),d=function(){var b=a.apply(this,arguments)||this;b[goog.UID_PROPERTY_]=b[goog.UID_PROPERTY_];this.constructor===d&&c&&Object.seal instanceof Function&&Object.seal(b);return b};return d};goog.defineClass.isUnsealable_=function(a){return a&&a.prototype&&a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\ngoog.defineClass.applyProperties_=function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);for(var d=0;d<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;d++)c=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[d],Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};goog.tagUnsealableClass=function(a){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_=\"goog_defineClass_legacy_unsealable\";\n!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var a=goog.global.document;return null!=a&&\"write\"in a},goog.isDocumentLoading_=function(){var a=goog.global.document;return a.attachEvent?\"complete\"!=a.readyState:\"loading\"==a.readyState},goog.findBasePath_=function(){if(void 0!=goog.global.CLOSURE_BASE_PATH&&\"string\"===typeof goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var a=goog.global.document,b=a.currentScript;\na=b?[b]:a.getElementsByTagName(\"SCRIPT\");for(b=a.length-1;0<=b;--b){var c=a[b].src,d=c.lastIndexOf(\"?\");d=-1==d?c.length:d;if(\"base.js\"==c.substr(d-7,7)){goog.basePath=c.substr(0,d-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null;this.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(a,b){e?d[a]=!0:b()?(c=a,d[a]=!1):e=d[a]=!0}function b(a){try{return!!eval(a)}catch(h){return!1}}\nvar c=\"es3\",d={es3:!1},e=!1,f=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:\"\";a(\"es5\",function(){return b(\"[1,].length==1\")});a(\"es6\",function(){return f.match(/Edge\\/(\\d+)(\\.\\d)*/i)?!1:b('(()=>{\"use strict\";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')});\na(\"es7\",function(){return b(\"2 ** 2 == 4\")});a(\"es8\",function(){return b(\"async () => 1, true\")});a(\"es9\",function(){return b(\"({...rest} = {}), true\")});a(\"es_next\",function(){return!1});return{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=function(a,b){if(\"always\"==goog.TRANSPILE)return!0;if(\"never\"==goog.TRANSPILE)return!1;if(!this.requiresTranspilation_){var c=this.createRequiresTranspilation_();this.requiresTranspilation_=c.map;this.transpilationTarget_=this.transpilationTarget_||\nc.target}if(a in this.requiresTranspilation_)return this.requiresTranspilation_[a]?!0:!goog.inHtmlDocument_()||\"es6\"!=b||\"noModule\"in goog.global.document.createElement(\"script\")?!1:!0;throw Error(\"Unknown language mode: \"+a);},goog.Transpiler.prototype.transpile=function(a,b){return goog.transpile_(a,b,this.transpilationTarget_)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(a){return a.replace(/<\\/(SCRIPT)/ig,\"\\\\x3c/$1\")},goog.DebugLoader_=function(){this.dependencies_={};\nthis.idToPath_={};this.written_={};this.loadingDeps_=[];this.depsToLoad_=[];this.paused_=!1;this.factory_=new goog.DependencyFactory(goog.transpiler_);this.deferredCallbacks_={};this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(a,b){function c(){d&&(goog.global.setTimeout(d,0),d=null)}var d=b;if(a.length){b=[];for(var e=0;e<a.length;e++){var f=this.getPathFromDeps_(a[e]);if(!f)throw Error(\"Unregonized namespace: \"+a[e]);b.push(this.dependencies_[f])}f=goog.require;var g=0;for(e=\n0;e<a.length;e++)f(a[e]),b[e].onLoad(function(){++g==a.length&&c()})}else c()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+\"deps.js\"),\"deps.js\",[],[],{},!1));this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(a,b){(a=this.getPathFromDeps_(a))&&(b||this.areDepsLoaded_(this.dependencies_[a].requires))&&(b=this.deferredCallbacks_[a])&&(delete this.deferredCallbacks_[a],b())},goog.DebugLoader_.prototype.setDependencyFactory=\nfunction(a){this.factory_=a},goog.DebugLoader_.prototype.load_=function(a){if(this.getPathFromDeps_(a)){var b=this,c=[],d=function(a){var e=b.getPathFromDeps_(a);if(!e)throw Error(\"Bad dependency path or symbol: \"+a);if(!b.written_[e]){b.written_[e]=!0;a=b.dependencies_[e];for(e=0;e<a.requires.length;e++)goog.isProvided_(a.requires[e])||d(a.requires[e]);c.push(a)}};d(a);a=!!this.depsToLoad_.length;this.depsToLoad_=this.depsToLoad_.concat(c);this.paused_||a||this.loadDeps_()}else throw a=\"goog.require could not find: \"+\na,goog.logToConsole_(a),Error(a);},goog.DebugLoader_.prototype.loadDeps_=function(){for(var a=this,b=this.paused_;this.depsToLoad_.length&&!b;)(function(){var c=!1,d=a.depsToLoad_.shift(),e=!1;a.loading_(d);var f={pause:function(){if(c)throw Error(\"Cannot call pause after the call to load.\");b=!0},resume:function(){c?a.resume_():b=!1},loaded:function(){if(e)throw Error(\"Double call to loaded.\");e=!0;a.loaded_(d)},pending:function(){for(var b=[],c=0;c<a.loadingDeps_.length;c++)b.push(a.loadingDeps_[c]);\nreturn b},setModuleState:function(a){goog.moduleLoaderState_={type:a,moduleName:\"\",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(a,b,c){c&&(goog.loadedModules_[c]={exports:b,type:goog.ModuleType.ES6,moduleId:c||\"\"})},registerGoogModuleExports:function(a,b){goog.loadedModules_[a]={exports:b,type:goog.ModuleType.GOOG,moduleId:a}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(b){if(c)throw Error(\"Cannot register with defer after the call to load.\");a.defer_(d,\nb)},areDepsLoaded:function(){return a.areDepsLoaded_(d.requires)}};try{d.load(f)}finally{c=!0}})();b&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(a){this.loadingDeps_.push(a)},goog.DebugLoader_.prototype.loaded_=function(a){for(var b=0;b<this.loadingDeps_.length;b++)if(this.loadingDeps_[b]==a){this.loadingDeps_.splice(b,1);\nbreak}for(b=0;b<this.deferredQueue_.length;b++)if(this.deferredQueue_[b]==a.path){this.deferredQueue_.splice(b,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);a.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(a){for(var b=0;b<a.length;b++){var c=this.getPathFromDeps_(a[b]);if(!c||!(c in this.deferredCallbacks_||goog.isProvided_(a[b])))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=\nfunction(a){return a in this.idToPath_?this.idToPath_[a]:a in this.dependencies_?a:null},goog.DebugLoader_.prototype.defer_=function(a,b){this.deferredCallbacks_[a.path]=b;this.deferredQueue_.push(a.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(a,\nb,c){},goog.LoadController.prototype.setModuleState=function(a){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(a){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(a,b,c,d,e){this.path=a;this.relativePath=b;this.provides=c;this.requires=d;this.loadFlags=e;this.loaded_=!1;this.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=function(){var a=this.path,b=a.indexOf(\"://\");0<=b&&(a=a.substring(b+3),b=\na.indexOf(\"/\"),0<=b&&(a=a.substring(b+1)));return a},goog.Dependency.prototype.onLoad=function(a){this.loaded_?a():this.loadCallbacks_.push(a)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var a=this.loadCallbacks_;this.loadCallbacks_=[];for(var b=0;b<a.length;b++)a[b]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(a){var b=Math.random().toString(32);goog.Dependency.callbackMap_[b]=a;return b},goog.Dependency.unregisterCallback_=\nfunction(a){delete goog.Dependency.callbackMap_[a]},goog.Dependency.callback_=function(a,b){if(a in goog.Dependency.callbackMap_){for(var c=goog.Dependency.callbackMap_[a],d=[],e=1;e<arguments.length;e++)d.push(arguments[e]);c.apply(void 0,d)}else throw Error(\"Callback key \"+a+\" does not exist (was base.js loaded more than once?).\");},goog.Dependency.prototype.load=function(a){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?a.loaded():a.pause();else if(goog.inHtmlDocument_()){var b=\ngoog.global.document;if(\"complete\"==b.readyState&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\\bdeps.js$/.test(this.path)){a.loaded();return}throw Error('Cannot write \"'+this.path+'\" after document load');}if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var c=goog.Dependency.registerCallback_(function(b){goog.DebugLoader_.IS_OLD_IE_&&\"complete\"!=b.readyState||(goog.Dependency.unregisterCallback_(c),a.loaded())}),d=!goog.DebugLoader_.IS_OLD_IE_&&goog.getScriptNonce()?\n' nonce=\"'+goog.getScriptNonce()+'\"':\"\";d='<script src=\"'+this.path+'\" '+(goog.DebugLoader_.IS_OLD_IE_?\"onreadystatechange\":\"onload\")+\"=\\\"goog.Dependency.callback_('\"+c+'\\', this)\" type=\"text/javascript\" '+(goog.Dependency.defer_?\"defer\":\"\")+d+\">\\x3c/script>\";b.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(d):d)}else{var e=b.createElement(\"script\");e.defer=goog.Dependency.defer_;e.async=!1;e.type=\"text/javascript\";(d=goog.getScriptNonce())&&e.setAttribute(\"nonce\",d);goog.DebugLoader_.IS_OLD_IE_?\n(a.pause(),e.onreadystatechange=function(){if(\"loaded\"==e.readyState||\"complete\"==e.readyState)a.loaded(),a.resume()}):e.onload=function(){e.onload=null;a.loaded()};e.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(this.path):this.path;b.head.appendChild(e)}}else goog.logToConsole_(\"Cannot use default debug loader outside of HTML documents.\"),\"deps.js\"==this.relativePath?(goog.logToConsole_(\"Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true.\"),\na.loaded()):a.pause()},goog.Es6ModuleDependency=function(a,b,c,d,e){goog.Dependency.call(this,a,b,c,d,e)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(a){function b(a,b){a=b?'<script type=\"module\" crossorigin>'+b+\"\\x3c/script>\":'<script type=\"module\" crossorigin src=\"'+a+'\">\\x3c/script>';d.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(a):a)}function c(a,b){var c=d.createElement(\"script\");c.defer=!0;c.async=!1;c.type=\n\"module\";c.setAttribute(\"crossorigin\",!0);var e=goog.getScriptNonce();e&&c.setAttribute(\"nonce\",e);b?c.textContent=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScript(b):b:c.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(a):a;d.head.appendChild(c)}if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?a.loaded():a.pause();else if(goog.inHtmlDocument_()){var d=goog.global.document,e=this;if(goog.isDocumentLoading_()){var f=b;goog.Dependency.defer_=\n!0}else f=c;var g=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(g);a.setModuleState(goog.ModuleType.ES6)});f(void 0,'goog.Dependency.callback_(\"'+g+'\")');f(this.path,void 0);var h=goog.Dependency.registerCallback_(function(b){goog.Dependency.unregisterCallback_(h);a.registerEs6ModuleExports(e.path,b,goog.moduleLoaderState_.moduleName)});f(void 0,'import * as m from \"'+this.path+'\"; goog.Dependency.callback_(\"'+h+'\", m)');var k=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(k);\na.clearModuleState();a.loaded()});f(void 0,'goog.Dependency.callback_(\"'+k+'\")')}else goog.logToConsole_(\"Cannot use default debug loader outside of HTML documents.\"),a.pause()},goog.TransformedDependency=function(a,b,c,d,e){goog.Dependency.call(this,a,b,c,d,e);this.contents_=null;this.lazyFetch_=!goog.inHtmlDocument_()||!(\"noModule\"in goog.global.document.createElement(\"script\"))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(a){function b(){e.contents_=\ngoog.loadFileSync_(e.path);e.contents_&&(e.contents_=e.transform(e.contents_),e.contents_&&(e.contents_+=\"\\n//# sourceURL=\"+e.path))}function c(){e.lazyFetch_&&b();if(e.contents_){f&&a.setModuleState(goog.ModuleType.ES6);try{var c=e.contents_;e.contents_=null;goog.globalEval(c);if(f)var d=goog.moduleLoaderState_.moduleName}finally{f&&a.clearModuleState()}f&&goog.global.$jscomp.require.ensure([e.getPathName()],function(){a.registerEs6ModuleExports(e.path,goog.global.$jscomp.require(e.getPathName()),\nd)});a.loaded()}}function d(){var a=goog.global.document,b=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(b);c()}),d='<script type=\"text/javascript\">'+goog.protectScriptTag_('goog.Dependency.callback_(\"'+b+'\");')+\"\\x3c/script>\";a.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(d):d)}var e=this;if(goog.global.CLOSURE_IMPORT_SCRIPT)b(),this.contents_&&goog.global.CLOSURE_IMPORT_SCRIPT(\"\",this.contents_)?(this.contents_=null,a.loaded()):a.pause();\nelse{var f=this.loadFlags.module==goog.ModuleType.ES6;this.lazyFetch_||b();var g=1<a.pending().length,h=g&&goog.DebugLoader_.IS_OLD_IE_;g=goog.Dependency.defer_&&(g||goog.isDocumentLoading_());if(h||g)a.defer(function(){c()});else{var k=goog.global.document;h=goog.inHtmlDocument_()&&\"ActiveXObject\"in goog.global;if(f&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()&&!h){goog.Dependency.defer_=!0;a.pause();var l=k.onreadystatechange;k.onreadystatechange=function(){\"interactive\"==k.readyState&&(k.onreadystatechange=\nl,c(),a.resume());goog.isFunction(l)&&l.apply(void 0,arguments)}}else!goog.DebugLoader_.IS_OLD_IE_&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()?d():c()}}},goog.TransformedDependency.prototype.transform=function(a){},goog.TranspiledDependency=function(a,b,c,d,e,f){goog.TransformedDependency.call(this,a,b,c,d,e);this.transpiler=f},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(a){return this.transpiler.transpile(a,this.getPathName())},\ngoog.PreTranspiledEs6ModuleDependency=function(a,b,c,d,e){goog.TransformedDependency.call(this,a,b,c,d,e)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=function(a){return a},goog.GoogModuleDependency=function(a,b,c,d,e,f,g){goog.TransformedDependency.call(this,a,b,c,d,e);this.needsTranspile_=f;this.transpiler_=g},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=\nfunction(a){this.needsTranspile_&&(a=this.transpiler_.transpile(a,this.getPathName()));return goog.LOAD_MODULE_USING_EVAL&&void 0!==goog.global.JSON?\"goog.loadModule(\"+goog.global.JSON.stringify(a+\"\\n//# sourceURL=\"+this.path+\"\\n\")+\");\":'goog.loadModule(function(exports) {\"use strict\";'+a+\"\\n;return exports});\\n//# sourceURL=\"+this.path+\"\\n\"},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(a,b,c,\nd){b=b||[];a=a.replace(/\\\\/g,\"/\");var e=goog.normalizePath_(goog.basePath+a);d&&\"boolean\"!==typeof d||(d=d?{module:goog.ModuleType.GOOG}:{});c=this.factory_.createDependency(e,a,b,c,d,goog.transpiler_.needsTranspile(d.lang||\"es3\",d.module));this.dependencies_[e]=c;for(c=0;c<b.length;c++)this.idToPath_[b[c]]=e;this.idToPath_[a]=e},goog.DependencyFactory=function(a){this.transpiler=a},goog.DependencyFactory.prototype.createDependency=function(a,b,c,d,e,f){return e.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(a,\nb,c,d,e,f,this.transpiler):f?new goog.TranspiledDependency(a,b,c,d,e,this.transpiler):e.module==goog.ModuleType.ES6?\"never\"==goog.TRANSPILE&&goog.ASSUME_ES_MODULES_TRANSPILED?new goog.PreTranspiledEs6ModuleDependency(a,b,c,d,e):new goog.Es6ModuleDependency(a,b,c,d,e):new goog.Dependency(a,b,c,d,e)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(a){goog.debugLoader_.setDependencyFactory(a)},goog.global.CLOSURE_NO_DEPS||\ngoog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(a,b){goog.debugLoader_.bootstrap(a,b)});goog.TRUSTED_TYPES_POLICY_NAME=\"\";goog.identity_=function(a){return a};goog.createTrustedTypesPolicy=function(a){var b=null,c=goog.global.trustedTypes||goog.global.TrustedTypes;if(!c||!c.createPolicy)return b;try{b=c.createPolicy(a,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(d){goog.logToConsole_(d.message)}return b};\ngoog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+\"#base\"):null;goog.object={};goog.object.is=function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};goog.object.forEach=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)};goog.object.filter=function(a,b,c){var d={},e;for(e in a)b.call(c,a[e],e,a)&&(d[e]=a[e]);return d};goog.object.map=function(a,b,c){var d={},e;for(e in a)d[e]=b.call(c,a[e],e,a);return d};goog.object.some=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return!0;return!1};\ngoog.object.every=function(a,b,c){for(var d in a)if(!b.call(c,a[d],d,a))return!1;return!0};goog.object.getCount=function(a){var b=0,c;for(c in a)b++;return b};goog.object.getAnyKey=function(a){for(var b in a)return b};goog.object.getAnyValue=function(a){for(var b in a)return a[b]};goog.object.contains=function(a,b){return goog.object.containsValue(a,b)};goog.object.getValues=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b};\ngoog.object.getKeys=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};goog.object.getValueByKeys=function(a,b){var c=goog.isArrayLike(b),d=c?b:arguments;for(c=c?0:1;c<d.length;c++){if(null==a)return;a=a[d[c]]}return a};goog.object.containsKey=function(a,b){return null!==a&&b in a};goog.object.containsValue=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1};goog.object.findKey=function(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d};\ngoog.object.findValue=function(a,b,c){return(b=goog.object.findKey(a,b,c))&&a[b]};goog.object.isEmpty=function(a){for(var b in a)return!1;return!0};goog.object.clear=function(a){for(var b in a)delete a[b]};goog.object.remove=function(a,b){var c;(c=b in a)&&delete a[b];return c};goog.object.add=function(a,b,c){if(null!==a&&b in a)throw Error('The object already contains the key \"'+b+'\"');goog.object.set(a,b,c)};goog.object.get=function(a,b,c){return null!==a&&b in a?a[b]:c};\ngoog.object.set=function(a,b,c){a[b]=c};goog.object.setIfUndefined=function(a,b,c){return b in a?a[b]:a[b]=c};goog.object.setWithReturnValueIfNotSet=function(a,b,c){if(b in a)return a[b];c=c();return a[b]=c};goog.object.equals=function(a,b){for(var c in a)if(!(c in b)||a[c]!==b[c])return!1;for(var d in b)if(!(d in a))return!1;return!0};goog.object.clone=function(a){var b={},c;for(c in a)b[c]=a[c];return b};\ngoog.object.unsafeClone=function(a){var b=goog.typeOf(a);if(\"object\"==b||\"array\"==b){if(goog.isFunction(a.clone))return a.clone();b=\"array\"==b?[]:{};for(var c in a)b[c]=goog.object.unsafeClone(a[c]);return b}return a};goog.object.transpose=function(a){var b={},c;for(c in a)b[a[c]]=c;return b};goog.object.PROTOTYPE_FIELDS_=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\ngoog.object.extend=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<goog.object.PROTOTYPE_FIELDS_.length;f++)c=goog.object.PROTOTYPE_FIELDS_[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};\ngoog.object.create=function(a){var b=arguments.length;if(1==b&&Array.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(b%2)throw Error(\"Uneven number of arguments\");for(var c={},d=0;d<b;d+=2)c[arguments[d]]=arguments[d+1];return c};goog.object.createSet=function(a){var b=arguments.length;if(1==b&&Array.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};\ngoog.object.createImmutableView=function(a){var b=a;Object.isFrozen&&!Object.isFrozen(a)&&(b=Object.create(a),Object.freeze(b));return b};goog.object.isImmutableView=function(a){return!!Object.isFrozen&&Object.isFrozen(a)};\ngoog.object.getAllPropertyNames=function(a,b,c){if(!a)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(a);for(var d={};a&&(a!==Object.prototype||b)&&(a!==Function.prototype||c);){for(var e=Object.getOwnPropertyNames(a),f=0;f<e.length;f++)d[e[f]]=!0;a=Object.getPrototypeOf(a)}return goog.object.getKeys(d)};goog.object.getSuperClass=function(a){return(a=Object.getPrototypeOf(a.prototype))&&a.constructor};goog.debug={};goog.debug.Error=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a));this.reportErrorToServer=!0};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name=\"CustomError\";goog.dom={};goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.AssertionError=function(a,b){goog.debug.Error.call(this,goog.asserts.subs_(a,b));this.messagePattern=a};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);goog.asserts.AssertionError.prototype.name=\"AssertionError\";goog.asserts.DEFAULT_ERROR_HANDLER=function(a){throw a;};goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER;\ngoog.asserts.subs_=function(a,b){a=a.split(\"%s\");for(var c=\"\",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:\"%s\");return c+a[d]};goog.asserts.doAssertFailure_=function(a,b,c,d){var e=\"Assertion failed\";if(c){e+=\": \"+c;var f=d}else a&&(e+=\": \"+a,f=b);a=new goog.asserts.AssertionError(\"\"+e,f||[]);goog.asserts.errorHandler_(a)};goog.asserts.setErrorHandler=function(a){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=a)};\ngoog.asserts.assert=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!a&&goog.asserts.doAssertFailure_(\"\",null,b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertExists=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&null==a&&goog.asserts.doAssertFailure_(\"Expected to exist: %s.\",[a],b,Array.prototype.slice.call(arguments,2));return a};\ngoog.asserts.fail=function(a,b){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError(\"Failure\"+(a?\": \"+a:\"\"),Array.prototype.slice.call(arguments,1)))};goog.asserts.assertNumber=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&\"number\"!==typeof a&&goog.asserts.doAssertFailure_(\"Expected number but got %s: %s.\",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};\ngoog.asserts.assertString=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&\"string\"!==typeof a&&goog.asserts.doAssertFailure_(\"Expected string but got %s: %s.\",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertFunction=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(a)&&goog.asserts.doAssertFailure_(\"Expected function but got %s: %s.\",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};\ngoog.asserts.assertObject=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!goog.isObject(a)&&goog.asserts.doAssertFailure_(\"Expected object but got %s: %s.\",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertArray=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&!Array.isArray(a)&&goog.asserts.doAssertFailure_(\"Expected array but got %s: %s.\",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};\ngoog.asserts.assertBoolean=function(a,b,c){goog.asserts.ENABLE_ASSERTS&&\"boolean\"!==typeof a&&goog.asserts.doAssertFailure_(\"Expected boolean but got %s: %s.\",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};goog.asserts.assertElement=function(a,b,c){!goog.asserts.ENABLE_ASSERTS||goog.isObject(a)&&a.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_(\"Expected Element but got %s: %s.\",[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,2));return a};\ngoog.asserts.assertInstanceof=function(a,b,c,d){!goog.asserts.ENABLE_ASSERTS||a instanceof b||goog.asserts.doAssertFailure_(\"Expected instanceof %s but got %s.\",[goog.asserts.getType_(b),goog.asserts.getType_(a)],c,Array.prototype.slice.call(arguments,3));return a};goog.asserts.assertFinite=function(a,b,c){!goog.asserts.ENABLE_ASSERTS||\"number\"==typeof a&&isFinite(a)||goog.asserts.doAssertFailure_(\"Expected %s to be a finite number but it is not.\",[a],b,Array.prototype.slice.call(arguments,2));return a};\ngoog.asserts.assertObjectPrototypeIsIntact=function(){for(var a in Object.prototype)goog.asserts.fail(a+\" should not be enumerable in Object.prototype.\")};goog.asserts.getType_=function(a){return a instanceof Function?a.displayName||a.name||\"unknown type name\":a instanceof Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):null===a?\"null\":typeof a};var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31};jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5};\njspb.BinaryConstants.FieldTypeToWireType=function(a){var b=jspb.BinaryConstants.FieldType,c=jspb.BinaryConstants.WireType;switch(a){case b.INT32:case b.INT64:case b.UINT32:case b.UINT64:case b.SINT32:case b.SINT64:case b.BOOL:case b.ENUM:case b.VHASH64:return c.VARINT;case b.DOUBLE:case b.FIXED64:case b.SFIXED64:case b.FHASH64:return c.FIXED64;case b.STRING:case b.MESSAGE:case b.BYTES:return c.DELIMITED;case b.FLOAT:case b.FIXED32:case b.SFIXED32:return c.FIXED32;default:return c.INVALID}};\njspb.BinaryConstants.INVALID_FIELD_NUMBER=-1;jspb.BinaryConstants.FLOAT32_EPS=1.401298464324817E-45;jspb.BinaryConstants.FLOAT32_MIN=1.1754943508222875E-38;jspb.BinaryConstants.FLOAT32_MAX=3.4028234663852886E38;jspb.BinaryConstants.FLOAT64_EPS=4.9E-324;jspb.BinaryConstants.FLOAT64_MIN=2.2250738585072014E-308;jspb.BinaryConstants.FLOAT64_MAX=1.7976931348623157E308;jspb.BinaryConstants.TWO_TO_20=1048576;jspb.BinaryConstants.TWO_TO_23=8388608;jspb.BinaryConstants.TWO_TO_31=2147483648;\njspb.BinaryConstants.TWO_TO_32=4294967296;jspb.BinaryConstants.TWO_TO_52=4503599627370496;jspb.BinaryConstants.TWO_TO_63=0x7fffffffffffffff;jspb.BinaryConstants.TWO_TO_64=1.8446744073709552E19;jspb.BinaryConstants.ZERO_HASH=\"\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\";goog.array={};goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE;goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR;goog.array.peek=function(a){return a[a.length-1]};goog.array.last=goog.array.peek;\ngoog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(\"string\"===typeof a)return\"string\"!==typeof b||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};\ngoog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.lastIndexOf.call(a,b,null==c?a.length-1:c)}:function(a,b,c){c=null==c?a.length-1:c;0>c&&(c=Math.max(0,a.length+c));if(\"string\"===typeof a)return\"string\"!==typeof b||1!=b.length?-1:a.lastIndexOf(b,c);for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1};\ngoog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(a,b,c){goog.asserts.assert(null!=a.length);Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=\"string\"===typeof a?a.split(\"\"):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};goog.array.forEachRight=function(a,b,c){var d=a.length,e=\"string\"===typeof a?a.split(\"\"):a;for(--d;0<=d;--d)d in e&&b.call(c,e[d],d,a)};\ngoog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=\"string\"===typeof a?a.split(\"\"):a,h=0;h<d;h++)if(h in g){var k=g[h];b.call(c,k,h,a)&&(e[f++]=k)}return e};\ngoog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=\"string\"===typeof a?a.split(\"\"):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};\ngoog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(a,b,c,d){goog.asserts.assert(null!=a.length);d&&(b=goog.bind(b,d));return Array.prototype.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;goog.array.forEach(a,function(c,g){e=b.call(d,e,c,g,a)});return e};\ngoog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(a,b,c,d){goog.asserts.assert(null!=a.length);goog.asserts.assert(null!=b);d&&(b=goog.bind(b,d));return Array.prototype.reduceRight.call(a,b,c)}:function(a,b,c,d){var e=c;goog.array.forEachRight(a,function(c,g){e=b.call(d,e,c,g,a)});return e};\ngoog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=\"string\"===typeof a?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};\ngoog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(a,b,c){goog.asserts.assert(null!=a.length);return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=\"string\"===typeof a?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};goog.array.count=function(a,b,c){var d=0;goog.array.forEach(a,function(a,f,g){b.call(c,a,f,g)&&++d},c);return d};\ngoog.array.find=function(a,b,c){b=goog.array.findIndex(a,b,c);return 0>b?null:\"string\"===typeof a?a.charAt(b):a[b]};goog.array.findIndex=function(a,b,c){for(var d=a.length,e=\"string\"===typeof a?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1};goog.array.findRight=function(a,b,c){b=goog.array.findIndexRight(a,b,c);return 0>b?null:\"string\"===typeof a?a.charAt(b):a[b]};\ngoog.array.findIndexRight=function(a,b,c){var d=a.length,e=\"string\"===typeof a?a.split(\"\"):a;for(--d;0<=d;d--)if(d in e&&b.call(c,e[d],d,a))return d;return-1};goog.array.contains=function(a,b){return 0<=goog.array.indexOf(a,b)};goog.array.isEmpty=function(a){return 0==a.length};goog.array.clear=function(a){if(!Array.isArray(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0};goog.array.insert=function(a,b){goog.array.contains(a,b)||a.push(b)};\ngoog.array.insertAt=function(a,b,c){goog.array.splice(a,c,0,b)};goog.array.insertArrayAt=function(a,b,c){goog.partial(goog.array.splice,a,c,0).apply(null,b)};goog.array.insertBefore=function(a,b,c){var d;2==arguments.length||0>(d=goog.array.indexOf(a,c))?a.push(b):goog.array.insertAt(a,b,d)};goog.array.remove=function(a,b){b=goog.array.indexOf(a,b);var c;(c=0<=b)&&goog.array.removeAt(a,b);return c};\ngoog.array.removeLast=function(a,b){b=goog.array.lastIndexOf(a,b);return 0<=b?(goog.array.removeAt(a,b),!0):!1};goog.array.removeAt=function(a,b){goog.asserts.assert(null!=a.length);return 1==Array.prototype.splice.call(a,b,1).length};goog.array.removeIf=function(a,b,c){b=goog.array.findIndex(a,b,c);return 0<=b?(goog.array.removeAt(a,b),!0):!1};goog.array.removeAllIf=function(a,b,c){var d=0;goog.array.forEachRight(a,function(e,f){b.call(c,e,f,a)&&goog.array.removeAt(a,f)&&d++});return d};\ngoog.array.concat=function(a){return Array.prototype.concat.apply([],arguments)};goog.array.join=function(a){return Array.prototype.concat.apply([],arguments)};goog.array.toArray=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};goog.array.clone=goog.array.toArray;goog.array.extend=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(goog.isArrayLike(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}};\ngoog.array.splice=function(a,b,c,d){goog.asserts.assert(null!=a.length);return Array.prototype.splice.apply(a,goog.array.slice(arguments,1))};goog.array.slice=function(a,b,c){goog.asserts.assert(null!=a.length);return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};\ngoog.array.removeDuplicates=function(a,b,c){b=b||a;var d=function(a){return goog.isObject(a)?\"o\"+goog.getUid(a):(typeof a).charAt(0)+a};c=c||d;d={};for(var e=0,f=0;f<a.length;){var g=a[f++],h=c(g);Object.prototype.hasOwnProperty.call(d,h)||(d[h]=!0,b[e++]=g)}b.length=e};goog.array.binarySearch=function(a,b,c){return goog.array.binarySearch_(a,c||goog.array.defaultCompare,!1,b)};goog.array.binarySelect=function(a,b,c){return goog.array.binarySearch_(a,b,!0,void 0,c)};\ngoog.array.binarySearch_=function(a,b,c,d,e){for(var f=0,g=a.length,h;f<g;){var k=f+(g-f>>>1);var l=c?b.call(e,a[k],k,a):b(d,a[k]);0<l?f=k+1:(g=k,h=!l)}return h?f:-f-1};goog.array.sort=function(a,b){a.sort(b||goog.array.defaultCompare)};goog.array.stableSort=function(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||goog.array.defaultCompare;goog.array.sort(c,function(a,b){return e(a.value,b.value)||a.index-b.index});for(d=0;d<a.length;d++)a[d]=c[d].value};\ngoog.array.sortByKey=function(a,b,c){var d=c||goog.array.defaultCompare;goog.array.sort(a,function(a,c){return d(b(a),b(c))})};goog.array.sortObjectsByKey=function(a,b,c){goog.array.sortByKey(a,function(a){return a[b]},c)};goog.array.isSorted=function(a,b,c){b=b||goog.array.defaultCompare;for(var d=1;d<a.length;d++){var e=b(a[d-1],a[d]);if(0<e||0==e&&c)return!1}return!0};\ngoog.array.equals=function(a,b,c){if(!goog.isArrayLike(a)||!goog.isArrayLike(b)||a.length!=b.length)return!1;var d=a.length;c=c||goog.array.defaultCompareEquality;for(var e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0};goog.array.compare3=function(a,b,c){c=c||goog.array.defaultCompare;for(var d=Math.min(a.length,b.length),e=0;e<d;e++){var f=c(a[e],b[e]);if(0!=f)return f}return goog.array.defaultCompare(a.length,b.length)};goog.array.defaultCompare=function(a,b){return a>b?1:a<b?-1:0};\ngoog.array.inverseDefaultCompare=function(a,b){return-goog.array.defaultCompare(a,b)};goog.array.defaultCompareEquality=function(a,b){return a===b};goog.array.binaryInsert=function(a,b,c){c=goog.array.binarySearch(a,b,c);return 0>c?(goog.array.insertAt(a,b,-(c+1)),!0):!1};goog.array.binaryRemove=function(a,b,c){b=goog.array.binarySearch(a,b,c);return 0<=b?goog.array.removeAt(a,b):!1};\ngoog.array.bucket=function(a,b,c){for(var d={},e=0;e<a.length;e++){var f=a[e],g=b.call(c,f,e,a);void 0!==g&&(d[g]||(d[g]=[])).push(f)}return d};goog.array.toObject=function(a,b,c){var d={};goog.array.forEach(a,function(e,f){d[b.call(c,e,f,a)]=e});return d};goog.array.range=function(a,b,c){var d=[],e=0,f=a;c=c||1;void 0!==b&&(e=a,f=b);if(0>c*(f-e))return[];if(0<c)for(a=e;a<f;a+=c)d.push(a);else for(a=e;a>f;a+=c)d.push(a);return d};goog.array.repeat=function(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c};\ngoog.array.flatten=function(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];if(Array.isArray(d))for(var e=0;e<d.length;e+=8192){var f=goog.array.slice(d,e,e+8192);f=goog.array.flatten.apply(null,f);for(var g=0;g<f.length;g++)b.push(f[g])}else b.push(d)}return b};goog.array.rotate=function(a,b){goog.asserts.assert(null!=a.length);a.length&&(b%=a.length,0<b?Array.prototype.unshift.apply(a,a.splice(-b,b)):0>b&&Array.prototype.push.apply(a,a.splice(0,-b)));return a};\ngoog.array.moveItem=function(a,b,c){goog.asserts.assert(0<=b&&b<a.length);goog.asserts.assert(0<=c&&c<a.length);b=Array.prototype.splice.call(a,b,1);Array.prototype.splice.call(a,c,0,b[0])};goog.array.zip=function(a){if(!arguments.length)return[];for(var b=[],c=arguments[0].length,d=1;d<arguments.length;d++)arguments[d].length<c&&(c=arguments[d].length);for(d=0;d<c;d++){for(var e=[],f=0;f<arguments.length;f++)e.push(arguments[f][d]);b.push(e)}return b};\ngoog.array.shuffle=function(a,b){b=b||Math.random;for(var c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}};goog.array.copyByIndex=function(a,b){var c=[];goog.array.forEach(b,function(b){c.push(a[b])});return c};goog.array.concatMap=function(a,b,c){return goog.array.concat.apply([],goog.array.map(a,b,c))};goog.crypt={};goog.crypt.stringToByteArray=function(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);255<e&&(b[c++]=e&255,e>>=8);b[c++]=e}return b};goog.crypt.byteArrayToString=function(a){if(8192>=a.length)return String.fromCharCode.apply(null,a);for(var b=\"\",c=0;c<a.length;c+=8192){var d=goog.array.slice(a,c,c+8192);b+=String.fromCharCode.apply(null,d)}return b};\ngoog.crypt.byteArrayToHex=function(a,b){return goog.array.map(a,function(a){a=a.toString(16);return 1<a.length?a:\"0\"+a}).join(b||\"\")};goog.crypt.hexToByteArray=function(a){goog.asserts.assert(0==a.length%2,\"Key string length must be multiple of 2\");for(var b=[],c=0;c<a.length;c+=2)b.push(parseInt(a.substring(c,c+2),16));return b};\ngoog.crypt.stringToUtf8ByteArray=function(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(55296==(e&64512)&&d+1<a.length&&56320==(a.charCodeAt(d+1)&64512)?(e=65536+((e&1023)<<10)+(a.charCodeAt(++d)&1023),b[c++]=e>>18|240,b[c++]=e>>12&63|128):b[c++]=e>>12|224,b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b};\ngoog.crypt.utf8ByteArrayToString=function(a){for(var b=[],c=0,d=0;c<a.length;){var e=a[c++];if(128>e)b[d++]=String.fromCharCode(e);else if(191<e&&224>e){var f=a[c++];b[d++]=String.fromCharCode((e&31)<<6|f&63)}else if(239<e&&365>e){f=a[c++];var g=a[c++],h=a[c++];e=((e&7)<<18|(f&63)<<12|(g&63)<<6|h&63)-65536;b[d++]=String.fromCharCode(55296+(e>>10));b[d++]=String.fromCharCode(56320+(e&1023))}else f=a[c++],g=a[c++],b[d++]=String.fromCharCode((e&15)<<12|(f&63)<<6|g&63)}return b.join(\"\")};\ngoog.crypt.xorByteArray=function(a,b){goog.asserts.assert(a.length==b.length,\"XOR array lengths must match\");for(var c=[],d=0;d<a.length;d++)c.push(a[d]^b[d]);return c};goog.dom.asserts={};goog.dom.asserts.assertIsLocation=function(a){if(goog.asserts.ENABLE_ASSERTS){var b=goog.dom.asserts.getWindow_(a);b&&(!a||!(a instanceof b.Location)&&a instanceof b.Element)&&goog.asserts.fail(\"Argument is not a Location (or a non-Element mock); got: %s\",goog.dom.asserts.debugStringForType_(a))}return a};\ngoog.dom.asserts.assertIsElementType_=function(a,b){if(goog.asserts.ENABLE_ASSERTS){var c=goog.dom.asserts.getWindow_(a);c&&\"undefined\"!=typeof c[b]&&(a&&(a instanceof c[b]||!(a instanceof c.Location||a instanceof c.Element))||goog.asserts.fail(\"Argument is not a %s (or a non-Element, non-Location mock); got: %s\",b,goog.dom.asserts.debugStringForType_(a)))}return a};goog.dom.asserts.assertIsHTMLAnchorElement=function(a){return goog.dom.asserts.assertIsElementType_(a,\"HTMLAnchorElement\")};\ngoog.dom.asserts.assertIsHTMLButtonElement=function(a){return goog.dom.asserts.assertIsElementType_(a,\"HTMLButtonElement\")};goog.dom.asserts.assertIsHTMLLinkElement=function(a){return goog.dom.asserts.assertIsElementType_(a,\"HTMLLinkElement\")};goog.dom.asserts.assertIsHTMLImageElement=function(a){return goog.dom.asserts.assertIsElementType_(a,\"HTMLImageElement\")};goog.dom.asserts.assertIsHTMLAudioElement=function(a){return goog.dom.asserts.assertIsElementType_(a,\"HTMLAudioElement\")};\ngoog.dom.asserts.assertIsHTMLVideoElement=function(a){return goog.dom.asserts.assertIsElementType_(a,\"HTMLVideoElement\")};goog.dom.asserts.assertIsHTMLInputElement=function(a){return goog.dom.asserts.assertIsElementType_(a,\"HTMLInputElement\")};goog.dom.asserts.assertIsHTMLTextAreaElement=function(a){return goog.dom.asserts.assertIsElementType_(a,\"HTMLTextAreaElement\")};goog.dom.asserts.assertIsHTMLCanvasElement=function(a){return goog.dom.asserts.assertIsElementType_(a,\"HTMLCanvasElement\")};\ngoog.dom.asserts.assertIsHTMLEmbedElement=function(a){return goog.dom.asserts.assertIsElementType_(a,\"HTMLEmbedElement\")};goog.dom.asserts.assertIsHTMLFormElement=function(a){return goog.dom.asserts.assertIsElementType_(a,\"HTMLFormElement\")};goog.dom.asserts.assertIsHTMLFrameElement=function(a){return goog.dom.asserts.assertIsElementType_(a,\"HTMLFrameElement\")};goog.dom.asserts.assertIsHTMLIFrameElement=function(a){return goog.dom.asserts.assertIsElementType_(a,\"HTMLIFrameElement\")};\ngoog.dom.asserts.assertIsHTMLObjectElement=function(a){return goog.dom.asserts.assertIsElementType_(a,\"HTMLObjectElement\")};goog.dom.asserts.assertIsHTMLScriptElement=function(a){return goog.dom.asserts.assertIsElementType_(a,\"HTMLScriptElement\")};\ngoog.dom.asserts.debugStringForType_=function(a){if(goog.isObject(a))try{return a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a)}catch(b){return\"<object could not be stringified>\"}else return void 0===a?\"undefined\":null===a?\"null\":typeof a};goog.dom.asserts.getWindow_=function(a){try{var b=a&&a.ownerDocument,c=b&&(b.defaultView||b.parentWindow);c=c||goog.global;if(c.Element&&c.Location)return c}catch(d){}return null};goog.functions={};goog.functions.constant=function(a){return function(){return a}};goog.functions.FALSE=function(){return!1};goog.functions.TRUE=function(){return!0};goog.functions.NULL=function(){return null};goog.functions.identity=function(a,b){return a};goog.functions.error=function(a){return function(){throw Error(a);}};goog.functions.fail=function(a){return function(){throw a;}};\ngoog.functions.lock=function(a,b){b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};goog.functions.nth=function(a){return function(){return arguments[a]}};goog.functions.partialRight=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.push.apply(b,c);return a.apply(this,b)}};goog.functions.withReturnValue=function(a,b){return goog.functions.sequence(a,goog.functions.constant(b))};\ngoog.functions.equalTo=function(a,b){return function(c){return b?a==c:a===c}};goog.functions.compose=function(a,b){var c=arguments,d=c.length;return function(){var a;d&&(a=c[d-1].apply(this,arguments));for(var b=d-2;0<=b;b--)a=c[b].call(this,a);return a}};goog.functions.sequence=function(a){var b=arguments,c=b.length;return function(){for(var a,e=0;e<c;e++)a=b[e].apply(this,arguments);return a}};\ngoog.functions.and=function(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};goog.functions.or=function(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(b[a].apply(this,arguments))return!0;return!1}};goog.functions.not=function(a){return function(){return!a.apply(this,arguments)}};\ngoog.functions.create=function(a,b){var c=function(){};c.prototype=a.prototype;c=new c;a.apply(c,Array.prototype.slice.call(arguments,1));return c};goog.functions.CACHE_RETURN_VALUE=!0;goog.functions.cacheReturnValue=function(a){var b=!1,c;return function(){if(!goog.functions.CACHE_RETURN_VALUE)return a();b||(c=a(),b=!0);return c}};goog.functions.once=function(a){var b=a;return function(){if(b){var a=b;b=null;a()}}};\ngoog.functions.debounce=function(a,b,c){var d=0;return function(e){goog.global.clearTimeout(d);var f=arguments;d=goog.global.setTimeout(function(){a.apply(c,f)},b)}};goog.functions.throttle=function(a,b,c){var d=0,e=!1,f=[],g=function(){d=0;e&&(e=!1,h())},h=function(){d=goog.global.setTimeout(g,b);a.apply(c,f)};return function(a){f=arguments;d?e=!0:h()}};goog.functions.rateLimit=function(a,b,c){var d=0,e=function(){d=0};return function(f){d||(d=goog.global.setTimeout(e,b),a.apply(c,arguments))}};goog.dom.HtmlElement=function(){};goog.dom.TagName=function(a){this.tagName_=a};goog.dom.TagName.prototype.toString=function(){return this.tagName_};goog.dom.TagName.A=new goog.dom.TagName(\"A\");goog.dom.TagName.ABBR=new goog.dom.TagName(\"ABBR\");goog.dom.TagName.ACRONYM=new goog.dom.TagName(\"ACRONYM\");goog.dom.TagName.ADDRESS=new goog.dom.TagName(\"ADDRESS\");goog.dom.TagName.APPLET=new goog.dom.TagName(\"APPLET\");goog.dom.TagName.AREA=new goog.dom.TagName(\"AREA\");goog.dom.TagName.ARTICLE=new goog.dom.TagName(\"ARTICLE\");\ngoog.dom.TagName.ASIDE=new goog.dom.TagName(\"ASIDE\");goog.dom.TagName.AUDIO=new goog.dom.TagName(\"AUDIO\");goog.dom.TagName.B=new goog.dom.TagName(\"B\");goog.dom.TagName.BASE=new goog.dom.TagName(\"BASE\");goog.dom.TagName.BASEFONT=new goog.dom.TagName(\"BASEFONT\");goog.dom.TagName.BDI=new goog.dom.TagName(\"BDI\");goog.dom.TagName.BDO=new goog.dom.TagName(\"BDO\");goog.dom.TagName.BIG=new goog.dom.TagName(\"BIG\");goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName(\"BLOCKQUOTE\");goog.dom.TagName.BODY=new goog.dom.TagName(\"BODY\");\ngoog.dom.TagName.BR=new goog.dom.TagName(\"BR\");goog.dom.TagName.BUTTON=new goog.dom.TagName(\"BUTTON\");goog.dom.TagName.CANVAS=new goog.dom.TagName(\"CANVAS\");goog.dom.TagName.CAPTION=new goog.dom.TagName(\"CAPTION\");goog.dom.TagName.CENTER=new goog.dom.TagName(\"CENTER\");goog.dom.TagName.CITE=new goog.dom.TagName(\"CITE\");goog.dom.TagName.CODE=new goog.dom.TagName(\"CODE\");goog.dom.TagName.COL=new goog.dom.TagName(\"COL\");goog.dom.TagName.COLGROUP=new goog.dom.TagName(\"COLGROUP\");\ngoog.dom.TagName.COMMAND=new goog.dom.TagName(\"COMMAND\");goog.dom.TagName.DATA=new goog.dom.TagName(\"DATA\");goog.dom.TagName.DATALIST=new goog.dom.TagName(\"DATALIST\");goog.dom.TagName.DD=new goog.dom.TagName(\"DD\");goog.dom.TagName.DEL=new goog.dom.TagName(\"DEL\");goog.dom.TagName.DETAILS=new goog.dom.TagName(\"DETAILS\");goog.dom.TagName.DFN=new goog.dom.TagName(\"DFN\");goog.dom.TagName.DIALOG=new goog.dom.TagName(\"DIALOG\");goog.dom.TagName.DIR=new goog.dom.TagName(\"DIR\");goog.dom.TagName.DIV=new goog.dom.TagName(\"DIV\");\ngoog.dom.TagName.DL=new goog.dom.TagName(\"DL\");goog.dom.TagName.DT=new goog.dom.TagName(\"DT\");goog.dom.TagName.EM=new goog.dom.TagName(\"EM\");goog.dom.TagName.EMBED=new goog.dom.TagName(\"EMBED\");goog.dom.TagName.FIELDSET=new goog.dom.TagName(\"FIELDSET\");goog.dom.TagName.FIGCAPTION=new goog.dom.TagName(\"FIGCAPTION\");goog.dom.TagName.FIGURE=new goog.dom.TagName(\"FIGURE\");goog.dom.TagName.FONT=new goog.dom.TagName(\"FONT\");goog.dom.TagName.FOOTER=new goog.dom.TagName(\"FOOTER\");goog.dom.TagName.FORM=new goog.dom.TagName(\"FORM\");\ngoog.dom.TagName.FRAME=new goog.dom.TagName(\"FRAME\");goog.dom.TagName.FRAMESET=new goog.dom.TagName(\"FRAMESET\");goog.dom.TagName.H1=new goog.dom.TagName(\"H1\");goog.dom.TagName.H2=new goog.dom.TagName(\"H2\");goog.dom.TagName.H3=new goog.dom.TagName(\"H3\");goog.dom.TagName.H4=new goog.dom.TagName(\"H4\");goog.dom.TagName.H5=new goog.dom.TagName(\"H5\");goog.dom.TagName.H6=new goog.dom.TagName(\"H6\");goog.dom.TagName.HEAD=new goog.dom.TagName(\"HEAD\");goog.dom.TagName.HEADER=new goog.dom.TagName(\"HEADER\");\ngoog.dom.TagName.HGROUP=new goog.dom.TagName(\"HGROUP\");goog.dom.TagName.HR=new goog.dom.TagName(\"HR\");goog.dom.TagName.HTML=new goog.dom.TagName(\"HTML\");goog.dom.TagName.I=new goog.dom.TagName(\"I\");goog.dom.TagName.IFRAME=new goog.dom.TagName(\"IFRAME\");goog.dom.TagName.IMG=new goog.dom.TagName(\"IMG\");goog.dom.TagName.INPUT=new goog.dom.TagName(\"INPUT\");goog.dom.TagName.INS=new goog.dom.TagName(\"INS\");goog.dom.TagName.ISINDEX=new goog.dom.TagName(\"ISINDEX\");goog.dom.TagName.KBD=new goog.dom.TagName(\"KBD\");\ngoog.dom.TagName.KEYGEN=new goog.dom.TagName(\"KEYGEN\");goog.dom.TagName.LABEL=new goog.dom.TagName(\"LABEL\");goog.dom.TagName.LEGEND=new goog.dom.TagName(\"LEGEND\");goog.dom.TagName.LI=new goog.dom.TagName(\"LI\");goog.dom.TagName.LINK=new goog.dom.TagName(\"LINK\");goog.dom.TagName.MAIN=new goog.dom.TagName(\"MAIN\");goog.dom.TagName.MAP=new goog.dom.TagName(\"MAP\");goog.dom.TagName.MARK=new goog.dom.TagName(\"MARK\");goog.dom.TagName.MATH=new goog.dom.TagName(\"MATH\");goog.dom.TagName.MENU=new goog.dom.TagName(\"MENU\");\ngoog.dom.TagName.MENUITEM=new goog.dom.TagName(\"MENUITEM\");goog.dom.TagName.META=new goog.dom.TagName(\"META\");goog.dom.TagName.METER=new goog.dom.TagName(\"METER\");goog.dom.TagName.NAV=new goog.dom.TagName(\"NAV\");goog.dom.TagName.NOFRAMES=new goog.dom.TagName(\"NOFRAMES\");goog.dom.TagName.NOSCRIPT=new goog.dom.TagName(\"NOSCRIPT\");goog.dom.TagName.OBJECT=new goog.dom.TagName(\"OBJECT\");goog.dom.TagName.OL=new goog.dom.TagName(\"OL\");goog.dom.TagName.OPTGROUP=new goog.dom.TagName(\"OPTGROUP\");\ngoog.dom.TagName.OPTION=new goog.dom.TagName(\"OPTION\");goog.dom.TagName.OUTPUT=new goog.dom.TagName(\"OUTPUT\");goog.dom.TagName.P=new goog.dom.TagName(\"P\");goog.dom.TagName.PARAM=new goog.dom.TagName(\"PARAM\");goog.dom.TagName.PICTURE=new goog.dom.TagName(\"PICTURE\");goog.dom.TagName.PRE=new goog.dom.TagName(\"PRE\");goog.dom.TagName.PROGRESS=new goog.dom.TagName(\"PROGRESS\");goog.dom.TagName.Q=new goog.dom.TagName(\"Q\");goog.dom.TagName.RP=new goog.dom.TagName(\"RP\");goog.dom.TagName.RT=new goog.dom.TagName(\"RT\");\ngoog.dom.TagName.RTC=new goog.dom.TagName(\"RTC\");goog.dom.TagName.RUBY=new goog.dom.TagName(\"RUBY\");goog.dom.TagName.S=new goog.dom.TagName(\"S\");goog.dom.TagName.SAMP=new goog.dom.TagName(\"SAMP\");goog.dom.TagName.SCRIPT=new goog.dom.TagName(\"SCRIPT\");goog.dom.TagName.SECTION=new goog.dom.TagName(\"SECTION\");goog.dom.TagName.SELECT=new goog.dom.TagName(\"SELECT\");goog.dom.TagName.SMALL=new goog.dom.TagName(\"SMALL\");goog.dom.TagName.SOURCE=new goog.dom.TagName(\"SOURCE\");goog.dom.TagName.SPAN=new goog.dom.TagName(\"SPAN\");\ngoog.dom.TagName.STRIKE=new goog.dom.TagName(\"STRIKE\");goog.dom.TagName.STRONG=new goog.dom.TagName(\"STRONG\");goog.dom.TagName.STYLE=new goog.dom.TagName(\"STYLE\");goog.dom.TagName.SUB=new goog.dom.TagName(\"SUB\");goog.dom.TagName.SUMMARY=new goog.dom.TagName(\"SUMMARY\");goog.dom.TagName.SUP=new goog.dom.TagName(\"SUP\");goog.dom.TagName.SVG=new goog.dom.TagName(\"SVG\");goog.dom.TagName.TABLE=new goog.dom.TagName(\"TABLE\");goog.dom.TagName.TBODY=new goog.dom.TagName(\"TBODY\");goog.dom.TagName.TD=new goog.dom.TagName(\"TD\");\ngoog.dom.TagName.TEMPLATE=new goog.dom.TagName(\"TEMPLATE\");goog.dom.TagName.TEXTAREA=new goog.dom.TagName(\"TEXTAREA\");goog.dom.TagName.TFOOT=new goog.dom.TagName(\"TFOOT\");goog.dom.TagName.TH=new goog.dom.TagName(\"TH\");goog.dom.TagName.THEAD=new goog.dom.TagName(\"THEAD\");goog.dom.TagName.TIME=new goog.dom.TagName(\"TIME\");goog.dom.TagName.TITLE=new goog.dom.TagName(\"TITLE\");goog.dom.TagName.TR=new goog.dom.TagName(\"TR\");goog.dom.TagName.TRACK=new goog.dom.TagName(\"TRACK\");goog.dom.TagName.TT=new goog.dom.TagName(\"TT\");\ngoog.dom.TagName.U=new goog.dom.TagName(\"U\");goog.dom.TagName.UL=new goog.dom.TagName(\"UL\");goog.dom.TagName.VAR=new goog.dom.TagName(\"VAR\");goog.dom.TagName.VIDEO=new goog.dom.TagName(\"VIDEO\");goog.dom.TagName.WBR=new goog.dom.TagName(\"WBR\");goog.dom.tags={};goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};goog.dom.tags.isVoidTag=function(a){return!0===goog.dom.tags.VOID_TAGS_[a]};goog.html={};goog.html.trustedtypes={};goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+\"#html\"):null;goog.string={};goog.string.TypedString=function(){};goog.string.Const=function(a,b){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=a===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&b||\"\";this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_};goog.string.Const.prototype.implementsGoogStringTypedString=!0;goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_};\ngoog.DEBUG&&(goog.string.Const.prototype.toString=function(){return\"Const{\"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+\"}\"});goog.string.Const.unwrap=function(a){if(a instanceof goog.string.Const&&a.constructor===goog.string.Const&&a.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_)return a.stringConstValueWithSecurityContract__googStringSecurityPrivate_;goog.asserts.fail(\"expected object of type Const, got '\"+a+\"'\");return\"type_error:Const\"};\ngoog.string.Const.from=function(a){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,a)};goog.string.Const.TYPE_MARKER_={};goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={};goog.string.Const.EMPTY=goog.string.Const.from(\"\");goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_=\"\";this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0;goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeScript.fromConstant=function(a){a=goog.string.Const.unwrap(a);return 0===a.length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(a)};\ngoog.html.SafeScript.fromConstantAndArgs=function(a,b){for(var c=[],d=1;d<arguments.length;d++)c.push(goog.html.SafeScript.stringify_(arguments[d]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(\"(\"+goog.string.Const.unwrap(a)+\")(\"+c.join(\", \")+\");\")};goog.html.SafeScript.fromJson=function(a){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(a))};goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()};\ngoog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return\"SafeScript{\"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+\"}\"});goog.html.SafeScript.unwrap=function(a){return goog.html.SafeScript.unwrapTrustedScript(a).toString()};\ngoog.html.SafeScript.unwrapTrustedScript=function(a){if(a instanceof goog.html.SafeScript&&a.constructor===goog.html.SafeScript&&a.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeScriptWrappedValue_;goog.asserts.fail(\"expected object of type SafeScript, got '\"+a+\"' of type \"+goog.typeOf(a));return\"type_error:SafeScript\"};\ngoog.html.SafeScript.stringify_=function(a){return JSON.stringify(a).replace(/</g,\"\\\\x3c\")};goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(a){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(a)};\ngoog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(a):a;return this};goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(\"\");goog.fs={};goog.fs.url={};goog.fs.url.createObjectUrl=function(a){return goog.fs.url.getUrlObject_().createObjectURL(a)};goog.fs.url.revokeObjectUrl=function(a){goog.fs.url.getUrlObject_().revokeObjectURL(a)};goog.fs.url.UrlObject_=function(){};goog.fs.url.UrlObject_.prototype.createObjectURL=function(a){};goog.fs.url.UrlObject_.prototype.revokeObjectURL=function(a){};\ngoog.fs.url.getUrlObject_=function(){var a=goog.fs.url.findUrlObject_();if(null!=a)return a;throw Error(\"This browser doesn't seem to support blob URLs\");};goog.fs.url.findUrlObject_=function(){return void 0!==goog.global.URL&&void 0!==goog.global.URL.createObjectURL?goog.global.URL:void 0!==goog.global.webkitURL&&void 0!==goog.global.webkitURL.createObjectURL?goog.global.webkitURL:void 0!==goog.global.createObjectURL?goog.global:null};\ngoog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()};goog.fs.blob={};goog.fs.blob.getBlob=function(a){var b=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(void 0!==b){b=new b;for(var c=0;c<arguments.length;c++)b.append(arguments[c]);return b.getBlob()}return goog.fs.blob.getBlobWithProperties(goog.array.toArray(arguments))};\ngoog.fs.blob.getBlobWithProperties=function(a,b,c){var d=goog.global.BlobBuilder||goog.global.WebKitBlobBuilder;if(void 0!==d){d=new d;for(var e=0;e<a.length;e++)d.append(a[e],c);return d.getBlob(b)}if(void 0!==goog.global.Blob)return d={},b&&(d.type=b),c&&(d.endings=c),new Blob(a,d);throw Error(\"This browser doesn't seem to support creating Blobs\");};goog.i18n={};goog.i18n.bidi={};goog.i18n.bidi.FORCE_RTL=!1;\ngoog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(\"ar\"==goog.LOCALE.substring(0,2).toLowerCase()||\"fa\"==goog.LOCALE.substring(0,2).toLowerCase()||\"he\"==goog.LOCALE.substring(0,2).toLowerCase()||\"iw\"==goog.LOCALE.substring(0,2).toLowerCase()||\"ps\"==goog.LOCALE.substring(0,2).toLowerCase()||\"sd\"==goog.LOCALE.substring(0,2).toLowerCase()||\"ug\"==goog.LOCALE.substring(0,2).toLowerCase()||\"ur\"==goog.LOCALE.substring(0,2).toLowerCase()||\"yi\"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||\n\"-\"==goog.LOCALE.substring(2,3)||\"_\"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&\"ckb\"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||\"-\"==goog.LOCALE.substring(3,4)||\"_\"==goog.LOCALE.substring(3,4))||7<=goog.LOCALE.length&&(\"-\"==goog.LOCALE.substring(2,3)||\"_\"==goog.LOCALE.substring(2,3))&&(\"adlm\"==goog.LOCALE.substring(3,7).toLowerCase()||\"arab\"==goog.LOCALE.substring(3,7).toLowerCase()||\"hebr\"==goog.LOCALE.substring(3,7).toLowerCase()||\"nkoo\"==goog.LOCALE.substring(3,\n7).toLowerCase()||\"rohg\"==goog.LOCALE.substring(3,7).toLowerCase()||\"thaa\"==goog.LOCALE.substring(3,7).toLowerCase())||8<=goog.LOCALE.length&&(\"-\"==goog.LOCALE.substring(3,4)||\"_\"==goog.LOCALE.substring(3,4))&&(\"adlm\"==goog.LOCALE.substring(4,8).toLowerCase()||\"arab\"==goog.LOCALE.substring(4,8).toLowerCase()||\"hebr\"==goog.LOCALE.substring(4,8).toLowerCase()||\"nkoo\"==goog.LOCALE.substring(4,8).toLowerCase()||\"rohg\"==goog.LOCALE.substring(4,8).toLowerCase()||\"thaa\"==goog.LOCALE.substring(4,8).toLowerCase());\ngoog.i18n.bidi.Format={LRE:\"\\u202a\",RLE:\"\\u202b\",PDF:\"\\u202c\",LRM:\"\\u200e\",RLM:\"\\u200f\"};goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0};goog.i18n.bidi.RIGHT=\"right\";goog.i18n.bidi.LEFT=\"left\";goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT;goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT;\ngoog.i18n.bidi.toDir=function(a,b){return\"number\"==typeof a?0<a?goog.i18n.bidi.Dir.LTR:0>a?goog.i18n.bidi.Dir.RTL:b?null:goog.i18n.bidi.Dir.NEUTRAL:null==a?null:a?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};goog.i18n.bidi.ltrChars_=\"A-Za-z\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u02b8\\u0300-\\u0590\\u0900-\\u1fff\\u200e\\u2c00-\\ud801\\ud804-\\ud839\\ud83c-\\udbff\\uf900-\\ufb1c\\ufe00-\\ufe6f\\ufefd-\\uffff\";goog.i18n.bidi.rtlChars_=\"\\u0591-\\u06ef\\u06fa-\\u08ff\\u200f\\ud802-\\ud803\\ud83a-\\ud83b\\ufb1d-\\ufdff\\ufe70-\\ufefc\";\ngoog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g;goog.i18n.bidi.stripHtmlIfNeeded_=function(a,b){return b?a.replace(goog.i18n.bidi.htmlSkipReg_,\"\"):a};goog.i18n.bidi.rtlCharReg_=new RegExp(\"[\"+goog.i18n.bidi.rtlChars_+\"]\");goog.i18n.bidi.ltrCharReg_=new RegExp(\"[\"+goog.i18n.bidi.ltrChars_+\"]\");goog.i18n.bidi.hasAnyRtl=function(a,b){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl;\ngoog.i18n.bidi.hasAnyLtr=function(a,b){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.ltrRe_=new RegExp(\"^[\"+goog.i18n.bidi.ltrChars_+\"]\");goog.i18n.bidi.rtlRe_=new RegExp(\"^[\"+goog.i18n.bidi.rtlChars_+\"]\");goog.i18n.bidi.isRtlChar=function(a){return goog.i18n.bidi.rtlRe_.test(a)};goog.i18n.bidi.isLtrChar=function(a){return goog.i18n.bidi.ltrRe_.test(a)};goog.i18n.bidi.isNeutralChar=function(a){return!goog.i18n.bidi.isLtrChar(a)&&!goog.i18n.bidi.isRtlChar(a)};\ngoog.i18n.bidi.ltrDirCheckRe_=new RegExp(\"^[^\"+goog.i18n.bidi.rtlChars_+\"]*[\"+goog.i18n.bidi.ltrChars_+\"]\");goog.i18n.bidi.rtlDirCheckRe_=new RegExp(\"^[^\"+goog.i18n.bidi.ltrChars_+\"]*[\"+goog.i18n.bidi.rtlChars_+\"]\");goog.i18n.bidi.startsWithRtl=function(a,b){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl;\ngoog.i18n.bidi.startsWithLtr=function(a,b){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr;goog.i18n.bidi.isRequiredLtrRe_=/^http:\\/\\/.*/;goog.i18n.bidi.isNeutralText=function(a,b){a=goog.i18n.bidi.stripHtmlIfNeeded_(a,b);return goog.i18n.bidi.isRequiredLtrRe_.test(a)||!goog.i18n.bidi.hasAnyLtr(a)&&!goog.i18n.bidi.hasAnyRtl(a)};\ngoog.i18n.bidi.ltrExitDirCheckRe_=new RegExp(\"[\"+goog.i18n.bidi.ltrChars_+\"][^\"+goog.i18n.bidi.rtlChars_+\"]*$\");goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp(\"[\"+goog.i18n.bidi.rtlChars_+\"][^\"+goog.i18n.bidi.ltrChars_+\"]*$\");goog.i18n.bidi.endsWithLtr=function(a,b){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr;\ngoog.i18n.bidi.endsWithRtl=function(a,b){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl;goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;goog.i18n.bidi.isRtlLanguage=function(a){return goog.i18n.bidi.rtlLocalesRe_.test(a)};goog.i18n.bidi.bracketGuardTextRe_=/(\\(.*?\\)+)|(\\[.*?\\]+)|(\\{.*?\\}+)|(<.*?>+)/g;\ngoog.i18n.bidi.guardBracketInText=function(a,b){b=(void 0===b?goog.i18n.bidi.hasAnyRtl(a):b)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return a.replace(goog.i18n.bidi.bracketGuardTextRe_,b+\"$&\"+b)};goog.i18n.bidi.enforceRtlInHtml=function(a){return\"<\"==a.charAt(0)?a.replace(/<\\w+/,\"$& dir=rtl\"):\"\\n<span dir=rtl>\"+a+\"</span>\"};goog.i18n.bidi.enforceRtlInText=function(a){return goog.i18n.bidi.Format.RLE+a+goog.i18n.bidi.Format.PDF};\ngoog.i18n.bidi.enforceLtrInHtml=function(a){return\"<\"==a.charAt(0)?a.replace(/<\\w+/,\"$& dir=ltr\"):\"\\n<span dir=ltr>\"+a+\"</span>\"};goog.i18n.bidi.enforceLtrInText=function(a){return goog.i18n.bidi.Format.LRE+a+goog.i18n.bidi.Format.PDF};goog.i18n.bidi.dimensionsRe_=/:\\s*([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)/g;goog.i18n.bidi.leftRe_=/left/gi;goog.i18n.bidi.rightRe_=/right/gi;goog.i18n.bidi.tempRe_=/%%%%/g;\ngoog.i18n.bidi.mirrorCSS=function(a){return a.replace(goog.i18n.bidi.dimensionsRe_,\":$1 $4 $3 $2\").replace(goog.i18n.bidi.leftRe_,\"%%%%\").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)};goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\\u0591-\\u05f2])\"/g;goog.i18n.bidi.singleQuoteSubstituteRe_=/([\\u0591-\\u05f2])'/g;\ngoog.i18n.bidi.normalizeHebrewQuote=function(a){return a.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,\"$1\\u05f4\").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,\"$1\\u05f3\")};goog.i18n.bidi.wordSeparatorRe_=/\\s+/;goog.i18n.bidi.hasNumeralsRe_=/[\\d\\u06f0-\\u06f9]/;goog.i18n.bidi.rtlDetectionThreshold_=.4;\ngoog.i18n.bidi.estimateDirection=function(a,b){var c=0,d=0,e=!1;a=goog.i18n.bidi.stripHtmlIfNeeded_(a,b).split(goog.i18n.bidi.wordSeparatorRe_);for(b=0;b<a.length;b++){var f=a[b];goog.i18n.bidi.startsWithRtl(f)?(c++,d++):goog.i18n.bidi.isRequiredLtrRe_.test(f)?e=!0:goog.i18n.bidi.hasAnyLtr(f)?d++:goog.i18n.bidi.hasNumeralsRe_.test(f)&&(e=!0)}return 0==d?e?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:c/d>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};\ngoog.i18n.bidi.detectRtlDirectionality=function(a,b){return goog.i18n.bidi.estimateDirection(a,b)==goog.i18n.bidi.Dir.RTL};goog.i18n.bidi.setElementDirAndAlign=function(a,b){a&&(b=goog.i18n.bidi.toDir(b))&&(a.style.textAlign=b==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,a.dir=b==goog.i18n.bidi.Dir.RTL?\"rtl\":\"ltr\")};\ngoog.i18n.bidi.setElementDirByTextDirectionality=function(a,b){switch(goog.i18n.bidi.estimateDirection(b)){case goog.i18n.bidi.Dir.LTR:a.dir=\"ltr\";break;case goog.i18n.bidi.Dir.RTL:a.dir=\"rtl\";break;default:a.removeAttribute(\"dir\")}};goog.i18n.bidi.DirectionalString=function(){};goog.html.TrustedResourceUrl=function(a,b){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=a===goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&b||\"\";this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0;goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()};\ngoog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR};\ngoog.html.TrustedResourceUrl.prototype.cloneWithParams=function(a,b){var c=goog.html.TrustedResourceUrl.unwrap(this);c=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(c);var d=c[3]||\"\";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(c[1]+goog.html.TrustedResourceUrl.stringifyParams_(\"?\",c[2]||\"\",a)+goog.html.TrustedResourceUrl.stringifyParams_(\"#\",d,b))};\ngoog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return\"TrustedResourceUrl{\"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+\"}\"});goog.html.TrustedResourceUrl.unwrap=function(a){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(a).toString()};\ngoog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(a){if(a instanceof goog.html.TrustedResourceUrl&&a.constructor===goog.html.TrustedResourceUrl&&a.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;goog.asserts.fail(\"expected object of type TrustedResourceUrl, got '\"+a+\"' of type \"+goog.typeOf(a));return\"type_error:TrustedResourceUrl\"};\ngoog.html.TrustedResourceUrl.format=function(a,b){var c=goog.string.Const.unwrap(a);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(c))throw Error(\"Invalid TrustedResourceUrl format: \"+c);a=c.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(a,e){if(!Object.prototype.hasOwnProperty.call(b,e))throw Error('Found marker, \"'+e+'\", in format string, \"'+c+'\", but no valid label mapping found in args: '+JSON.stringify(b));a=b[e];return a instanceof goog.string.Const?goog.string.Const.unwrap(a):\nencodeURIComponent(String(a))});return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\\w+)}/g;goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\\/\\/[0-9a-z.:[\\]-]+\\/|\\/[^/\\\\]|[^:/\\\\%]+\\/|[^:/\\\\%]*[?#]|about:blank#)/i;goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\\?[^#]*)?(#[\\s\\S]*)?/;\ngoog.html.TrustedResourceUrl.formatWithParams=function(a,b,c,d){return goog.html.TrustedResourceUrl.format(a,b).cloneWithParams(c,d)};goog.html.TrustedResourceUrl.fromConstant=function(a){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(a))};goog.html.TrustedResourceUrl.fromConstants=function(a){for(var b=\"\",c=0;c<a.length;c++)b+=goog.string.Const.unwrap(a[c]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(b)};\ngoog.html.TrustedResourceUrl.fromSafeScript=function(a){a=goog.fs.blob.getBlobWithProperties([goog.html.SafeScript.unwrap(a)],\"text/javascript\");a=goog.fs.url.createObjectUrl(a);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};\ngoog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(a){a=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(a):a;return new goog.html.TrustedResourceUrl(goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_,a)};\ngoog.html.TrustedResourceUrl.stringifyParams_=function(a,b,c){if(null==c)return b;if(\"string\"===typeof c)return c?a+encodeURIComponent(c):\"\";for(var d in c){var e=c[d];e=Array.isArray(e)?e:[e];for(var f=0;f<e.length;f++){var g=e[f];null!=g&&(b||(b=a),b+=(b.length>a.length?\"&\":\"\")+encodeURIComponent(d)+\"=\"+encodeURIComponent(String(g)))}}return b};goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_={};goog.string.internal={};goog.string.internal.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};goog.string.internal.endsWith=function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c};goog.string.internal.caseInsensitiveStartsWith=function(a,b){return 0==goog.string.internal.caseInsensitiveCompare(b,a.substr(0,b.length))};goog.string.internal.caseInsensitiveEndsWith=function(a,b){return 0==goog.string.internal.caseInsensitiveCompare(b,a.substr(a.length-b.length,b.length))};\ngoog.string.internal.caseInsensitiveEquals=function(a,b){return a.toLowerCase()==b.toLowerCase()};goog.string.internal.isEmptyOrWhitespace=function(a){return/^[\\s\\xa0]*$/.test(a)};goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\\s\\xa0]*([\\s\\S]*?)[\\s\\xa0]*$/.exec(a)[1]};goog.string.internal.caseInsensitiveCompare=function(a,b){a=String(a).toLowerCase();b=String(b).toLowerCase();return a<b?-1:a==b?0:1};\ngoog.string.internal.newLineToBr=function(a,b){return a.replace(/(\\r\\n|\\r|\\n)/g,b?\"<br />\":\"<br>\")};\ngoog.string.internal.htmlEscape=function(a,b){if(b)a=a.replace(goog.string.internal.AMP_RE_,\"&amp;\").replace(goog.string.internal.LT_RE_,\"&lt;\").replace(goog.string.internal.GT_RE_,\"&gt;\").replace(goog.string.internal.QUOT_RE_,\"&quot;\").replace(goog.string.internal.SINGLE_QUOTE_RE_,\"&#39;\").replace(goog.string.internal.NULL_RE_,\"&#0;\");else{if(!goog.string.internal.ALL_RE_.test(a))return a;-1!=a.indexOf(\"&\")&&(a=a.replace(goog.string.internal.AMP_RE_,\"&amp;\"));-1!=a.indexOf(\"<\")&&(a=a.replace(goog.string.internal.LT_RE_,\n\"&lt;\"));-1!=a.indexOf(\">\")&&(a=a.replace(goog.string.internal.GT_RE_,\"&gt;\"));-1!=a.indexOf('\"')&&(a=a.replace(goog.string.internal.QUOT_RE_,\"&quot;\"));-1!=a.indexOf(\"'\")&&(a=a.replace(goog.string.internal.SINGLE_QUOTE_RE_,\"&#39;\"));-1!=a.indexOf(\"\\x00\")&&(a=a.replace(goog.string.internal.NULL_RE_,\"&#0;\"))}return a};goog.string.internal.AMP_RE_=/&/g;goog.string.internal.LT_RE_=/</g;goog.string.internal.GT_RE_=/>/g;goog.string.internal.QUOT_RE_=/\"/g;goog.string.internal.SINGLE_QUOTE_RE_=/'/g;\ngoog.string.internal.NULL_RE_=/\\x00/g;goog.string.internal.ALL_RE_=/[\\x00&<>\"']/;goog.string.internal.whitespaceEscape=function(a,b){return goog.string.internal.newLineToBr(a.replace(/  /g,\" &#160;\"),b)};goog.string.internal.contains=function(a,b){return-1!=a.indexOf(b)};goog.string.internal.caseInsensitiveContains=function(a,b){return goog.string.internal.contains(a.toLowerCase(),b.toLowerCase())};\ngoog.string.internal.compareVersions=function(a,b){var c=0;a=goog.string.internal.trim(String(a)).split(\".\");b=goog.string.internal.trim(String(b)).split(\".\");for(var d=Math.max(a.length,b.length),e=0;0==c&&e<d;e++){var f=a[e]||\"\",g=b[e]||\"\";do{f=/(\\d*)(\\D*)(.*)/.exec(f)||[\"\",\"\",\"\",\"\"];g=/(\\d*)(\\D*)(.*)/.exec(g)||[\"\",\"\",\"\",\"\"];if(0==f[0].length&&0==g[0].length)break;c=0==f[1].length?0:parseInt(f[1],10);var h=0==g[1].length?0:parseInt(g[1],10);c=goog.string.internal.compareElements_(c,h)||goog.string.internal.compareElements_(0==\nf[2].length,0==g[2].length)||goog.string.internal.compareElements_(f[2],g[2]);f=f[3];g=g[3]}while(0==c)}return c};goog.string.internal.compareElements_=function(a,b){return a<b?-1:a>b?1:0};goog.html.SafeUrl=function(a,b){this.privateDoNotAccessOrElseSafeUrlWrappedValue_=a===goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_&&b||\"\";this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeUrl.INNOCUOUS_STRING=\"about:invalid#zClosurez\";goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0;goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()};\ngoog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR};goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return\"SafeUrl{\"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+\"}\"});\ngoog.html.SafeUrl.unwrap=function(a){if(a instanceof goog.html.SafeUrl&&a.constructor===goog.html.SafeUrl&&a.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeUrlWrappedValue_;goog.asserts.fail(\"expected object of type SafeUrl, got '\"+a+\"' of type \"+goog.typeOf(a));return\"type_error:SafeUrl\"};goog.html.SafeUrl.fromConstant=function(a){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(a))};\ngoog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\\/csv|video\\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\\w+=(?:\\w+|\"[\\w;,= ]+\"))*$/i;goog.html.SafeUrl.isSafeMimeType=function(a){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(a)};\ngoog.html.SafeUrl.fromBlob=function(a){a=goog.html.SafeUrl.isSafeMimeType(a.type)?goog.fs.url.createObjectUrl(a):goog.html.SafeUrl.INNOCUOUS_STRING;return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.SafeUrl.fromMediaSource=function(a){goog.asserts.assert(\"MediaSource\"in goog.global,\"No support for MediaSource\");a=a instanceof MediaSource?goog.fs.url.createObjectUrl(a):goog.html.SafeUrl.INNOCUOUS_STRING;return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};\ngoog.html.DATA_URL_PATTERN_=/^data:(.*);base64,[a-z0-9+\\/]+=*$/i;goog.html.SafeUrl.fromDataUrl=function(a){a=a.replace(/(%0A|%0D)/g,\"\");var b=a.match(goog.html.DATA_URL_PATTERN_);b=b&&goog.html.SafeUrl.isSafeMimeType(b[1]);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(b?a:goog.html.SafeUrl.INNOCUOUS_STRING)};goog.html.SafeUrl.fromTelUrl=function(a){goog.string.internal.caseInsensitiveStartsWith(a,\"tel:\")||(a=goog.html.SafeUrl.INNOCUOUS_STRING);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};\ngoog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\\/=^`{|}~-]+@([a-z0-9-]+\\.)+[a-z0-9]{2,63}$/i;goog.html.SafeUrl.fromSipUrl=function(a){goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(a))||(a=goog.html.SafeUrl.INNOCUOUS_STRING);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.SafeUrl.fromFacebookMessengerUrl=function(a){goog.string.internal.caseInsensitiveStartsWith(a,\"fb-messenger://share\")||(a=goog.html.SafeUrl.INNOCUOUS_STRING);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};\ngoog.html.SafeUrl.fromWhatsAppUrl=function(a){goog.string.internal.caseInsensitiveStartsWith(a,\"whatsapp://send\")||(a=goog.html.SafeUrl.INNOCUOUS_STRING);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.SafeUrl.fromSmsUrl=function(a){goog.string.internal.caseInsensitiveStartsWith(a,\"sms:\")&&goog.html.SafeUrl.isSmsUrlBodyValid_(a)||(a=goog.html.SafeUrl.INNOCUOUS_STRING);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};\ngoog.html.SafeUrl.isSmsUrlBodyValid_=function(a){var b=a.indexOf(\"#\");0<b&&(a=a.substring(0,b));b=a.match(/[?&]body=/gi);if(!b)return!0;if(1<b.length)return!1;a=a.match(/[?&]body=([^&]*)/)[1];if(!a)return!0;try{decodeURIComponent(a)}catch(c){return!1}return/^(?:[a-z0-9\\-_.~]|%[0-9a-f]{2})+$/i.test(a)};goog.html.SafeUrl.fromSshUrl=function(a){goog.string.internal.caseInsensitiveStartsWith(a,\"ssh://\")||(a=goog.html.SafeUrl.INNOCUOUS_STRING);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};\ngoog.html.SafeUrl.sanitizeChromeExtensionUrl=function(a,b){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\\/\\/([^\\/]+)\\//,a,b)};goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(a,b){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\\/\\/([^\\/]+)\\//,a,b)};goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(a,b){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\\/\\/([^\\/]+)\\//,a,b)};\ngoog.html.SafeUrl.sanitizeExtensionUrl_=function(a,b,c){(a=a.exec(b))?(a=a[1],-1==(c instanceof goog.string.Const?[goog.string.Const.unwrap(c)]:c.map(function(a){return goog.string.Const.unwrap(a)})).indexOf(a)&&(b=goog.html.SafeUrl.INNOCUOUS_STRING)):b=goog.html.SafeUrl.INNOCUOUS_STRING;return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(b)};goog.html.SafeUrl.fromTrustedResourceUrl=function(a){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(a))};\ngoog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_;goog.html.SafeUrl.sanitize=function(a){if(a instanceof goog.html.SafeUrl)return a;a=\"object\"==typeof a&&a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);goog.html.SAFE_URL_PATTERN_.test(a)||(a=goog.html.SafeUrl.INNOCUOUS_STRING);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};\ngoog.html.SafeUrl.sanitizeAssertUnchanged=function(a,b){if(a instanceof goog.html.SafeUrl)return a;a=\"object\"==typeof a&&a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);if(b&&/^data:/i.test(a)&&(b=goog.html.SafeUrl.fromDataUrl(a),b.getTypedStringValue()==a))return b;goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(a),\"%s does not match the safe URL pattern\",a)||(a=goog.html.SafeUrl.INNOCUOUS_STRING);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};\ngoog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(a){return new goog.html.SafeUrl(goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_,a)};goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(\"about:blank\");goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_={};goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_=\"\";this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0;goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};\ngoog.html.SafeStyle.fromConstant=function(a){a=goog.string.Const.unwrap(a);if(0===a.length)return goog.html.SafeStyle.EMPTY;goog.asserts.assert(goog.string.internal.endsWith(a,\";\"),\"Last character of style string is not ';': \"+a);goog.asserts.assert(goog.string.internal.contains(a,\":\"),\"Style string must contain at least one ':', to specify a \\\"name: value\\\" pair: \"+a);return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(a)};\ngoog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_};goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return\"SafeStyle{\"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+\"}\"});\ngoog.html.SafeStyle.unwrap=function(a){if(a instanceof goog.html.SafeStyle&&a.constructor===goog.html.SafeStyle&&a.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeStyleWrappedValue_;goog.asserts.fail(\"expected object of type SafeStyle, got '\"+a+\"' of type \"+goog.typeOf(a));return\"type_error:SafeStyle\"};goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(a){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(a)};\ngoog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeStyleWrappedValue_=a;return this};goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(\"\");goog.html.SafeStyle.INNOCUOUS_STRING=\"zClosurez\";\ngoog.html.SafeStyle.create=function(a){var b=\"\",c;for(c in a){if(!/^[-_a-zA-Z0-9]+$/.test(c))throw Error(\"Name allows only [-_a-zA-Z0-9], got: \"+c);var d=a[c];null!=d&&(d=Array.isArray(d)?goog.array.map(d,goog.html.SafeStyle.sanitizePropertyValue_).join(\" \"):goog.html.SafeStyle.sanitizePropertyValue_(d),b+=c+\":\"+d+\";\")}return b?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b):goog.html.SafeStyle.EMPTY};\ngoog.html.SafeStyle.sanitizePropertyValue_=function(a){if(a instanceof goog.html.SafeUrl)return'url(\"'+goog.html.SafeUrl.unwrap(a).replace(/</g,\"%3c\").replace(/[\\\\\"]/g,\"\\\\$&\")+'\")';a=a instanceof goog.string.Const?goog.string.Const.unwrap(a):goog.html.SafeStyle.sanitizePropertyValueString_(String(a));if(/[{;}]/.test(a))throw new goog.asserts.AssertionError(\"Value does not allow [{;}], got: %s.\",[a]);return a};\ngoog.html.SafeStyle.sanitizePropertyValueString_=function(a){var b=a.replace(goog.html.SafeStyle.FUNCTIONS_RE_,\"$1\").replace(goog.html.SafeStyle.FUNCTIONS_RE_,\"$1\").replace(goog.html.SafeStyle.URL_RE_,\"url\");if(goog.html.SafeStyle.VALUE_RE_.test(b)){if(goog.html.SafeStyle.COMMENT_RE_.test(a))return goog.asserts.fail(\"String value disallows comments, got: \"+a),goog.html.SafeStyle.INNOCUOUS_STRING;if(!goog.html.SafeStyle.hasBalancedQuotes_(a))return goog.asserts.fail(\"String value requires balanced quotes, got: \"+\na),goog.html.SafeStyle.INNOCUOUS_STRING;if(!goog.html.SafeStyle.hasBalancedSquareBrackets_(a))return goog.asserts.fail(\"String value requires balanced square brackets and one identifier per pair of brackets, got: \"+a),goog.html.SafeStyle.INNOCUOUS_STRING}else return goog.asserts.fail(\"String value allows only \"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+\" and simple functions, got: \"+a),goog.html.SafeStyle.INNOCUOUS_STRING;return goog.html.SafeStyle.sanitizeUrl_(a)};\ngoog.html.SafeStyle.hasBalancedQuotes_=function(a){for(var b=!0,c=!0,d=0;d<a.length;d++){var e=a.charAt(d);\"'\"==e&&c?b=!b:'\"'==e&&b&&(c=!c)}return b&&c};goog.html.SafeStyle.hasBalancedSquareBrackets_=function(a){for(var b=!0,c=/^[-_a-zA-Z0-9]$/,d=0;d<a.length;d++){var e=a.charAt(d);if(\"]\"==e){if(b)return!1;b=!0}else if(\"[\"==e){if(!b)return!1;b=!1}else if(!b&&!c.test(e))return!1}return b};goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=\"[-,.\\\"'%_!# a-zA-Z0-9\\\\[\\\\]]\";\ngoog.html.SafeStyle.VALUE_RE_=new RegExp(\"^\"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+\"+$\");goog.html.SafeStyle.URL_RE_=/\\b(url\\([ \\t\\n]*)('[ -&(-\\[\\]-~]*'|\"[ !#-\\[\\]-~]*\"|[!#-&*-\\[\\]-~]*)([ \\t\\n]*\\))/g;goog.html.SafeStyle.ALLOWED_FUNCTIONS_=\"calc cubic-bezier fit-content hsl hsla linear-gradient matrix minmax repeat rgb rgba (rotate|scale|translate)(X|Y|Z|3d)?\".split(\" \");\ngoog.html.SafeStyle.FUNCTIONS_RE_=new RegExp(\"\\\\b(\"+goog.html.SafeStyle.ALLOWED_FUNCTIONS_.join(\"|\")+\")\\\\([-+*/0-9a-z.%\\\\[\\\\], ]+\\\\)\",\"g\");goog.html.SafeStyle.COMMENT_RE_=/\\/\\*/;goog.html.SafeStyle.sanitizeUrl_=function(a){return a.replace(goog.html.SafeStyle.URL_RE_,function(a,c,d,e){var b=\"\";d=d.replace(/^(['\"])(.*)\\1$/,function(a,c,d){b=c;return d});a=goog.html.SafeUrl.sanitize(d).getTypedStringValue();return c+b+a+b+e})};\ngoog.html.SafeStyle.concat=function(a){var b=\"\",c=function(a){Array.isArray(a)?goog.array.forEach(a,c):b+=goog.html.SafeStyle.unwrap(a)};goog.array.forEach(arguments,c);return b?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b):goog.html.SafeStyle.EMPTY};goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=\"\";this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0;goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};\ngoog.html.SafeStyleSheet.createRule=function(a,b){if(goog.string.internal.contains(a,\"<\"))throw Error(\"Selector does not allow '<', got: \"+a);var c=a.replace(/('|\")((?!\\1)[^\\r\\n\\f\\\\]|\\\\[\\s\\S])*\\1/g,\"\");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|]+$/.test(c))throw Error(\"Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\\\]()=^$|] and strings, got: \"+a);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(c))throw Error(\"() and [] in selector must be balanced, got: \"+a);b instanceof goog.html.SafeStyle||(b=goog.html.SafeStyle.create(b));\na=a+\"{\"+goog.html.SafeStyle.unwrap(b).replace(/</g,\"\\\\3C \")+\"}\";return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(a)};goog.html.SafeStyleSheet.hasBalancedBrackets_=function(a){for(var b={\"(\":\")\",\"[\":\"]\"},c=[],d=0;d<a.length;d++){var e=a[d];if(b[e])c.push(b[e]);else if(goog.object.contains(b,e)&&c.pop()!=e)return!1}return 0==c.length};\ngoog.html.SafeStyleSheet.concat=function(a){var b=\"\",c=function(a){Array.isArray(a)?goog.array.forEach(a,c):b+=goog.html.SafeStyleSheet.unwrap(a)};goog.array.forEach(arguments,c);return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(b)};\ngoog.html.SafeStyleSheet.fromConstant=function(a){a=goog.string.Const.unwrap(a);if(0===a.length)return goog.html.SafeStyleSheet.EMPTY;goog.asserts.assert(!goog.string.internal.contains(a,\"<\"),\"Forbidden '<' character in style sheet string: \"+a);return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(a)};goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_};\ngoog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return\"SafeStyleSheet{\"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+\"}\"});\ngoog.html.SafeStyleSheet.unwrap=function(a){if(a instanceof goog.html.SafeStyleSheet&&a.constructor===goog.html.SafeStyleSheet&&a.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;goog.asserts.fail(\"expected object of type SafeStyleSheet, got '\"+a+\"' of type \"+goog.typeOf(a));return\"type_error:SafeStyleSheet\"};\ngoog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(a){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(a)};goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=a;return this};goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(\"\");goog.labs={};goog.labs.userAgent={};goog.labs.userAgent.util={};goog.labs.userAgent.util.getNativeUserAgentString_=function(){var a=goog.labs.userAgent.util.getNavigator_();return a&&(a=a.userAgent)?a:\"\"};goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator};goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_();goog.labs.userAgent.util.setUserAgent=function(a){goog.labs.userAgent.util.userAgent_=a||goog.labs.userAgent.util.getNativeUserAgentString_()};\ngoog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_};goog.labs.userAgent.util.matchUserAgent=function(a){var b=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(b,a)};goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(a){var b=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(b,a)};\ngoog.labs.userAgent.util.extractVersionTuples=function(a){for(var b=/(\\w[\\w ]+)\\/([^\\s]+)\\s*(?:\\((.*?)\\))?/g,c=[],d;d=b.exec(a);)c.push([d[1],d[2],d[3]||void 0]);return c};goog.labs.userAgent.browser={};goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent(\"Opera\")};goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent(\"Trident\")||goog.labs.userAgent.util.matchUserAgent(\"MSIE\")};goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent(\"Edge\")};goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent(\"Edg/\")};\ngoog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent(\"OPR\")};goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent(\"Firefox\")||goog.labs.userAgent.util.matchUserAgent(\"FxiOS\")};\ngoog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent(\"Safari\")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent(\"Android\"))};\ngoog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent(\"Coast\")};goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent(\"iPad\")||goog.labs.userAgent.util.matchUserAgent(\"iPhone\"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent(\"AppleWebKit\")};\ngoog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent(\"Chrome\")||goog.labs.userAgent.util.matchUserAgent(\"CriOS\"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()};goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent(\"Android\")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())};\ngoog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_;goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_;goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_;goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_;goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_;goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_;\ngoog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_;goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_;goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_;goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_;goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_;goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent(\"Silk\")};\ngoog.labs.userAgent.browser.getVersion=function(){function a(a){a=goog.array.find(a,d);return c[a]||\"\"}var b=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(b);b=goog.labs.userAgent.util.extractVersionTuples(b);var c={};goog.array.forEach(b,function(a){c[a[0]]=a[1]});var d=goog.partial(goog.object.containsKey,c);return goog.labs.userAgent.browser.isOpera()?a([\"Version\",\"Opera\"]):goog.labs.userAgent.browser.isEdge()?a([\"Edge\"]):\ngoog.labs.userAgent.browser.isEdgeChromium()?a([\"Edg\"]):goog.labs.userAgent.browser.isChrome()?a([\"Chrome\",\"CriOS\",\"HeadlessChrome\"]):(b=b[2])&&b[1]||\"\"};goog.labs.userAgent.browser.isVersionOrHigher=function(a){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),a)};\ngoog.labs.userAgent.browser.getIEVersion_=function(a){var b=/rv: *([\\d\\.]*)/.exec(a);if(b&&b[1])return b[1];b=\"\";var c=/MSIE +([\\d\\.]+)/.exec(a);if(c&&c[1])if(a=/Trident\\/(\\d.\\d)/.exec(a),\"7.0\"==c[1])if(a&&a[1])switch(a[1]){case \"4.0\":b=\"8.0\";break;case \"5.0\":b=\"9.0\";break;case \"6.0\":b=\"10.0\";break;case \"7.0\":b=\"11.0\"}else b=\"7.0\";else b=c[1];return b};goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=\"\";this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;this.dir_=null};goog.html.SafeHtml.ENABLE_ERROR_MESSAGES=goog.DEBUG;goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE=!0;goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0;goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_};\ngoog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0;goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()};goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return\"SafeHtml{\"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+\"}\"});goog.html.SafeHtml.unwrap=function(a){return goog.html.SafeHtml.unwrapTrustedHTML(a).toString()};\ngoog.html.SafeHtml.unwrapTrustedHTML=function(a){if(a instanceof goog.html.SafeHtml&&a.constructor===goog.html.SafeHtml&&a.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)return a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;goog.asserts.fail(\"expected object of type SafeHtml, got '\"+a+\"' of type \"+goog.typeOf(a));return\"type_error:SafeHtml\"};\ngoog.html.SafeHtml.htmlEscape=function(a){if(a instanceof goog.html.SafeHtml)return a;var b=\"object\"==typeof a,c=null;b&&a.implementsGoogI18nBidiDirectionalString&&(c=a.getDirection());a=b&&a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(a),c)};\ngoog.html.SafeHtml.htmlEscapePreservingNewlines=function(a){if(a instanceof goog.html.SafeHtml)return a;a=goog.html.SafeHtml.htmlEscape(a);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(a)),a.getDirection())};\ngoog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(a){if(a instanceof goog.html.SafeHtml)return a;a=goog.html.SafeHtml.htmlEscape(a);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(a)),a.getDirection())};goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape;\ngoog.html.SafeHtml.comment=function(a){return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(\"\\x3c!--\"+goog.string.internal.htmlEscape(a)+\"--\\x3e\",null)};goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/;goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0};goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};\ngoog.html.SafeHtml.create=function(a,b,c){goog.html.SafeHtml.verifyTagName(String(a));return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(a),b,c)};\ngoog.html.SafeHtml.verifyTagName=function(a){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(a))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?\"Invalid tag name <\"+a+\">.\":\"\");if(a.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?\"Tag name <\"+a+\"> is not allowed for SafeHtml.\":\"\");};\ngoog.html.SafeHtml.createIframe=function(a,b,c,d){a&&goog.html.TrustedResourceUrl.unwrap(a);var e={};e.src=a||null;e.srcdoc=b&&goog.html.SafeHtml.unwrap(b);a=goog.html.SafeHtml.combineAttributes(e,{sandbox:\"\"},c);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"iframe\",a,d)};\ngoog.html.SafeHtml.createSandboxIframe=function(a,b,c,d){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?\"The browser does not support sandboxed iframes.\":\"\");var e={};e.src=a?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(a)):null;e.srcdoc=b||null;e.sandbox=\"\";a=goog.html.SafeHtml.combineAttributes(e,{},c);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"iframe\",a,d)};\ngoog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&\"sandbox\"in goog.global.HTMLIFrameElement.prototype};goog.html.SafeHtml.createScriptSrc=function(a,b){goog.html.TrustedResourceUrl.unwrap(a);a=goog.html.SafeHtml.combineAttributes({src:a},{},b);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"script\",a)};\ngoog.html.SafeHtml.createScript=function(a,b){for(var c in b){var d=c.toLowerCase();if(\"language\"==d||\"src\"==d||\"text\"==d||\"type\"==d)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot set \"'+d+'\" attribute':\"\");}c=\"\";a=goog.array.concat(a);for(d=0;d<a.length;d++)c+=goog.html.SafeScript.unwrap(a[d]);a=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(c,goog.i18n.bidi.Dir.NEUTRAL);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"script\",b,a)};\ngoog.html.SafeHtml.createStyle=function(a,b){b=goog.html.SafeHtml.combineAttributes({type:\"text/css\"},{},b);var c=\"\";a=goog.array.concat(a);for(var d=0;d<a.length;d++)c+=goog.html.SafeStyleSheet.unwrap(a[d]);a=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(c,goog.i18n.bidi.Dir.NEUTRAL);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"style\",b,a)};\ngoog.html.SafeHtml.createMetaRefresh=function(a,b){a=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(a));(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(a,\";\")&&(a=\"'\"+a.replace(/'/g,\"%27\")+\"'\");return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"meta\",{\"http-equiv\":\"refresh\",content:(b||0)+\"; url=\"+a})};\ngoog.html.SafeHtml.getAttrNameAndValue_=function(a,b,c){if(c instanceof goog.string.Const)c=goog.string.Const.unwrap(c);else if(\"style\"==b.toLowerCase())if(goog.html.SafeHtml.SUPPORT_STYLE_ATTRIBUTE)c=goog.html.SafeHtml.getStyleValue_(c);else throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute \"style\" not supported.':\"\");else{if(/^on/i.test(b))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute \"'+b+'\" requires goog.string.Const value, \"'+c+'\" given.':\"\");if(b.toLowerCase()in\ngoog.html.SafeHtml.URL_ATTRIBUTES_)if(c instanceof goog.html.TrustedResourceUrl)c=goog.html.TrustedResourceUrl.unwrap(c);else if(c instanceof goog.html.SafeUrl)c=goog.html.SafeUrl.unwrap(c);else if(\"string\"===typeof c)c=goog.html.SafeUrl.sanitize(c).getTypedStringValue();else throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Attribute \"'+b+'\" on tag \"'+a+'\" requires goog.html.SafeUrl, goog.string.Const, or string, value \"'+c+'\" given.':\"\");}c.implementsGoogStringTypedString&&(c=c.getTypedStringValue());\ngoog.asserts.assert(\"string\"===typeof c||\"number\"===typeof c,\"String or number value expected, got \"+typeof c+\" with value: \"+c);return b+'=\"'+goog.string.internal.htmlEscape(String(c))+'\"'};goog.html.SafeHtml.getStyleValue_=function(a){if(!goog.isObject(a))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'The \"style\" attribute requires goog.html.SafeStyle or map of style properties, '+typeof a+\" given: \"+a:\"\");a instanceof goog.html.SafeStyle||(a=goog.html.SafeStyle.create(a));return goog.html.SafeStyle.unwrap(a)};\ngoog.html.SafeHtml.createWithDir=function(a,b,c,d){b=goog.html.SafeHtml.create(b,c,d);b.dir_=a;return b};\ngoog.html.SafeHtml.join=function(a,b){a=goog.html.SafeHtml.htmlEscape(a);var c=a.getDirection(),d=[],e=function(a){Array.isArray(a)?goog.array.forEach(a,e):(a=goog.html.SafeHtml.htmlEscape(a),d.push(goog.html.SafeHtml.unwrap(a)),a=a.getDirection(),c==goog.i18n.bidi.Dir.NEUTRAL?c=a:a!=goog.i18n.bidi.Dir.NEUTRAL&&c!=a&&(c=null))};goog.array.forEach(b,e);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(d.join(goog.html.SafeHtml.unwrap(a)),c)};\ngoog.html.SafeHtml.concat=function(a){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))};goog.html.SafeHtml.concatWithDir=function(a,b){var c=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));c.dir_=a;return c};goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(a,b){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(a,b)};\ngoog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(a,b){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(a):a;this.dir_=b;return this};\ngoog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(a,b,c){var d=null;var e=\"<\"+a+goog.html.SafeHtml.stringifyAttributes(a,b);null==c?c=[]:Array.isArray(c)||(c=[c]);goog.dom.tags.isVoidTag(a.toLowerCase())?(goog.asserts.assert(!c.length,\"Void tag <\"+a+\"> does not allow content.\"),e+=\">\"):(d=goog.html.SafeHtml.concat(c),e+=\">\"+goog.html.SafeHtml.unwrap(d)+\"</\"+a+\">\",d=d.getDirection());(a=b&&b.dir)&&(d=/^(ltr|rtl|auto)$/i.test(a)?goog.i18n.bidi.Dir.NEUTRAL:null);return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(e,\nd)};goog.html.SafeHtml.stringifyAttributes=function(a,b){var c=\"\";if(b)for(var d in b){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(d))throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Invalid attribute name \"'+d+'\".':\"\");var e=b[d];null!=e&&(c+=\" \"+goog.html.SafeHtml.getAttrNameAndValue_(a,d,e))}return c};\ngoog.html.SafeHtml.combineAttributes=function(a,b,c){var d={},e;for(e in a)goog.asserts.assert(e.toLowerCase()==e,\"Must be lower case\"),d[e]=a[e];for(e in b)goog.asserts.assert(e.toLowerCase()==e,\"Must be lower case\"),d[e]=b[e];if(c)for(e in c){var f=e.toLowerCase();if(f in a)throw Error(goog.html.SafeHtml.ENABLE_ERROR_MESSAGES?'Cannot override \"'+f+'\" attribute, got \"'+e+'\" with value \"'+c[e]+'\"':\"\");f in b&&delete d[f];d[e]=c[e]}return d};\ngoog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(\"<!DOCTYPE html>\",goog.i18n.bidi.Dir.NEUTRAL);goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(\"\",goog.i18n.bidi.Dir.NEUTRAL);goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(\"<br>\",goog.i18n.bidi.Dir.NEUTRAL);goog.html.uncheckedconversions={};goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(a,b,c){goog.asserts.assertString(goog.string.Const.unwrap(a),\"must provide justification\");goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),\"must provide non-empty justification\");return goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(b,c||null)};\ngoog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),\"must provide justification\");goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),\"must provide non-empty justification\");return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(b)};\ngoog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),\"must provide justification\");goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),\"must provide non-empty justification\");return goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b)};\ngoog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),\"must provide justification\");goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),\"must provide non-empty justification\");return goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(b)};\ngoog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),\"must provide justification\");goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),\"must provide non-empty justification\");return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(b)};\ngoog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),\"must provide justification\");goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),\"must provide non-empty justification\");return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(b)};goog.dom.safe={};goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:\"afterbegin\",AFTEREND:\"afterend\",BEFOREBEGIN:\"beforebegin\",BEFOREEND:\"beforeend\"};goog.dom.safe.insertAdjacentHtml=function(a,b,c){a.insertAdjacentHTML(b,goog.html.SafeHtml.unwrapTrustedHTML(c))};goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};\ngoog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&\"undefined\"===typeof document)return!1;var a=document.createElement(\"div\"),b=document.createElement(\"div\");b.appendChild(document.createElement(\"div\"));a.appendChild(b);if(goog.DEBUG&&!a.firstChild)return!1;b=a.firstChild.firstChild;a.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY);return!b.parentElement});\ngoog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(a,b){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;a.lastChild;)a.removeChild(a.lastChild);a.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(b)};\ngoog.dom.safe.setInnerHtml=function(a,b){if(goog.asserts.ENABLE_ASSERTS){var c=a.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[c])throw Error(\"goog.dom.safe.setInnerHtml cannot be used to set content of \"+a.tagName+\".\");}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(a,b)};goog.dom.safe.setOuterHtml=function(a,b){a.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(b)};\ngoog.dom.safe.setFormElementAction=function(a,b){b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);goog.dom.asserts.assertIsHTMLFormElement(a).action=goog.html.SafeUrl.unwrap(b)};goog.dom.safe.setButtonFormAction=function(a,b){b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);goog.dom.asserts.assertIsHTMLButtonElement(a).formAction=goog.html.SafeUrl.unwrap(b)};\ngoog.dom.safe.setInputFormAction=function(a,b){b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);goog.dom.asserts.assertIsHTMLInputElement(a).formAction=goog.html.SafeUrl.unwrap(b)};goog.dom.safe.setStyle=function(a,b){a.style.cssText=goog.html.SafeStyle.unwrap(b)};goog.dom.safe.documentWrite=function(a,b){a.write(goog.html.SafeHtml.unwrapTrustedHTML(b))};\ngoog.dom.safe.setAnchorHref=function(a,b){goog.dom.asserts.assertIsHTMLAnchorElement(a);b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);a.href=goog.html.SafeUrl.unwrap(b)};goog.dom.safe.setImageSrc=function(a,b){goog.dom.asserts.assertIsHTMLImageElement(a);if(!(b instanceof goog.html.SafeUrl)){var c=/^data:image\\//i.test(b);b=goog.html.SafeUrl.sanitizeAssertUnchanged(b,c)}a.src=goog.html.SafeUrl.unwrap(b)};\ngoog.dom.safe.setAudioSrc=function(a,b){goog.dom.asserts.assertIsHTMLAudioElement(a);if(!(b instanceof goog.html.SafeUrl)){var c=/^data:audio\\//i.test(b);b=goog.html.SafeUrl.sanitizeAssertUnchanged(b,c)}a.src=goog.html.SafeUrl.unwrap(b)};goog.dom.safe.setVideoSrc=function(a,b){goog.dom.asserts.assertIsHTMLVideoElement(a);if(!(b instanceof goog.html.SafeUrl)){var c=/^data:video\\//i.test(b);b=goog.html.SafeUrl.sanitizeAssertUnchanged(b,c)}a.src=goog.html.SafeUrl.unwrap(b)};\ngoog.dom.safe.setEmbedSrc=function(a,b){goog.dom.asserts.assertIsHTMLEmbedElement(a);a.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(b)};goog.dom.safe.setFrameSrc=function(a,b){goog.dom.asserts.assertIsHTMLFrameElement(a);a.src=goog.html.TrustedResourceUrl.unwrap(b)};goog.dom.safe.setIframeSrc=function(a,b){goog.dom.asserts.assertIsHTMLIFrameElement(a);a.src=goog.html.TrustedResourceUrl.unwrap(b)};\ngoog.dom.safe.setIframeSrcdoc=function(a,b){goog.dom.asserts.assertIsHTMLIFrameElement(a);a.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(b)};\ngoog.dom.safe.setLinkHrefAndRel=function(a,b,c){goog.dom.asserts.assertIsHTMLLinkElement(a);a.rel=c;goog.string.internal.caseInsensitiveContains(c,\"stylesheet\")?(goog.asserts.assert(b instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because \"rel\" contains \"stylesheet\"'),a.href=goog.html.TrustedResourceUrl.unwrap(b)):a.href=b instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(b):b instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(b):goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeAssertUnchanged(b))};\ngoog.dom.safe.setObjectData=function(a,b){goog.dom.asserts.assertIsHTMLObjectElement(a);a.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(b)};goog.dom.safe.setScriptSrc=function(a,b){goog.dom.asserts.assertIsHTMLScriptElement(a);a.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(b);(b=goog.getScriptNonce())&&a.setAttribute(\"nonce\",b)};\ngoog.dom.safe.setScriptContent=function(a,b){goog.dom.asserts.assertIsHTMLScriptElement(a);a.text=goog.html.SafeScript.unwrapTrustedScript(b);(b=goog.getScriptNonce())&&a.setAttribute(\"nonce\",b)};goog.dom.safe.setLocationHref=function(a,b){goog.dom.asserts.assertIsLocation(a);b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);a.href=goog.html.SafeUrl.unwrap(b)};\ngoog.dom.safe.assignLocation=function(a,b){goog.dom.asserts.assertIsLocation(a);b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);a.assign(goog.html.SafeUrl.unwrap(b))};goog.dom.safe.replaceLocation=function(a,b){b=b instanceof goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);a.replace(goog.html.SafeUrl.unwrap(b))};\ngoog.dom.safe.openInWindow=function(a,b,c,d,e){a=a instanceof goog.html.SafeUrl?a:goog.html.SafeUrl.sanitizeAssertUnchanged(a);b=b||goog.global;c=c instanceof goog.string.Const?goog.string.Const.unwrap(c):c||\"\";return b.open(goog.html.SafeUrl.unwrap(a),c,d,e)};goog.dom.safe.parseFromStringHtml=function(a,b){return goog.dom.safe.parseFromString(a,b,\"text/html\")};goog.dom.safe.parseFromString=function(a,b,c){return a.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(b),c)};\ngoog.dom.safe.createImageFromBlob=function(a){if(!/^image\\/.*/g.test(a.type))throw Error(\"goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.\");var b=goog.global.URL.createObjectURL(a);a=new goog.global.Image;a.onload=function(){goog.global.URL.revokeObjectURL(b)};goog.dom.safe.setImageSrc(a,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"Image blob URL.\"),b));return a};goog.string.DETECT_DOUBLE_ESCAPING=!1;goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1;goog.string.Unicode={NBSP:\"\\u00a0\"};goog.string.startsWith=goog.string.internal.startsWith;goog.string.endsWith=goog.string.internal.endsWith;goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith;goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith;goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals;\ngoog.string.subs=function(a,b){for(var c=a.split(\"%s\"),d=\"\",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join(\"%s\")};goog.string.collapseWhitespace=function(a){return a.replace(/[\\s\\xa0]+/g,\" \").replace(/^\\s+|\\s+$/g,\"\")};goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace;goog.string.isEmptyString=function(a){return 0==a.length};goog.string.isEmpty=goog.string.isEmptyOrWhitespace;goog.string.isEmptyOrWhitespaceSafe=function(a){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(a))};\ngoog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe;goog.string.isBreakingWhitespace=function(a){return!/[^\\t\\n\\r ]/.test(a)};goog.string.isAlpha=function(a){return!/[^a-zA-Z]/.test(a)};goog.string.isNumeric=function(a){return!/[^0-9]/.test(a)};goog.string.isAlphaNumeric=function(a){return!/[^a-zA-Z0-9]/.test(a)};goog.string.isSpace=function(a){return\" \"==a};goog.string.isUnicodeChar=function(a){return 1==a.length&&\" \"<=a&&\"~\">=a||\"\\u0080\"<=a&&\"\\ufffd\">=a};\ngoog.string.stripNewlines=function(a){return a.replace(/(\\r\\n|\\r|\\n)+/g,\" \")};goog.string.canonicalizeNewlines=function(a){return a.replace(/(\\r\\n|\\r|\\n)/g,\"\\n\")};goog.string.normalizeWhitespace=function(a){return a.replace(/\\xa0|\\s/g,\" \")};goog.string.normalizeSpaces=function(a){return a.replace(/\\xa0|[ \\t]+/g,\" \")};goog.string.collapseBreakingSpaces=function(a){return a.replace(/[\\t\\r\\n ]+/g,\" \").replace(/^[\\t\\r\\n ]+|[\\t\\r\\n ]+$/g,\"\")};goog.string.trim=goog.string.internal.trim;\ngoog.string.trimLeft=function(a){return a.replace(/^[\\s\\xa0]+/,\"\")};goog.string.trimRight=function(a){return a.replace(/[\\s\\xa0]+$/,\"\")};goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare;\ngoog.string.numberAwareCompare_=function(a,b,c){if(a==b)return 0;if(!a)return-1;if(!b)return 1;for(var d=a.toLowerCase().match(c),e=b.toLowerCase().match(c),f=Math.min(d.length,e.length),g=0;g<f;g++){c=d[g];var h=e[g];if(c!=h)return a=parseInt(c,10),!isNaN(a)&&(b=parseInt(h,10),!isNaN(b)&&a-b)?a-b:c<h?-1:1}return d.length!=e.length?d.length-e.length:a<b?-1:1};goog.string.intAwareCompare=function(a,b){return goog.string.numberAwareCompare_(a,b,/\\d+|\\D+/g)};\ngoog.string.floatAwareCompare=function(a,b){return goog.string.numberAwareCompare_(a,b,/\\d+|\\.\\d+|\\D+/g)};goog.string.numerateCompare=goog.string.floatAwareCompare;goog.string.urlEncode=function(a){return encodeURIComponent(String(a))};goog.string.urlDecode=function(a){return decodeURIComponent(a.replace(/\\+/g,\" \"))};goog.string.newLineToBr=goog.string.internal.newLineToBr;\ngoog.string.htmlEscape=function(a,b){a=goog.string.internal.htmlEscape(a,b);goog.string.DETECT_DOUBLE_ESCAPING&&(a=a.replace(goog.string.E_RE_,\"&#101;\"));return a};goog.string.E_RE_=/e/g;goog.string.unescapeEntities=function(a){return goog.string.contains(a,\"&\")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&\"document\"in goog.global?goog.string.unescapeEntitiesUsingDom_(a):goog.string.unescapePureXmlEntities_(a):a};\ngoog.string.unescapeEntitiesWithDocument=function(a,b){return goog.string.contains(a,\"&\")?goog.string.unescapeEntitiesUsingDom_(a,b):a};\ngoog.string.unescapeEntitiesUsingDom_=function(a,b){var c={\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"'};var d=b?b.createElement(\"div\"):goog.global.document.createElement(\"div\");return a.replace(goog.string.HTML_ENTITY_PATTERN_,function(a,b){var e=c[a];if(e)return e;\"#\"==b.charAt(0)&&(b=Number(\"0\"+b.substr(1)),isNaN(b)||(e=String.fromCharCode(b)));e||(goog.dom.safe.setInnerHtml(d,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"Single HTML entity.\"),\na+\" \")),e=d.firstChild.nodeValue.slice(0,-1));return c[a]=e})};goog.string.unescapePureXmlEntities_=function(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case \"amp\":return\"&\";case \"lt\":return\"<\";case \"gt\":return\">\";case \"quot\":return'\"';default:return\"#\"!=c.charAt(0)||(c=Number(\"0\"+c.substr(1)),isNaN(c))?a:String.fromCharCode(c)}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\\s<&]+);?/g;goog.string.whitespaceEscape=function(a,b){return goog.string.newLineToBr(a.replace(/  /g,\" &#160;\"),b)};\ngoog.string.preserveSpaces=function(a){return a.replace(/(^|[\\n ]) /g,\"$1\"+goog.string.Unicode.NBSP)};goog.string.stripQuotes=function(a,b){for(var c=b.length,d=0;d<c;d++){var e=1==c?b:b.charAt(d);if(a.charAt(0)==e&&a.charAt(a.length-1)==e)return a.substring(1,a.length-1)}return a};goog.string.truncate=function(a,b,c){c&&(a=goog.string.unescapeEntities(a));a.length>b&&(a=a.substring(0,b-3)+\"...\");c&&(a=goog.string.htmlEscape(a));return a};\ngoog.string.truncateMiddle=function(a,b,c,d){c&&(a=goog.string.unescapeEntities(a));if(d&&a.length>b){d>b&&(d=b);var e=a.length-d;a=a.substring(0,b-d)+\"...\"+a.substring(e)}else a.length>b&&(d=Math.floor(b/2),e=a.length-d,a=a.substring(0,d+b%2)+\"...\"+a.substring(e));c&&(a=goog.string.htmlEscape(a));return a};goog.string.specialEscapeChars_={\"\\x00\":\"\\\\0\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\x0B\":\"\\\\x0B\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\",\"<\":\"\\\\u003C\"};goog.string.jsEscapeCache_={\"'\":\"\\\\'\"};\ngoog.string.quote=function(a){a=String(a);for(var b=['\"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0);b[c+1]=goog.string.specialEscapeChars_[d]||(31<e&&127>e?d:goog.string.escapeChar(d))}b.push('\"');return b.join(\"\")};goog.string.escapeString=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=goog.string.escapeChar(a.charAt(c));return b.join(\"\")};\ngoog.string.escapeChar=function(a){if(a in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[a];if(a in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[a]=goog.string.specialEscapeChars_[a];var b=a.charCodeAt(0);if(31<b&&127>b)var c=a;else{if(256>b){if(c=\"\\\\x\",16>b||256<b)c+=\"0\"}else c=\"\\\\u\",4096>b&&(c+=\"0\");c+=b.toString(16).toUpperCase()}return goog.string.jsEscapeCache_[a]=c};goog.string.contains=goog.string.internal.contains;goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains;\ngoog.string.countOf=function(a,b){return a&&b?a.split(b).length-1:0};goog.string.removeAt=function(a,b,c){var d=a;0<=b&&b<a.length&&0<c&&(d=a.substr(0,b)+a.substr(b+c,a.length-b-c));return d};goog.string.remove=function(a,b){return a.replace(b,\"\")};goog.string.removeAll=function(a,b){b=new RegExp(goog.string.regExpEscape(b),\"g\");return a.replace(b,\"\")};goog.string.replaceAll=function(a,b,c){b=new RegExp(goog.string.regExpEscape(b),\"g\");return a.replace(b,c.replace(/\\$/g,\"$$$$\"))};\ngoog.string.regExpEscape=function(a){return String(a).replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,\"\\\\$1\").replace(/\\x08/g,\"\\\\x08\")};goog.string.repeat=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};goog.string.padNumber=function(a,b,c){a=void 0!==c?a.toFixed(c):String(a);c=a.indexOf(\".\");-1==c&&(c=a.length);return goog.string.repeat(\"0\",Math.max(0,b-c))+a};goog.string.makeSafe=function(a){return null==a?\"\":String(a)};\ngoog.string.buildString=function(a){return Array.prototype.join.call(arguments,\"\")};goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)};goog.string.compareVersions=goog.string.internal.compareVersions;goog.string.hashCode=function(a){for(var b=0,c=0;c<a.length;++c)b=31*b+a.charCodeAt(c)>>>0;return b};goog.string.uniqueStringCounter_=2147483648*Math.random()|0;\ngoog.string.createUniqueString=function(){return\"goog_\"+goog.string.uniqueStringCounter_++};goog.string.toNumber=function(a){var b=Number(a);return 0==b&&goog.string.isEmptyOrWhitespace(a)?NaN:b};goog.string.isLowerCamelCase=function(a){return/^[a-z]+([A-Z][a-z]*)*$/.test(a)};goog.string.isUpperCamelCase=function(a){return/^([A-Z][a-z]*)+$/.test(a)};goog.string.toCamelCase=function(a){return String(a).replace(/\\-([a-z])/g,function(a,c){return c.toUpperCase()})};\ngoog.string.toSelectorCase=function(a){return String(a).replace(/([A-Z])/g,\"-$1\").toLowerCase()};goog.string.toTitleCase=function(a,b){b=\"string\"===typeof b?goog.string.regExpEscape(b):\"\\\\s\";return a.replace(new RegExp(\"(^\"+(b?\"|[\"+b+\"]+\":\"\")+\")([a-z])\",\"g\"),function(a,b,e){return b+e.toUpperCase()})};goog.string.capitalize=function(a){return String(a.charAt(0)).toUpperCase()+String(a.substr(1)).toLowerCase()};\ngoog.string.parseInt=function(a){isFinite(a)&&(a=String(a));return\"string\"===typeof a?/^\\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN};goog.string.splitLimit=function(a,b,c){a=a.split(b);for(var d=[];0<c&&a.length;)d.push(a.shift()),c--;a.length&&d.push(a.join(b));return d};goog.string.lastComponent=function(a,b){if(b)\"string\"==typeof b&&(b=[b]);else return a;for(var c=-1,d=0;d<b.length;d++)if(\"\"!=b[d]){var e=a.lastIndexOf(b[d]);e>c&&(c=e)}return-1==c?a:a.slice(c+1)};\ngoog.string.editDistance=function(a,b){var c=[],d=[];if(a==b)return 0;if(!a.length||!b.length)return Math.max(a.length,b.length);for(var e=0;e<b.length+1;e++)c[e]=e;for(e=0;e<a.length;e++){d[0]=e+1;for(var f=0;f<b.length;f++)d[f+1]=Math.min(d[f]+1,c[f+1]+1,c[f]+Number(a[e]!=b[f]));for(f=0;f<c.length;f++)c[f]=d[f]}return d[b.length]};goog.labs.userAgent.engine={};goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent(\"Presto\")};goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent(\"Trident\")||goog.labs.userAgent.util.matchUserAgent(\"MSIE\")};goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent(\"Edge\")};\ngoog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase(\"WebKit\")&&!goog.labs.userAgent.engine.isEdge()};goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent(\"Gecko\")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()};\ngoog.labs.userAgent.engine.getVersion=function(){var a=goog.labs.userAgent.util.getUserAgent();if(a){a=goog.labs.userAgent.util.extractVersionTuples(a);var b=goog.labs.userAgent.engine.getEngineTuple_(a);if(b)return\"Gecko\"==b[0]?goog.labs.userAgent.engine.getVersionForKey_(a,\"Firefox\"):b[1];a=a[0];var c;if(a&&(c=a[2])&&(c=/Trident\\/([^\\s;]+)/.exec(c)))return c[1]}return\"\"};\ngoog.labs.userAgent.engine.getEngineTuple_=function(a){if(!goog.labs.userAgent.engine.isEdge())return a[1];for(var b=0;b<a.length;b++){var c=a[b];if(\"Edge\"==c[0])return c}};goog.labs.userAgent.engine.isVersionOrHigher=function(a){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),a)};goog.labs.userAgent.engine.getVersionForKey_=function(a,b){return(a=goog.array.find(a,function(a){return b==a[0]}))&&a[1]||\"\"};goog.labs.userAgent.platform={};goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent(\"Android\")};goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent(\"iPod\")};goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent(\"iPhone\")&&!goog.labs.userAgent.util.matchUserAgent(\"iPod\")&&!goog.labs.userAgent.util.matchUserAgent(\"iPad\")};goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent(\"iPad\")};\ngoog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()};goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent(\"Macintosh\")};goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent(\"Linux\")};goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent(\"Windows\")};\ngoog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent(\"CrOS\")};goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent(\"CrKey\")};goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase(\"KaiOS\")};\ngoog.labs.userAgent.platform.getVersion=function(){var a=goog.labs.userAgent.util.getUserAgent(),b=\"\";goog.labs.userAgent.platform.isWindows()?(b=/Windows (?:NT|Phone) ([0-9.]+)/,b=(a=b.exec(a))?a[1]:\"0.0\"):goog.labs.userAgent.platform.isIos()?(b=/(?:iPhone|iPod|iPad|CPU)\\s+OS\\s+(\\S+)/,b=(a=b.exec(a))&&a[1].replace(/_/g,\".\")):goog.labs.userAgent.platform.isMacintosh()?(b=/Mac OS X ([0-9_.]+)/,b=(a=b.exec(a))?a[1].replace(/_/g,\".\"):\"10\"):goog.labs.userAgent.platform.isKaiOS()?(b=/(?:KaiOS)\\/(\\S+)/i,\nb=(a=b.exec(a))&&a[1]):goog.labs.userAgent.platform.isAndroid()?(b=/Android\\s+([^\\);]+)(\\)|;)/,b=(a=b.exec(a))&&a[1]):goog.labs.userAgent.platform.isChromeOS()&&(b=/(?:CrOS\\s+(?:i686|x86_64)\\s+([0-9.]+))/,b=(a=b.exec(a))&&a[1]);return b||\"\"};goog.labs.userAgent.platform.isVersionOrHigher=function(a){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),a)};goog.reflect={};goog.reflect.object=function(a,b){return b};goog.reflect.objectProperty=function(a,b){return a};goog.reflect.sinkValue=function(a){goog.reflect.sinkValue[\" \"](a);return a};goog.reflect.sinkValue[\" \"]=goog.nullFunction;goog.reflect.canAccessProperty=function(a,b){try{return goog.reflect.sinkValue(a[b]),!0}catch(c){}return!1};goog.reflect.cache=function(a,b,c,d){d=d?d(b):b;return Object.prototype.hasOwnProperty.call(a,d)?a[d]:a[d]=c(b)};goog.userAgent={};goog.userAgent.ASSUME_IE=!1;goog.userAgent.ASSUME_EDGE=!1;goog.userAgent.ASSUME_GECKO=!1;goog.userAgent.ASSUME_WEBKIT=!1;goog.userAgent.ASSUME_MOBILE_WEBKIT=!1;goog.userAgent.ASSUME_OPERA=!1;goog.userAgent.ASSUME_ANY_VERSION=!1;goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA;goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()};\ngoog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null};goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()};goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera();goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE();goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge();\ngoog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE;goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko();goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit();goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent(\"Mobile\")};\ngoog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_();goog.userAgent.SAFARI=goog.userAgent.WEBKIT;goog.userAgent.determinePlatform_=function(){var a=goog.userAgent.getNavigatorTyped();return a&&a.platform||\"\"};goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_();goog.userAgent.ASSUME_MAC=!1;goog.userAgent.ASSUME_WINDOWS=!1;goog.userAgent.ASSUME_LINUX=!1;goog.userAgent.ASSUME_X11=!1;goog.userAgent.ASSUME_ANDROID=!1;goog.userAgent.ASSUME_IPHONE=!1;\ngoog.userAgent.ASSUME_IPAD=!1;goog.userAgent.ASSUME_IPOD=!1;goog.userAgent.ASSUME_KAIOS=!1;goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD;goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh();\ngoog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows();goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()};goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_();goog.userAgent.isX11_=function(){var a=goog.userAgent.getNavigatorTyped();return!!a&&goog.string.contains(a.appVersion||\"\",\"X11\")};\ngoog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_();goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid();goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone();goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad();\ngoog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod();goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos();goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS();\ngoog.userAgent.determineVersion_=function(){var a=\"\",b=goog.userAgent.getVersionRegexResult_();b&&(a=b?b[1]:\"\");return goog.userAgent.IE&&(b=goog.userAgent.getDocumentMode_(),null!=b&&b>parseFloat(a))?String(b):a};\ngoog.userAgent.getVersionRegexResult_=function(){var a=goog.userAgent.getUserAgentString();if(goog.userAgent.GECKO)return/rv:([^\\);]+)(\\)|;)/.exec(a);if(goog.userAgent.EDGE)return/Edge\\/([\\d\\.]+)/.exec(a);if(goog.userAgent.IE)return/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);if(goog.userAgent.WEBKIT)return/WebKit\\/(\\S+)/.exec(a);if(goog.userAgent.OPERA)return/(?:Version)[ \\/]?(\\S+)/.exec(a)};goog.userAgent.getDocumentMode_=function(){var a=goog.global.document;return a?a.documentMode:void 0};\ngoog.userAgent.VERSION=goog.userAgent.determineVersion_();goog.userAgent.compare=function(a,b){return goog.string.compareVersions(a,b)};goog.userAgent.isVersionOrHigherCache_={};goog.userAgent.isVersionOrHigher=function(a){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,a,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,a)})};goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher;\ngoog.userAgent.isDocumentModeOrHigher=function(a){return Number(goog.userAgent.DOCUMENT_MODE)>=a};goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher;goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE){var a=goog.userAgent.getDocumentMode_();return a?a:parseInt(goog.userAgent.VERSION,10)||void 0}}();goog.userAgent.product={};goog.userAgent.product.ASSUME_FIREFOX=!1;goog.userAgent.product.ASSUME_IPHONE=!1;goog.userAgent.product.ASSUME_IPAD=!1;goog.userAgent.product.ASSUME_ANDROID=!1;goog.userAgent.product.ASSUME_CHROME=!1;goog.userAgent.product.ASSUME_SAFARI=!1;\ngoog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI;goog.userAgent.product.OPERA=goog.userAgent.OPERA;goog.userAgent.product.IE=goog.userAgent.IE;goog.userAgent.product.EDGE=goog.userAgent.EDGE;\ngoog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox();goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()};goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_();\ngoog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad();goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser();goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome();\ngoog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()};goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_();goog.crypt.base64={};goog.crypt.base64.DEFAULT_ALPHABET_COMMON_=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+\"+/=\";goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+\"-_.\";goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4};goog.crypt.base64.paddingChars_=\"=.\";\ngoog.crypt.base64.isPadding_=function(a){return goog.string.contains(goog.crypt.base64.paddingChars_,a)};goog.crypt.base64.byteToCharMaps_={};goog.crypt.base64.charToByteMap_=null;goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA;goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||\"function\"==typeof goog.global.btoa;\ngoog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&\"function\"==typeof goog.global.atob;\ngoog.crypt.base64.encodeByteArray=function(a,b){goog.asserts.assert(goog.isArrayLike(a),\"encodeByteArray takes an array as a parameter\");void 0===b&&(b=goog.crypt.base64.Alphabet.DEFAULT);goog.crypt.base64.init_();b=goog.crypt.base64.byteToCharMaps_[b];for(var c=[],d=0;d<a.length;d+=3){var e=a[d],f=d+1<a.length,g=f?a[d+1]:0,h=d+2<a.length,k=h?a[d+2]:0,l=e>>2;e=(e&3)<<4|g>>4;g=(g&15)<<2|k>>6;k&=63;h||(k=64,f||(g=64));c.push(b[l],b[e],b[g]||\"\",b[k]||\"\")}return c.join(\"\")};\ngoog.crypt.base64.encodeString=function(a,b){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!b?goog.global.btoa(a):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(a),b)};goog.crypt.base64.decodeString=function(a,b){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!b)return goog.global.atob(a);var c=\"\";goog.crypt.base64.decodeStringInternal_(a,function(a){c+=String.fromCharCode(a)});return c};\ngoog.crypt.base64.decodeStringToByteArray=function(a,b){var c=[];goog.crypt.base64.decodeStringInternal_(a,function(a){c.push(a)});return c};\ngoog.crypt.base64.decodeStringToUint8Array=function(a){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher(\"10\"),\"Browser does not support typed arrays\");var b=a.length,c=3*b/4;c%3?c=Math.floor(c):goog.crypt.base64.isPadding_(a[b-1])&&(c=goog.crypt.base64.isPadding_(a[b-2])?c-2:c-1);var d=new Uint8Array(c),e=0;goog.crypt.base64.decodeStringInternal_(a,function(a){d[e++]=a});return d.subarray(0,e)};\ngoog.crypt.base64.decodeStringInternal_=function(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=goog.crypt.base64.charToByteMap_[c];if(null!=e)return e;if(!goog.string.isEmptyOrWhitespace(c))throw Error(\"Unknown base64 encoding at char: \"+c);}return b}goog.crypt.base64.init_();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),h=c(64);if(64===h&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=h&&b(g<<6&192|h))}};\ngoog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var a=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(\"\"),b=[\"+/=\",\"+/\",\"-_=\",\"-_.\",\"-_\"],c=0;5>c;c++){var d=a.concat(b[c].split(\"\"));goog.crypt.base64.byteToCharMaps_[c]=d;for(var e=0;e<d.length;e++){var f=d[e],g=goog.crypt.base64.charToByteMap_[f];void 0===g?goog.crypt.base64.charToByteMap_[f]=e:goog.asserts.assert(g===e)}}}};jspb.utils={};jspb.utils.split64Low=0;jspb.utils.split64High=0;jspb.utils.splitUint64=function(a){var b=a>>>0;a=Math.floor((a-b)/jspb.BinaryConstants.TWO_TO_32)>>>0;jspb.utils.split64Low=b;jspb.utils.split64High=a};jspb.utils.splitInt64=function(a){var b=0>a;a=Math.abs(a);var c=a>>>0;a=Math.floor((a-c)/jspb.BinaryConstants.TWO_TO_32);a>>>=0;b&&(a=~a>>>0,c=(~c>>>0)+1,4294967295<c&&(c=0,a++,4294967295<a&&(a=0)));jspb.utils.split64Low=c;jspb.utils.split64High=a};\njspb.utils.splitZigzag64=function(a){var b=0>a;a=2*Math.abs(a);jspb.utils.splitUint64(a);a=jspb.utils.split64Low;var c=jspb.utils.split64High;b&&(0==a?0==c?c=a=4294967295:(c--,a=4294967295):a--);jspb.utils.split64Low=a;jspb.utils.split64High=c};\njspb.utils.splitFloat32=function(a){var b=0>a?1:0;a=b?-a:a;if(0===a)0<1/a?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(a))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(a>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(b<<31|2139095040)>>>0;else if(a<jspb.BinaryConstants.FLOAT32_MIN)a=Math.round(a/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(b<<31|\na)>>>0;else{var c=Math.floor(Math.log(a)/Math.LN2);a*=Math.pow(2,-c);a=Math.round(a*jspb.BinaryConstants.TWO_TO_23);16777216<=a&&++c;jspb.utils.split64High=0;jspb.utils.split64Low=(b<<31|c+127<<23|a&8388607)>>>0}};\njspb.utils.splitFloat64=function(a){var b=0>a?1:0;a=b?-a:a;if(0===a)jspb.utils.split64High=0<1/a?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(a))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(a>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(b<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(a<jspb.BinaryConstants.FLOAT64_MIN){var c=a/Math.pow(2,-1074);a=c/jspb.BinaryConstants.TWO_TO_32;jspb.utils.split64High=(b<<31|a)>>>0;jspb.utils.split64Low=c>>>0}else{c=\na;var d=0;if(2<=c)for(;2<=c&&1023>d;)d++,c/=2;else for(;1>c&&-1022<d;)c*=2,d--;c=a*Math.pow(2,-d);a=c*jspb.BinaryConstants.TWO_TO_20&1048575;c=c*jspb.BinaryConstants.TWO_TO_52>>>0;jspb.utils.split64High=(b<<31|d+1023<<20|a)>>>0;jspb.utils.split64Low=c}};\njspb.utils.splitHash64=function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1),d=a.charCodeAt(2),e=a.charCodeAt(3),f=a.charCodeAt(4),g=a.charCodeAt(5),h=a.charCodeAt(6);a=a.charCodeAt(7);jspb.utils.split64Low=b+(c<<8)+(d<<16)+(e<<24)>>>0;jspb.utils.split64High=f+(g<<8)+(h<<16)+(a<<24)>>>0};jspb.utils.joinUint64=function(a,b){return b*jspb.BinaryConstants.TWO_TO_32+(a>>>0)};\njspb.utils.joinInt64=function(a,b){var c=b&2147483648;c&&(a=~a+1>>>0,b=~b>>>0,0==a&&(b=b+1>>>0));a=jspb.utils.joinUint64(a,b);return c?-a:a};jspb.utils.toZigzag64=function(a,b,c){var d=b>>31;return c(a<<1^d,(b<<1|a>>>31)^d)};jspb.utils.joinZigzag64=function(a,b){return jspb.utils.fromZigzag64(a,b,jspb.utils.joinInt64)};jspb.utils.fromZigzag64=function(a,b,c){var d=-(a&1);return c((a>>>1|b<<31)^d,b>>>1^d)};\njspb.utils.joinFloat32=function(a,b){b=2*(a>>31)+1;var c=a>>>23&255;a&=8388607;return 255==c?a?NaN:Infinity*b:0==c?b*Math.pow(2,-149)*a:b*Math.pow(2,c-150)*(a+Math.pow(2,23))};jspb.utils.joinFloat64=function(a,b){var c=2*(b>>31)+1,d=b>>>20&2047;a=jspb.BinaryConstants.TWO_TO_32*(b&1048575)+a;return 2047==d?a?NaN:Infinity*c:0==d?c*Math.pow(2,-1074)*a:c*Math.pow(2,d-1075)*(a+jspb.BinaryConstants.TWO_TO_52)};\njspb.utils.joinHash64=function(a,b){return String.fromCharCode(a>>>0&255,a>>>8&255,a>>>16&255,a>>>24&255,b>>>0&255,b>>>8&255,b>>>16&255,b>>>24&255)};jspb.utils.DIGITS=\"0123456789abcdef\".split(\"\");jspb.utils.ZERO_CHAR_CODE_=48;jspb.utils.A_CHAR_CODE_=97;\njspb.utils.joinUnsignedDecimalString=function(a,b){function c(a,b){a=a?String(a):\"\";return b?\"0000000\".slice(a.length)+a:a}if(2097151>=b)return\"\"+jspb.utils.joinUint64(a,b);var d=(a>>>24|b<<8)>>>0&16777215;b=b>>16&65535;a=(a&16777215)+6777216*d+6710656*b;d+=8147497*b;b*=2;1E7<=a&&(d+=Math.floor(a/1E7),a%=1E7);1E7<=d&&(b+=Math.floor(d/1E7),d%=1E7);return c(b,0)+c(d,b)+c(a,1)};\njspb.utils.joinSignedDecimalString=function(a,b){var c=b&2147483648;c&&(a=~a+1>>>0,b=~b+(0==a?1:0)>>>0);a=jspb.utils.joinUnsignedDecimalString(a,b);return c?\"-\"+a:a};jspb.utils.hash64ToDecimalString=function(a,b){jspb.utils.splitHash64(a);a=jspb.utils.split64Low;var c=jspb.utils.split64High;return b?jspb.utils.joinSignedDecimalString(a,c):jspb.utils.joinUnsignedDecimalString(a,c)};\njspb.utils.hash64ArrayToDecimalStrings=function(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]=jspb.utils.hash64ToDecimalString(a[d],b);return c};\njspb.utils.decimalStringToHash64=function(a){function b(a,b){for(var c=0;8>c&&(1!==a||0<b);c++)b=a*e[c]+b,e[c]=b&255,b>>>=8}function c(){for(var a=0;8>a;a++)e[a]=~e[a]&255}goog.asserts.assert(0<a.length);var d=!1;\"-\"===a[0]&&(d=!0,a=a.slice(1));for(var e=[0,0,0,0,0,0,0,0],f=0;f<a.length;f++)b(10,a.charCodeAt(f)-jspb.utils.ZERO_CHAR_CODE_);d&&(c(),b(1,1));return goog.crypt.byteArrayToString(e)};jspb.utils.splitDecimalString=function(a){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(a))};\njspb.utils.toHexDigit_=function(a){return String.fromCharCode(10>a?jspb.utils.ZERO_CHAR_CODE_+a:jspb.utils.A_CHAR_CODE_-10+a)};jspb.utils.fromHexCharCode_=function(a){return a>=jspb.utils.A_CHAR_CODE_?a-jspb.utils.A_CHAR_CODE_+10:a-jspb.utils.ZERO_CHAR_CODE_};jspb.utils.hash64ToHexString=function(a){var b=Array(18);b[0]=\"0\";b[1]=\"x\";for(var c=0;8>c;c++){var d=a.charCodeAt(7-c);b[2*c+2]=jspb.utils.toHexDigit_(d>>4);b[2*c+3]=jspb.utils.toHexDigit_(d&15)}return b.join(\"\")};\njspb.utils.hexStringToHash64=function(a){a=a.toLowerCase();goog.asserts.assert(18==a.length);goog.asserts.assert(\"0\"==a[0]);goog.asserts.assert(\"x\"==a[1]);for(var b=\"\",c=0;8>c;c++){var d=jspb.utils.fromHexCharCode_(a.charCodeAt(2*c+2)),e=jspb.utils.fromHexCharCode_(a.charCodeAt(2*c+3));b=String.fromCharCode(16*d+e)+b}return b};\njspb.utils.hash64ToNumber=function(a,b){jspb.utils.splitHash64(a);a=jspb.utils.split64Low;var c=jspb.utils.split64High;return b?jspb.utils.joinInt64(a,c):jspb.utils.joinUint64(a,c)};jspb.utils.numberToHash64=function(a){jspb.utils.splitInt64(a);return jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)};jspb.utils.countVarints=function(a,b,c){for(var d=0,e=b;e<c;e++)d+=a[e]>>7;return c-b-d};\njspb.utils.countVarintFields=function(a,b,c,d){var e=0;d=8*d+jspb.BinaryConstants.WireType.VARINT;if(128>d)for(;b<c&&a[b++]==d;)for(e++;;){var f=a[b++];if(0==(f&128))break}else for(;b<c;){for(f=d;128<f;){if(a[b]!=(f&127|128))return e;b++;f>>=7}if(a[b++]!=f)break;for(e++;f=a[b++],0!=(f&128););}return e};jspb.utils.countFixedFields_=function(a,b,c,d,e){var f=0;if(128>d)for(;b<c&&a[b++]==d;)f++,b+=e;else for(;b<c;){for(var g=d;128<g;){if(a[b++]!=(g&127|128))return f;g>>=7}if(a[b++]!=g)break;f++;b+=e}return f};\njspb.utils.countFixed32Fields=function(a,b,c,d){return jspb.utils.countFixedFields_(a,b,c,8*d+jspb.BinaryConstants.WireType.FIXED32,4)};jspb.utils.countFixed64Fields=function(a,b,c,d){return jspb.utils.countFixedFields_(a,b,c,8*d+jspb.BinaryConstants.WireType.FIXED64,8)};\njspb.utils.countDelimitedFields=function(a,b,c,d){var e=0;for(d=8*d+jspb.BinaryConstants.WireType.DELIMITED;b<c;){for(var f=d;128<f;){if(a[b++]!=(f&127|128))return e;f>>=7}if(a[b++]!=f)break;e++;for(var g=0,h=1;f=a[b++],g+=(f&127)*h,h*=128,0!=(f&128););b+=g}return e};jspb.utils.debugBytesToTextFormat=function(a){var b='\"';if(a){a=jspb.utils.byteSourceToUint8Array(a);for(var c=0;c<a.length;c++)b+=\"\\\\x\",16>a[c]&&(b+=\"0\"),b+=a[c].toString(16)}return b+'\"'};\njspb.utils.debugScalarToTextFormat=function(a){return\"string\"===typeof a?goog.string.quote(a):a.toString()};jspb.utils.stringToByteArray=function(a){for(var b=new Uint8Array(a.length),c=0;c<a.length;c++){var d=a.charCodeAt(c);if(255<d)throw Error(\"Conversion error: string contains codepoint outside of byte range\");b[c]=d}return b};\njspb.utils.byteSourceToUint8Array=function(a){if(a.constructor===Uint8Array)return a;if(a.constructor===ArrayBuffer||a.constructor===Array)return new Uint8Array(a);if(a.constructor===String)return goog.crypt.base64.decodeStringToUint8Array(a);if(a instanceof Uint8Array)return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);goog.asserts.fail(\"Type not convertible to Uint8Array.\");return new Uint8Array(0)};jspb.BinaryDecoder=function(a,b,c){this.bytes_=null;this.cursor_=this.end_=this.start_=0;this.error_=!1;a&&this.setBlock(a,b,c)};jspb.BinaryDecoder.instanceCache_=[];jspb.BinaryDecoder.alloc=function(a,b,c){if(jspb.BinaryDecoder.instanceCache_.length){var d=jspb.BinaryDecoder.instanceCache_.pop();a&&d.setBlock(a,b,c);return d}return new jspb.BinaryDecoder(a,b,c)};jspb.BinaryDecoder.prototype.free=function(){this.clear();100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)};\njspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)};jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null;this.cursor_=this.end_=this.start_=0;this.error_=!1};jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_};\njspb.BinaryDecoder.prototype.setBlock=function(a,b,c){this.bytes_=jspb.utils.byteSourceToUint8Array(a);this.start_=void 0!==b?b:0;this.end_=void 0!==c?this.start_+c:this.bytes_.length;this.cursor_=this.start_};jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_};jspb.BinaryDecoder.prototype.setEnd=function(a){this.end_=a};jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_};jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_};\njspb.BinaryDecoder.prototype.setCursor=function(a){this.cursor_=a};jspb.BinaryDecoder.prototype.advance=function(a){this.cursor_+=a;goog.asserts.assert(this.cursor_<=this.end_)};jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_};jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_};jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_};\njspb.BinaryDecoder.prototype.readSplitVarint64=function(a){for(var b=128,c=0,d=0,e=0;4>e&&128<=b;e++)b=this.bytes_[this.cursor_++],c|=(b&127)<<7*e;128<=b&&(b=this.bytes_[this.cursor_++],c|=(b&127)<<28,d|=(b&127)>>4);if(128<=b)for(e=0;5>e&&128<=b;e++)b=this.bytes_[this.cursor_++],d|=(b&127)<<7*e+3;if(128>b)return a(c>>>0,d>>>0);goog.asserts.fail(\"Failed to read varint, encoding is invalid.\");this.error_=!0};\njspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(a){return this.readSplitVarint64(function(b,c){return jspb.utils.fromZigzag64(b,c,a)})};jspb.BinaryDecoder.prototype.readSplitFixed64=function(a){var b=this.bytes_,c=this.cursor_;this.cursor_+=8;for(var d=0,e=0,f=c+7;f>=c;f--)d=d<<8|b[f],e=e<<8|b[f+4];return a(d,e)};jspb.BinaryDecoder.prototype.skipVarint=function(){for(;this.bytes_[this.cursor_]&128;)this.cursor_++;this.cursor_++};\njspb.BinaryDecoder.prototype.unskipVarint=function(a){for(;128<a;)this.cursor_--,a>>>=7;this.cursor_--};\njspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var a=this.bytes_;var b=a[this.cursor_+0];var c=b&127;if(128>b)return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),c;b=a[this.cursor_+1];c|=(b&127)<<7;if(128>b)return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),c;b=a[this.cursor_+2];c|=(b&127)<<14;if(128>b)return this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),c;b=a[this.cursor_+3];c|=(b&127)<<21;if(128>b)return this.cursor_+=4,goog.asserts.assert(this.cursor_<=\nthis.end_),c;b=a[this.cursor_+4];c|=(b&15)<<28;if(128>b)return this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),c>>>0;this.cursor_+=5;128<=a[this.cursor_++]&&128<=a[this.cursor_++]&&128<=a[this.cursor_++]&&128<=a[this.cursor_++]&&128<=a[this.cursor_++]&&goog.asserts.assert(!1);goog.asserts.assert(this.cursor_<=this.end_);return c};jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32;jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()};\njspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()};jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var a=this.readUnsignedVarint32();return a>>>1^-(a&1)};jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)};jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)};\njspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)};jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)};jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)};jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)};\njspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)};jspb.BinaryDecoder.prototype.readUint8=function(){var a=this.bytes_[this.cursor_+0];this.cursor_+=1;goog.asserts.assert(this.cursor_<=this.end_);return a};jspb.BinaryDecoder.prototype.readUint16=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1];this.cursor_+=2;goog.asserts.assert(this.cursor_<=this.end_);return a<<0|b<<8};\njspb.BinaryDecoder.prototype.readUint32=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1],c=this.bytes_[this.cursor_+2],d=this.bytes_[this.cursor_+3];this.cursor_+=4;goog.asserts.assert(this.cursor_<=this.end_);return(a<<0|b<<8|c<<16|d<<24)>>>0};jspb.BinaryDecoder.prototype.readUint64=function(){var a=this.readUint32(),b=this.readUint32();return jspb.utils.joinUint64(a,b)};\njspb.BinaryDecoder.prototype.readUint64String=function(){var a=this.readUint32(),b=this.readUint32();return jspb.utils.joinUnsignedDecimalString(a,b)};jspb.BinaryDecoder.prototype.readInt8=function(){var a=this.bytes_[this.cursor_+0];this.cursor_+=1;goog.asserts.assert(this.cursor_<=this.end_);return a<<24>>24};\njspb.BinaryDecoder.prototype.readInt16=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1];this.cursor_+=2;goog.asserts.assert(this.cursor_<=this.end_);return(a<<0|b<<8)<<16>>16};jspb.BinaryDecoder.prototype.readInt32=function(){var a=this.bytes_[this.cursor_+0],b=this.bytes_[this.cursor_+1],c=this.bytes_[this.cursor_+2],d=this.bytes_[this.cursor_+3];this.cursor_+=4;goog.asserts.assert(this.cursor_<=this.end_);return a<<0|b<<8|c<<16|d<<24};\njspb.BinaryDecoder.prototype.readInt64=function(){var a=this.readUint32(),b=this.readUint32();return jspb.utils.joinInt64(a,b)};jspb.BinaryDecoder.prototype.readInt64String=function(){var a=this.readUint32(),b=this.readUint32();return jspb.utils.joinSignedDecimalString(a,b)};jspb.BinaryDecoder.prototype.readFloat=function(){var a=this.readUint32();return jspb.utils.joinFloat32(a,0)};\njspb.BinaryDecoder.prototype.readDouble=function(){var a=this.readUint32(),b=this.readUint32();return jspb.utils.joinFloat64(a,b)};jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]};jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()};\njspb.BinaryDecoder.prototype.readString=function(a){var b=this.bytes_,c=this.cursor_;a=c+a;for(var d=[],e=\"\";c<a;){var f=b[c++];if(128>f)d.push(f);else if(192>f)continue;else if(224>f){var g=b[c++];d.push((f&31)<<6|g&63)}else if(240>f){g=b[c++];var h=b[c++];d.push((f&15)<<12|(g&63)<<6|h&63)}else if(248>f){g=b[c++];h=b[c++];var k=b[c++];f=(f&7)<<18|(g&63)<<12|(h&63)<<6|k&63;f-=65536;d.push((f>>10&1023)+55296,(f&1023)+56320)}8192<=d.length&&(e+=String.fromCharCode.apply(null,d),d.length=0)}e+=goog.crypt.byteArrayToString(d);\nthis.cursor_=c;return e};jspb.BinaryDecoder.prototype.readStringWithLength=function(){var a=this.readUnsignedVarint32();return this.readString(a)};jspb.BinaryDecoder.prototype.readBytes=function(a){if(0>a||this.cursor_+a>this.bytes_.length)return this.error_=!0,goog.asserts.fail(\"Invalid byte length!\"),new Uint8Array(0);var b=this.bytes_.subarray(this.cursor_,this.cursor_+a);this.cursor_+=a;goog.asserts.assert(this.cursor_<=this.end_);return b};jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)};\njspb.BinaryDecoder.prototype.readFixedHash64=function(){var a=this.bytes_,b=this.cursor_,c=a[b+0],d=a[b+1],e=a[b+2],f=a[b+3],g=a[b+4],h=a[b+5],k=a[b+6];a=a[b+7];this.cursor_+=8;return String.fromCharCode(c,d,e,f,g,h,k,a)};jspb.BinaryReader=function(a,b,c){this.decoder_=jspb.BinaryDecoder.alloc(a,b,c);this.fieldCursor_=this.decoder_.getCursor();this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER;this.nextWireType_=jspb.BinaryConstants.WireType.INVALID;this.error_=!1;this.readCallbacks_=null};jspb.BinaryReader.instanceCache_=[];\njspb.BinaryReader.alloc=function(a,b,c){if(jspb.BinaryReader.instanceCache_.length){var d=jspb.BinaryReader.instanceCache_.pop();a&&d.decoder_.setBlock(a,b,c);return d}return new jspb.BinaryReader(a,b,c)};jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc;\njspb.BinaryReader.prototype.free=function(){this.decoder_.clear();this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER;this.nextWireType_=jspb.BinaryConstants.WireType.INVALID;this.error_=!1;this.readCallbacks_=null;100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)};jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_};jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()};\njspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()};jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_};jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_};jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED};jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP};\njspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()};jspb.BinaryReader.prototype.setBlock=function(a,b,c){this.decoder_.setBlock(a,b,c);this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER;this.nextWireType_=jspb.BinaryConstants.WireType.INVALID};jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset();this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER;this.nextWireType_=jspb.BinaryConstants.WireType.INVALID};\njspb.BinaryReader.prototype.advance=function(a){this.decoder_.advance(a)};\njspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail(\"Decoder hit an error\"),!1;this.fieldCursor_=this.decoder_.getCursor();var a=this.decoder_.readUnsignedVarint32(),b=a>>>3;a&=7;if(a!=jspb.BinaryConstants.WireType.VARINT&&a!=jspb.BinaryConstants.WireType.FIXED32&&a!=jspb.BinaryConstants.WireType.FIXED64&&a!=jspb.BinaryConstants.WireType.DELIMITED&&a!=jspb.BinaryConstants.WireType.START_GROUP&&a!=jspb.BinaryConstants.WireType.END_GROUP)return goog.asserts.fail(\"Invalid wire type: %s (at position %s)\",\na,this.fieldCursor_),this.error_=!0,!1;this.nextField_=b;this.nextWireType_=a;return!0};jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)};jspb.BinaryReader.prototype.skipMatchingFields=function(){var a=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==a;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()};\njspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail(\"Invalid wire type for skipVarintField\"),this.skipField()):this.decoder_.skipVarint()};jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail(\"Invalid wire type for skipDelimitedField\"),this.skipField();else{var a=this.decoder_.readUnsignedVarint32();this.decoder_.advance(a)}};\njspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail(\"Invalid wire type for skipFixed32Field\"),this.skipField()):this.decoder_.advance(4)};jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail(\"Invalid wire type for skipFixed64Field\"),this.skipField()):this.decoder_.advance(8)};\njspb.BinaryReader.prototype.skipGroup=function(){var a=this.nextField_;do{if(!this.nextField()){goog.asserts.fail(\"Unmatched start-group tag: stream EOF\");this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=a&&(goog.asserts.fail(\"Unmatched end-group tag\"),this.error_=!0);break}this.skipField()}while(1)};\njspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail(\"Invalid wire encoding for field.\")}};\njspb.BinaryReader.prototype.registerReadCallback=function(a,b){null===this.readCallbacks_&&(this.readCallbacks_={});goog.asserts.assert(!this.readCallbacks_[a]);this.readCallbacks_[a]=b};jspb.BinaryReader.prototype.runReadCallback=function(a){goog.asserts.assert(null!==this.readCallbacks_);a=this.readCallbacks_[a];goog.asserts.assert(a);return a(this)};\njspb.BinaryReader.prototype.readAny=function(a){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(a);var b=jspb.BinaryConstants.FieldType;switch(a){case b.DOUBLE:return this.readDouble();case b.FLOAT:return this.readFloat();case b.INT64:return this.readInt64();case b.UINT64:return this.readUint64();case b.INT32:return this.readInt32();case b.FIXED64:return this.readFixed64();case b.FIXED32:return this.readFixed32();case b.BOOL:return this.readBool();case b.STRING:return this.readString();\ncase b.GROUP:goog.asserts.fail(\"Group field type not supported in readAny()\");case b.MESSAGE:goog.asserts.fail(\"Message field type not supported in readAny()\");case b.BYTES:return this.readBytes();case b.UINT32:return this.readUint32();case b.ENUM:return this.readEnum();case b.SFIXED32:return this.readSfixed32();case b.SFIXED64:return this.readSfixed64();case b.SINT32:return this.readSint32();case b.SINT64:return this.readSint64();case b.FHASH64:return this.readFixedHash64();case b.VHASH64:return this.readVarintHash64();\ndefault:goog.asserts.fail(\"Invalid field type in readAny()\")}return 0};jspb.BinaryReader.prototype.readMessage=function(a,b){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var c=this.decoder_.getEnd(),d=this.decoder_.readUnsignedVarint32();d=this.decoder_.getCursor()+d;this.decoder_.setEnd(d);b(a,this);this.decoder_.setCursor(d);this.decoder_.setEnd(c)};\njspb.BinaryReader.prototype.readGroup=function(a,b,c){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP);goog.asserts.assert(this.nextField_==a);c(b,this);this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail(\"Group submessage did not end with an END_GROUP tag\"),this.error_=!0)};\njspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var a=this.decoder_.readUnsignedVarint32(),b=this.decoder_.getCursor(),c=b+a;a=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),b,a);this.decoder_.setCursor(c);return a};jspb.BinaryReader.prototype.readInt32=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT);return this.decoder_.readSignedVarint32()};\njspb.BinaryReader.prototype.readInt32String=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT);return this.decoder_.readSignedVarint32String()};jspb.BinaryReader.prototype.readInt64=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT);return this.decoder_.readSignedVarint64()};jspb.BinaryReader.prototype.readInt64String=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT);return this.decoder_.readSignedVarint64String()};\njspb.BinaryReader.prototype.readUint32=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT);return this.decoder_.readUnsignedVarint32()};jspb.BinaryReader.prototype.readUint32String=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT);return this.decoder_.readUnsignedVarint32String()};jspb.BinaryReader.prototype.readUint64=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT);return this.decoder_.readUnsignedVarint64()};\njspb.BinaryReader.prototype.readUint64String=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT);return this.decoder_.readUnsignedVarint64String()};jspb.BinaryReader.prototype.readSint32=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT);return this.decoder_.readZigzagVarint32()};jspb.BinaryReader.prototype.readSint64=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT);return this.decoder_.readZigzagVarint64()};\njspb.BinaryReader.prototype.readSint64String=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT);return this.decoder_.readZigzagVarint64String()};jspb.BinaryReader.prototype.readFixed32=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32);return this.decoder_.readUint32()};jspb.BinaryReader.prototype.readFixed64=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64);return this.decoder_.readUint64()};\njspb.BinaryReader.prototype.readFixed64String=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64);return this.decoder_.readUint64String()};jspb.BinaryReader.prototype.readSfixed32=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32);return this.decoder_.readInt32()};jspb.BinaryReader.prototype.readSfixed32String=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32);return this.decoder_.readInt32().toString()};\njspb.BinaryReader.prototype.readSfixed64=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64);return this.decoder_.readInt64()};jspb.BinaryReader.prototype.readSfixed64String=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64);return this.decoder_.readInt64String()};jspb.BinaryReader.prototype.readFloat=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32);return this.decoder_.readFloat()};\njspb.BinaryReader.prototype.readDouble=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64);return this.decoder_.readDouble()};jspb.BinaryReader.prototype.readBool=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT);return!!this.decoder_.readUnsignedVarint32()};jspb.BinaryReader.prototype.readEnum=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT);return this.decoder_.readSignedVarint64()};\njspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var a=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(a)};jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var a=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(a)};\njspb.BinaryReader.prototype.readVarintHash64=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT);return this.decoder_.readVarintHash64()};jspb.BinaryReader.prototype.readSintHash64=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT);return this.decoder_.readZigzagVarintHash64()};jspb.BinaryReader.prototype.readSplitVarint64=function(a){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT);return this.decoder_.readSplitVarint64(a)};\njspb.BinaryReader.prototype.readSplitZigzagVarint64=function(a){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT);return this.decoder_.readSplitVarint64(function(b,c){return jspb.utils.fromZigzag64(b,c,a)})};jspb.BinaryReader.prototype.readFixedHash64=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64);return this.decoder_.readFixedHash64()};\njspb.BinaryReader.prototype.readSplitFixed64=function(a){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64);return this.decoder_.readSplitFixed64(a)};jspb.BinaryReader.prototype.readPackedField_=function(a){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var b=this.decoder_.readUnsignedVarint32();b=this.decoder_.getCursor()+b;for(var c=[];this.decoder_.getCursor()<b;)c.push(a.call(this.decoder_));return c};\njspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)};jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)};jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)};jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)};\njspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)};jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)};jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)};jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)};\njspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)};jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)};jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)};jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)};\njspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)};jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)};jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)};jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)};\njspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)};jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)};jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)};jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)};jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)};\njspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)};jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)};jspb.BinaryEncoder=function(){this.buffer_=[]};jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length};jspb.BinaryEncoder.prototype.end=function(){var a=this.buffer_;this.buffer_=[];return a};\njspb.BinaryEncoder.prototype.writeSplitVarint64=function(a,b){goog.asserts.assert(a==Math.floor(a));goog.asserts.assert(b==Math.floor(b));goog.asserts.assert(0<=a&&a<jspb.BinaryConstants.TWO_TO_32);for(goog.asserts.assert(0<=b&&b<jspb.BinaryConstants.TWO_TO_32);0<b||127<a;)this.buffer_.push(a&127|128),a=(a>>>7|b<<25)>>>0,b>>>=7;this.buffer_.push(a)};\njspb.BinaryEncoder.prototype.writeSplitFixed64=function(a,b){goog.asserts.assert(a==Math.floor(a));goog.asserts.assert(b==Math.floor(b));goog.asserts.assert(0<=a&&a<jspb.BinaryConstants.TWO_TO_32);goog.asserts.assert(0<=b&&b<jspb.BinaryConstants.TWO_TO_32);this.writeUint32(a);this.writeUint32(b)};\njspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(a){goog.asserts.assert(a==Math.floor(a));for(goog.asserts.assert(0<=a&&a<jspb.BinaryConstants.TWO_TO_32);127<a;)this.buffer_.push(a&127|128),a>>>=7;this.buffer_.push(a)};\njspb.BinaryEncoder.prototype.writeSignedVarint32=function(a){goog.asserts.assert(a==Math.floor(a));goog.asserts.assert(a>=-jspb.BinaryConstants.TWO_TO_31&&a<jspb.BinaryConstants.TWO_TO_31);if(0<=a)this.writeUnsignedVarint32(a);else{for(var b=0;9>b;b++)this.buffer_.push(a&127|128),a>>=7;this.buffer_.push(1)}};\njspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(a){goog.asserts.assert(a==Math.floor(a));goog.asserts.assert(0<=a&&a<jspb.BinaryConstants.TWO_TO_64);jspb.utils.splitInt64(a);this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)};\njspb.BinaryEncoder.prototype.writeSignedVarint64=function(a){goog.asserts.assert(a==Math.floor(a));goog.asserts.assert(a>=-jspb.BinaryConstants.TWO_TO_63&&a<jspb.BinaryConstants.TWO_TO_63);jspb.utils.splitInt64(a);this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)};\njspb.BinaryEncoder.prototype.writeZigzagVarint32=function(a){goog.asserts.assert(a==Math.floor(a));goog.asserts.assert(a>=-jspb.BinaryConstants.TWO_TO_31&&a<jspb.BinaryConstants.TWO_TO_31);this.writeUnsignedVarint32((a<<1^a>>31)>>>0)};jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(a){goog.asserts.assert(a==Math.floor(a));goog.asserts.assert(a>=-jspb.BinaryConstants.TWO_TO_63&&a<jspb.BinaryConstants.TWO_TO_63);jspb.utils.splitZigzag64(a);this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)};\njspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(a){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(a))};jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(a){var b=this;jspb.utils.splitHash64(a);jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(a,d){b.writeSplitVarint64(a>>>0,d>>>0)})};\njspb.BinaryEncoder.prototype.writeUint8=function(a){goog.asserts.assert(a==Math.floor(a));goog.asserts.assert(0<=a&&256>a);this.buffer_.push(a>>>0&255)};jspb.BinaryEncoder.prototype.writeUint16=function(a){goog.asserts.assert(a==Math.floor(a));goog.asserts.assert(0<=a&&65536>a);this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255)};\njspb.BinaryEncoder.prototype.writeUint32=function(a){goog.asserts.assert(a==Math.floor(a));goog.asserts.assert(0<=a&&a<jspb.BinaryConstants.TWO_TO_32);this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255);this.buffer_.push(a>>>16&255);this.buffer_.push(a>>>24&255)};jspb.BinaryEncoder.prototype.writeUint64=function(a){goog.asserts.assert(a==Math.floor(a));goog.asserts.assert(0<=a&&a<jspb.BinaryConstants.TWO_TO_64);jspb.utils.splitUint64(a);this.writeUint32(jspb.utils.split64Low);this.writeUint32(jspb.utils.split64High)};\njspb.BinaryEncoder.prototype.writeInt8=function(a){goog.asserts.assert(a==Math.floor(a));goog.asserts.assert(-128<=a&&128>a);this.buffer_.push(a>>>0&255)};jspb.BinaryEncoder.prototype.writeInt16=function(a){goog.asserts.assert(a==Math.floor(a));goog.asserts.assert(-32768<=a&&32768>a);this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255)};\njspb.BinaryEncoder.prototype.writeInt32=function(a){goog.asserts.assert(a==Math.floor(a));goog.asserts.assert(a>=-jspb.BinaryConstants.TWO_TO_31&&a<jspb.BinaryConstants.TWO_TO_31);this.buffer_.push(a>>>0&255);this.buffer_.push(a>>>8&255);this.buffer_.push(a>>>16&255);this.buffer_.push(a>>>24&255)};\njspb.BinaryEncoder.prototype.writeInt64=function(a){goog.asserts.assert(a==Math.floor(a));goog.asserts.assert(a>=-jspb.BinaryConstants.TWO_TO_63&&a<jspb.BinaryConstants.TWO_TO_63);jspb.utils.splitInt64(a);this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)};\njspb.BinaryEncoder.prototype.writeInt64String=function(a){goog.asserts.assert(a==Math.floor(a));goog.asserts.assert(+a>=-jspb.BinaryConstants.TWO_TO_63&&+a<jspb.BinaryConstants.TWO_TO_63);jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(a));this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)};\njspb.BinaryEncoder.prototype.writeFloat=function(a){goog.asserts.assert(Infinity===a||-Infinity===a||isNaN(a)||a>=-jspb.BinaryConstants.FLOAT32_MAX&&a<=jspb.BinaryConstants.FLOAT32_MAX);jspb.utils.splitFloat32(a);this.writeUint32(jspb.utils.split64Low)};\njspb.BinaryEncoder.prototype.writeDouble=function(a){goog.asserts.assert(Infinity===a||-Infinity===a||isNaN(a)||a>=-jspb.BinaryConstants.FLOAT64_MAX&&a<=jspb.BinaryConstants.FLOAT64_MAX);jspb.utils.splitFloat64(a);this.writeUint32(jspb.utils.split64Low);this.writeUint32(jspb.utils.split64High)};jspb.BinaryEncoder.prototype.writeBool=function(a){goog.asserts.assert(\"boolean\"===typeof a||\"number\"===typeof a);this.buffer_.push(a?1:0)};\njspb.BinaryEncoder.prototype.writeEnum=function(a){goog.asserts.assert(a==Math.floor(a));goog.asserts.assert(a>=-jspb.BinaryConstants.TWO_TO_31&&a<jspb.BinaryConstants.TWO_TO_31);this.writeSignedVarint32(a)};jspb.BinaryEncoder.prototype.writeBytes=function(a){this.buffer_.push.apply(this.buffer_,a)};jspb.BinaryEncoder.prototype.writeVarintHash64=function(a){jspb.utils.splitHash64(a);this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)};\njspb.BinaryEncoder.prototype.writeFixedHash64=function(a){jspb.utils.splitHash64(a);this.writeUint32(jspb.utils.split64Low);this.writeUint32(jspb.utils.split64High)};\njspb.BinaryEncoder.prototype.writeString=function(a){var b=this.buffer_.length;goog.asserts.assertString(a);for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);if(128>d)this.buffer_.push(d);else if(2048>d)this.buffer_.push(d>>6|192),this.buffer_.push(d&63|128);else if(65536>d)if(55296<=d&&56319>=d&&c+1<a.length){var e=a.charCodeAt(c+1);56320<=e&&57343>=e&&(d=1024*(d-55296)+e-56320+65536,this.buffer_.push(d>>18|240),this.buffer_.push(d>>12&63|128),this.buffer_.push(d>>6&63|128),this.buffer_.push(d&63|\n128),c++)}else this.buffer_.push(d>>12|224),this.buffer_.push(d>>6&63|128),this.buffer_.push(d&63|128)}return this.buffer_.length-b};jspb.arith={};jspb.arith.UInt64=function(a,b){this.lo=a;this.hi=b};jspb.arith.UInt64.prototype.cmp=function(a){return this.hi<a.hi||this.hi==a.hi&&this.lo<a.lo?-1:this.hi==a.hi&&this.lo==a.lo?0:1};jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(this.hi&1)<<31)>>>0,this.hi>>>1>>>0)};jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)};\njspb.arith.UInt64.prototype.msb=function(){return!!(this.hi&2147483648)};jspb.arith.UInt64.prototype.lsb=function(){return!!(this.lo&1)};jspb.arith.UInt64.prototype.zero=function(){return 0==this.lo&&0==this.hi};jspb.arith.UInt64.prototype.add=function(a){return new jspb.arith.UInt64((this.lo+a.lo&4294967295)>>>0>>>0,((this.hi+a.hi&4294967295)>>>0)+(4294967296<=this.lo+a.lo?1:0)>>>0)};\njspb.arith.UInt64.prototype.sub=function(a){return new jspb.arith.UInt64((this.lo-a.lo&4294967295)>>>0>>>0,((this.hi-a.hi&4294967295)>>>0)-(0>this.lo-a.lo?1:0)>>>0)};jspb.arith.UInt64.mul32x32=function(a,b){var c=a&65535;a>>>=16;var d=b&65535,e=b>>>16;b=c*d+65536*(c*e&65535)+65536*(a*d&65535);for(c=a*e+(c*e>>>16)+(a*d>>>16);4294967296<=b;)b-=4294967296,c+=1;return new jspb.arith.UInt64(b>>>0,c>>>0)};\njspb.arith.UInt64.prototype.mul=function(a){var b=jspb.arith.UInt64.mul32x32(this.lo,a);a=jspb.arith.UInt64.mul32x32(this.hi,a);a.hi=a.lo;a.lo=0;return b.add(a)};\njspb.arith.UInt64.prototype.div=function(a){if(0==a)return[];var b=new jspb.arith.UInt64(0,0),c=new jspb.arith.UInt64(this.lo,this.hi);a=new jspb.arith.UInt64(a,0);for(var d=new jspb.arith.UInt64(1,0);!a.msb();)a=a.leftShift(),d=d.leftShift();for(;!d.zero();)0>=a.cmp(c)&&(b=b.add(d),c=c.sub(a)),a=a.rightShift(),d=d.rightShift();return[b,c]};jspb.arith.UInt64.prototype.toString=function(){for(var a=\"\",b=this;!b.zero();){b=b.div(10);var c=b[0];a=b[1].lo+a;b=c}\"\"==a&&(a=\"0\");return a};\njspb.arith.UInt64.fromString=function(a){for(var b=new jspb.arith.UInt64(0,0),c=new jspb.arith.UInt64(0,0),d=0;d<a.length;d++){if(\"0\">a[d]||\"9\"<a[d])return null;var e=parseInt(a[d],10);c.lo=e;b=b.mul(10).add(c)}return b};jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)};jspb.arith.Int64=function(a,b){this.lo=a;this.hi=b};\njspb.arith.Int64.prototype.add=function(a){return new jspb.arith.Int64((this.lo+a.lo&4294967295)>>>0>>>0,((this.hi+a.hi&4294967295)>>>0)+(4294967296<=this.lo+a.lo?1:0)>>>0)};jspb.arith.Int64.prototype.sub=function(a){return new jspb.arith.Int64((this.lo-a.lo&4294967295)>>>0>>>0,((this.hi-a.hi&4294967295)>>>0)-(0>this.lo-a.lo?1:0)>>>0)};jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)};\njspb.arith.Int64.prototype.toString=function(){var a=0!=(this.hi&2147483648),b=new jspb.arith.UInt64(this.lo,this.hi);a&&(b=(new jspb.arith.UInt64(0,0)).sub(b));return(a?\"-\":\"\")+b.toString()};jspb.arith.Int64.fromString=function(a){var b=0<a.length&&\"-\"==a[0];b&&(a=a.substring(1));a=jspb.arith.UInt64.fromString(a);if(null===a)return null;b&&(a=(new jspb.arith.UInt64(0,0)).sub(a));return new jspb.arith.Int64(a.lo,a.hi)};jspb.BinaryWriter=function(){this.blocks_=[];this.totalLength_=0;this.encoder_=new jspb.BinaryEncoder;this.bookmarks_=[]};jspb.BinaryWriter.prototype.appendUint8Array_=function(a){var b=this.encoder_.end();this.blocks_.push(b);this.blocks_.push(a);this.totalLength_+=b.length+a.length};\njspb.BinaryWriter.prototype.beginDelimited_=function(a){this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED);a=this.encoder_.end();this.blocks_.push(a);this.totalLength_+=a.length;a.push(this.totalLength_);return a};jspb.BinaryWriter.prototype.endDelimited_=function(a){var b=a.pop();b=this.totalLength_+this.encoder_.length()-b;for(goog.asserts.assert(0<=b);127<b;)a.push(b&127|128),b>>>=7,this.totalLength_++;a.push(b);this.totalLength_++};\njspb.BinaryWriter.prototype.writeSerializedMessage=function(a,b,c){this.appendUint8Array_(a.subarray(b,c))};jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(a,b,c){null!=a&&null!=b&&null!=c&&this.writeSerializedMessage(a,b,c)};jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[];this.encoder_.end();this.totalLength_=0;this.bookmarks_=[]};\njspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(0==this.bookmarks_.length);for(var a=new Uint8Array(this.totalLength_+this.encoder_.length()),b=this.blocks_,c=b.length,d=0,e=0;e<c;e++){var f=b[e];a.set(f,d);d+=f.length}b=this.encoder_.end();a.set(b,d);d+=b.length;goog.asserts.assert(d==a.length);this.blocks_=[a];return a};jspb.BinaryWriter.prototype.getResultBase64String=function(a){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),a)};\njspb.BinaryWriter.prototype.beginSubMessage=function(a){this.bookmarks_.push(this.beginDelimited_(a))};jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length);this.endDelimited_(this.bookmarks_.pop())};jspb.BinaryWriter.prototype.writeFieldHeader_=function(a,b){goog.asserts.assert(1<=a&&a==Math.floor(a));this.encoder_.writeUnsignedVarint32(8*a+b)};\njspb.BinaryWriter.prototype.writeAny=function(a,b,c){var d=jspb.BinaryConstants.FieldType;switch(a){case d.DOUBLE:this.writeDouble(b,c);break;case d.FLOAT:this.writeFloat(b,c);break;case d.INT64:this.writeInt64(b,c);break;case d.UINT64:this.writeUint64(b,c);break;case d.INT32:this.writeInt32(b,c);break;case d.FIXED64:this.writeFixed64(b,c);break;case d.FIXED32:this.writeFixed32(b,c);break;case d.BOOL:this.writeBool(b,c);break;case d.STRING:this.writeString(b,c);break;case d.GROUP:goog.asserts.fail(\"Group field type not supported in writeAny()\");\nbreak;case d.MESSAGE:goog.asserts.fail(\"Message field type not supported in writeAny()\");break;case d.BYTES:this.writeBytes(b,c);break;case d.UINT32:this.writeUint32(b,c);break;case d.ENUM:this.writeEnum(b,c);break;case d.SFIXED32:this.writeSfixed32(b,c);break;case d.SFIXED64:this.writeSfixed64(b,c);break;case d.SINT32:this.writeSint32(b,c);break;case d.SINT64:this.writeSint64(b,c);break;case d.FHASH64:this.writeFixedHash64(b,c);break;case d.VHASH64:this.writeVarintHash64(b,c);break;default:goog.asserts.fail(\"Invalid field type in writeAny()\")}};\njspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(a,b){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(b))};jspb.BinaryWriter.prototype.writeSignedVarint32_=function(a,b){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(b))};jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(a,b){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(b))};\njspb.BinaryWriter.prototype.writeSignedVarint64_=function(a,b){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(b))};jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(a,b){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(b))};jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(a,b){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(b))};\njspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(a,b){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(b))};jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(a,b){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(b))};\njspb.BinaryWriter.prototype.writeInt32=function(a,b){null!=b&&(goog.asserts.assert(b>=-jspb.BinaryConstants.TWO_TO_31&&b<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(a,b))};jspb.BinaryWriter.prototype.writeInt32String=function(a,b){null!=b&&(b=parseInt(b,10),goog.asserts.assert(b>=-jspb.BinaryConstants.TWO_TO_31&&b<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(a,b))};\njspb.BinaryWriter.prototype.writeInt64=function(a,b){null!=b&&(goog.asserts.assert(b>=-jspb.BinaryConstants.TWO_TO_63&&b<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(a,b))};jspb.BinaryWriter.prototype.writeInt64String=function(a,b){null!=b&&(b=jspb.arith.Int64.fromString(b),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(b.lo,b.hi))};\njspb.BinaryWriter.prototype.writeUint32=function(a,b){null!=b&&(goog.asserts.assert(0<=b&&b<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(a,b))};jspb.BinaryWriter.prototype.writeUint32String=function(a,b){null!=b&&(b=parseInt(b,10),goog.asserts.assert(0<=b&&b<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(a,b))};jspb.BinaryWriter.prototype.writeUint64=function(a,b){null!=b&&(goog.asserts.assert(0<=b&&b<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(a,b))};\njspb.BinaryWriter.prototype.writeUint64String=function(a,b){null!=b&&(b=jspb.arith.UInt64.fromString(b),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(b.lo,b.hi))};jspb.BinaryWriter.prototype.writeSint32=function(a,b){null!=b&&(goog.asserts.assert(b>=-jspb.BinaryConstants.TWO_TO_31&&b<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(a,b))};\njspb.BinaryWriter.prototype.writeSint64=function(a,b){null!=b&&(goog.asserts.assert(b>=-jspb.BinaryConstants.TWO_TO_63&&b<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(a,b))};jspb.BinaryWriter.prototype.writeSintHash64=function(a,b){null!=b&&this.writeZigzagVarintHash64_(a,b)};jspb.BinaryWriter.prototype.writeSint64String=function(a,b){null!=b&&this.writeZigzagVarint64String_(a,b)};\njspb.BinaryWriter.prototype.writeFixed32=function(a,b){null!=b&&(goog.asserts.assert(0<=b&&b<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(b))};jspb.BinaryWriter.prototype.writeFixed64=function(a,b){null!=b&&(goog.asserts.assert(0<=b&&b<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(b))};\njspb.BinaryWriter.prototype.writeFixed64String=function(a,b){null!=b&&(b=jspb.arith.UInt64.fromString(b),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(b.lo,b.hi))};jspb.BinaryWriter.prototype.writeSfixed32=function(a,b){null!=b&&(goog.asserts.assert(b>=-jspb.BinaryConstants.TWO_TO_31&&b<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(b))};\njspb.BinaryWriter.prototype.writeSfixed64=function(a,b){null!=b&&(goog.asserts.assert(b>=-jspb.BinaryConstants.TWO_TO_63&&b<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(b))};jspb.BinaryWriter.prototype.writeSfixed64String=function(a,b){null!=b&&(b=jspb.arith.Int64.fromString(b),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(b.lo,b.hi))};\njspb.BinaryWriter.prototype.writeFloat=function(a,b){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(b))};jspb.BinaryWriter.prototype.writeDouble=function(a,b){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(b))};\njspb.BinaryWriter.prototype.writeBool=function(a,b){null!=b&&(goog.asserts.assert(\"boolean\"===typeof b||\"number\"===typeof b),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(b))};jspb.BinaryWriter.prototype.writeEnum=function(a,b){null!=b&&(goog.asserts.assert(b>=-jspb.BinaryConstants.TWO_TO_31&&b<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(b))};\njspb.BinaryWriter.prototype.writeString=function(a,b){null!=b&&(a=this.beginDelimited_(a),this.encoder_.writeString(b),this.endDelimited_(a))};jspb.BinaryWriter.prototype.writeBytes=function(a,b){null!=b&&(b=jspb.utils.byteSourceToUint8Array(b),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(b.length),this.appendUint8Array_(b))};jspb.BinaryWriter.prototype.writeMessage=function(a,b,c){null!=b&&(a=this.beginDelimited_(a),c(b,this),this.endDelimited_(a))};\njspb.BinaryWriter.prototype.writeMessageSet=function(a,b,c){null!=b&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(a),a=this.beginDelimited_(3),c(b,this),this.endDelimited_(a),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))};\njspb.BinaryWriter.prototype.writeGroup=function(a,b,c){null!=b&&(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.START_GROUP),c(b,this),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.END_GROUP))};jspb.BinaryWriter.prototype.writeFixedHash64=function(a,b){null!=b&&(goog.asserts.assert(8==b.length),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(b))};\njspb.BinaryWriter.prototype.writeVarintHash64=function(a,b){null!=b&&(goog.asserts.assert(8==b.length),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(b))};jspb.BinaryWriter.prototype.writeSplitFixed64=function(a,b,c){this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.FIXED64);this.encoder_.writeSplitFixed64(b,c)};\njspb.BinaryWriter.prototype.writeSplitVarint64=function(a,b,c){this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT);this.encoder_.writeSplitVarint64(b,c)};jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(a,b,c){this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.VARINT);var d=this.encoder_;jspb.utils.toZigzag64(b,c,function(a,b){d.writeSplitVarint64(a>>>0,b>>>0)})};\njspb.BinaryWriter.prototype.writeRepeatedInt32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSignedVarint32_(a,b[c])};jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeInt32String(a,b[c])};jspb.BinaryWriter.prototype.writeRepeatedInt64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSignedVarint64_(a,b[c])};\njspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(a,b,c,d){if(null!=b)for(var e=0;e<b.length;e++)this.writeSplitFixed64(a,c(b[e]),d(b[e]))};jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(a,b,c,d){if(null!=b)for(var e=0;e<b.length;e++)this.writeSplitVarint64(a,c(b[e]),d(b[e]))};jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(a,b,c,d){if(null!=b)for(var e=0;e<b.length;e++)this.writeSplitZigzagVarint64(a,c(b[e]),d(b[e]))};\njspb.BinaryWriter.prototype.writeRepeatedInt64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeInt64String(a,b[c])};jspb.BinaryWriter.prototype.writeRepeatedUint32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeUnsignedVarint32_(a,b[c])};jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeUint32String(a,b[c])};\njspb.BinaryWriter.prototype.writeRepeatedUint64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeUnsignedVarint64_(a,b[c])};jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeUint64String(a,b[c])};jspb.BinaryWriter.prototype.writeRepeatedSint32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeZigzagVarint32_(a,b[c])};\njspb.BinaryWriter.prototype.writeRepeatedSint64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeZigzagVarint64_(a,b[c])};jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeZigzagVarint64String_(a,b[c])};jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeZigzagVarintHash64_(a,b[c])};\njspb.BinaryWriter.prototype.writeRepeatedFixed32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFixed32(a,b[c])};jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFixed64(a,b[c])};jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFixed64String(a,b[c])};\njspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSfixed32(a,b[c])};jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSfixed64(a,b[c])};jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeSfixed64String(a,b[c])};\njspb.BinaryWriter.prototype.writeRepeatedFloat=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFloat(a,b[c])};jspb.BinaryWriter.prototype.writeRepeatedDouble=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeDouble(a,b[c])};jspb.BinaryWriter.prototype.writeRepeatedBool=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeBool(a,b[c])};jspb.BinaryWriter.prototype.writeRepeatedEnum=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeEnum(a,b[c])};\njspb.BinaryWriter.prototype.writeRepeatedString=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeString(a,b[c])};jspb.BinaryWriter.prototype.writeRepeatedBytes=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeBytes(a,b[c])};jspb.BinaryWriter.prototype.writeRepeatedMessage=function(a,b,c){if(null!=b)for(var d=0;d<b.length;d++){var e=this.beginDelimited_(a);c(b[d],this);this.endDelimited_(e)}};\njspb.BinaryWriter.prototype.writeRepeatedGroup=function(a,b,c){if(null!=b)for(var d=0;d<b.length;d++)this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.START_GROUP),c(b[d],this),this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.END_GROUP)};jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeFixedHash64(a,b[c])};\njspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(a,b){if(null!=b)for(var c=0;c<b.length;c++)this.writeVarintHash64(a,b[c])};jspb.BinaryWriter.prototype.writePackedInt32=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeSignedVarint32(b[c]);this.endDelimited_(a)}};\njspb.BinaryWriter.prototype.writePackedInt32String=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeSignedVarint32(parseInt(b[c],10));this.endDelimited_(a)}};jspb.BinaryWriter.prototype.writePackedInt64=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeSignedVarint64(b[c]);this.endDelimited_(a)}};\njspb.BinaryWriter.prototype.writePackedSplitFixed64=function(a,b,c,d){if(null!=b){a=this.beginDelimited_(a);for(var e=0;e<b.length;e++)this.encoder_.writeSplitFixed64(c(b[e]),d(b[e]));this.endDelimited_(a)}};jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(a,b,c,d){if(null!=b){a=this.beginDelimited_(a);for(var e=0;e<b.length;e++)this.encoder_.writeSplitVarint64(c(b[e]),d(b[e]));this.endDelimited_(a)}};\njspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(a,b,c,d){if(null!=b){a=this.beginDelimited_(a);for(var e=this.encoder_,f=0;f<b.length;f++)jspb.utils.toZigzag64(c(b[f]),d(b[f]),function(a,b){e.writeSplitVarint64(a>>>0,b>>>0)});this.endDelimited_(a)}};jspb.BinaryWriter.prototype.writePackedInt64String=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++){var d=jspb.arith.Int64.fromString(b[c]);this.encoder_.writeSplitVarint64(d.lo,d.hi)}this.endDelimited_(a)}};\njspb.BinaryWriter.prototype.writePackedUint32=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeUnsignedVarint32(b[c]);this.endDelimited_(a)}};jspb.BinaryWriter.prototype.writePackedUint32String=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeUnsignedVarint32(parseInt(b[c],10));this.endDelimited_(a)}};\njspb.BinaryWriter.prototype.writePackedUint64=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeUnsignedVarint64(b[c]);this.endDelimited_(a)}};jspb.BinaryWriter.prototype.writePackedUint64String=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++){var d=jspb.arith.UInt64.fromString(b[c]);this.encoder_.writeSplitVarint64(d.lo,d.hi)}this.endDelimited_(a)}};\njspb.BinaryWriter.prototype.writePackedSint32=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeZigzagVarint32(b[c]);this.endDelimited_(a)}};jspb.BinaryWriter.prototype.writePackedSint64=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeZigzagVarint64(b[c]);this.endDelimited_(a)}};\njspb.BinaryWriter.prototype.writePackedSint64String=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(b[c]));this.endDelimited_(a)}};jspb.BinaryWriter.prototype.writePackedSintHash64=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeZigzagVarintHash64(b[c]);this.endDelimited_(a)}};\njspb.BinaryWriter.prototype.writePackedFixed32=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*b.length),a=0;a<b.length;a++)this.encoder_.writeUint32(b[a])};jspb.BinaryWriter.prototype.writePackedFixed64=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*b.length),a=0;a<b.length;a++)this.encoder_.writeUint64(b[a])};\njspb.BinaryWriter.prototype.writePackedFixed64String=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*b.length),a=0;a<b.length;a++){var c=jspb.arith.UInt64.fromString(b[a]);this.encoder_.writeSplitFixed64(c.lo,c.hi)}};\njspb.BinaryWriter.prototype.writePackedSfixed32=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*b.length),a=0;a<b.length;a++)this.encoder_.writeInt32(b[a])};jspb.BinaryWriter.prototype.writePackedSfixed64=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*b.length),a=0;a<b.length;a++)this.encoder_.writeInt64(b[a])};\njspb.BinaryWriter.prototype.writePackedSfixed64String=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*b.length),a=0;a<b.length;a++)this.encoder_.writeInt64String(b[a])};jspb.BinaryWriter.prototype.writePackedFloat=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*b.length),a=0;a<b.length;a++)this.encoder_.writeFloat(b[a])};\njspb.BinaryWriter.prototype.writePackedDouble=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*b.length),a=0;a<b.length;a++)this.encoder_.writeDouble(b[a])};jspb.BinaryWriter.prototype.writePackedBool=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(b.length),a=0;a<b.length;a++)this.encoder_.writeBool(b[a])};\njspb.BinaryWriter.prototype.writePackedEnum=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeEnum(b[c]);this.endDelimited_(a)}};jspb.BinaryWriter.prototype.writePackedFixedHash64=function(a,b){if(null!=b&&b.length)for(this.writeFieldHeader_(a,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*b.length),a=0;a<b.length;a++)this.encoder_.writeFixedHash64(b[a])};\njspb.BinaryWriter.prototype.writePackedVarintHash64=function(a,b){if(null!=b&&b.length){a=this.beginDelimited_(a);for(var c=0;c<b.length;c++)this.encoder_.writeVarintHash64(b[c]);this.endDelimited_(a)}};jspb.Map=function(a,b){this.arr_=a;this.valueCtor_=b;this.map_={};this.arrClean=!0;0<this.arr_.length&&this.loadFromArray_()};jspb.Map.prototype.loadFromArray_=function(){for(var a=0;a<this.arr_.length;a++){var b=this.arr_[a],c=b[0];this.map_[c.toString()]=new jspb.Map.Entry_(c,b[1])}this.arrClean=!0};\njspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var a=this.map_,b;for(b in a)if(Object.prototype.hasOwnProperty.call(a,b)){var c=a[b].valueWrapper;c&&c.toArray()}}}else{this.arr_.length=0;a=this.stringKeys_();a.sort();for(b=0;b<a.length;b++){var d=this.map_[a[b]];(c=d.valueWrapper)&&c.toArray();this.arr_.push([d.key,d.value])}this.arrClean=!0}return this.arr_};\njspb.Map.prototype.toObject=function(a,b){for(var c=this.toArray(),d=[],e=0;e<c.length;e++){var f=this.map_[c[e][0].toString()];this.wrapEntry_(f);var g=f.valueWrapper;g?(goog.asserts.assert(b),d.push([f.key,b(a,g)])):d.push([f.key,f.value])}return d};jspb.Map.fromObject=function(a,b,c){b=new jspb.Map([],b);for(var d=0;d<a.length;d++){var e=a[d][0],f=c(a[d][1]);b.set(e,f)}return b};jspb.Map.ArrayIteratorIterable_=function(a){this.idx_=0;this.arr_=a};\njspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}};\"undefined\"!=typeof Symbol&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this});jspb.Map.prototype.getLength=function(){return this.stringKeys_().length};jspb.Map.prototype.clear=function(){this.map_={};this.arrClean=!1};\njspb.Map.prototype.del=function(a){a=a.toString();var b=this.map_.hasOwnProperty(a);delete this.map_[a];this.arrClean=!1;return b};jspb.Map.prototype.getEntryList=function(){var a=[],b=this.stringKeys_();b.sort();for(var c=0;c<b.length;c++){var d=this.map_[b[c]];a.push([d.key,d.value])}return a};jspb.Map.prototype.entries=function(){var a=[],b=this.stringKeys_();b.sort();for(var c=0;c<b.length;c++){var d=this.map_[b[c]];a.push([d.key,this.wrapEntry_(d)])}return new jspb.Map.ArrayIteratorIterable_(a)};\njspb.Map.prototype.keys=function(){var a=[],b=this.stringKeys_();b.sort();for(var c=0;c<b.length;c++)a.push(this.map_[b[c]].key);return new jspb.Map.ArrayIteratorIterable_(a)};jspb.Map.prototype.values=function(){var a=[],b=this.stringKeys_();b.sort();for(var c=0;c<b.length;c++)a.push(this.wrapEntry_(this.map_[b[c]]));return new jspb.Map.ArrayIteratorIterable_(a)};\njspb.Map.prototype.forEach=function(a,b){var c=this.stringKeys_();c.sort();for(var d=0;d<c.length;d++){var e=this.map_[c[d]];a.call(b,this.wrapEntry_(e),e.key,this)}};jspb.Map.prototype.set=function(a,b){var c=new jspb.Map.Entry_(a);this.valueCtor_?(c.valueWrapper=b,c.value=b.toArray()):c.value=b;this.map_[a.toString()]=c;this.arrClean=!1;return this};jspb.Map.prototype.wrapEntry_=function(a){return this.valueCtor_?(a.valueWrapper||(a.valueWrapper=new this.valueCtor_(a.value)),a.valueWrapper):a.value};\njspb.Map.prototype.get=function(a){if(a=this.map_[a.toString()])return this.wrapEntry_(a)};jspb.Map.prototype.has=function(a){return a.toString()in this.map_};jspb.Map.prototype.serializeBinary=function(a,b,c,d,e){var f=this.stringKeys_();f.sort();for(var g=0;g<f.length;g++){var h=this.map_[f[g]];b.beginSubMessage(a);c.call(b,1,h.key);this.valueCtor_?d.call(b,2,this.wrapEntry_(h),e):d.call(b,2,h.value);b.endSubMessage()}};\njspb.Map.deserializeBinary=function(a,b,c,d,e,f,g){for(;b.nextField()&&!b.isEndGroup();){var h=b.getFieldNumber();1==h?f=c.call(b):2==h&&(a.valueCtor_?(goog.asserts.assert(e),g||(g=new a.valueCtor_),d.call(b,g,e)):g=d.call(b))}goog.asserts.assert(void 0!=f);goog.asserts.assert(void 0!=g);a.set(f,g)};jspb.Map.prototype.stringKeys_=function(){var a=this.map_,b=[],c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b};\njspb.Map.Entry_=function(a,b){this.key=a;this.value=b;this.valueWrapper=void 0};jspb.ExtensionFieldInfo=function(a,b,c,d,e){this.fieldIndex=a;this.fieldName=b;this.ctor=c;this.toObjectFn=d;this.isRepeated=e};jspb.ExtensionFieldBinaryInfo=function(a,b,c,d,e,f){this.fieldInfo=a;this.binaryReaderFn=b;this.binaryWriterFn=c;this.binaryMessageSerializeFn=d;this.binaryMessageDeserializeFn=e;this.isPacked=f};jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor};jspb.Message=function(){};jspb.Message.GENERATE_TO_OBJECT=!0;jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE;\njspb.Message.GENERATE_TO_STRING=!0;jspb.Message.ASSUME_LOCAL_ARRAYS=!1;jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0;jspb.Message.SUPPORTS_UINT8ARRAY_=\"function\"==typeof Uint8Array;jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_};jspb.Message.getIndex_=function(a,b){return b+a.arrayIndexOffset_};jspb.Message.hiddenES6Property_=function(){};jspb.Message.getFieldNumber_=function(a,b){return b-a.arrayIndexOffset_};\njspb.Message.initialize=function(a,b,c,d,e,f){a.wrappers_=null;b||(b=c?[c]:[]);a.messageId_=c?String(c):void 0;a.arrayIndexOffset_=0===c?-1:0;a.array=b;jspb.Message.initPivotAndExtensionObject_(a,d);a.convertedPrimitiveFields_={};jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(a.repeatedFields=e);if(e)for(b=0;b<e.length;b++)c=e[b],c<a.pivot_?(c=jspb.Message.getIndex_(a,c),a.array[c]=a.array[c]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(a),a.extensionObject_[c]=\na.extensionObject_[c]||jspb.Message.EMPTY_LIST_SENTINEL_);if(f&&f.length)for(b=0;b<f.length;b++)jspb.Message.computeOneofCase(a,f[b])};jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[];jspb.Message.isArray_=function(a){return jspb.Message.ASSUME_LOCAL_ARRAYS?a instanceof Array:Array.isArray(a)};jspb.Message.isExtensionObject_=function(a){return null!==a&&\"object\"==typeof a&&!jspb.Message.isArray_(a)&&!(jspb.Message.SUPPORTS_UINT8ARRAY_&&a instanceof Uint8Array)};\njspb.Message.initPivotAndExtensionObject_=function(a,b){var c=a.array.length,d=-1;if(c&&(d=c-1,c=a.array[d],jspb.Message.isExtensionObject_(c))){a.pivot_=jspb.Message.getFieldNumber_(a,d);a.extensionObject_=c;return}-1<b?(a.pivot_=Math.max(b,jspb.Message.getFieldNumber_(a,d+1)),a.extensionObject_=null):a.pivot_=Number.MAX_VALUE};jspb.Message.maybeInitEmptyExtensionObject_=function(a){var b=jspb.Message.getIndex_(a,a.pivot_);a.array[b]||(a.extensionObject_=a.array[b]={})};\njspb.Message.toObjectList=function(a,b,c){for(var d=[],e=0;e<a.length;e++)d[e]=b.call(a[e],c,a[e]);return d};jspb.Message.toObjectExtension=function(a,b,c,d,e){for(var f in c){var g=c[f],h=d.call(a,g);if(null!=h){for(var k in g.fieldName)if(g.fieldName.hasOwnProperty(k))break;b[k]=g.toObjectFn?g.isRepeated?jspb.Message.toObjectList(h,g.toObjectFn,e):g.toObjectFn(e,h):h}}};\njspb.Message.serializeBinaryExtensions=function(a,b,c,d){for(var e in c){var f=c[e],g=f.fieldInfo;if(!f.binaryWriterFn)throw Error(\"Message extension present that was generated without binary serialization support\");var h=d.call(a,g);if(null!=h)if(g.isMessageType())if(f.binaryMessageSerializeFn)f.binaryWriterFn.call(b,g.fieldIndex,h,f.binaryMessageSerializeFn);else throw Error(\"Message extension present holding submessage without binary support enabled, and message is being serialized to binary format\");\nelse f.binaryWriterFn.call(b,g.fieldIndex,h)}};jspb.Message.readBinaryExtension=function(a,b,c,d,e){var f=c[b.getFieldNumber()];if(f){c=f.fieldInfo;if(!f.binaryReaderFn)throw Error(\"Deserializing extension whose generated code does not support binary format\");if(c.isMessageType()){var g=new c.ctor;f.binaryReaderFn.call(b,g,f.binaryMessageDeserializeFn)}else g=f.binaryReaderFn.call(b);c.isRepeated&&!f.isPacked?(b=d.call(a,c))?b.push(g):e.call(a,c,[g]):e.call(a,c,g)}else b.skipField()};\njspb.Message.getField=function(a,b){if(b<a.pivot_){b=jspb.Message.getIndex_(a,b);var c=a.array[b];return c===jspb.Message.EMPTY_LIST_SENTINEL_?a.array[b]=[]:c}if(a.extensionObject_)return c=a.extensionObject_[b],c===jspb.Message.EMPTY_LIST_SENTINEL_?a.extensionObject_[b]=[]:c};jspb.Message.getRepeatedField=function(a,b){return jspb.Message.getField(a,b)};jspb.Message.getOptionalFloatingPointField=function(a,b){a=jspb.Message.getField(a,b);return null==a?a:+a};\njspb.Message.getBooleanField=function(a,b){a=jspb.Message.getField(a,b);return null==a?a:!!a};jspb.Message.getRepeatedFloatingPointField=function(a,b){var c=jspb.Message.getRepeatedField(a,b);a.convertedPrimitiveFields_||(a.convertedPrimitiveFields_={});if(!a.convertedPrimitiveFields_[b]){for(var d=0;d<c.length;d++)c[d]=+c[d];a.convertedPrimitiveFields_[b]=!0}return c};\njspb.Message.getRepeatedBooleanField=function(a,b){var c=jspb.Message.getRepeatedField(a,b);a.convertedPrimitiveFields_||(a.convertedPrimitiveFields_={});if(!a.convertedPrimitiveFields_[b]){for(var d=0;d<c.length;d++)c[d]=!!c[d];a.convertedPrimitiveFields_[b]=!0}return c};\njspb.Message.bytesAsB64=function(a){if(null==a||\"string\"===typeof a)return a;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&a instanceof Uint8Array)return goog.crypt.base64.encodeByteArray(a);goog.asserts.fail(\"Cannot coerce to b64 string: \"+goog.typeOf(a));return null};jspb.Message.bytesAsU8=function(a){if(null==a||a instanceof Uint8Array)return a;if(\"string\"===typeof a)return goog.crypt.base64.decodeStringToUint8Array(a);goog.asserts.fail(\"Cannot coerce to Uint8Array: \"+goog.typeOf(a));return null};\njspb.Message.bytesListAsB64=function(a){jspb.Message.assertConsistentTypes_(a);return a.length&&\"string\"!==typeof a[0]?goog.array.map(a,jspb.Message.bytesAsB64):a};jspb.Message.bytesListAsU8=function(a){jspb.Message.assertConsistentTypes_(a);return!a.length||a[0]instanceof Uint8Array?a:goog.array.map(a,jspb.Message.bytesAsU8)};\njspb.Message.assertConsistentTypes_=function(a){if(goog.DEBUG&&a&&1<a.length){var b=goog.typeOf(a[0]);goog.array.forEach(a,function(a){goog.typeOf(a)!=b&&goog.asserts.fail(\"Inconsistent type in JSPB repeated field array. Got \"+goog.typeOf(a)+\" expected \"+b)})}};jspb.Message.getFieldWithDefault=function(a,b,c){a=jspb.Message.getField(a,b);return null==a?c:a};jspb.Message.getBooleanFieldWithDefault=function(a,b,c){a=jspb.Message.getBooleanField(a,b);return null==a?c:a};\njspb.Message.getFloatingPointFieldWithDefault=function(a,b,c){a=jspb.Message.getOptionalFloatingPointField(a,b);return null==a?c:a};jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault;jspb.Message.getMapField=function(a,b,c,d){a.wrappers_||(a.wrappers_={});if(b in a.wrappers_)return a.wrappers_[b];var e=jspb.Message.getField(a,b);if(!e){if(c)return;e=[];jspb.Message.setField(a,b,e)}return a.wrappers_[b]=new jspb.Map(e,d)};\njspb.Message.setField=function(a,b,c){goog.asserts.assertInstanceof(a,jspb.Message);b<a.pivot_?a.array[jspb.Message.getIndex_(a,b)]=c:(jspb.Message.maybeInitEmptyExtensionObject_(a),a.extensionObject_[b]=c);return a};jspb.Message.setProto3IntField=function(a,b,c){return jspb.Message.setFieldIgnoringDefault_(a,b,c,0)};jspb.Message.setProto3FloatField=function(a,b,c){return jspb.Message.setFieldIgnoringDefault_(a,b,c,0)};\njspb.Message.setProto3BooleanField=function(a,b,c){return jspb.Message.setFieldIgnoringDefault_(a,b,c,!1)};jspb.Message.setProto3StringField=function(a,b,c){return jspb.Message.setFieldIgnoringDefault_(a,b,c,\"\")};jspb.Message.setProto3BytesField=function(a,b,c){return jspb.Message.setFieldIgnoringDefault_(a,b,c,\"\")};jspb.Message.setProto3EnumField=function(a,b,c){return jspb.Message.setFieldIgnoringDefault_(a,b,c,0)};\njspb.Message.setProto3StringIntField=function(a,b,c){return jspb.Message.setFieldIgnoringDefault_(a,b,c,\"0\")};jspb.Message.setFieldIgnoringDefault_=function(a,b,c,d){goog.asserts.assertInstanceof(a,jspb.Message);c!==d?jspb.Message.setField(a,b,c):b<a.pivot_?a.array[jspb.Message.getIndex_(a,b)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(a),delete a.extensionObject_[b]);return a};\njspb.Message.addToRepeatedField=function(a,b,c,d){goog.asserts.assertInstanceof(a,jspb.Message);b=jspb.Message.getRepeatedField(a,b);void 0!=d?b.splice(d,0,c):b.push(c);return a};jspb.Message.setOneofField=function(a,b,c,d){goog.asserts.assertInstanceof(a,jspb.Message);(c=jspb.Message.computeOneofCase(a,c))&&c!==b&&void 0!==d&&(a.wrappers_&&c in a.wrappers_&&(a.wrappers_[c]=void 0),jspb.Message.setField(a,c,void 0));return jspb.Message.setField(a,b,d)};\njspb.Message.computeOneofCase=function(a,b){for(var c,d,e=0;e<b.length;e++){var f=b[e],g=jspb.Message.getField(a,f);null!=g&&(c=f,d=g,jspb.Message.setField(a,f,void 0))}return c?(jspb.Message.setField(a,c,d),c):0};jspb.Message.getWrapperField=function(a,b,c,d){a.wrappers_||(a.wrappers_={});if(!a.wrappers_[c]){var e=jspb.Message.getField(a,c);if(d||e)a.wrappers_[c]=new b(e)}return a.wrappers_[c]};\njspb.Message.getRepeatedWrapperField=function(a,b,c){jspb.Message.wrapRepeatedField_(a,b,c);b=a.wrappers_[c];b==jspb.Message.EMPTY_LIST_SENTINEL_&&(b=a.wrappers_[c]=[]);return b};jspb.Message.wrapRepeatedField_=function(a,b,c){a.wrappers_||(a.wrappers_={});if(!a.wrappers_[c]){for(var d=jspb.Message.getRepeatedField(a,c),e=[],f=0;f<d.length;f++)e[f]=new b(d[f]);a.wrappers_[c]=e}};\njspb.Message.setWrapperField=function(a,b,c){goog.asserts.assertInstanceof(a,jspb.Message);a.wrappers_||(a.wrappers_={});var d=c?c.toArray():c;a.wrappers_[b]=c;return jspb.Message.setField(a,b,d)};jspb.Message.setOneofWrapperField=function(a,b,c,d){goog.asserts.assertInstanceof(a,jspb.Message);a.wrappers_||(a.wrappers_={});var e=d?d.toArray():d;a.wrappers_[b]=d;return jspb.Message.setOneofField(a,b,c,e)};\njspb.Message.setRepeatedWrapperField=function(a,b,c){goog.asserts.assertInstanceof(a,jspb.Message);a.wrappers_||(a.wrappers_={});c=c||[];for(var d=[],e=0;e<c.length;e++)d[e]=c[e].toArray();a.wrappers_[b]=c;return jspb.Message.setField(a,b,d)};\njspb.Message.addToRepeatedWrapperField=function(a,b,c,d,e){jspb.Message.wrapRepeatedField_(a,d,b);var f=a.wrappers_[b];f||(f=a.wrappers_[b]=[]);c=c?c:new d;a=jspb.Message.getRepeatedField(a,b);void 0!=e?(f.splice(e,0,c),a.splice(e,0,c.toArray())):(f.push(c),a.push(c.toArray()));return c};jspb.Message.toMap=function(a,b,c,d){for(var e={},f=0;f<a.length;f++)e[b.call(a[f])]=c?c.call(a[f],d,a[f]):a[f];return e};\njspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var a in this.wrappers_){var b=this.wrappers_[a];if(Array.isArray(b))for(var c=0;c<b.length;c++)b[c]&&b[c].toArray();else b&&b.toArray()}};jspb.Message.prototype.toArray=function(){this.syncMapFields_();return this.array};jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){this.syncMapFields_();return this.array.toString()});\njspb.Message.prototype.getExtension=function(a){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var b=a.fieldIndex;if(a.isRepeated){if(a.isMessageType())return this.wrappers_[b]||(this.wrappers_[b]=goog.array.map(this.extensionObject_[b]||[],function(b){return new a.ctor(b)})),this.wrappers_[b]}else if(a.isMessageType())return!this.wrappers_[b]&&this.extensionObject_[b]&&(this.wrappers_[b]=new a.ctor(this.extensionObject_[b])),this.wrappers_[b];return this.extensionObject_[b]}};\njspb.Message.prototype.setExtension=function(a,b){this.wrappers_||(this.wrappers_={});jspb.Message.maybeInitEmptyExtensionObject_(this);var c=a.fieldIndex;a.isRepeated?(b=b||[],a.isMessageType()?(this.wrappers_[c]=b,this.extensionObject_[c]=goog.array.map(b,function(a){return a.toArray()})):this.extensionObject_[c]=b):a.isMessageType()?(this.wrappers_[c]=b,this.extensionObject_[c]=b?b.toArray():b):this.extensionObject_[c]=b;return this};\njspb.Message.difference=function(a,b){if(!(a instanceof b.constructor))throw Error(\"Messages have different types.\");var c=a.toArray();b=b.toArray();var d=[],e=0,f=c.length>b.length?c.length:b.length;a.getJsPbMessageId()&&(d[0]=a.getJsPbMessageId(),e=1);for(;e<f;e++)jspb.Message.compareFields(c[e],b[e])||(d[e]=b[e]);return new a.constructor(d)};jspb.Message.equals=function(a,b){return a==b||!(!a||!b)&&a instanceof b.constructor&&jspb.Message.compareFields(a.toArray(),b.toArray())};\njspb.Message.compareExtensions=function(a,b){a=a||{};b=b||{};var c={},d;for(d in a)c[d]=0;for(d in b)c[d]=0;for(d in c)if(!jspb.Message.compareFields(a[d],b[d]))return!1;return!0};\njspb.Message.compareFields=function(a,b){if(a==b)return!0;if(!goog.isObject(a)||!goog.isObject(b))return\"number\"===typeof a&&isNaN(a)||\"number\"===typeof b&&isNaN(b)?String(a)==String(b):!1;if(a.constructor!=b.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&a.constructor===Uint8Array){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!=b[c])return!1;return!0}if(a.constructor===Array){var d=void 0,e=void 0,f=Math.max(a.length,b.length);for(c=0;c<f;c++){var g=a[c],h=b[c];g&&\ng.constructor==Object&&(goog.asserts.assert(void 0===d),goog.asserts.assert(c===a.length-1),d=g,g=void 0);h&&h.constructor==Object&&(goog.asserts.assert(void 0===e),goog.asserts.assert(c===b.length-1),e=h,h=void 0);if(!jspb.Message.compareFields(g,h))return!1}return d||e?(d=d||{},e=e||{},jspb.Message.compareExtensions(d,e)):!0}if(a.constructor===Object)return jspb.Message.compareExtensions(a,b);throw Error(\"Invalid type in JSPB array\");};jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)};\njspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)};jspb.Message.clone=function(a){return jspb.Message.cloneMessage(a)};jspb.Message.cloneMessage=function(a){return new a.constructor(jspb.Message.clone_(a.toArray()))};\njspb.Message.copyInto=function(a,b){goog.asserts.assertInstanceof(a,jspb.Message);goog.asserts.assertInstanceof(b,jspb.Message);goog.asserts.assert(a.constructor==b.constructor,\"Copy source and target message should have the same type.\");a=jspb.Message.clone(a);for(var c=b.toArray(),d=a.toArray(),e=c.length=0;e<d.length;e++)c[e]=d[e];b.wrappers_=a.wrappers_;b.extensionObject_=a.extensionObject_};\njspb.Message.clone_=function(a){if(Array.isArray(a)){for(var b=Array(a.length),c=0;c<a.length;c++){var d=a[c];null!=d&&(b[c]=\"object\"==typeof d?jspb.Message.clone_(goog.asserts.assert(d)):d)}return b}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&a instanceof Uint8Array)return new Uint8Array(a);b={};for(c in a)d=a[c],null!=d&&(b[c]=\"object\"==typeof d?jspb.Message.clone_(goog.asserts.assert(d)):d);return b};jspb.Message.registerMessageType=function(a,b){b.messageId=a};jspb.Message.messageSetExtensions={};\njspb.Message.messageSetExtensionsBinary={};jspb.Export={};\"object\"===typeof exports&&(exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf);\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20f0',\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsAstral = '[' + rsAstralRange + ']',\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboMarksRange + rsComboSymbolsRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsLowerMisc = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsUpperMisc = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptLowerContr = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptUpperContr = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptLowerContr + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsUpperMisc + '+' + rsOptUpperContr + '(?=' + [rsBreak, rsUpper + rsLowerMisc, '$'].join('|') + ')',\n  rsUpper + '?' + rsLowerMisc + '+' + rsOptLowerContr,\n  rsUpper + '+' + rsOptUpperContr,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboMarksRange + rsComboSymbolsRange + rsVarRange + ']');\n\n/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 'ss'\n};\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\n/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\n/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\n/**\n * Creates a function like `_.lowerFirst`.\n *\n * @private\n * @param {string} methodName The name of the `String` case method to use.\n * @returns {Function} Returns the new case function.\n */\nfunction createCaseFirst(methodName) {\n  return function(string) {\n    string = toString(string);\n\n    var strSymbols = hasUnicode(string)\n      ? stringToArray(string)\n      : undefined;\n\n    var chr = strSymbols\n      ? strSymbols[0]\n      : string.charAt(0);\n\n    var trailing = strSymbols\n      ? castSlice(strSymbols, 1).join('')\n      : string.slice(1);\n\n    return chr[methodName]() + trailing;\n  };\n}\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the camel cased string.\n * @example\n *\n * _.camelCase('Foo Bar');\n * // => 'fooBar'\n *\n * _.camelCase('--foo-bar--');\n * // => 'fooBar'\n *\n * _.camelCase('__FOO_BAR__');\n * // => 'fooBar'\n */\nvar camelCase = createCompounder(function(result, word, index) {\n  word = word.toLowerCase();\n  return result + (index ? capitalize(word) : word);\n});\n\n/**\n * Converts the first character of `string` to upper case and the remaining\n * to lower case.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to capitalize.\n * @returns {string} Returns the capitalized string.\n * @example\n *\n * _.capitalize('FRED');\n * // => 'Fred'\n */\nfunction capitalize(string) {\n  return upperFirst(toString(string).toLowerCase());\n}\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('dj vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\n/**\n * Converts the first character of `string` to upper case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.upperFirst('fred');\n * // => 'Fred'\n *\n * _.upperFirst('FRED');\n * // => 'FRED'\n */\nvar upperFirst = createCaseFirst('toUpperCase');\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n  return string.match(pattern) || [];\n}\n\nmodule.exports = camelCase;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Metadata = void 0;\nexports.Metadata = function Metadata(init) {\n    const data = new Map();\n    const metadata = {\n        set(key, value) {\n            key = normalizeKey(key);\n            if (Array.isArray(value)) {\n                if (value.length === 0) {\n                    data.delete(key);\n                }\n                else {\n                    for (const item of value) {\n                        validate(key, item);\n                    }\n                    data.set(key, key.endsWith('-bin') ? value : [value.join(', ')]);\n                }\n            }\n            else {\n                validate(key, value);\n                data.set(key, [value]);\n            }\n            return metadata;\n        },\n        append(key, value) {\n            key = normalizeKey(key);\n            validate(key, value);\n            let values = data.get(key);\n            if (values == null) {\n                values = [];\n                data.set(key, values);\n            }\n            values.push(value);\n            if (!key.endsWith('-bin')) {\n                data.set(key, [values.join(', ')]);\n            }\n            return metadata;\n        },\n        delete(key) {\n            key = normalizeKey(key);\n            data.delete(key);\n        },\n        get(key) {\n            var _a;\n            key = normalizeKey(key);\n            return (_a = data.get(key)) === null || _a === void 0 ? void 0 : _a[0];\n        },\n        getAll(key) {\n            var _a;\n            key = normalizeKey(key);\n            return ((_a = data.get(key)) !== null && _a !== void 0 ? _a : []);\n        },\n        has(key) {\n            key = normalizeKey(key);\n            return data.has(key);\n        },\n        [Symbol.iterator]() {\n            return data[Symbol.iterator]();\n        },\n    };\n    if (init != null) {\n        const entries = isIterable(init) ? init : Object.entries(init);\n        for (const [key, value] of entries) {\n            metadata.set(key, value);\n        }\n    }\n    return metadata;\n};\nfunction normalizeKey(key) {\n    return key.toLowerCase();\n}\nfunction validate(key, value) {\n    if (!/^[0-9a-z_.-]+$/.test(key)) {\n        throw new Error(`Metadata key '${key}' contains illegal characters`);\n    }\n    if (key.endsWith('-bin')) {\n        if (!(value instanceof Uint8Array)) {\n            throw new Error(`Metadata key '${key}' ends with '-bin', thus it must have binary value`);\n        }\n    }\n    else {\n        if (typeof value !== 'string') {\n            throw new Error(`Metadata key '${key}' doesn't end with '-bin', thus it must have string value`);\n        }\n        if (!/^[ -~]*$/.test(value)) {\n            throw new Error(`Metadata value '${value}' of key '${key}' contains illegal characters`);\n        }\n    }\n}\nfunction isIterable(value) {\n    return Symbol.iterator in value;\n}\n//# sourceMappingURL=Metadata.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=MethodDescriptor.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Status = void 0;\n/**\n * gRPC status code.\n *\n * See https://grpc.github.io/grpc/core/md_doc_statuscodes.html.\n */\nvar Status;\n(function (Status) {\n    /**\n     * Not an error; returned on success.\n     */\n    Status[Status[\"OK\"] = 0] = \"OK\";\n    /**\n     * The operation was cancelled, typically by the caller.\n     */\n    Status[Status[\"CANCELLED\"] = 1] = \"CANCELLED\";\n    /**\n     * Unknown error.\n     *\n     * For example, this error may be returned when a `Status` value received from\n     * another address space belongs to an error space that is not known in this\n     * address space.\n     *\n     * Also errors raised by APIs that do not return enough error information may\n     * be converted to this error.\n     */\n    Status[Status[\"UNKNOWN\"] = 2] = \"UNKNOWN\";\n    /**\n     * The client specified an invalid argument.\n     *\n     * Note that this differs from `FAILED_PRECONDITION`. `INVALID_ARGUMENT`\n     * indicates arguments that are problematic regardless of the state of the\n     * system (e.g., a malformed file name).\n     */\n    Status[Status[\"INVALID_ARGUMENT\"] = 3] = \"INVALID_ARGUMENT\";\n    /**\n     * The deadline expired before the operation could complete.\n     *\n     * For operations that change the state of the system, this error may be\n     * returned even if the operation has completed successfully.\n     *\n     * For example, a successful response from a server could have been delayed\n     * long enough for the deadline to expire.\n     */\n    Status[Status[\"DEADLINE_EXCEEDED\"] = 4] = \"DEADLINE_EXCEEDED\";\n    /**\n     * Some requested entity (e.g., file or directory) was not found.\n     *\n     * Note to server developers: if a request is denied for an entire class of\n     * users, such as gradual feature rollout or undocumented allowlist,\n     * `NOT_FOUND` may be used. If a request is denied for some users within a\n     * class of users, such as user-based access control, `PERMISSION_DENIED` must\n     * be used.\n     */\n    Status[Status[\"NOT_FOUND\"] = 5] = \"NOT_FOUND\";\n    /**\n     * The entity that a client attempted to create (e.g., file or directory)\n     * already exists.\n     */\n    Status[Status[\"ALREADY_EXISTS\"] = 6] = \"ALREADY_EXISTS\";\n    /**\n     * The caller does not have permission to execute the specified operation.\n     *\n     * `PERMISSION_DENIED` must not be used for rejections caused by exhausting\n     * some resource (use `RESOURCE_EXHAUSTED` instead for those errors).\n     * `PERMISSION_DENIED` must not be used if the caller can not be identified\n     * (use `UNAUTHENTICATED` instead for those errors).\n     *\n     * This error code does not imply the request is valid or the requested entity\n     * exists or satisfies other pre-conditions.\n     */\n    Status[Status[\"PERMISSION_DENIED\"] = 7] = \"PERMISSION_DENIED\";\n    /**\n     * Some resource has been exhausted, perhaps a per-user quota, or perhaps the\n     * entire file system is out of space.\n     */\n    Status[Status[\"RESOURCE_EXHAUSTED\"] = 8] = \"RESOURCE_EXHAUSTED\";\n    /**\n     * The operation was rejected because the system is not in a state required\n     * for the operation's execution.\n     *\n     * For example, the directory to be deleted is non-empty, an rmdir operation\n     * is applied to a non-directory, etc.\n     *\n     * Service implementors can use the following guidelines to decide between\n     * `FAILED_PRECONDITION`, `ABORTED`, and `UNAVAILABLE`:\n     *\n     *   (a) Use `UNAVAILABLE` if the client can retry just the failing call.\n     *   (b) Use `ABORTED` if the client should retry at a higher level (e.g.,\n     *       when a client-specified test-and-set fails, indicating the client\n     *       should restart a read-modify-write sequence).\n     *   (c) Use `FAILED_PRECONDITION` if the client should not retry until the\n     *       system state has been explicitly fixed. E.g., if an \"rmdir\" fails\n     *       because the directory is non-empty, `FAILED_PRECONDITION` should be\n     *       returned since the client should not retry unless the files are\n     *       deleted from the directory.\n     */\n    Status[Status[\"FAILED_PRECONDITION\"] = 9] = \"FAILED_PRECONDITION\";\n    /**\n     * The operation was aborted, typically due to a concurrency issue such as a\n     * sequencer check failure or transaction abort.\n     *\n     * See the guidelines above for deciding between `FAILED_PRECONDITION`,\n     * `ABORTED`, and `UNAVAILABLE`.\n     */\n    Status[Status[\"ABORTED\"] = 10] = \"ABORTED\";\n    /**\n     * The operation was attempted past the valid range.\n     *\n     * E.g., seeking or reading past end-of-file.\n     *\n     * Unlike `INVALID_ARGUMENT`, this error indicates a problem that may be fixed\n     * if the system state changes. For example, a 32-bit file system will\n     * generate `INVALID_ARGUMENT` if asked to read at an offset that is not in\n     * the range [0,2^32-1], but it will generate `OUT_OF_RANGE` if asked to read\n     * from an offset past the current file size.\n     *\n     * There is a fair bit of overlap between `FAILED_PRECONDITION` and\n     * `OUT_OF_RANGE`. We recommend using `OUT_OF_RANGE` (the more specific error)\n     * when it applies so that callers who are iterating through a space can\n     * easily look for an `OUT_OF_RANGE` error to detect when they are done.\n     */\n    Status[Status[\"OUT_OF_RANGE\"] = 11] = \"OUT_OF_RANGE\";\n    /**\n     * The operation is not implemented or is not supported/enabled in this\n     * service.\n     */\n    Status[Status[\"UNIMPLEMENTED\"] = 12] = \"UNIMPLEMENTED\";\n    /**\n     * Internal errors.\n     *\n     * This means that some invariants expected by the underlying system have been\n     * broken. This error code is reserved for serious errors.\n     */\n    Status[Status[\"INTERNAL\"] = 13] = \"INTERNAL\";\n    /**\n     * The service is currently unavailable.\n     *\n     * This is most likely a transient condition, which can be corrected by\n     * retrying with a backoff.\n     *\n     * Note that it is not always safe to retry non-idempotent operations.\n     */\n    Status[Status[\"UNAVAILABLE\"] = 14] = \"UNAVAILABLE\";\n    /**\n     * Unrecoverable data loss or corruption.\n     */\n    Status[Status[\"DATA_LOSS\"] = 15] = \"DATA_LOSS\";\n    /**\n     * The request does not have valid authentication credentials for the\n     * operation.\n     */\n    Status[Status[\"UNAUTHENTICATED\"] = 16] = \"UNAUTHENTICATED\";\n})(Status = exports.Status || (exports.Status = {}));\n//# sourceMappingURL=Status.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=CallOptions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ClientError = void 0;\nconst ts_error_1 = require(\"ts-error\");\nconst Status_1 = require(\"../Status\");\n/**\n * Represents gRPC errors returned from client calls.\n */\nclass ClientError extends ts_error_1.ExtendableError {\n    constructor(path, code, details) {\n        super(`${path} ${Status_1.Status[code]}: ${details}`);\n        this.path = path;\n        this.code = code;\n        this.details = details;\n        this.name = 'ClientError';\n        Object.defineProperty(this, '@@nice-grpc', {\n            value: true,\n        });\n        Object.defineProperty(this, '@@nice-grpc:ClientError', {\n            value: true,\n        });\n    }\n    static [Symbol.hasInstance](instance) {\n        // allow instances of ClientError from different versions of nice-grpc\n        // to work with `instanceof ClientError`\n        if (this !== ClientError) {\n            return this.prototype.isPrototypeOf(instance);\n        }\n        return (typeof instance === 'object' &&\n            instance !== null &&\n            (instance.constructor === ClientError ||\n                instance['@@nice-grpc:ClientError'] === true ||\n                (instance.name === 'ClientError' && instance['@@nice-grpc'] === true)));\n    }\n}\nexports.ClientError = ClientError;\n//# sourceMappingURL=ClientError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ClientMiddleware.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.composeClientMiddleware = void 0;\nfunction composeClientMiddleware(middleware1, middleware2) {\n    return (call, options) => {\n        return middleware2(Object.assign(Object.assign({}, call), { next: (request, options2) => {\n                return middleware1(Object.assign(Object.assign({}, call), { request }), options2);\n            } }), options);\n    };\n}\nexports.composeClientMiddleware = composeClientMiddleware;\n//# sourceMappingURL=composeClientMiddleware.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./Metadata\"), exports);\n__exportStar(require(\"./Status\"), exports);\n__exportStar(require(\"./MethodDescriptor\"), exports);\n__exportStar(require(\"./client/CallOptions\"), exports);\n__exportStar(require(\"./client/ClientMiddleware\"), exports);\n__exportStar(require(\"./client/composeClientMiddleware\"), exports);\n__exportStar(require(\"./client/ClientError\"), exports);\n__exportStar(require(\"./server/CallContext\"), exports);\n__exportStar(require(\"./server/ServerMiddleware\"), exports);\n__exportStar(require(\"./server/composeServerMiddleware\"), exports);\n__exportStar(require(\"./server/ServerError\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=CallContext.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ServerError = void 0;\nconst ts_error_1 = require(\"ts-error\");\nconst Status_1 = require(\"../Status\");\n/**\n * Service implementations may throw this error to report gRPC errors to\n * clients.\n */\nclass ServerError extends ts_error_1.ExtendableError {\n    constructor(code, details) {\n        super(`${Status_1.Status[code]}: ${details}`);\n        this.code = code;\n        this.details = details;\n        this.name = 'ServerError';\n        Object.defineProperty(this, '@@nice-grpc', {\n            value: true,\n        });\n        Object.defineProperty(this, '@@nice-grpc:ServerError', {\n            value: true,\n        });\n    }\n    static [Symbol.hasInstance](instance) {\n        // allow instances of ServerError from different versions of nice-grpc\n        // to work with `instanceof ServerError`\n        if (this !== ServerError) {\n            return this.prototype.isPrototypeOf(instance);\n        }\n        return (typeof instance === 'object' &&\n            instance !== null &&\n            (instance.constructor === ServerError ||\n                instance['@@nice-grpc:ServerError'] === true ||\n                (instance.name === 'ServerError' && instance['@@nice-grpc'] === true)));\n    }\n}\nexports.ServerError = ServerError;\n//# sourceMappingURL=ServerError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ServerMiddleware.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.composeServerMiddleware = void 0;\nfunction composeServerMiddleware(middleware1, middleware2) {\n    return (call, context) => {\n        return middleware1(Object.assign(Object.assign({}, call), { next: (request, context1) => {\n                return middleware2(Object.assign(Object.assign({}, call), { request }), context1);\n            } }), context);\n    };\n}\nexports.composeServerMiddleware = composeServerMiddleware;\n//# sourceMappingURL=composeServerMiddleware.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=Client.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createClient = exports.createClientFactory = void 0;\nconst grpc_js_1 = require(\"@grpc/grpc-js\");\nconst nice_grpc_common_1 = require(\"nice-grpc-common\");\nconst service_definitions_1 = require(\"../service-definitions\");\nconst createBidiStreamingMethod_1 = require(\"./createBidiStreamingMethod\");\nconst createClientStreamingMethod_1 = require(\"./createClientStreamingMethod\");\nconst createServerStreamingMethod_1 = require(\"./createServerStreamingMethod\");\nconst createUnaryMethod_1 = require(\"./createUnaryMethod\");\nfunction createClientFactory() {\n    return createClientFactoryWithMiddleware();\n}\nexports.createClientFactory = createClientFactory;\nfunction createClient(definition, channel, defaultCallOptions) {\n    return createClientFactory().create(definition, channel, defaultCallOptions);\n}\nexports.createClient = createClient;\nfunction createClientFactoryWithMiddleware(middleware) {\n    return {\n        use(newMiddleware) {\n            return createClientFactoryWithMiddleware(middleware == null\n                ? newMiddleware\n                : (0, nice_grpc_common_1.composeClientMiddleware)(middleware, newMiddleware));\n        },\n        create(definition, channel, defaultCallOptions = {}) {\n            const constructor = (0, grpc_js_1.makeClientConstructor)({}, '');\n            const grpcClient = new constructor('', null, {\n                channelOverride: channel,\n            });\n            const client = {};\n            const methodEntries = Object.entries((0, service_definitions_1.normalizeServiceDefinition)(definition));\n            for (const [methodName, methodDefinition] of methodEntries) {\n                const defaultOptions = {\n                    ...defaultCallOptions['*'],\n                    ...defaultCallOptions[methodName],\n                };\n                if (!methodDefinition.requestStream) {\n                    if (!methodDefinition.responseStream) {\n                        client[methodName] = (0, createUnaryMethod_1.createUnaryMethod)(methodDefinition, grpcClient, middleware, defaultOptions);\n                    }\n                    else {\n                        client[methodName] = (0, createServerStreamingMethod_1.createServerStreamingMethod)(methodDefinition, grpcClient, middleware, defaultOptions);\n                    }\n                }\n                else {\n                    if (!methodDefinition.responseStream) {\n                        client[methodName] = (0, createClientStreamingMethod_1.createClientStreamingMethod)(methodDefinition, grpcClient, middleware, defaultOptions);\n                    }\n                    else {\n                        client[methodName] = (0, createBidiStreamingMethod_1.createBidiStreamingMethod)(methodDefinition, grpcClient, middleware, defaultOptions);\n                    }\n                }\n            }\n            return client;\n        },\n    };\n}\n//# sourceMappingURL=ClientFactory.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.waitForChannelReady = exports.createChannel = void 0;\nconst grpc_js_1 = require(\"@grpc/grpc-js\");\nconst knownProtocols = new Set(['http', 'https']);\nfunction createChannel(address, credentials, options = {}) {\n    const match = /^(?:([^:]+):\\/\\/)?(.*?)(?::(\\d+))?$/.exec(address);\n    if (match == null)\n        throw new Error(`Invalid address: '${address}'`);\n    let [, protocol, host, port] = match;\n    const knownProtocol = !protocol || knownProtocols.has(protocol);\n    const isSecure = credentials?._isSecure() || protocol?.includes('https');\n    credentials ?? (credentials = isSecure\n        ? grpc_js_1.ChannelCredentials.createSsl()\n        : grpc_js_1.ChannelCredentials.createInsecure());\n    port ?? (port = isSecure ? '443' : '80');\n    let target = knownProtocol ? `${host}:${port}` : address;\n    return new grpc_js_1.Channel(target, credentials, options);\n}\nexports.createChannel = createChannel;\nasync function waitForChannelReady(channel, deadline) {\n    while (true) {\n        const state = channel.getConnectivityState(true);\n        if (state === grpc_js_1.connectivityState.READY) {\n            return;\n        }\n        await new Promise((resolve, reject) => {\n            channel.watchConnectivityState(state, deadline, err => {\n                if (err != null) {\n                    reject(err);\n                }\n                else {\n                    resolve();\n                }\n            });\n        });\n    }\n}\nexports.waitForChannelReady = waitForChannelReady;\n//# sourceMappingURL=channel.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createBidiStreamingMethod = void 0;\nconst abort_controller_x_1 = require(\"abort-controller-x\");\nconst nice_grpc_common_1 = require(\"nice-grpc-common\");\nconst service_definitions_1 = require(\"../service-definitions\");\nconst convertMetadata_1 = require(\"../utils/convertMetadata\");\nconst isAsyncIterable_1 = require(\"../utils/isAsyncIterable\");\nconst patchClientWritableStream_1 = require(\"../utils/patchClientWritableStream\");\nconst readableToAsyncIterable_1 = require(\"../utils/readableToAsyncIterable\");\nconst wrapClientError_1 = require(\"./wrapClientError\");\n/** @internal */\nfunction createBidiStreamingMethod(definition, client, middleware, defaultOptions) {\n    const grpcMethodDefinition = (0, service_definitions_1.toGrpcJsMethodDefinition)(definition);\n    const methodDescriptor = {\n        path: definition.path,\n        requestStream: definition.requestStream,\n        responseStream: definition.responseStream,\n        options: definition.options,\n    };\n    async function* bidiStreamingMethod(request, options) {\n        if (!(0, isAsyncIterable_1.isAsyncIterable)(request)) {\n            throw new Error('A middleware passed invalid request to next(): expected a single message for bidirectional streaming method');\n        }\n        const { metadata = (0, nice_grpc_common_1.Metadata)(), onHeader, onTrailer } = options;\n        const signal = (options.signal ??\n            new AbortController().signal);\n        const pipeAbortController = new AbortController();\n        const call = client.makeBidiStreamRequest(grpcMethodDefinition.path, grpcMethodDefinition.requestSerialize, grpcMethodDefinition.responseDeserialize, (0, convertMetadata_1.convertMetadataToGrpcJs)(metadata));\n        (0, patchClientWritableStream_1.patchClientWritableStream)(call);\n        call.on('metadata', metadata => {\n            onHeader?.((0, convertMetadata_1.convertMetadataFromGrpcJs)(metadata));\n        });\n        call.on('status', status => {\n            onTrailer?.((0, convertMetadata_1.convertMetadataFromGrpcJs)(status.metadata));\n        });\n        let pipeError;\n        pipeRequest(pipeAbortController.signal, request, call).then(() => {\n            call.end();\n        }, err => {\n            if (!(0, abort_controller_x_1.isAbortError)(err)) {\n                pipeError = err;\n                call.cancel();\n            }\n        });\n        const abortListener = () => {\n            pipeAbortController.abort();\n            call.cancel();\n        };\n        signal.addEventListener('abort', abortListener);\n        try {\n            yield* (0, readableToAsyncIterable_1.readableToAsyncIterable)(call);\n        }\n        catch (err) {\n            throw (0, wrapClientError_1.wrapClientError)(err, definition.path);\n        }\n        finally {\n            pipeAbortController.abort();\n            signal.removeEventListener('abort', abortListener);\n            (0, abort_controller_x_1.throwIfAborted)(signal);\n            call.cancel();\n            if (pipeError) {\n                throw pipeError;\n            }\n        }\n    }\n    const method = middleware == null\n        ? bidiStreamingMethod\n        : (request, options) => middleware({\n            method: methodDescriptor,\n            requestStream: true,\n            request,\n            responseStream: true,\n            next: bidiStreamingMethod,\n        }, options);\n    return (request, options) => {\n        const iterable = method(request, {\n            ...defaultOptions,\n            ...options,\n        });\n        const iterator = iterable[Symbol.asyncIterator]();\n        return {\n            [Symbol.asyncIterator]() {\n                return {\n                    async next() {\n                        const result = await iterator.next();\n                        if (result.done && result.value != null) {\n                            return await iterator.throw(new Error('A middleware returned a message, but expected to return void for bidirectional streaming method'));\n                        }\n                        return result;\n                    },\n                    return() {\n                        return iterator.return();\n                    },\n                    throw(err) {\n                        return iterator.throw(err);\n                    },\n                };\n            },\n        };\n    };\n}\nexports.createBidiStreamingMethod = createBidiStreamingMethod;\nasync function pipeRequest(signal, request, call) {\n    for await (const item of request) {\n        (0, abort_controller_x_1.throwIfAborted)(signal);\n        const shouldContinue = call.write(item);\n        if (!shouldContinue) {\n            await (0, abort_controller_x_1.waitForEvent)(signal, call, 'drain');\n        }\n    }\n}\n//# sourceMappingURL=createBidiStreamingMethod.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createClientStreamingMethod = void 0;\nconst abort_controller_x_1 = require(\"abort-controller-x\");\nconst nice_grpc_common_1 = require(\"nice-grpc-common\");\nconst service_definitions_1 = require(\"../service-definitions\");\nconst convertMetadata_1 = require(\"../utils/convertMetadata\");\nconst isAsyncIterable_1 = require(\"../utils/isAsyncIterable\");\nconst patchClientWritableStream_1 = require(\"../utils/patchClientWritableStream\");\nconst wrapClientError_1 = require(\"./wrapClientError\");\n/** @internal */\nfunction createClientStreamingMethod(definition, client, middleware, defaultOptions) {\n    const grpcMethodDefinition = (0, service_definitions_1.toGrpcJsMethodDefinition)(definition);\n    const methodDescriptor = {\n        path: definition.path,\n        requestStream: definition.requestStream,\n        responseStream: definition.responseStream,\n        options: definition.options,\n    };\n    async function* clientStreamingMethod(request, options) {\n        if (!(0, isAsyncIterable_1.isAsyncIterable)(request)) {\n            throw new Error('A middleware passed invalid request to next(): expected a single message for client streaming method');\n        }\n        const { metadata = (0, nice_grpc_common_1.Metadata)(), signal = new AbortController().signal, onHeader, onTrailer, } = options;\n        return await (0, abort_controller_x_1.execute)(signal, (resolve, reject) => {\n            const pipeAbortController = new AbortController();\n            const call = client.makeClientStreamRequest(grpcMethodDefinition.path, grpcMethodDefinition.requestSerialize, grpcMethodDefinition.responseDeserialize, (0, convertMetadata_1.convertMetadataToGrpcJs)(metadata), (err, response) => {\n                pipeAbortController.abort();\n                if (err != null) {\n                    reject((0, wrapClientError_1.wrapClientError)(err, definition.path));\n                }\n                else {\n                    resolve(response);\n                }\n            });\n            (0, patchClientWritableStream_1.patchClientWritableStream)(call);\n            call.on('metadata', metadata => {\n                onHeader?.((0, convertMetadata_1.convertMetadataFromGrpcJs)(metadata));\n            });\n            call.on('status', status => {\n                onTrailer?.((0, convertMetadata_1.convertMetadataFromGrpcJs)(status.metadata));\n            });\n            pipeRequest(pipeAbortController.signal, request, call).then(() => {\n                call.end();\n            }, err => {\n                if (!(0, abort_controller_x_1.isAbortError)(err)) {\n                    reject(err);\n                    call.cancel();\n                }\n            });\n            return () => {\n                pipeAbortController.abort();\n                call.cancel();\n            };\n        });\n    }\n    const method = middleware == null\n        ? clientStreamingMethod\n        : (request, options) => middleware({\n            method: methodDescriptor,\n            requestStream: true,\n            request,\n            responseStream: false,\n            next: clientStreamingMethod,\n        }, options);\n    return async (request, options) => {\n        const iterable = method(request, {\n            ...defaultOptions,\n            ...options,\n        });\n        const iterator = iterable[Symbol.asyncIterator]();\n        let result = await iterator.next();\n        while (true) {\n            if (!result.done) {\n                result = await iterator.throw(new Error('A middleware yielded a message, but expected to only return a message for client streaming method'));\n                continue;\n            }\n            if (result.value == null) {\n                result = await iterator.throw(new Error('A middleware returned void, but expected to return a message for client streaming method'));\n                continue;\n            }\n            return result.value;\n        }\n    };\n}\nexports.createClientStreamingMethod = createClientStreamingMethod;\nasync function pipeRequest(signal, request, call) {\n    for await (const item of request) {\n        (0, abort_controller_x_1.throwIfAborted)(signal);\n        const shouldContinue = call.write(item);\n        if (!shouldContinue) {\n            await (0, abort_controller_x_1.waitForEvent)(signal, call, 'drain');\n        }\n    }\n}\n//# sourceMappingURL=createClientStreamingMethod.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createServerStreamingMethod = void 0;\nconst abort_controller_x_1 = require(\"abort-controller-x\");\nconst nice_grpc_common_1 = require(\"nice-grpc-common\");\nconst service_definitions_1 = require(\"../service-definitions\");\nconst convertMetadata_1 = require(\"../utils/convertMetadata\");\nconst isAsyncIterable_1 = require(\"../utils/isAsyncIterable\");\nconst readableToAsyncIterable_1 = require(\"../utils/readableToAsyncIterable\");\nconst wrapClientError_1 = require(\"./wrapClientError\");\n/** @internal */\nfunction createServerStreamingMethod(definition, client, middleware, defaultOptions) {\n    const grpcMethodDefinition = (0, service_definitions_1.toGrpcJsMethodDefinition)(definition);\n    const methodDescriptor = {\n        path: definition.path,\n        requestStream: definition.requestStream,\n        responseStream: definition.responseStream,\n        options: definition.options,\n    };\n    async function* serverStreamingMethod(request, options) {\n        if ((0, isAsyncIterable_1.isAsyncIterable)(request)) {\n            throw new Error('A middleware passed invalid request to next(): expected a single message for server streaming method');\n        }\n        const { metadata = (0, nice_grpc_common_1.Metadata)(), onHeader, onTrailer } = options;\n        const signal = (options.signal ??\n            new AbortController().signal);\n        const call = client.makeServerStreamRequest(grpcMethodDefinition.path, grpcMethodDefinition.requestSerialize, grpcMethodDefinition.responseDeserialize, request, (0, convertMetadata_1.convertMetadataToGrpcJs)(metadata));\n        call.on('metadata', metadata => {\n            onHeader?.((0, convertMetadata_1.convertMetadataFromGrpcJs)(metadata));\n        });\n        call.on('status', status => {\n            onTrailer?.((0, convertMetadata_1.convertMetadataFromGrpcJs)(status.metadata));\n        });\n        const abortListener = () => {\n            call.cancel();\n        };\n        signal.addEventListener('abort', abortListener);\n        try {\n            yield* (0, readableToAsyncIterable_1.readableToAsyncIterable)(call);\n        }\n        catch (err) {\n            throw (0, wrapClientError_1.wrapClientError)(err, definition.path);\n        }\n        finally {\n            signal.removeEventListener('abort', abortListener);\n            (0, abort_controller_x_1.throwIfAborted)(signal);\n            call.cancel();\n        }\n    }\n    const method = middleware == null\n        ? serverStreamingMethod\n        : (request, options) => middleware({\n            method: methodDescriptor,\n            requestStream: false,\n            request,\n            responseStream: true,\n            next: serverStreamingMethod,\n        }, options);\n    return (request, options) => {\n        const iterable = method(request, {\n            ...defaultOptions,\n            ...options,\n        });\n        const iterator = iterable[Symbol.asyncIterator]();\n        return {\n            [Symbol.asyncIterator]() {\n                return {\n                    async next() {\n                        const result = await iterator.next();\n                        if (result.done && result.value != null) {\n                            return await iterator.throw(new Error('A middleware returned a message, but expected to return void for server streaming method'));\n                        }\n                        return result;\n                    },\n                    return() {\n                        return iterator.return();\n                    },\n                    throw(err) {\n                        return iterator.throw(err);\n                    },\n                };\n            },\n        };\n    };\n}\nexports.createServerStreamingMethod = createServerStreamingMethod;\n//# sourceMappingURL=createServerStreamingMethod.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createUnaryMethod = void 0;\nconst abort_controller_x_1 = require(\"abort-controller-x\");\nconst nice_grpc_common_1 = require(\"nice-grpc-common\");\nconst service_definitions_1 = require(\"../service-definitions\");\nconst convertMetadata_1 = require(\"../utils/convertMetadata\");\nconst isAsyncIterable_1 = require(\"../utils/isAsyncIterable\");\nconst wrapClientError_1 = require(\"./wrapClientError\");\n/** @internal */\nfunction createUnaryMethod(definition, client, middleware, defaultOptions) {\n    const grpcMethodDefinition = (0, service_definitions_1.toGrpcJsMethodDefinition)(definition);\n    const methodDescriptor = {\n        path: definition.path,\n        requestStream: definition.requestStream,\n        responseStream: definition.responseStream,\n        options: definition.options,\n    };\n    async function* unaryMethod(request, options) {\n        if ((0, isAsyncIterable_1.isAsyncIterable)(request)) {\n            throw new Error('A middleware passed invalid request to next(): expected a single message for unary method');\n        }\n        const { metadata = (0, nice_grpc_common_1.Metadata)(), signal = new AbortController().signal, onHeader, onTrailer, } = options;\n        return await (0, abort_controller_x_1.execute)(signal, (resolve, reject) => {\n            const call = client.makeUnaryRequest(grpcMethodDefinition.path, grpcMethodDefinition.requestSerialize, grpcMethodDefinition.responseDeserialize, request, (0, convertMetadata_1.convertMetadataToGrpcJs)(metadata), (err, response) => {\n                if (err != null) {\n                    reject((0, wrapClientError_1.wrapClientError)(err, definition.path));\n                }\n                else {\n                    resolve(response);\n                }\n            });\n            call.on('metadata', metadata => {\n                onHeader?.((0, convertMetadata_1.convertMetadataFromGrpcJs)(metadata));\n            });\n            call.on('status', status => {\n                onTrailer?.((0, convertMetadata_1.convertMetadataFromGrpcJs)(status.metadata));\n            });\n            return () => {\n                call.cancel();\n            };\n        });\n    }\n    const method = middleware == null\n        ? unaryMethod\n        : (request, options) => middleware({\n            method: methodDescriptor,\n            requestStream: false,\n            request,\n            responseStream: false,\n            next: unaryMethod,\n        }, options);\n    return async (request, options) => {\n        const iterable = method(request, {\n            ...defaultOptions,\n            ...options,\n        });\n        const iterator = iterable[Symbol.asyncIterator]();\n        let result = await iterator.next();\n        while (true) {\n            if (!result.done) {\n                result = await iterator.throw(new Error('A middleware yielded a message, but expected to only return a message for unary method'));\n                continue;\n            }\n            if (result.value == null) {\n                result = await iterator.throw(new Error('A middleware returned void, but expected to return a message for unary method'));\n                continue;\n            }\n            return result.value;\n        }\n    };\n}\nexports.createUnaryMethod = createUnaryMethod;\n//# sourceMappingURL=createUnaryMethod.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.wrapClientError = void 0;\nconst nice_grpc_common_1 = require(\"nice-grpc-common\");\nconst grpc_js_1 = require(\"@grpc/grpc-js\");\n/** @internal */\nfunction wrapClientError(error, path) {\n    if (isStatusObject(error)) {\n        return new nice_grpc_common_1.ClientError(path, error.code, error.details);\n    }\n    return error;\n}\nexports.wrapClientError = wrapClientError;\nfunction isStatusObject(obj) {\n    return (typeof obj === 'object' &&\n        obj !== null &&\n        typeof obj.code === 'number' &&\n        typeof obj.details === 'string' &&\n        obj.metadata instanceof grpc_js_1.Metadata);\n}\n//# sourceMappingURL=wrapClientError.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChannelCredentials = exports.Channel = exports.waitForChannelReady = exports.createChannel = void 0;\n__exportStar(require(\"nice-grpc-common\"), exports);\n__exportStar(require(\"./server/Server\"), exports);\n__exportStar(require(\"./server/ServiceImplementation\"), exports);\nvar channel_1 = require(\"./client/channel\");\nObject.defineProperty(exports, \"createChannel\", { enumerable: true, get: function () { return channel_1.createChannel; } });\nObject.defineProperty(exports, \"waitForChannelReady\", { enumerable: true, get: function () { return channel_1.waitForChannelReady; } });\nvar grpc_js_1 = require(\"@grpc/grpc-js\");\nObject.defineProperty(exports, \"Channel\", { enumerable: true, get: function () { return grpc_js_1.Channel; } });\nObject.defineProperty(exports, \"ChannelCredentials\", { enumerable: true, get: function () { return grpc_js_1.ChannelCredentials; } });\n__exportStar(require(\"./client/ClientFactory\"), exports);\n__exportStar(require(\"./client/Client\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createServer = void 0;\nconst grpc_js_1 = require(\"@grpc/grpc-js\");\nconst nice_grpc_common_1 = require(\"nice-grpc-common\");\nconst service_definitions_1 = require(\"../service-definitions\");\nconst handleBidiStreamingCall_1 = require(\"./handleBidiStreamingCall\");\nconst handleClientStreamingCall_1 = require(\"./handleClientStreamingCall\");\nconst handleServerStreamingCall_1 = require(\"./handleServerStreamingCall\");\nconst handleUnaryCall_1 = require(\"./handleUnaryCall\");\nfunction createServer(options = {}) {\n    return createServerWithMiddleware(options);\n}\nexports.createServer = createServer;\nfunction createServerWithMiddleware(options, middleware) {\n    const services = [];\n    let server;\n    function createAddBuilder(middleware) {\n        return {\n            with(newMiddleware) {\n                return createAddBuilder(middleware == null\n                    ? newMiddleware\n                    : (0, nice_grpc_common_1.composeServerMiddleware)(middleware, newMiddleware));\n            },\n            add(definition, implementation) {\n                if (server != null) {\n                    throw new Error('server.add() must be used before listen()');\n                }\n                services.push({\n                    definition: (0, service_definitions_1.normalizeServiceDefinition)(definition),\n                    middleware,\n                    implementation,\n                });\n            },\n        };\n    }\n    return {\n        use(newMiddleware) {\n            if (server != null) {\n                throw new Error('server.use() must be used before listen()');\n            }\n            if (services.length > 0) {\n                throw new Error('server.use() must be used before adding any services');\n            }\n            return createServerWithMiddleware(options, middleware == null\n                ? newMiddleware\n                : (0, nice_grpc_common_1.composeServerMiddleware)(middleware, newMiddleware));\n        },\n        ...createAddBuilder(middleware),\n        async listen(address, credentials) {\n            if (server != null) {\n                throw new Error('server.listen() has already been called');\n            }\n            server = new grpc_js_1.Server(options);\n            for (const { definition, middleware, implementation } of services) {\n                const grpcImplementation = {};\n                for (const [methodName, methodDefinition] of Object.entries(definition)) {\n                    const methodImplementation = implementation[methodName].bind(implementation);\n                    if (!methodDefinition.requestStream) {\n                        if (!methodDefinition.responseStream) {\n                            grpcImplementation[methodName] = (0, handleUnaryCall_1.createUnaryMethodHandler)(methodDefinition, methodImplementation, middleware);\n                        }\n                        else {\n                            grpcImplementation[methodName] =\n                                (0, handleServerStreamingCall_1.createServerStreamingMethodHandler)(methodDefinition, methodImplementation, middleware);\n                        }\n                    }\n                    else {\n                        if (!methodDefinition.responseStream) {\n                            grpcImplementation[methodName] =\n                                (0, handleClientStreamingCall_1.createClientStreamingMethodHandler)(methodDefinition, methodImplementation, middleware);\n                        }\n                        else {\n                            grpcImplementation[methodName] = (0, handleBidiStreamingCall_1.createBidiStreamingMethodHandler)(methodDefinition, methodImplementation, middleware);\n                        }\n                    }\n                }\n                server.addService((0, service_definitions_1.toGrpcJsServiceDefinition)(definition), grpcImplementation);\n            }\n            const port = await new Promise((resolve, reject) => {\n                server.bindAsync(address, credentials ?? grpc_js_1.ServerCredentials.createInsecure(), (err, port) => {\n                    if (err != null) {\n                        server = undefined;\n                        reject(err);\n                    }\n                    else {\n                        resolve(port);\n                    }\n                });\n            });\n            server.start();\n            return port;\n        },\n        async shutdown() {\n            if (server == null) {\n                return;\n            }\n            await new Promise((resolve, reject) => {\n                server.tryShutdown(err => {\n                    if (err != null) {\n                        reject(err);\n                    }\n                    else {\n                        resolve();\n                    }\n                });\n            });\n            server = undefined;\n        },\n        forceShutdown() {\n            if (server == null) {\n                return;\n            }\n            server.forceShutdown();\n            server = undefined;\n        },\n    };\n}\n//# sourceMappingURL=Server.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=ServiceImplementation.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createCallContext = void 0;\nconst nice_grpc_common_1 = require(\"nice-grpc-common\");\nconst convertMetadata_1 = require(\"../utils/convertMetadata\");\n/** @internal */\nfunction createCallContext(call) {\n    const header = (0, nice_grpc_common_1.Metadata)();\n    const trailer = (0, nice_grpc_common_1.Metadata)();\n    const abortController = new AbortController();\n    if (call.cancelled) {\n        abortController.abort();\n    }\n    else {\n        call.on('cancelled', () => {\n            abortController.abort();\n        });\n    }\n    let headerSent = false;\n    return {\n        metadata: (0, convertMetadata_1.convertMetadataFromGrpcJs)(call.metadata),\n        peer: call.getPeer(),\n        header,\n        sendHeader() {\n            if (headerSent) {\n                return;\n            }\n            call.sendMetadata((0, convertMetadata_1.convertMetadataToGrpcJs)(header));\n            headerSent = true;\n        },\n        trailer,\n        signal: abortController.signal,\n    };\n}\nexports.createCallContext = createCallContext;\n//# sourceMappingURL=createCallContext.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createErrorStatusObject = void 0;\nconst grpc_js_1 = require(\"@grpc/grpc-js\");\nconst abort_controller_x_1 = require(\"abort-controller-x\");\nconst nice_grpc_common_1 = require(\"nice-grpc-common\");\n/** @internal */\nfunction createErrorStatusObject(path, error, trailer) {\n    if (error instanceof nice_grpc_common_1.ServerError) {\n        return {\n            code: error.code,\n            details: error.details,\n            metadata: trailer,\n        };\n    }\n    else if ((0, abort_controller_x_1.isAbortError)(error)) {\n        return {\n            code: grpc_js_1.status.CANCELLED,\n            details: 'The operation was cancelled',\n            metadata: trailer,\n        };\n    }\n    else {\n        process.emitWarning(`${path}: Uncaught error in server implementation method: ${error instanceof Error ? error.stack : error}`);\n        return {\n            code: grpc_js_1.status.UNKNOWN,\n            details: 'Unknown server error occurred',\n            metadata: trailer,\n        };\n    }\n}\nexports.createErrorStatusObject = createErrorStatusObject;\n//# sourceMappingURL=createErrorStatusObject.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createBidiStreamingMethodHandler = void 0;\nconst abort_controller_x_1 = require(\"abort-controller-x\");\nconst convertMetadata_1 = require(\"../utils/convertMetadata\");\nconst isAsyncIterable_1 = require(\"../utils/isAsyncIterable\");\nconst readableToAsyncIterable_1 = require(\"../utils/readableToAsyncIterable\");\nconst createCallContext_1 = require(\"./createCallContext\");\nconst createErrorStatusObject_1 = require(\"./createErrorStatusObject\");\n/** @internal */\nfunction createBidiStreamingMethodHandler(definition, implementation, middleware) {\n    const methodDescriptor = {\n        path: definition.path,\n        requestStream: definition.requestStream,\n        responseStream: definition.responseStream,\n        options: definition.options,\n    };\n    async function* bidiStreamingMethodHandler(request, context) {\n        if (!(0, isAsyncIterable_1.isAsyncIterable)(request)) {\n            throw new Error('A middleware passed invalid request to next(): expected a single message for bidirectional streaming method');\n        }\n        yield* implementation(request, context);\n    }\n    const handler = middleware == null\n        ? bidiStreamingMethodHandler\n        : (request, context) => middleware({\n            method: methodDescriptor,\n            requestStream: true,\n            request,\n            responseStream: true,\n            next: bidiStreamingMethodHandler,\n        }, context);\n    return call => {\n        const context = (0, createCallContext_1.createCallContext)(call);\n        Promise.resolve()\n            .then(async () => {\n            const iterable = handler((0, readableToAsyncIterable_1.readableToAsyncIterable)(call), context);\n            const iterator = iterable[Symbol.asyncIterator]();\n            try {\n                let result = await iterator.next();\n                while (true) {\n                    if (!result.done) {\n                        try {\n                            context.sendHeader();\n                            const shouldContinue = call.write(result.value);\n                            if (!shouldContinue) {\n                                await (0, abort_controller_x_1.waitForEvent)(context.signal, call, 'drain');\n                            }\n                        }\n                        catch (err) {\n                            result = (0, abort_controller_x_1.isAbortError)(err)\n                                ? await iterator.return()\n                                : await iterator.throw(err);\n                            continue;\n                        }\n                        result = await iterator.next();\n                        continue;\n                    }\n                    if (result.value != null) {\n                        result = await iterator.throw(new Error('A middleware returned a message, but expected to return void for bidirectional streaming method'));\n                        continue;\n                    }\n                    break;\n                }\n            }\n            finally {\n                context.sendHeader();\n            }\n        })\n            .then(() => {\n            call.end((0, convertMetadata_1.convertMetadataToGrpcJs)(context.trailer));\n        }, err => {\n            call.destroy((0, createErrorStatusObject_1.createErrorStatusObject)(definition.path, err, (0, convertMetadata_1.convertMetadataToGrpcJs)(context.trailer)));\n        });\n    };\n}\nexports.createBidiStreamingMethodHandler = createBidiStreamingMethodHandler;\n//# sourceMappingURL=handleBidiStreamingCall.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createClientStreamingMethodHandler = void 0;\nconst isAsyncIterable_1 = require(\"../utils/isAsyncIterable\");\nconst createCallContext_1 = require(\"./createCallContext\");\nconst createErrorStatusObject_1 = require(\"./createErrorStatusObject\");\nconst readableToAsyncIterable_1 = require(\"../utils/readableToAsyncIterable\");\nconst convertMetadata_1 = require(\"../utils/convertMetadata\");\n/** @internal */\nfunction createClientStreamingMethodHandler(definition, implementation, middleware) {\n    const methodDescriptor = {\n        path: definition.path,\n        requestStream: definition.requestStream,\n        responseStream: definition.responseStream,\n        options: definition.options,\n    };\n    async function* clientStreamingMethodHandler(request, context) {\n        if (!(0, isAsyncIterable_1.isAsyncIterable)(request)) {\n            throw new Error('A middleware passed invalid request to next(): expected a single message for client streaming method');\n        }\n        return await implementation(request, context);\n    }\n    const handler = middleware == null\n        ? clientStreamingMethodHandler\n        : (request, context) => middleware({\n            method: methodDescriptor,\n            requestStream: true,\n            request,\n            responseStream: false,\n            next: clientStreamingMethodHandler,\n        }, context);\n    return (call, callback) => {\n        const context = (0, createCallContext_1.createCallContext)(call);\n        Promise.resolve()\n            .then(async () => {\n            const iterable = handler((0, readableToAsyncIterable_1.readableToAsyncIterable)(call), context);\n            const iterator = iterable[Symbol.asyncIterator]();\n            try {\n                let result = await iterator.next();\n                while (true) {\n                    if (!result.done) {\n                        result = await iterator.throw(new Error('A middleware yielded a message, but expected to only return a message for client streaming method'));\n                        continue;\n                    }\n                    if (result.value == null) {\n                        result = await iterator.throw(new Error('A middleware returned void, but expected to return a message for client streaming method'));\n                        continue;\n                    }\n                    return result.value;\n                }\n            }\n            finally {\n                context.sendHeader();\n            }\n        })\n            .then(res => {\n            callback(null, res, (0, convertMetadata_1.convertMetadataToGrpcJs)(context.trailer));\n        }, err => {\n            callback((0, createErrorStatusObject_1.createErrorStatusObject)(definition.path, err, (0, convertMetadata_1.convertMetadataToGrpcJs)(context.trailer)));\n        });\n    };\n}\nexports.createClientStreamingMethodHandler = createClientStreamingMethodHandler;\n//# sourceMappingURL=handleClientStreamingCall.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createServerStreamingMethodHandler = void 0;\nconst abort_controller_x_1 = require(\"abort-controller-x\");\nconst convertMetadata_1 = require(\"../utils/convertMetadata\");\nconst isAsyncIterable_1 = require(\"../utils/isAsyncIterable\");\nconst createCallContext_1 = require(\"./createCallContext\");\nconst createErrorStatusObject_1 = require(\"./createErrorStatusObject\");\n/** @internal */\nfunction createServerStreamingMethodHandler(definition, implementation, middleware) {\n    const methodDescriptor = {\n        path: definition.path,\n        requestStream: definition.requestStream,\n        responseStream: definition.responseStream,\n        options: definition.options,\n    };\n    async function* serverStreamingMethodHandler(request, context) {\n        if ((0, isAsyncIterable_1.isAsyncIterable)(request)) {\n            throw new Error('A middleware passed invalid request to next(): expected a single message for server streaming method');\n        }\n        yield* implementation(request, context);\n    }\n    const handler = middleware == null\n        ? serverStreamingMethodHandler\n        : (request, context) => middleware({\n            method: methodDescriptor,\n            requestStream: false,\n            request,\n            responseStream: true,\n            next: serverStreamingMethodHandler,\n        }, context);\n    return call => {\n        const context = (0, createCallContext_1.createCallContext)(call);\n        Promise.resolve()\n            .then(async () => {\n            const iterable = handler(call.request, context);\n            const iterator = iterable[Symbol.asyncIterator]();\n            try {\n                let result = await iterator.next();\n                while (true) {\n                    if (!result.done) {\n                        try {\n                            context.sendHeader();\n                            const shouldContinue = call.write(result.value);\n                            if (!shouldContinue) {\n                                await (0, abort_controller_x_1.waitForEvent)(context.signal, call, 'drain');\n                            }\n                        }\n                        catch (err) {\n                            result = (0, abort_controller_x_1.isAbortError)(err)\n                                ? await iterator.return()\n                                : await iterator.throw(err);\n                            continue;\n                        }\n                        result = await iterator.next();\n                        continue;\n                    }\n                    if (result.value != null) {\n                        result = await iterator.throw(new Error('A middleware returned a message, but expected to return void for server streaming method'));\n                        continue;\n                    }\n                    break;\n                }\n            }\n            finally {\n                context.sendHeader();\n            }\n        })\n            .then(() => {\n            call.end((0, convertMetadata_1.convertMetadataToGrpcJs)(context.trailer));\n        }, err => {\n            call.destroy((0, createErrorStatusObject_1.createErrorStatusObject)(definition.path, err, (0, convertMetadata_1.convertMetadataToGrpcJs)(context.trailer)));\n        });\n    };\n}\nexports.createServerStreamingMethodHandler = createServerStreamingMethodHandler;\n//# sourceMappingURL=handleServerStreamingCall.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createUnaryMethodHandler = void 0;\nconst convertMetadata_1 = require(\"../utils/convertMetadata\");\nconst isAsyncIterable_1 = require(\"../utils/isAsyncIterable\");\nconst createCallContext_1 = require(\"./createCallContext\");\nconst createErrorStatusObject_1 = require(\"./createErrorStatusObject\");\n/** @internal */\nfunction createUnaryMethodHandler(definition, implementation, middleware) {\n    const methodDescriptor = {\n        path: definition.path,\n        requestStream: definition.requestStream,\n        responseStream: definition.responseStream,\n        options: definition.options,\n    };\n    async function* unaryMethodHandler(request, context) {\n        if ((0, isAsyncIterable_1.isAsyncIterable)(request)) {\n            throw new Error('A middleware passed invalid request to next(): expected a single message for unary method');\n        }\n        return await implementation(request, context);\n    }\n    const handler = middleware == null\n        ? unaryMethodHandler\n        : (request, context) => middleware({\n            method: methodDescriptor,\n            requestStream: false,\n            request,\n            responseStream: false,\n            next: unaryMethodHandler,\n        }, context);\n    return (call, callback) => {\n        const context = (0, createCallContext_1.createCallContext)(call);\n        Promise.resolve()\n            .then(async () => {\n            const iterable = handler(call.request, context);\n            const iterator = iterable[Symbol.asyncIterator]();\n            try {\n                let result = await iterator.next();\n                while (true) {\n                    if (!result.done) {\n                        result = await iterator.throw(new Error('A middleware yielded a message, but expected to only return a message for unary method'));\n                        continue;\n                    }\n                    if (result.value == null) {\n                        result = await iterator.throw(new Error('A middleware returned void, but expected to return a message for unary method'));\n                        continue;\n                    }\n                    return result.value;\n                }\n            }\n            finally {\n                context.sendHeader();\n            }\n        })\n            .then(res => {\n            callback(null, res, (0, convertMetadata_1.convertMetadataToGrpcJs)(context.trailer));\n        }, err => {\n            callback((0, createErrorStatusObject_1.createErrorStatusObject)(definition.path, err, (0, convertMetadata_1.convertMetadataToGrpcJs)(context.trailer)));\n        });\n    };\n}\nexports.createUnaryMethodHandler = createUnaryMethodHandler;\n//# sourceMappingURL=handleUnaryCall.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isGrpcJsServiceDefinition = exports.fromGrpcJsServiceDefinition = void 0;\nfunction fromGrpcJsServiceDefinition(definition) {\n    const result = {};\n    for (const [key, method] of Object.entries(definition)) {\n        result[key] = {\n            path: method.path,\n            requestStream: method.requestStream,\n            responseStream: method.responseStream,\n            requestDeserialize: bytes => method.requestDeserialize(Buffer.from(bytes)),\n            requestSerialize: method.requestSerialize,\n            responseDeserialize: bytes => method.responseDeserialize(Buffer.from(bytes)),\n            responseSerialize: method.responseSerialize,\n            options: {},\n        };\n    }\n    return result;\n}\nexports.fromGrpcJsServiceDefinition = fromGrpcJsServiceDefinition;\nfunction isGrpcJsServiceDefinition(definition) {\n    return Object.values(definition).every(value => typeof value === 'object' &&\n        value != null &&\n        typeof value.path === 'string');\n}\nexports.isGrpcJsServiceDefinition = isGrpcJsServiceDefinition;\n//# sourceMappingURL=grpc-js.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toGrpcJsMethodDefinition = exports.toGrpcJsServiceDefinition = exports.normalizeServiceDefinition = void 0;\nconst grpc_js_1 = require(\"./grpc-js\");\nconst ts_proto_1 = require(\"./ts-proto\");\n/** @internal */\nfunction normalizeServiceDefinition(definition) {\n    if ((0, grpc_js_1.isGrpcJsServiceDefinition)(definition)) {\n        return (0, grpc_js_1.fromGrpcJsServiceDefinition)(definition);\n    }\n    else if ((0, ts_proto_1.isTsProtoServiceDefinition)(definition)) {\n        return (0, ts_proto_1.fromTsProtoServiceDefinition)(definition);\n    }\n    else {\n        return definition;\n    }\n}\nexports.normalizeServiceDefinition = normalizeServiceDefinition;\n/** @internal */\nfunction toGrpcJsServiceDefinition(definition) {\n    const result = {};\n    for (const [key, method] of Object.entries(definition)) {\n        result[key] = toGrpcJsMethodDefinition(method);\n    }\n    return result;\n}\nexports.toGrpcJsServiceDefinition = toGrpcJsServiceDefinition;\n/** @internal */\nfunction toGrpcJsMethodDefinition(definition) {\n    return {\n        path: definition.path,\n        requestStream: definition.requestStream,\n        responseStream: definition.responseStream,\n        requestDeserialize: definition.requestDeserialize,\n        requestSerialize: value => Buffer.from(definition.requestSerialize(value)),\n        responseDeserialize: definition.responseDeserialize,\n        responseSerialize: value => Buffer.from(definition.responseSerialize(value)),\n    };\n}\nexports.toGrpcJsMethodDefinition = toGrpcJsMethodDefinition;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isTsProtoServiceDefinition = exports.fromTsProtoServiceDefinition = void 0;\nfunction fromTsProtoServiceDefinition(definition) {\n    const result = {};\n    for (const [key, method] of Object.entries(definition.methods)) {\n        const requestEncode = method.requestType.encode;\n        const requestFromPartial = method.requestType.fromPartial;\n        const responseEncode = method.responseType.encode;\n        const responseFromPartial = method.responseType.fromPartial;\n        result[key] = {\n            path: `/${definition.fullName}/${method.name}`,\n            requestStream: method.requestStream,\n            responseStream: method.responseStream,\n            requestDeserialize: method.requestType.decode,\n            requestSerialize: requestFromPartial != null\n                ? value => requestEncode(requestFromPartial(value)).finish()\n                : value => requestEncode(value).finish(),\n            responseDeserialize: method.responseType.decode,\n            responseSerialize: responseFromPartial != null\n                ? value => responseEncode(responseFromPartial(value)).finish()\n                : value => responseEncode(value).finish(),\n            options: method.options,\n        };\n    }\n    return result;\n}\nexports.fromTsProtoServiceDefinition = fromTsProtoServiceDefinition;\nfunction isTsProtoServiceDefinition(definition) {\n    return ('name' in definition && 'fullName' in definition && 'methods' in definition);\n}\nexports.isTsProtoServiceDefinition = isTsProtoServiceDefinition;\n//# sourceMappingURL=ts-proto.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.convertMetadataFromGrpcJs = exports.convertMetadataToGrpcJs = void 0;\nconst grpc = __importStar(require(\"@grpc/grpc-js\"));\nconst nice_grpc_common_1 = require(\"nice-grpc-common\");\n/** @internal */\nfunction convertMetadataToGrpcJs(metadata) {\n    const grpcMetadata = new grpc.Metadata();\n    for (const [key, values] of metadata) {\n        for (const value of values) {\n            grpcMetadata.add(key, typeof value === 'string' ? value : Buffer.from(value));\n        }\n    }\n    return grpcMetadata;\n}\nexports.convertMetadataToGrpcJs = convertMetadataToGrpcJs;\n/** @internal */\nfunction convertMetadataFromGrpcJs(grpcMetadata) {\n    const metadata = (0, nice_grpc_common_1.Metadata)();\n    for (const key of Object.keys(grpcMetadata.getMap())) {\n        const value = grpcMetadata.get(key);\n        metadata.set(key, value);\n    }\n    return metadata;\n}\nexports.convertMetadataFromGrpcJs = convertMetadataFromGrpcJs;\n//# sourceMappingURL=convertMetadata.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isAsyncIterable = void 0;\n/** @internal */\nfunction isAsyncIterable(value) {\n    return value != null && Symbol.asyncIterator in value;\n}\nexports.isAsyncIterable = isAsyncIterable;\n//# sourceMappingURL=isAsyncIterable.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.patchClientWritableStream = void 0;\n/**\n * Workaround for https://github.com/grpc/grpc-node/issues/1094\n *\n * @internal\n */\nfunction patchClientWritableStream(stream) {\n    const http2CallStream = stream.call.call;\n    const origAttachHttp2Stream = http2CallStream.attachHttp2Stream;\n    http2CallStream.attachHttp2Stream = function patchAttachHttp2Stream(stream, ...rest) {\n        const origWrite = stream.write;\n        stream.write = function patchedWrite(...args) {\n            if (this.writableEnded) {\n                return true;\n            }\n            return origWrite.apply(this, args);\n        };\n        return origAttachHttp2Stream.call(this, stream, ...rest);\n    };\n}\nexports.patchClientWritableStream = patchClientWritableStream;\n//# sourceMappingURL=patchClientWritableStream.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readableToAsyncIterable = void 0;\n/**\n * This is a copy of NodeJS createAsyncIterator(stream), with removed stream\n * destruction.\n *\n * https://github.com/nodejs/node/blob/v15.8.0/lib/internal/streams/readable.js#L1079\n *\n * @internal\n */\nasync function* readableToAsyncIterable(stream) {\n    let callback = nop;\n    function next(resolve) {\n        if (this === stream) {\n            callback();\n            callback = nop;\n        }\n        else {\n            callback = resolve;\n        }\n    }\n    const state = stream._readableState;\n    let error = state.errored;\n    let errorEmitted = state.errorEmitted;\n    let endEmitted = state.endEmitted;\n    let closeEmitted = state.closeEmitted;\n    stream\n        .on('readable', next)\n        .on('error', function (err) {\n        error = err;\n        errorEmitted = true;\n        next.call(this);\n    })\n        .on('end', function () {\n        endEmitted = true;\n        next.call(this);\n    })\n        .on('close', function () {\n        closeEmitted = true;\n        next.call(this);\n    });\n    while (true) {\n        const chunk = stream.destroyed ? null : stream.read();\n        if (chunk !== null) {\n            yield chunk;\n        }\n        else if (errorEmitted) {\n            throw error;\n        }\n        else if (endEmitted) {\n            break;\n        }\n        else if (closeEmitted) {\n            break;\n        }\n        else {\n            await new Promise(next);\n        }\n    }\n}\nexports.readableToAsyncIterable = readableToAsyncIterable;\nconst nop = () => { };\n//# sourceMappingURL=readableToAsyncIterable.js.map","\"use strict\";\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.addAdminServicesToServer = exports.registerAdminService = void 0;\nconst registeredAdminServices = [];\nfunction registerAdminService(getServiceDefinition, getHandlers) {\n    registeredAdminServices.push({ getServiceDefinition, getHandlers });\n}\nexports.registerAdminService = registerAdminService;\nfunction addAdminServicesToServer(server) {\n    for (const { getServiceDefinition, getHandlers } of registeredAdminServices) {\n        server.addService(getServiceDefinition(), getHandlers());\n    }\n}\nexports.addAdminServicesToServer = addAdminServicesToServer;\n//# sourceMappingURL=admin.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BackoffTimeout = void 0;\nconst INITIAL_BACKOFF_MS = 1000;\nconst BACKOFF_MULTIPLIER = 1.6;\nconst MAX_BACKOFF_MS = 120000;\nconst BACKOFF_JITTER = 0.2;\n/**\n * Get a number uniformly at random in the range [min, max)\n * @param min\n * @param max\n */\nfunction uniformRandom(min, max) {\n    return Math.random() * (max - min) + min;\n}\nclass BackoffTimeout {\n    constructor(callback, options) {\n        this.callback = callback;\n        /**\n         * The delay time at the start, and after each reset.\n         */\n        this.initialDelay = INITIAL_BACKOFF_MS;\n        /**\n         * The exponential backoff multiplier.\n         */\n        this.multiplier = BACKOFF_MULTIPLIER;\n        /**\n         * The maximum delay time\n         */\n        this.maxDelay = MAX_BACKOFF_MS;\n        /**\n         * The maximum fraction by which the delay time can randomly vary after\n         * applying the multiplier.\n         */\n        this.jitter = BACKOFF_JITTER;\n        /**\n         * Indicates whether the timer is currently running.\n         */\n        this.running = false;\n        /**\n         * Indicates whether the timer should keep the Node process running if no\n         * other async operation is doing so.\n         */\n        this.hasRef = true;\n        /**\n         * The time that the currently running timer was started. Only valid if\n         * running is true.\n         */\n        this.startTime = new Date();\n        if (options) {\n            if (options.initialDelay) {\n                this.initialDelay = options.initialDelay;\n            }\n            if (options.multiplier) {\n                this.multiplier = options.multiplier;\n            }\n            if (options.jitter) {\n                this.jitter = options.jitter;\n            }\n            if (options.maxDelay) {\n                this.maxDelay = options.maxDelay;\n            }\n        }\n        this.nextDelay = this.initialDelay;\n        this.timerId = setTimeout(() => { }, 0);\n        clearTimeout(this.timerId);\n    }\n    runTimer(delay) {\n        var _a, _b;\n        clearTimeout(this.timerId);\n        this.timerId = setTimeout(() => {\n            this.callback();\n            this.running = false;\n        }, delay);\n        if (!this.hasRef) {\n            (_b = (_a = this.timerId).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n        }\n    }\n    /**\n     * Call the callback after the current amount of delay time\n     */\n    runOnce() {\n        this.running = true;\n        this.startTime = new Date();\n        this.runTimer(this.nextDelay);\n        const nextBackoff = Math.min(this.nextDelay * this.multiplier, this.maxDelay);\n        const jitterMagnitude = nextBackoff * this.jitter;\n        this.nextDelay =\n            nextBackoff + uniformRandom(-jitterMagnitude, jitterMagnitude);\n    }\n    /**\n     * Stop the timer. The callback will not be called until `runOnce` is called\n     * again.\n     */\n    stop() {\n        clearTimeout(this.timerId);\n        this.running = false;\n    }\n    /**\n     * Reset the delay time to its initial value. If the timer is still running,\n     * retroactively apply that reset to the current timer.\n     */\n    reset() {\n        this.nextDelay = this.initialDelay;\n        if (this.running) {\n            const now = new Date();\n            const newEndTime = this.startTime;\n            newEndTime.setMilliseconds(newEndTime.getMilliseconds() + this.nextDelay);\n            clearTimeout(this.timerId);\n            if (now < newEndTime) {\n                this.runTimer(newEndTime.getTime() - now.getTime());\n            }\n            else {\n                this.running = false;\n            }\n        }\n    }\n    /**\n     * Check whether the timer is currently running.\n     */\n    isRunning() {\n        return this.running;\n    }\n    /**\n     * Set that while the timer is running, it should keep the Node process\n     * running.\n     */\n    ref() {\n        var _a, _b;\n        this.hasRef = true;\n        (_b = (_a = this.timerId).ref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    /**\n     * Set that while the timer is running, it should not keep the Node process\n     * running.\n     */\n    unref() {\n        var _a, _b;\n        this.hasRef = false;\n        (_b = (_a = this.timerId).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n}\nexports.BackoffTimeout = BackoffTimeout;\n//# sourceMappingURL=backoff-timeout.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallCredentials = void 0;\nconst metadata_1 = require(\"./metadata\");\nfunction isCurrentOauth2Client(client) {\n    return ('getRequestHeaders' in client &&\n        typeof client.getRequestHeaders === 'function');\n}\n/**\n * A class that represents a generic method of adding authentication-related\n * metadata on a per-request basis.\n */\nclass CallCredentials {\n    /**\n     * Creates a new CallCredentials object from a given function that generates\n     * Metadata objects.\n     * @param metadataGenerator A function that accepts a set of options, and\n     * generates a Metadata object based on these options, which is passed back\n     * to the caller via a supplied (err, metadata) callback.\n     */\n    static createFromMetadataGenerator(metadataGenerator) {\n        return new SingleCallCredentials(metadataGenerator);\n    }\n    /**\n     * Create a gRPC credential from a Google credential object.\n     * @param googleCredentials The authentication client to use.\n     * @return The resulting CallCredentials object.\n     */\n    static createFromGoogleCredential(googleCredentials) {\n        return CallCredentials.createFromMetadataGenerator((options, callback) => {\n            let getHeaders;\n            if (isCurrentOauth2Client(googleCredentials)) {\n                getHeaders = googleCredentials.getRequestHeaders(options.service_url);\n            }\n            else {\n                getHeaders = new Promise((resolve, reject) => {\n                    googleCredentials.getRequestMetadata(options.service_url, (err, headers) => {\n                        if (err) {\n                            reject(err);\n                            return;\n                        }\n                        if (!headers) {\n                            reject(new Error('Headers not set by metadata plugin'));\n                            return;\n                        }\n                        resolve(headers);\n                    });\n                });\n            }\n            getHeaders.then((headers) => {\n                const metadata = new metadata_1.Metadata();\n                for (const key of Object.keys(headers)) {\n                    metadata.add(key, headers[key]);\n                }\n                callback(null, metadata);\n            }, (err) => {\n                callback(err);\n            });\n        });\n    }\n    static createEmpty() {\n        return new EmptyCallCredentials();\n    }\n}\nexports.CallCredentials = CallCredentials;\nclass ComposedCallCredentials extends CallCredentials {\n    constructor(creds) {\n        super();\n        this.creds = creds;\n    }\n    async generateMetadata(options) {\n        const base = new metadata_1.Metadata();\n        const generated = await Promise.all(this.creds.map((cred) => cred.generateMetadata(options)));\n        for (const gen of generated) {\n            base.merge(gen);\n        }\n        return base;\n    }\n    compose(other) {\n        return new ComposedCallCredentials(this.creds.concat([other]));\n    }\n    _equals(other) {\n        if (this === other) {\n            return true;\n        }\n        if (other instanceof ComposedCallCredentials) {\n            return this.creds.every((value, index) => value._equals(other.creds[index]));\n        }\n        else {\n            return false;\n        }\n    }\n}\nclass SingleCallCredentials extends CallCredentials {\n    constructor(metadataGenerator) {\n        super();\n        this.metadataGenerator = metadataGenerator;\n    }\n    generateMetadata(options) {\n        return new Promise((resolve, reject) => {\n            this.metadataGenerator(options, (err, metadata) => {\n                if (metadata !== undefined) {\n                    resolve(metadata);\n                }\n                else {\n                    reject(err);\n                }\n            });\n        });\n    }\n    compose(other) {\n        return new ComposedCallCredentials([this, other]);\n    }\n    _equals(other) {\n        if (this === other) {\n            return true;\n        }\n        if (other instanceof SingleCallCredentials) {\n            return this.metadataGenerator === other.metadataGenerator;\n        }\n        else {\n            return false;\n        }\n    }\n}\nclass EmptyCallCredentials extends CallCredentials {\n    generateMetadata(options) {\n        return Promise.resolve(new metadata_1.Metadata());\n    }\n    compose(other) {\n        return other;\n    }\n    _equals(other) {\n        return other instanceof EmptyCallCredentials;\n    }\n}\n//# sourceMappingURL=call-credentials.js.map","\"use strict\";\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InterceptingListenerImpl = exports.isInterceptingListener = void 0;\nfunction isInterceptingListener(listener) {\n    return (listener.onReceiveMetadata !== undefined &&\n        listener.onReceiveMetadata.length === 1);\n}\nexports.isInterceptingListener = isInterceptingListener;\nclass InterceptingListenerImpl {\n    constructor(listener, nextListener) {\n        this.listener = listener;\n        this.nextListener = nextListener;\n        this.processingMetadata = false;\n        this.hasPendingMessage = false;\n        this.processingMessage = false;\n        this.pendingStatus = null;\n    }\n    processPendingMessage() {\n        if (this.hasPendingMessage) {\n            this.nextListener.onReceiveMessage(this.pendingMessage);\n            this.pendingMessage = null;\n            this.hasPendingMessage = false;\n        }\n    }\n    processPendingStatus() {\n        if (this.pendingStatus) {\n            this.nextListener.onReceiveStatus(this.pendingStatus);\n        }\n    }\n    onReceiveMetadata(metadata) {\n        this.processingMetadata = true;\n        this.listener.onReceiveMetadata(metadata, (metadata) => {\n            this.processingMetadata = false;\n            this.nextListener.onReceiveMetadata(metadata);\n            this.processPendingMessage();\n            this.processPendingStatus();\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    onReceiveMessage(message) {\n        /* If this listener processes messages asynchronously, the last message may\n          * be reordered with respect to the status */\n        this.processingMessage = true;\n        this.listener.onReceiveMessage(message, (msg) => {\n            this.processingMessage = false;\n            if (this.processingMetadata) {\n                this.pendingMessage = msg;\n                this.hasPendingMessage = true;\n            }\n            else {\n                this.nextListener.onReceiveMessage(msg);\n                this.processPendingStatus();\n            }\n        });\n    }\n    onReceiveStatus(status) {\n        this.listener.onReceiveStatus(status, (processedStatus) => {\n            if (this.processingMetadata || this.processingMessage) {\n                this.pendingStatus = processedStatus;\n            }\n            else {\n                this.nextListener.onReceiveStatus(processedStatus);\n            }\n        });\n    }\n}\nexports.InterceptingListenerImpl = InterceptingListenerImpl;\n//# sourceMappingURL=call-interface.js.map","\"use strict\";\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getNextCallNumber = void 0;\nlet nextCallNumber = 0;\nfunction getNextCallNumber() {\n    return nextCallNumber++;\n}\nexports.getNextCallNumber = getNextCallNumber;\n//# sourceMappingURL=call-number.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ClientDuplexStreamImpl = exports.ClientWritableStreamImpl = exports.ClientReadableStreamImpl = exports.ClientUnaryCallImpl = exports.callErrorFromStatus = void 0;\nconst events_1 = require(\"events\");\nconst stream_1 = require(\"stream\");\nconst constants_1 = require(\"./constants\");\n/**\n * Construct a ServiceError from a StatusObject. This function exists primarily\n * as an attempt to make the error stack trace clearly communicate that the\n * error is not necessarily a problem in gRPC itself.\n * @param status\n */\nfunction callErrorFromStatus(status, callerStack) {\n    const message = `${status.code} ${constants_1.Status[status.code]}: ${status.details}`;\n    const error = new Error(message);\n    const stack = `${error.stack}\\nfor call at\\n${callerStack}`;\n    return Object.assign(new Error(message), status, { stack });\n}\nexports.callErrorFromStatus = callErrorFromStatus;\nclass ClientUnaryCallImpl extends events_1.EventEmitter {\n    constructor() {\n        super();\n    }\n    cancel() {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled on client');\n    }\n    getPeer() {\n        var _a, _b;\n        return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : 'unknown';\n    }\n}\nexports.ClientUnaryCallImpl = ClientUnaryCallImpl;\nclass ClientReadableStreamImpl extends stream_1.Readable {\n    constructor(deserialize) {\n        super({ objectMode: true });\n        this.deserialize = deserialize;\n    }\n    cancel() {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled on client');\n    }\n    getPeer() {\n        var _a, _b;\n        return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : 'unknown';\n    }\n    _read(_size) {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.startRead();\n    }\n}\nexports.ClientReadableStreamImpl = ClientReadableStreamImpl;\nclass ClientWritableStreamImpl extends stream_1.Writable {\n    constructor(serialize) {\n        super({ objectMode: true });\n        this.serialize = serialize;\n    }\n    cancel() {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled on client');\n    }\n    getPeer() {\n        var _a, _b;\n        return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : 'unknown';\n    }\n    _write(chunk, encoding, cb) {\n        var _a;\n        const context = {\n            callback: cb,\n        };\n        const flags = Number(encoding);\n        if (!Number.isNaN(flags)) {\n            context.flags = flags;\n        }\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.sendMessageWithContext(context, chunk);\n    }\n    _final(cb) {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.halfClose();\n        cb();\n    }\n}\nexports.ClientWritableStreamImpl = ClientWritableStreamImpl;\nclass ClientDuplexStreamImpl extends stream_1.Duplex {\n    constructor(serialize, deserialize) {\n        super({ objectMode: true });\n        this.serialize = serialize;\n        this.deserialize = deserialize;\n    }\n    cancel() {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled on client');\n    }\n    getPeer() {\n        var _a, _b;\n        return (_b = (_a = this.call) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : 'unknown';\n    }\n    _read(_size) {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.startRead();\n    }\n    _write(chunk, encoding, cb) {\n        var _a;\n        const context = {\n            callback: cb,\n        };\n        const flags = Number(encoding);\n        if (!Number.isNaN(flags)) {\n            context.flags = flags;\n        }\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.sendMessageWithContext(context, chunk);\n    }\n    _final(cb) {\n        var _a;\n        (_a = this.call) === null || _a === void 0 ? void 0 : _a.halfClose();\n        cb();\n    }\n}\nexports.ClientDuplexStreamImpl = ClientDuplexStreamImpl;\n//# sourceMappingURL=call.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChannelCredentials = void 0;\nconst tls_1 = require(\"tls\");\nconst call_credentials_1 = require(\"./call-credentials\");\nconst tls_helpers_1 = require(\"./tls-helpers\");\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction verifyIsBufferOrNull(obj, friendlyName) {\n    if (obj && !(obj instanceof Buffer)) {\n        throw new TypeError(`${friendlyName}, if provided, must be a Buffer.`);\n    }\n}\nfunction bufferOrNullEqual(buf1, buf2) {\n    if (buf1 === null && buf2 === null) {\n        return true;\n    }\n    else {\n        return buf1 !== null && buf2 !== null && buf1.equals(buf2);\n    }\n}\n/**\n * A class that contains credentials for communicating over a channel, as well\n * as a set of per-call credentials, which are applied to every method call made\n * over a channel initialized with an instance of this class.\n */\nclass ChannelCredentials {\n    constructor(callCredentials) {\n        this.callCredentials = callCredentials || call_credentials_1.CallCredentials.createEmpty();\n    }\n    /**\n     * Gets the set of per-call credentials associated with this instance.\n     */\n    _getCallCredentials() {\n        return this.callCredentials;\n    }\n    /**\n     * Return a new ChannelCredentials instance with a given set of credentials.\n     * The resulting instance can be used to construct a Channel that communicates\n     * over TLS.\n     * @param rootCerts The root certificate data.\n     * @param privateKey The client certificate private key, if available.\n     * @param certChain The client certificate key chain, if available.\n     * @param verifyOptions Additional options to modify certificate verification\n     */\n    static createSsl(rootCerts, privateKey, certChain, verifyOptions) {\n        var _a;\n        verifyIsBufferOrNull(rootCerts, 'Root certificate');\n        verifyIsBufferOrNull(privateKey, 'Private key');\n        verifyIsBufferOrNull(certChain, 'Certificate chain');\n        if (privateKey && !certChain) {\n            throw new Error('Private key must be given with accompanying certificate chain');\n        }\n        if (!privateKey && certChain) {\n            throw new Error('Certificate chain must be given with accompanying private key');\n        }\n        const secureContext = (0, tls_1.createSecureContext)({\n            ca: (_a = rootCerts !== null && rootCerts !== void 0 ? rootCerts : (0, tls_helpers_1.getDefaultRootsData)()) !== null && _a !== void 0 ? _a : undefined,\n            key: privateKey !== null && privateKey !== void 0 ? privateKey : undefined,\n            cert: certChain !== null && certChain !== void 0 ? certChain : undefined,\n            ciphers: tls_helpers_1.CIPHER_SUITES,\n        });\n        return new SecureChannelCredentialsImpl(secureContext, verifyOptions !== null && verifyOptions !== void 0 ? verifyOptions : {});\n    }\n    /**\n     * Return a new ChannelCredentials instance with credentials created using\n     * the provided secureContext. The resulting instances can be used to\n     * construct a Channel that communicates over TLS. gRPC will not override\n     * anything in the provided secureContext, so the environment variables\n     * GRPC_SSL_CIPHER_SUITES and GRPC_DEFAULT_SSL_ROOTS_FILE_PATH will\n     * not be applied.\n     * @param secureContext The return value of tls.createSecureContext()\n     * @param verifyOptions Additional options to modify certificate verification\n     */\n    static createFromSecureContext(secureContext, verifyOptions) {\n        return new SecureChannelCredentialsImpl(secureContext, verifyOptions !== null && verifyOptions !== void 0 ? verifyOptions : {});\n    }\n    /**\n     * Return a new ChannelCredentials instance with no credentials.\n     */\n    static createInsecure() {\n        return new InsecureChannelCredentialsImpl();\n    }\n}\nexports.ChannelCredentials = ChannelCredentials;\nclass InsecureChannelCredentialsImpl extends ChannelCredentials {\n    constructor(callCredentials) {\n        super(callCredentials);\n    }\n    compose(callCredentials) {\n        throw new Error('Cannot compose insecure credentials');\n    }\n    _getConnectionOptions() {\n        return null;\n    }\n    _isSecure() {\n        return false;\n    }\n    _equals(other) {\n        return other instanceof InsecureChannelCredentialsImpl;\n    }\n}\nclass SecureChannelCredentialsImpl extends ChannelCredentials {\n    constructor(secureContext, verifyOptions) {\n        super();\n        this.secureContext = secureContext;\n        this.verifyOptions = verifyOptions;\n        this.connectionOptions = {\n            secureContext\n        };\n        // Node asserts that this option is a function, so we cannot pass undefined\n        if (verifyOptions === null || verifyOptions === void 0 ? void 0 : verifyOptions.checkServerIdentity) {\n            this.connectionOptions.checkServerIdentity = verifyOptions.checkServerIdentity;\n        }\n    }\n    compose(callCredentials) {\n        const combinedCallCredentials = this.callCredentials.compose(callCredentials);\n        return new ComposedChannelCredentialsImpl(this, combinedCallCredentials);\n    }\n    _getConnectionOptions() {\n        // Copy to prevent callers from mutating this.connectionOptions\n        return Object.assign({}, this.connectionOptions);\n    }\n    _isSecure() {\n        return true;\n    }\n    _equals(other) {\n        if (this === other) {\n            return true;\n        }\n        if (other instanceof SecureChannelCredentialsImpl) {\n            return (this.secureContext === other.secureContext &&\n                this.verifyOptions.checkServerIdentity === other.verifyOptions.checkServerIdentity);\n        }\n        else {\n            return false;\n        }\n    }\n}\nclass ComposedChannelCredentialsImpl extends ChannelCredentials {\n    constructor(channelCredentials, callCreds) {\n        super(callCreds);\n        this.channelCredentials = channelCredentials;\n    }\n    compose(callCredentials) {\n        const combinedCallCredentials = this.callCredentials.compose(callCredentials);\n        return new ComposedChannelCredentialsImpl(this.channelCredentials, combinedCallCredentials);\n    }\n    _getConnectionOptions() {\n        return this.channelCredentials._getConnectionOptions();\n    }\n    _isSecure() {\n        return true;\n    }\n    _equals(other) {\n        if (this === other) {\n            return true;\n        }\n        if (other instanceof ComposedChannelCredentialsImpl) {\n            return (this.channelCredentials._equals(other.channelCredentials) &&\n                this.callCredentials._equals(other.callCredentials));\n        }\n        else {\n            return false;\n        }\n    }\n}\n//# sourceMappingURL=channel-credentials.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.channelOptionsEqual = exports.recognizedOptions = void 0;\n/**\n * This is for checking provided options at runtime. This is an object for\n * easier membership checking.\n */\nexports.recognizedOptions = {\n    'grpc.ssl_target_name_override': true,\n    'grpc.primary_user_agent': true,\n    'grpc.secondary_user_agent': true,\n    'grpc.default_authority': true,\n    'grpc.keepalive_time_ms': true,\n    'grpc.keepalive_timeout_ms': true,\n    'grpc.keepalive_permit_without_calls': true,\n    'grpc.service_config': true,\n    'grpc.max_concurrent_streams': true,\n    'grpc.initial_reconnect_backoff_ms': true,\n    'grpc.max_reconnect_backoff_ms': true,\n    'grpc.use_local_subchannel_pool': true,\n    'grpc.max_send_message_length': true,\n    'grpc.max_receive_message_length': true,\n    'grpc.enable_http_proxy': true,\n    'grpc.enable_channelz': true,\n    'grpc.dns_min_time_between_resolutions_ms': true,\n    'grpc.enable_retries': true,\n    'grpc.per_rpc_retry_buffer_size': true,\n    'grpc.retry_buffer_size': true,\n    'grpc.max_connection_age_ms': true,\n    'grpc.max_connection_age_grace_ms': true,\n    'grpc-node.max_session_memory': true,\n    'grpc.service_config_disable_resolution': true,\n};\nfunction channelOptionsEqual(options1, options2) {\n    const keys1 = Object.keys(options1).sort();\n    const keys2 = Object.keys(options2).sort();\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    for (let i = 0; i < keys1.length; i += 1) {\n        if (keys1[i] !== keys2[i]) {\n            return false;\n        }\n        if (options1[keys1[i]] !== options2[keys2[i]]) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.channelOptionsEqual = channelOptionsEqual;\n//# sourceMappingURL=channel-options.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChannelImplementation = void 0;\nconst channel_credentials_1 = require(\"./channel-credentials\");\nconst internal_channel_1 = require(\"./internal-channel\");\nclass ChannelImplementation {\n    constructor(target, credentials, options) {\n        if (typeof target !== 'string') {\n            throw new TypeError('Channel target must be a string');\n        }\n        if (!(credentials instanceof channel_credentials_1.ChannelCredentials)) {\n            throw new TypeError('Channel credentials must be a ChannelCredentials object');\n        }\n        if (options) {\n            if (typeof options !== 'object') {\n                throw new TypeError('Channel options must be an object');\n            }\n        }\n        this.internalChannel = new internal_channel_1.InternalChannel(target, credentials, options);\n    }\n    close() {\n        this.internalChannel.close();\n    }\n    getTarget() {\n        return this.internalChannel.getTarget();\n    }\n    getConnectivityState(tryToConnect) {\n        return this.internalChannel.getConnectivityState(tryToConnect);\n    }\n    watchConnectivityState(currentState, deadline, callback) {\n        this.internalChannel.watchConnectivityState(currentState, deadline, callback);\n    }\n    /**\n     * Get the channelz reference object for this channel. The returned value is\n     * garbage if channelz is disabled for this channel.\n     * @returns\n     */\n    getChannelzRef() {\n        return this.internalChannel.getChannelzRef();\n    }\n    createCall(method, deadline, host, parentCall, propagateFlags) {\n        if (typeof method !== 'string') {\n            throw new TypeError('Channel#createCall: method must be a string');\n        }\n        if (!(typeof deadline === 'number' || deadline instanceof Date)) {\n            throw new TypeError('Channel#createCall: deadline must be a number or Date');\n        }\n        return this.internalChannel.createCall(method, deadline, host, parentCall, propagateFlags);\n    }\n}\nexports.ChannelImplementation = ChannelImplementation;\n//# sourceMappingURL=channel.js.map","\"use strict\";\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setup = exports.getChannelzServiceDefinition = exports.getChannelzHandlers = exports.unregisterChannelzRef = exports.registerChannelzSocket = exports.registerChannelzServer = exports.registerChannelzSubchannel = exports.registerChannelzChannel = exports.ChannelzCallTracker = exports.ChannelzChildrenTracker = exports.ChannelzTrace = void 0;\nconst net_1 = require(\"net\");\nconst connectivity_state_1 = require(\"./connectivity-state\");\nconst constants_1 = require(\"./constants\");\nconst subchannel_address_1 = require(\"./subchannel-address\");\nconst admin_1 = require(\"./admin\");\nconst make_client_1 = require(\"./make-client\");\nfunction channelRefToMessage(ref) {\n    return {\n        channel_id: ref.id,\n        name: ref.name\n    };\n}\nfunction subchannelRefToMessage(ref) {\n    return {\n        subchannel_id: ref.id,\n        name: ref.name\n    };\n}\nfunction serverRefToMessage(ref) {\n    return {\n        server_id: ref.id\n    };\n}\nfunction socketRefToMessage(ref) {\n    return {\n        socket_id: ref.id,\n        name: ref.name\n    };\n}\n/**\n * The loose upper bound on the number of events that should be retained in a\n * trace. This may be exceeded by up to a factor of 2. Arbitrarily chosen as a\n * number that should be large enough to contain the recent relevant\n * information, but small enough to not use excessive memory.\n */\nconst TARGET_RETAINED_TRACES = 32;\nclass ChannelzTrace {\n    constructor() {\n        this.events = [];\n        this.eventsLogged = 0;\n        this.creationTimestamp = new Date();\n    }\n    addTrace(severity, description, child) {\n        const timestamp = new Date();\n        this.events.push({\n            description: description,\n            severity: severity,\n            timestamp: timestamp,\n            childChannel: (child === null || child === void 0 ? void 0 : child.kind) === 'channel' ? child : undefined,\n            childSubchannel: (child === null || child === void 0 ? void 0 : child.kind) === 'subchannel' ? child : undefined\n        });\n        // Whenever the trace array gets too large, discard the first half\n        if (this.events.length >= TARGET_RETAINED_TRACES * 2) {\n            this.events = this.events.slice(TARGET_RETAINED_TRACES);\n        }\n        this.eventsLogged += 1;\n    }\n    getTraceMessage() {\n        return {\n            creation_timestamp: dateToProtoTimestamp(this.creationTimestamp),\n            num_events_logged: this.eventsLogged,\n            events: this.events.map(event => {\n                return {\n                    description: event.description,\n                    severity: event.severity,\n                    timestamp: dateToProtoTimestamp(event.timestamp),\n                    channel_ref: event.childChannel ? channelRefToMessage(event.childChannel) : null,\n                    subchannel_ref: event.childSubchannel ? subchannelRefToMessage(event.childSubchannel) : null\n                };\n            })\n        };\n    }\n}\nexports.ChannelzTrace = ChannelzTrace;\nclass ChannelzChildrenTracker {\n    constructor() {\n        this.channelChildren = new Map();\n        this.subchannelChildren = new Map();\n        this.socketChildren = new Map();\n    }\n    refChild(child) {\n        var _a, _b, _c;\n        switch (child.kind) {\n            case 'channel': {\n                let trackedChild = (_a = this.channelChildren.get(child.id)) !== null && _a !== void 0 ? _a : { ref: child, count: 0 };\n                trackedChild.count += 1;\n                this.channelChildren.set(child.id, trackedChild);\n                break;\n            }\n            case 'subchannel': {\n                let trackedChild = (_b = this.subchannelChildren.get(child.id)) !== null && _b !== void 0 ? _b : { ref: child, count: 0 };\n                trackedChild.count += 1;\n                this.subchannelChildren.set(child.id, trackedChild);\n                break;\n            }\n            case 'socket': {\n                let trackedChild = (_c = this.socketChildren.get(child.id)) !== null && _c !== void 0 ? _c : { ref: child, count: 0 };\n                trackedChild.count += 1;\n                this.socketChildren.set(child.id, trackedChild);\n                break;\n            }\n        }\n    }\n    unrefChild(child) {\n        switch (child.kind) {\n            case 'channel': {\n                let trackedChild = this.channelChildren.get(child.id);\n                if (trackedChild !== undefined) {\n                    trackedChild.count -= 1;\n                    if (trackedChild.count === 0) {\n                        this.channelChildren.delete(child.id);\n                    }\n                    else {\n                        this.channelChildren.set(child.id, trackedChild);\n                    }\n                }\n                break;\n            }\n            case 'subchannel': {\n                let trackedChild = this.subchannelChildren.get(child.id);\n                if (trackedChild !== undefined) {\n                    trackedChild.count -= 1;\n                    if (trackedChild.count === 0) {\n                        this.subchannelChildren.delete(child.id);\n                    }\n                    else {\n                        this.subchannelChildren.set(child.id, trackedChild);\n                    }\n                }\n                break;\n            }\n            case 'socket': {\n                let trackedChild = this.socketChildren.get(child.id);\n                if (trackedChild !== undefined) {\n                    trackedChild.count -= 1;\n                    if (trackedChild.count === 0) {\n                        this.socketChildren.delete(child.id);\n                    }\n                    else {\n                        this.socketChildren.set(child.id, trackedChild);\n                    }\n                }\n                break;\n            }\n        }\n    }\n    getChildLists() {\n        const channels = [];\n        for (const { ref } of this.channelChildren.values()) {\n            channels.push(ref);\n        }\n        const subchannels = [];\n        for (const { ref } of this.subchannelChildren.values()) {\n            subchannels.push(ref);\n        }\n        const sockets = [];\n        for (const { ref } of this.socketChildren.values()) {\n            sockets.push(ref);\n        }\n        return { channels, subchannels, sockets };\n    }\n}\nexports.ChannelzChildrenTracker = ChannelzChildrenTracker;\nclass ChannelzCallTracker {\n    constructor() {\n        this.callsStarted = 0;\n        this.callsSucceeded = 0;\n        this.callsFailed = 0;\n        this.lastCallStartedTimestamp = null;\n    }\n    addCallStarted() {\n        this.callsStarted += 1;\n        this.lastCallStartedTimestamp = new Date();\n    }\n    addCallSucceeded() {\n        this.callsSucceeded += 1;\n    }\n    addCallFailed() {\n        this.callsFailed += 1;\n    }\n}\nexports.ChannelzCallTracker = ChannelzCallTracker;\nlet nextId = 1;\nfunction getNextId() {\n    return nextId++;\n}\nconst channels = [];\nconst subchannels = [];\nconst servers = [];\nconst sockets = [];\nfunction registerChannelzChannel(name, getInfo, channelzEnabled) {\n    const id = getNextId();\n    const ref = { id, name, kind: 'channel' };\n    if (channelzEnabled) {\n        channels[id] = { ref, getInfo };\n    }\n    return ref;\n}\nexports.registerChannelzChannel = registerChannelzChannel;\nfunction registerChannelzSubchannel(name, getInfo, channelzEnabled) {\n    const id = getNextId();\n    const ref = { id, name, kind: 'subchannel' };\n    if (channelzEnabled) {\n        subchannels[id] = { ref, getInfo };\n    }\n    return ref;\n}\nexports.registerChannelzSubchannel = registerChannelzSubchannel;\nfunction registerChannelzServer(getInfo, channelzEnabled) {\n    const id = getNextId();\n    const ref = { id, kind: 'server' };\n    if (channelzEnabled) {\n        servers[id] = { ref, getInfo };\n    }\n    return ref;\n}\nexports.registerChannelzServer = registerChannelzServer;\nfunction registerChannelzSocket(name, getInfo, channelzEnabled) {\n    const id = getNextId();\n    const ref = { id, name, kind: 'socket' };\n    if (channelzEnabled) {\n        sockets[id] = { ref, getInfo };\n    }\n    return ref;\n}\nexports.registerChannelzSocket = registerChannelzSocket;\nfunction unregisterChannelzRef(ref) {\n    switch (ref.kind) {\n        case 'channel':\n            delete channels[ref.id];\n            return;\n        case 'subchannel':\n            delete subchannels[ref.id];\n            return;\n        case 'server':\n            delete servers[ref.id];\n            return;\n        case 'socket':\n            delete sockets[ref.id];\n            return;\n    }\n}\nexports.unregisterChannelzRef = unregisterChannelzRef;\n/**\n * Parse a single section of an IPv6 address as two bytes\n * @param addressSection A hexadecimal string of length up to 4\n * @returns The pair of bytes representing this address section\n */\nfunction parseIPv6Section(addressSection) {\n    const numberValue = Number.parseInt(addressSection, 16);\n    return [numberValue / 256 | 0, numberValue % 256];\n}\n/**\n * Parse a chunk of an IPv6 address string to some number of bytes\n * @param addressChunk Some number of segments of up to 4 hexadecimal\n *   characters each, joined by colons.\n * @returns The list of bytes representing this address chunk\n */\nfunction parseIPv6Chunk(addressChunk) {\n    if (addressChunk === '') {\n        return [];\n    }\n    const bytePairs = addressChunk.split(':').map(section => parseIPv6Section(section));\n    const result = [];\n    return result.concat(...bytePairs);\n}\n/**\n * Converts an IPv4 or IPv6 address from string representation to binary\n * representation\n * @param ipAddress an IP address in standard IPv4 or IPv6 text format\n * @returns\n */\nfunction ipAddressStringToBuffer(ipAddress) {\n    if ((0, net_1.isIPv4)(ipAddress)) {\n        return Buffer.from(Uint8Array.from(ipAddress.split('.').map(segment => Number.parseInt(segment))));\n    }\n    else if ((0, net_1.isIPv6)(ipAddress)) {\n        let leftSection;\n        let rightSection;\n        const doubleColonIndex = ipAddress.indexOf('::');\n        if (doubleColonIndex === -1) {\n            leftSection = ipAddress;\n            rightSection = '';\n        }\n        else {\n            leftSection = ipAddress.substring(0, doubleColonIndex);\n            rightSection = ipAddress.substring(doubleColonIndex + 2);\n        }\n        const leftBuffer = Buffer.from(parseIPv6Chunk(leftSection));\n        const rightBuffer = Buffer.from(parseIPv6Chunk(rightSection));\n        const middleBuffer = Buffer.alloc(16 - leftBuffer.length - rightBuffer.length, 0);\n        return Buffer.concat([leftBuffer, middleBuffer, rightBuffer]);\n    }\n    else {\n        return null;\n    }\n}\nfunction connectivityStateToMessage(state) {\n    switch (state) {\n        case connectivity_state_1.ConnectivityState.CONNECTING:\n            return {\n                state: 'CONNECTING'\n            };\n        case connectivity_state_1.ConnectivityState.IDLE:\n            return {\n                state: 'IDLE'\n            };\n        case connectivity_state_1.ConnectivityState.READY:\n            return {\n                state: 'READY'\n            };\n        case connectivity_state_1.ConnectivityState.SHUTDOWN:\n            return {\n                state: 'SHUTDOWN'\n            };\n        case connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE:\n            return {\n                state: 'TRANSIENT_FAILURE'\n            };\n        default:\n            return {\n                state: 'UNKNOWN'\n            };\n    }\n}\nfunction dateToProtoTimestamp(date) {\n    if (!date) {\n        return null;\n    }\n    const millisSinceEpoch = date.getTime();\n    return {\n        seconds: (millisSinceEpoch / 1000) | 0,\n        nanos: (millisSinceEpoch % 1000) * 1000000\n    };\n}\nfunction getChannelMessage(channelEntry) {\n    const resolvedInfo = channelEntry.getInfo();\n    return {\n        ref: channelRefToMessage(channelEntry.ref),\n        data: {\n            target: resolvedInfo.target,\n            state: connectivityStateToMessage(resolvedInfo.state),\n            calls_started: resolvedInfo.callTracker.callsStarted,\n            calls_succeeded: resolvedInfo.callTracker.callsSucceeded,\n            calls_failed: resolvedInfo.callTracker.callsFailed,\n            last_call_started_timestamp: dateToProtoTimestamp(resolvedInfo.callTracker.lastCallStartedTimestamp),\n            trace: resolvedInfo.trace.getTraceMessage()\n        },\n        channel_ref: resolvedInfo.children.channels.map(ref => channelRefToMessage(ref)),\n        subchannel_ref: resolvedInfo.children.subchannels.map(ref => subchannelRefToMessage(ref))\n    };\n}\nfunction GetChannel(call, callback) {\n    const channelId = Number.parseInt(call.request.channel_id);\n    const channelEntry = channels[channelId];\n    if (channelEntry === undefined) {\n        callback({\n            'code': constants_1.Status.NOT_FOUND,\n            'details': 'No channel data found for id ' + channelId\n        });\n        return;\n    }\n    callback(null, { channel: getChannelMessage(channelEntry) });\n}\nfunction GetTopChannels(call, callback) {\n    const maxResults = Number.parseInt(call.request.max_results);\n    const resultList = [];\n    let i = Number.parseInt(call.request.start_channel_id);\n    for (; i < channels.length; i++) {\n        const channelEntry = channels[i];\n        if (channelEntry === undefined) {\n            continue;\n        }\n        resultList.push(getChannelMessage(channelEntry));\n        if (resultList.length >= maxResults) {\n            break;\n        }\n    }\n    callback(null, {\n        channel: resultList,\n        end: i >= servers.length\n    });\n}\nfunction getServerMessage(serverEntry) {\n    const resolvedInfo = serverEntry.getInfo();\n    return {\n        ref: serverRefToMessage(serverEntry.ref),\n        data: {\n            calls_started: resolvedInfo.callTracker.callsStarted,\n            calls_succeeded: resolvedInfo.callTracker.callsSucceeded,\n            calls_failed: resolvedInfo.callTracker.callsFailed,\n            last_call_started_timestamp: dateToProtoTimestamp(resolvedInfo.callTracker.lastCallStartedTimestamp),\n            trace: resolvedInfo.trace.getTraceMessage()\n        },\n        listen_socket: resolvedInfo.listenerChildren.sockets.map(ref => socketRefToMessage(ref))\n    };\n}\nfunction GetServer(call, callback) {\n    const serverId = Number.parseInt(call.request.server_id);\n    const serverEntry = servers[serverId];\n    if (serverEntry === undefined) {\n        callback({\n            'code': constants_1.Status.NOT_FOUND,\n            'details': 'No server data found for id ' + serverId\n        });\n        return;\n    }\n    callback(null, { server: getServerMessage(serverEntry) });\n}\nfunction GetServers(call, callback) {\n    const maxResults = Number.parseInt(call.request.max_results);\n    const resultList = [];\n    let i = Number.parseInt(call.request.start_server_id);\n    for (; i < servers.length; i++) {\n        const serverEntry = servers[i];\n        if (serverEntry === undefined) {\n            continue;\n        }\n        resultList.push(getServerMessage(serverEntry));\n        if (resultList.length >= maxResults) {\n            break;\n        }\n    }\n    callback(null, {\n        server: resultList,\n        end: i >= servers.length\n    });\n}\nfunction GetSubchannel(call, callback) {\n    const subchannelId = Number.parseInt(call.request.subchannel_id);\n    const subchannelEntry = subchannels[subchannelId];\n    if (subchannelEntry === undefined) {\n        callback({\n            'code': constants_1.Status.NOT_FOUND,\n            'details': 'No subchannel data found for id ' + subchannelId\n        });\n        return;\n    }\n    const resolvedInfo = subchannelEntry.getInfo();\n    const subchannelMessage = {\n        ref: subchannelRefToMessage(subchannelEntry.ref),\n        data: {\n            target: resolvedInfo.target,\n            state: connectivityStateToMessage(resolvedInfo.state),\n            calls_started: resolvedInfo.callTracker.callsStarted,\n            calls_succeeded: resolvedInfo.callTracker.callsSucceeded,\n            calls_failed: resolvedInfo.callTracker.callsFailed,\n            last_call_started_timestamp: dateToProtoTimestamp(resolvedInfo.callTracker.lastCallStartedTimestamp),\n            trace: resolvedInfo.trace.getTraceMessage()\n        },\n        socket_ref: resolvedInfo.children.sockets.map(ref => socketRefToMessage(ref))\n    };\n    callback(null, { subchannel: subchannelMessage });\n}\nfunction subchannelAddressToAddressMessage(subchannelAddress) {\n    var _a;\n    if ((0, subchannel_address_1.isTcpSubchannelAddress)(subchannelAddress)) {\n        return {\n            address: 'tcpip_address',\n            tcpip_address: {\n                ip_address: (_a = ipAddressStringToBuffer(subchannelAddress.host)) !== null && _a !== void 0 ? _a : undefined,\n                port: subchannelAddress.port\n            }\n        };\n    }\n    else {\n        return {\n            address: 'uds_address',\n            uds_address: {\n                filename: subchannelAddress.path\n            }\n        };\n    }\n}\nfunction GetSocket(call, callback) {\n    var _a, _b, _c, _d, _e;\n    const socketId = Number.parseInt(call.request.socket_id);\n    const socketEntry = sockets[socketId];\n    if (socketEntry === undefined) {\n        callback({\n            'code': constants_1.Status.NOT_FOUND,\n            'details': 'No socket data found for id ' + socketId\n        });\n        return;\n    }\n    const resolvedInfo = socketEntry.getInfo();\n    const securityMessage = resolvedInfo.security ? {\n        model: 'tls',\n        tls: {\n            cipher_suite: resolvedInfo.security.cipherSuiteStandardName ? 'standard_name' : 'other_name',\n            standard_name: (_a = resolvedInfo.security.cipherSuiteStandardName) !== null && _a !== void 0 ? _a : undefined,\n            other_name: (_b = resolvedInfo.security.cipherSuiteOtherName) !== null && _b !== void 0 ? _b : undefined,\n            local_certificate: (_c = resolvedInfo.security.localCertificate) !== null && _c !== void 0 ? _c : undefined,\n            remote_certificate: (_d = resolvedInfo.security.remoteCertificate) !== null && _d !== void 0 ? _d : undefined\n        }\n    } : null;\n    const socketMessage = {\n        ref: socketRefToMessage(socketEntry.ref),\n        local: resolvedInfo.localAddress ? subchannelAddressToAddressMessage(resolvedInfo.localAddress) : null,\n        remote: resolvedInfo.remoteAddress ? subchannelAddressToAddressMessage(resolvedInfo.remoteAddress) : null,\n        remote_name: (_e = resolvedInfo.remoteName) !== null && _e !== void 0 ? _e : undefined,\n        security: securityMessage,\n        data: {\n            keep_alives_sent: resolvedInfo.keepAlivesSent,\n            streams_started: resolvedInfo.streamsStarted,\n            streams_succeeded: resolvedInfo.streamsSucceeded,\n            streams_failed: resolvedInfo.streamsFailed,\n            last_local_stream_created_timestamp: dateToProtoTimestamp(resolvedInfo.lastLocalStreamCreatedTimestamp),\n            last_remote_stream_created_timestamp: dateToProtoTimestamp(resolvedInfo.lastRemoteStreamCreatedTimestamp),\n            messages_received: resolvedInfo.messagesReceived,\n            messages_sent: resolvedInfo.messagesSent,\n            last_message_received_timestamp: dateToProtoTimestamp(resolvedInfo.lastMessageReceivedTimestamp),\n            last_message_sent_timestamp: dateToProtoTimestamp(resolvedInfo.lastMessageSentTimestamp),\n            local_flow_control_window: resolvedInfo.localFlowControlWindow ? { value: resolvedInfo.localFlowControlWindow } : null,\n            remote_flow_control_window: resolvedInfo.remoteFlowControlWindow ? { value: resolvedInfo.remoteFlowControlWindow } : null,\n        }\n    };\n    callback(null, { socket: socketMessage });\n}\nfunction GetServerSockets(call, callback) {\n    const serverId = Number.parseInt(call.request.server_id);\n    const serverEntry = servers[serverId];\n    if (serverEntry === undefined) {\n        callback({\n            'code': constants_1.Status.NOT_FOUND,\n            'details': 'No server data found for id ' + serverId\n        });\n        return;\n    }\n    const startId = Number.parseInt(call.request.start_socket_id);\n    const maxResults = Number.parseInt(call.request.max_results);\n    const resolvedInfo = serverEntry.getInfo();\n    // If we wanted to include listener sockets in the result, this line would\n    // instead say\n    // const allSockets = resolvedInfo.listenerChildren.sockets.concat(resolvedInfo.sessionChildren.sockets).sort((ref1, ref2) => ref1.id - ref2.id);\n    const allSockets = resolvedInfo.sessionChildren.sockets.sort((ref1, ref2) => ref1.id - ref2.id);\n    const resultList = [];\n    let i = 0;\n    for (; i < allSockets.length; i++) {\n        if (allSockets[i].id >= startId) {\n            resultList.push(socketRefToMessage(allSockets[i]));\n            if (resultList.length >= maxResults) {\n                break;\n            }\n        }\n    }\n    callback(null, {\n        socket_ref: resultList,\n        end: i >= allSockets.length\n    });\n}\nfunction getChannelzHandlers() {\n    return {\n        GetChannel,\n        GetTopChannels,\n        GetServer,\n        GetServers,\n        GetSubchannel,\n        GetSocket,\n        GetServerSockets\n    };\n}\nexports.getChannelzHandlers = getChannelzHandlers;\nlet loadedChannelzDefinition = null;\nfunction getChannelzServiceDefinition() {\n    if (loadedChannelzDefinition) {\n        return loadedChannelzDefinition;\n    }\n    /* The purpose of this complexity is to avoid loading @grpc/proto-loader at\n     * runtime for users who will not use/enable channelz. */\n    const loaderLoadSync = require('@grpc/proto-loader').loadSync;\n    const loadedProto = loaderLoadSync('channelz.proto', {\n        keepCase: true,\n        longs: String,\n        enums: String,\n        defaults: true,\n        oneofs: true,\n        includeDirs: [\n            `${__dirname}/../../proto`\n        ]\n    });\n    const channelzGrpcObject = (0, make_client_1.loadPackageDefinition)(loadedProto);\n    loadedChannelzDefinition = channelzGrpcObject.grpc.channelz.v1.Channelz.service;\n    return loadedChannelzDefinition;\n}\nexports.getChannelzServiceDefinition = getChannelzServiceDefinition;\nfunction setup() {\n    (0, admin_1.registerAdminService)(getChannelzServiceDefinition, getChannelzHandlers);\n}\nexports.setup = setup;\n//# sourceMappingURL=channelz.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getInterceptingCall = exports.InterceptingCall = exports.RequesterBuilder = exports.ListenerBuilder = exports.InterceptorConfigurationError = void 0;\nconst metadata_1 = require(\"./metadata\");\nconst call_interface_1 = require(\"./call-interface\");\nconst constants_1 = require(\"./constants\");\nconst error_1 = require(\"./error\");\n/**\n * Error class associated with passing both interceptors and interceptor\n * providers to a client constructor or as call options.\n */\nclass InterceptorConfigurationError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = 'InterceptorConfigurationError';\n        Error.captureStackTrace(this, InterceptorConfigurationError);\n    }\n}\nexports.InterceptorConfigurationError = InterceptorConfigurationError;\nclass ListenerBuilder {\n    constructor() {\n        this.metadata = undefined;\n        this.message = undefined;\n        this.status = undefined;\n    }\n    withOnReceiveMetadata(onReceiveMetadata) {\n        this.metadata = onReceiveMetadata;\n        return this;\n    }\n    withOnReceiveMessage(onReceiveMessage) {\n        this.message = onReceiveMessage;\n        return this;\n    }\n    withOnReceiveStatus(onReceiveStatus) {\n        this.status = onReceiveStatus;\n        return this;\n    }\n    build() {\n        return {\n            onReceiveMetadata: this.metadata,\n            onReceiveMessage: this.message,\n            onReceiveStatus: this.status,\n        };\n    }\n}\nexports.ListenerBuilder = ListenerBuilder;\nclass RequesterBuilder {\n    constructor() {\n        this.start = undefined;\n        this.message = undefined;\n        this.halfClose = undefined;\n        this.cancel = undefined;\n    }\n    withStart(start) {\n        this.start = start;\n        return this;\n    }\n    withSendMessage(sendMessage) {\n        this.message = sendMessage;\n        return this;\n    }\n    withHalfClose(halfClose) {\n        this.halfClose = halfClose;\n        return this;\n    }\n    withCancel(cancel) {\n        this.cancel = cancel;\n        return this;\n    }\n    build() {\n        return {\n            start: this.start,\n            sendMessage: this.message,\n            halfClose: this.halfClose,\n            cancel: this.cancel,\n        };\n    }\n}\nexports.RequesterBuilder = RequesterBuilder;\n/**\n * A Listener with a default pass-through implementation of each method. Used\n * for filling out Listeners with some methods omitted.\n */\nconst defaultListener = {\n    onReceiveMetadata: (metadata, next) => {\n        next(metadata);\n    },\n    onReceiveMessage: (message, next) => {\n        next(message);\n    },\n    onReceiveStatus: (status, next) => {\n        next(status);\n    },\n};\n/**\n * A Requester with a default pass-through implementation of each method. Used\n * for filling out Requesters with some methods omitted.\n */\nconst defaultRequester = {\n    start: (metadata, listener, next) => {\n        next(metadata, listener);\n    },\n    sendMessage: (message, next) => {\n        next(message);\n    },\n    halfClose: (next) => {\n        next();\n    },\n    cancel: (next) => {\n        next();\n    },\n};\nclass InterceptingCall {\n    constructor(nextCall, requester) {\n        var _a, _b, _c, _d;\n        this.nextCall = nextCall;\n        /**\n         * Indicates that metadata has been passed to the requester's start\n         * method but it has not been passed to the corresponding next callback\n         */\n        this.processingMetadata = false;\n        /**\n         * Message context for a pending message that is waiting for\n         */\n        this.pendingMessageContext = null;\n        /**\n         * Indicates that a message has been passed to the requester's sendMessage\n         * method but it has not been passed to the corresponding next callback\n         */\n        this.processingMessage = false;\n        /**\n         * Indicates that a status was received but could not be propagated because\n         * a message was still being processed.\n         */\n        this.pendingHalfClose = false;\n        if (requester) {\n            this.requester = {\n                start: (_a = requester.start) !== null && _a !== void 0 ? _a : defaultRequester.start,\n                sendMessage: (_b = requester.sendMessage) !== null && _b !== void 0 ? _b : defaultRequester.sendMessage,\n                halfClose: (_c = requester.halfClose) !== null && _c !== void 0 ? _c : defaultRequester.halfClose,\n                cancel: (_d = requester.cancel) !== null && _d !== void 0 ? _d : defaultRequester.cancel,\n            };\n        }\n        else {\n            this.requester = defaultRequester;\n        }\n    }\n    cancelWithStatus(status, details) {\n        this.requester.cancel(() => {\n            this.nextCall.cancelWithStatus(status, details);\n        });\n    }\n    getPeer() {\n        return this.nextCall.getPeer();\n    }\n    processPendingMessage() {\n        if (this.pendingMessageContext) {\n            this.nextCall.sendMessageWithContext(this.pendingMessageContext, this.pendingMessage);\n            this.pendingMessageContext = null;\n            this.pendingMessage = null;\n        }\n    }\n    processPendingHalfClose() {\n        if (this.pendingHalfClose) {\n            this.nextCall.halfClose();\n        }\n    }\n    start(metadata, interceptingListener) {\n        var _a, _b, _c, _d, _e, _f;\n        const fullInterceptingListener = {\n            onReceiveMetadata: (_b = (_a = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveMetadata) === null || _a === void 0 ? void 0 : _a.bind(interceptingListener)) !== null && _b !== void 0 ? _b : ((metadata) => { }),\n            onReceiveMessage: (_d = (_c = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveMessage) === null || _c === void 0 ? void 0 : _c.bind(interceptingListener)) !== null && _d !== void 0 ? _d : ((message) => { }),\n            onReceiveStatus: (_f = (_e = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveStatus) === null || _e === void 0 ? void 0 : _e.bind(interceptingListener)) !== null && _f !== void 0 ? _f : ((status) => { }),\n        };\n        this.processingMetadata = true;\n        this.requester.start(metadata, fullInterceptingListener, (md, listener) => {\n            var _a, _b, _c;\n            this.processingMetadata = false;\n            let finalInterceptingListener;\n            if ((0, call_interface_1.isInterceptingListener)(listener)) {\n                finalInterceptingListener = listener;\n            }\n            else {\n                const fullListener = {\n                    onReceiveMetadata: (_a = listener.onReceiveMetadata) !== null && _a !== void 0 ? _a : defaultListener.onReceiveMetadata,\n                    onReceiveMessage: (_b = listener.onReceiveMessage) !== null && _b !== void 0 ? _b : defaultListener.onReceiveMessage,\n                    onReceiveStatus: (_c = listener.onReceiveStatus) !== null && _c !== void 0 ? _c : defaultListener.onReceiveStatus,\n                };\n                finalInterceptingListener = new call_interface_1.InterceptingListenerImpl(fullListener, fullInterceptingListener);\n            }\n            this.nextCall.start(md, finalInterceptingListener);\n            this.processPendingMessage();\n            this.processPendingHalfClose();\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    sendMessageWithContext(context, message) {\n        this.processingMessage = true;\n        this.requester.sendMessage(message, (finalMessage) => {\n            this.processingMessage = false;\n            if (this.processingMetadata) {\n                this.pendingMessageContext = context;\n                this.pendingMessage = message;\n            }\n            else {\n                this.nextCall.sendMessageWithContext(context, finalMessage);\n                this.processPendingHalfClose();\n            }\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    sendMessage(message) {\n        this.sendMessageWithContext({}, message);\n    }\n    startRead() {\n        this.nextCall.startRead();\n    }\n    halfClose() {\n        this.requester.halfClose(() => {\n            if (this.processingMetadata || this.processingMessage) {\n                this.pendingHalfClose = true;\n            }\n            else {\n                this.nextCall.halfClose();\n            }\n        });\n    }\n}\nexports.InterceptingCall = InterceptingCall;\nfunction getCall(channel, path, options) {\n    var _a, _b;\n    const deadline = (_a = options.deadline) !== null && _a !== void 0 ? _a : Infinity;\n    const host = options.host;\n    const parent = (_b = options.parent) !== null && _b !== void 0 ? _b : null;\n    const propagateFlags = options.propagate_flags;\n    const credentials = options.credentials;\n    const call = channel.createCall(path, deadline, host, parent, propagateFlags);\n    if (credentials) {\n        call.setCredentials(credentials);\n    }\n    return call;\n}\n/**\n * InterceptingCall implementation that directly owns the underlying Call\n * object and handles serialization and deseraizliation.\n */\nclass BaseInterceptingCall {\n    constructor(call, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    methodDefinition) {\n        this.call = call;\n        this.methodDefinition = methodDefinition;\n    }\n    cancelWithStatus(status, details) {\n        this.call.cancelWithStatus(status, details);\n    }\n    getPeer() {\n        return this.call.getPeer();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    sendMessageWithContext(context, message) {\n        let serialized;\n        try {\n            serialized = this.methodDefinition.requestSerialize(message);\n        }\n        catch (e) {\n            this.call.cancelWithStatus(constants_1.Status.INTERNAL, `Request message serialization failure: ${(0, error_1.getErrorMessage)(e)}`);\n            return;\n        }\n        this.call.sendMessageWithContext(context, serialized);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    sendMessage(message) {\n        this.sendMessageWithContext({}, message);\n    }\n    start(metadata, interceptingListener) {\n        let readError = null;\n        this.call.start(metadata, {\n            onReceiveMetadata: (metadata) => {\n                var _a;\n                (_a = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveMetadata) === null || _a === void 0 ? void 0 : _a.call(interceptingListener, metadata);\n            },\n            onReceiveMessage: (message) => {\n                var _a;\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                let deserialized;\n                try {\n                    deserialized = this.methodDefinition.responseDeserialize(message);\n                }\n                catch (e) {\n                    readError = {\n                        code: constants_1.Status.INTERNAL,\n                        details: `Response message parsing error: ${(0, error_1.getErrorMessage)(e)}`,\n                        metadata: new metadata_1.Metadata(),\n                    };\n                    this.call.cancelWithStatus(readError.code, readError.details);\n                    return;\n                }\n                (_a = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveMessage) === null || _a === void 0 ? void 0 : _a.call(interceptingListener, deserialized);\n            },\n            onReceiveStatus: (status) => {\n                var _a, _b;\n                if (readError) {\n                    (_a = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveStatus) === null || _a === void 0 ? void 0 : _a.call(interceptingListener, readError);\n                }\n                else {\n                    (_b = interceptingListener === null || interceptingListener === void 0 ? void 0 : interceptingListener.onReceiveStatus) === null || _b === void 0 ? void 0 : _b.call(interceptingListener, status);\n                }\n            },\n        });\n    }\n    startRead() {\n        this.call.startRead();\n    }\n    halfClose() {\n        this.call.halfClose();\n    }\n}\n/**\n * BaseInterceptingCall with special-cased behavior for methods with unary\n * responses.\n */\nclass BaseUnaryInterceptingCall extends BaseInterceptingCall {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    constructor(call, methodDefinition) {\n        super(call, methodDefinition);\n    }\n    start(metadata, listener) {\n        var _a, _b;\n        let receivedMessage = false;\n        const wrapperListener = {\n            onReceiveMetadata: (_b = (_a = listener === null || listener === void 0 ? void 0 : listener.onReceiveMetadata) === null || _a === void 0 ? void 0 : _a.bind(listener)) !== null && _b !== void 0 ? _b : ((metadata) => { }),\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            onReceiveMessage: (message) => {\n                var _a;\n                receivedMessage = true;\n                (_a = listener === null || listener === void 0 ? void 0 : listener.onReceiveMessage) === null || _a === void 0 ? void 0 : _a.call(listener, message);\n            },\n            onReceiveStatus: (status) => {\n                var _a, _b;\n                if (!receivedMessage) {\n                    (_a = listener === null || listener === void 0 ? void 0 : listener.onReceiveMessage) === null || _a === void 0 ? void 0 : _a.call(listener, null);\n                }\n                (_b = listener === null || listener === void 0 ? void 0 : listener.onReceiveStatus) === null || _b === void 0 ? void 0 : _b.call(listener, status);\n            },\n        };\n        super.start(metadata, wrapperListener);\n        this.call.startRead();\n    }\n}\n/**\n * BaseInterceptingCall with special-cased behavior for methods with streaming\n * responses.\n */\nclass BaseStreamingInterceptingCall extends BaseInterceptingCall {\n}\nfunction getBottomInterceptingCall(channel, options, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nmethodDefinition) {\n    const call = getCall(channel, methodDefinition.path, options);\n    if (methodDefinition.responseStream) {\n        return new BaseStreamingInterceptingCall(call, methodDefinition);\n    }\n    else {\n        return new BaseUnaryInterceptingCall(call, methodDefinition);\n    }\n}\nfunction getInterceptingCall(interceptorArgs, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nmethodDefinition, options, channel) {\n    if (interceptorArgs.clientInterceptors.length > 0 &&\n        interceptorArgs.clientInterceptorProviders.length > 0) {\n        throw new InterceptorConfigurationError('Both interceptors and interceptor_providers were passed as options ' +\n            'to the client constructor. Only one of these is allowed.');\n    }\n    if (interceptorArgs.callInterceptors.length > 0 &&\n        interceptorArgs.callInterceptorProviders.length > 0) {\n        throw new InterceptorConfigurationError('Both interceptors and interceptor_providers were passed as call ' +\n            'options. Only one of these is allowed.');\n    }\n    let interceptors = [];\n    // Interceptors passed to the call override interceptors passed to the client constructor\n    if (interceptorArgs.callInterceptors.length > 0 ||\n        interceptorArgs.callInterceptorProviders.length > 0) {\n        interceptors = []\n            .concat(interceptorArgs.callInterceptors, interceptorArgs.callInterceptorProviders.map((provider) => provider(methodDefinition)))\n            .filter((interceptor) => interceptor);\n        // Filter out falsy values when providers return nothing\n    }\n    else {\n        interceptors = []\n            .concat(interceptorArgs.clientInterceptors, interceptorArgs.clientInterceptorProviders.map((provider) => provider(methodDefinition)))\n            .filter((interceptor) => interceptor);\n        // Filter out falsy values when providers return nothing\n    }\n    const interceptorOptions = Object.assign({}, options, {\n        method_definition: methodDefinition,\n    });\n    /* For each interceptor in the list, the nextCall function passed to it is\n     * based on the next interceptor in the list, using a nextCall function\n     * constructed with the following interceptor in the list, and so on. The\n     * initialValue, which is effectively at the end of the list, is a nextCall\n     * function that invokes getBottomInterceptingCall, the result of which\n     * handles (de)serialization and also gets the underlying call from the\n     * channel. */\n    const getCall = interceptors.reduceRight((nextCall, nextInterceptor) => {\n        return (currentOptions) => nextInterceptor(currentOptions, nextCall);\n    }, (finalOptions) => getBottomInterceptingCall(channel, finalOptions, methodDefinition));\n    return getCall(interceptorOptions);\n}\nexports.getInterceptingCall = getInterceptingCall;\n//# sourceMappingURL=client-interceptors.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Client = void 0;\nconst call_1 = require(\"./call\");\nconst channel_1 = require(\"./channel\");\nconst connectivity_state_1 = require(\"./connectivity-state\");\nconst constants_1 = require(\"./constants\");\nconst metadata_1 = require(\"./metadata\");\nconst client_interceptors_1 = require(\"./client-interceptors\");\nconst CHANNEL_SYMBOL = Symbol();\nconst INTERCEPTOR_SYMBOL = Symbol();\nconst INTERCEPTOR_PROVIDER_SYMBOL = Symbol();\nconst CALL_INVOCATION_TRANSFORMER_SYMBOL = Symbol();\nfunction isFunction(arg) {\n    return typeof arg === 'function';\n}\nfunction getErrorStackString(error) {\n    return error.stack.split('\\n').slice(1).join('\\n');\n}\n/**\n * A generic gRPC client. Primarily useful as a base class for all generated\n * clients.\n */\nclass Client {\n    constructor(address, credentials, options = {}) {\n        var _a, _b;\n        options = Object.assign({}, options);\n        this[INTERCEPTOR_SYMBOL] = (_a = options.interceptors) !== null && _a !== void 0 ? _a : [];\n        delete options.interceptors;\n        this[INTERCEPTOR_PROVIDER_SYMBOL] = (_b = options.interceptor_providers) !== null && _b !== void 0 ? _b : [];\n        delete options.interceptor_providers;\n        if (this[INTERCEPTOR_SYMBOL].length > 0 &&\n            this[INTERCEPTOR_PROVIDER_SYMBOL].length > 0) {\n            throw new Error('Both interceptors and interceptor_providers were passed as options ' +\n                'to the client constructor. Only one of these is allowed.');\n        }\n        this[CALL_INVOCATION_TRANSFORMER_SYMBOL] =\n            options.callInvocationTransformer;\n        delete options.callInvocationTransformer;\n        if (options.channelOverride) {\n            this[CHANNEL_SYMBOL] = options.channelOverride;\n        }\n        else if (options.channelFactoryOverride) {\n            const channelFactoryOverride = options.channelFactoryOverride;\n            delete options.channelFactoryOverride;\n            this[CHANNEL_SYMBOL] = channelFactoryOverride(address, credentials, options);\n        }\n        else {\n            this[CHANNEL_SYMBOL] = new channel_1.ChannelImplementation(address, credentials, options);\n        }\n    }\n    close() {\n        this[CHANNEL_SYMBOL].close();\n    }\n    getChannel() {\n        return this[CHANNEL_SYMBOL];\n    }\n    waitForReady(deadline, callback) {\n        const checkState = (err) => {\n            if (err) {\n                callback(new Error('Failed to connect before the deadline'));\n                return;\n            }\n            let newState;\n            try {\n                newState = this[CHANNEL_SYMBOL].getConnectivityState(true);\n            }\n            catch (e) {\n                callback(new Error('The channel has been closed'));\n                return;\n            }\n            if (newState === connectivity_state_1.ConnectivityState.READY) {\n                callback();\n            }\n            else {\n                try {\n                    this[CHANNEL_SYMBOL].watchConnectivityState(newState, deadline, checkState);\n                }\n                catch (e) {\n                    callback(new Error('The channel has been closed'));\n                }\n            }\n        };\n        setImmediate(checkState);\n    }\n    checkOptionalUnaryResponseArguments(arg1, arg2, arg3) {\n        if (isFunction(arg1)) {\n            return { metadata: new metadata_1.Metadata(), options: {}, callback: arg1 };\n        }\n        else if (isFunction(arg2)) {\n            if (arg1 instanceof metadata_1.Metadata) {\n                return { metadata: arg1, options: {}, callback: arg2 };\n            }\n            else {\n                return { metadata: new metadata_1.Metadata(), options: arg1, callback: arg2 };\n            }\n        }\n        else {\n            if (!(arg1 instanceof metadata_1.Metadata &&\n                arg2 instanceof Object &&\n                isFunction(arg3))) {\n                throw new Error('Incorrect arguments passed');\n            }\n            return { metadata: arg1, options: arg2, callback: arg3 };\n        }\n    }\n    makeUnaryRequest(method, serialize, deserialize, argument, metadata, options, callback) {\n        var _a, _b;\n        const checkedArguments = this.checkOptionalUnaryResponseArguments(metadata, options, callback);\n        const methodDefinition = {\n            path: method,\n            requestStream: false,\n            responseStream: false,\n            requestSerialize: serialize,\n            responseDeserialize: deserialize,\n        };\n        let callProperties = {\n            argument: argument,\n            metadata: checkedArguments.metadata,\n            call: new call_1.ClientUnaryCallImpl(),\n            channel: this[CHANNEL_SYMBOL],\n            methodDefinition: methodDefinition,\n            callOptions: checkedArguments.options,\n            callback: checkedArguments.callback,\n        };\n        if (this[CALL_INVOCATION_TRANSFORMER_SYMBOL]) {\n            callProperties = this[CALL_INVOCATION_TRANSFORMER_SYMBOL](callProperties);\n        }\n        const emitter = callProperties.call;\n        const interceptorArgs = {\n            clientInterceptors: this[INTERCEPTOR_SYMBOL],\n            clientInterceptorProviders: this[INTERCEPTOR_PROVIDER_SYMBOL],\n            callInterceptors: (_a = callProperties.callOptions.interceptors) !== null && _a !== void 0 ? _a : [],\n            callInterceptorProviders: (_b = callProperties.callOptions.interceptor_providers) !== null && _b !== void 0 ? _b : [],\n        };\n        const call = (0, client_interceptors_1.getInterceptingCall)(interceptorArgs, callProperties.methodDefinition, callProperties.callOptions, callProperties.channel);\n        /* This needs to happen before the emitter is used. Unfortunately we can't\n         * enforce this with the type system. We need to construct this emitter\n         * before calling the CallInvocationTransformer, and we need to create the\n         * call after that. */\n        emitter.call = call;\n        let responseMessage = null;\n        let receivedStatus = false;\n        const callerStackError = new Error();\n        call.start(callProperties.metadata, {\n            onReceiveMetadata: (metadata) => {\n                emitter.emit('metadata', metadata);\n            },\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            onReceiveMessage(message) {\n                if (responseMessage !== null) {\n                    call.cancelWithStatus(constants_1.Status.INTERNAL, 'Too many responses received');\n                }\n                responseMessage = message;\n            },\n            onReceiveStatus(status) {\n                if (receivedStatus) {\n                    return;\n                }\n                receivedStatus = true;\n                if (status.code === constants_1.Status.OK) {\n                    if (responseMessage === null) {\n                        const callerStack = getErrorStackString(callerStackError);\n                        callProperties.callback((0, call_1.callErrorFromStatus)({\n                            code: constants_1.Status.INTERNAL,\n                            details: 'No message received',\n                            metadata: status.metadata\n                        }, callerStack));\n                    }\n                    else {\n                        callProperties.callback(null, responseMessage);\n                    }\n                }\n                else {\n                    const callerStack = getErrorStackString(callerStackError);\n                    callProperties.callback((0, call_1.callErrorFromStatus)(status, callerStack));\n                }\n                emitter.emit('status', status);\n            },\n        });\n        call.sendMessage(argument);\n        call.halfClose();\n        return emitter;\n    }\n    makeClientStreamRequest(method, serialize, deserialize, metadata, options, callback) {\n        var _a, _b;\n        const checkedArguments = this.checkOptionalUnaryResponseArguments(metadata, options, callback);\n        const methodDefinition = {\n            path: method,\n            requestStream: true,\n            responseStream: false,\n            requestSerialize: serialize,\n            responseDeserialize: deserialize,\n        };\n        let callProperties = {\n            metadata: checkedArguments.metadata,\n            call: new call_1.ClientWritableStreamImpl(serialize),\n            channel: this[CHANNEL_SYMBOL],\n            methodDefinition: methodDefinition,\n            callOptions: checkedArguments.options,\n            callback: checkedArguments.callback,\n        };\n        if (this[CALL_INVOCATION_TRANSFORMER_SYMBOL]) {\n            callProperties = this[CALL_INVOCATION_TRANSFORMER_SYMBOL](callProperties);\n        }\n        const emitter = callProperties.call;\n        const interceptorArgs = {\n            clientInterceptors: this[INTERCEPTOR_SYMBOL],\n            clientInterceptorProviders: this[INTERCEPTOR_PROVIDER_SYMBOL],\n            callInterceptors: (_a = callProperties.callOptions.interceptors) !== null && _a !== void 0 ? _a : [],\n            callInterceptorProviders: (_b = callProperties.callOptions.interceptor_providers) !== null && _b !== void 0 ? _b : [],\n        };\n        const call = (0, client_interceptors_1.getInterceptingCall)(interceptorArgs, callProperties.methodDefinition, callProperties.callOptions, callProperties.channel);\n        /* This needs to happen before the emitter is used. Unfortunately we can't\n         * enforce this with the type system. We need to construct this emitter\n         * before calling the CallInvocationTransformer, and we need to create the\n         * call after that. */\n        emitter.call = call;\n        let responseMessage = null;\n        let receivedStatus = false;\n        const callerStackError = new Error();\n        call.start(callProperties.metadata, {\n            onReceiveMetadata: (metadata) => {\n                emitter.emit('metadata', metadata);\n            },\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            onReceiveMessage(message) {\n                if (responseMessage !== null) {\n                    call.cancelWithStatus(constants_1.Status.INTERNAL, 'Too many responses received');\n                }\n                responseMessage = message;\n            },\n            onReceiveStatus(status) {\n                if (receivedStatus) {\n                    return;\n                }\n                receivedStatus = true;\n                if (status.code === constants_1.Status.OK) {\n                    if (responseMessage === null) {\n                        const callerStack = getErrorStackString(callerStackError);\n                        callProperties.callback((0, call_1.callErrorFromStatus)({\n                            code: constants_1.Status.INTERNAL,\n                            details: 'No message received',\n                            metadata: status.metadata\n                        }, callerStack));\n                    }\n                    else {\n                        callProperties.callback(null, responseMessage);\n                    }\n                }\n                else {\n                    const callerStack = getErrorStackString(callerStackError);\n                    callProperties.callback((0, call_1.callErrorFromStatus)(status, callerStack));\n                }\n                emitter.emit('status', status);\n            },\n        });\n        return emitter;\n    }\n    checkMetadataAndOptions(arg1, arg2) {\n        let metadata;\n        let options;\n        if (arg1 instanceof metadata_1.Metadata) {\n            metadata = arg1;\n            if (arg2) {\n                options = arg2;\n            }\n            else {\n                options = {};\n            }\n        }\n        else {\n            if (arg1) {\n                options = arg1;\n            }\n            else {\n                options = {};\n            }\n            metadata = new metadata_1.Metadata();\n        }\n        return { metadata, options };\n    }\n    makeServerStreamRequest(method, serialize, deserialize, argument, metadata, options) {\n        var _a, _b;\n        const checkedArguments = this.checkMetadataAndOptions(metadata, options);\n        const methodDefinition = {\n            path: method,\n            requestStream: false,\n            responseStream: true,\n            requestSerialize: serialize,\n            responseDeserialize: deserialize,\n        };\n        let callProperties = {\n            argument: argument,\n            metadata: checkedArguments.metadata,\n            call: new call_1.ClientReadableStreamImpl(deserialize),\n            channel: this[CHANNEL_SYMBOL],\n            methodDefinition: methodDefinition,\n            callOptions: checkedArguments.options,\n        };\n        if (this[CALL_INVOCATION_TRANSFORMER_SYMBOL]) {\n            callProperties = this[CALL_INVOCATION_TRANSFORMER_SYMBOL](callProperties);\n        }\n        const stream = callProperties.call;\n        const interceptorArgs = {\n            clientInterceptors: this[INTERCEPTOR_SYMBOL],\n            clientInterceptorProviders: this[INTERCEPTOR_PROVIDER_SYMBOL],\n            callInterceptors: (_a = callProperties.callOptions.interceptors) !== null && _a !== void 0 ? _a : [],\n            callInterceptorProviders: (_b = callProperties.callOptions.interceptor_providers) !== null && _b !== void 0 ? _b : [],\n        };\n        const call = (0, client_interceptors_1.getInterceptingCall)(interceptorArgs, callProperties.methodDefinition, callProperties.callOptions, callProperties.channel);\n        /* This needs to happen before the emitter is used. Unfortunately we can't\n         * enforce this with the type system. We need to construct this emitter\n         * before calling the CallInvocationTransformer, and we need to create the\n         * call after that. */\n        stream.call = call;\n        let receivedStatus = false;\n        const callerStackError = new Error();\n        call.start(callProperties.metadata, {\n            onReceiveMetadata(metadata) {\n                stream.emit('metadata', metadata);\n            },\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            onReceiveMessage(message) {\n                stream.push(message);\n            },\n            onReceiveStatus(status) {\n                if (receivedStatus) {\n                    return;\n                }\n                receivedStatus = true;\n                stream.push(null);\n                if (status.code !== constants_1.Status.OK) {\n                    const callerStack = getErrorStackString(callerStackError);\n                    stream.emit('error', (0, call_1.callErrorFromStatus)(status, callerStack));\n                }\n                stream.emit('status', status);\n            },\n        });\n        call.sendMessage(argument);\n        call.halfClose();\n        return stream;\n    }\n    makeBidiStreamRequest(method, serialize, deserialize, metadata, options) {\n        var _a, _b;\n        const checkedArguments = this.checkMetadataAndOptions(metadata, options);\n        const methodDefinition = {\n            path: method,\n            requestStream: true,\n            responseStream: true,\n            requestSerialize: serialize,\n            responseDeserialize: deserialize,\n        };\n        let callProperties = {\n            metadata: checkedArguments.metadata,\n            call: new call_1.ClientDuplexStreamImpl(serialize, deserialize),\n            channel: this[CHANNEL_SYMBOL],\n            methodDefinition: methodDefinition,\n            callOptions: checkedArguments.options,\n        };\n        if (this[CALL_INVOCATION_TRANSFORMER_SYMBOL]) {\n            callProperties = this[CALL_INVOCATION_TRANSFORMER_SYMBOL](callProperties);\n        }\n        const stream = callProperties.call;\n        const interceptorArgs = {\n            clientInterceptors: this[INTERCEPTOR_SYMBOL],\n            clientInterceptorProviders: this[INTERCEPTOR_PROVIDER_SYMBOL],\n            callInterceptors: (_a = callProperties.callOptions.interceptors) !== null && _a !== void 0 ? _a : [],\n            callInterceptorProviders: (_b = callProperties.callOptions.interceptor_providers) !== null && _b !== void 0 ? _b : [],\n        };\n        const call = (0, client_interceptors_1.getInterceptingCall)(interceptorArgs, callProperties.methodDefinition, callProperties.callOptions, callProperties.channel);\n        /* This needs to happen before the emitter is used. Unfortunately we can't\n         * enforce this with the type system. We need to construct this emitter\n         * before calling the CallInvocationTransformer, and we need to create the\n         * call after that. */\n        stream.call = call;\n        let receivedStatus = false;\n        const callerStackError = new Error();\n        call.start(callProperties.metadata, {\n            onReceiveMetadata(metadata) {\n                stream.emit('metadata', metadata);\n            },\n            onReceiveMessage(message) {\n                stream.push(message);\n            },\n            onReceiveStatus(status) {\n                if (receivedStatus) {\n                    return;\n                }\n                receivedStatus = true;\n                stream.push(null);\n                if (status.code !== constants_1.Status.OK) {\n                    const callerStack = getErrorStackString(callerStackError);\n                    stream.emit('error', (0, call_1.callErrorFromStatus)(status, callerStack));\n                }\n                stream.emit('status', status);\n            },\n        });\n        return stream;\n    }\n}\nexports.Client = Client;\n//# sourceMappingURL=client.js.map","\"use strict\";\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CompressionAlgorithms = void 0;\nvar CompressionAlgorithms;\n(function (CompressionAlgorithms) {\n    CompressionAlgorithms[CompressionAlgorithms[\"identity\"] = 0] = \"identity\";\n    CompressionAlgorithms[CompressionAlgorithms[\"deflate\"] = 1] = \"deflate\";\n    CompressionAlgorithms[CompressionAlgorithms[\"gzip\"] = 2] = \"gzip\";\n})(CompressionAlgorithms = exports.CompressionAlgorithms || (exports.CompressionAlgorithms = {}));\n;\n//# sourceMappingURL=compression-algorithms.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CompressionFilterFactory = exports.CompressionFilter = void 0;\nconst zlib = require(\"zlib\");\nconst compression_algorithms_1 = require(\"./compression-algorithms\");\nconst constants_1 = require(\"./constants\");\nconst filter_1 = require(\"./filter\");\nconst logging = require(\"./logging\");\nconst isCompressionAlgorithmKey = (key) => {\n    return typeof key === 'number' && typeof compression_algorithms_1.CompressionAlgorithms[key] === 'string';\n};\nclass CompressionHandler {\n    /**\n     * @param message Raw uncompressed message bytes\n     * @param compress Indicates whether the message should be compressed\n     * @return Framed message, compressed if applicable\n     */\n    async writeMessage(message, compress) {\n        let messageBuffer = message;\n        if (compress) {\n            messageBuffer = await this.compressMessage(messageBuffer);\n        }\n        const output = Buffer.allocUnsafe(messageBuffer.length + 5);\n        output.writeUInt8(compress ? 1 : 0, 0);\n        output.writeUInt32BE(messageBuffer.length, 1);\n        messageBuffer.copy(output, 5);\n        return output;\n    }\n    /**\n     * @param data Framed message, possibly compressed\n     * @return Uncompressed message\n     */\n    async readMessage(data) {\n        const compressed = data.readUInt8(0) === 1;\n        let messageBuffer = data.slice(5);\n        if (compressed) {\n            messageBuffer = await this.decompressMessage(messageBuffer);\n        }\n        return messageBuffer;\n    }\n}\nclass IdentityHandler extends CompressionHandler {\n    async compressMessage(message) {\n        return message;\n    }\n    async writeMessage(message, compress) {\n        const output = Buffer.allocUnsafe(message.length + 5);\n        /* With \"identity\" compression, messages should always be marked as\n         * uncompressed */\n        output.writeUInt8(0, 0);\n        output.writeUInt32BE(message.length, 1);\n        message.copy(output, 5);\n        return output;\n    }\n    decompressMessage(message) {\n        return Promise.reject(new Error('Received compressed message but \"grpc-encoding\" header was identity'));\n    }\n}\nclass DeflateHandler extends CompressionHandler {\n    compressMessage(message) {\n        return new Promise((resolve, reject) => {\n            zlib.deflate(message, (err, output) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(output);\n                }\n            });\n        });\n    }\n    decompressMessage(message) {\n        return new Promise((resolve, reject) => {\n            zlib.inflate(message, (err, output) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(output);\n                }\n            });\n        });\n    }\n}\nclass GzipHandler extends CompressionHandler {\n    compressMessage(message) {\n        return new Promise((resolve, reject) => {\n            zlib.gzip(message, (err, output) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(output);\n                }\n            });\n        });\n    }\n    decompressMessage(message) {\n        return new Promise((resolve, reject) => {\n            zlib.unzip(message, (err, output) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(output);\n                }\n            });\n        });\n    }\n}\nclass UnknownHandler extends CompressionHandler {\n    constructor(compressionName) {\n        super();\n        this.compressionName = compressionName;\n    }\n    compressMessage(message) {\n        return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`));\n    }\n    decompressMessage(message) {\n        // This should be unreachable\n        return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`));\n    }\n}\nfunction getCompressionHandler(compressionName) {\n    switch (compressionName) {\n        case 'identity':\n            return new IdentityHandler();\n        case 'deflate':\n            return new DeflateHandler();\n        case 'gzip':\n            return new GzipHandler();\n        default:\n            return new UnknownHandler(compressionName);\n    }\n}\nclass CompressionFilter extends filter_1.BaseFilter {\n    constructor(channelOptions, sharedFilterConfig) {\n        var _a;\n        super();\n        this.sharedFilterConfig = sharedFilterConfig;\n        this.sendCompression = new IdentityHandler();\n        this.receiveCompression = new IdentityHandler();\n        this.currentCompressionAlgorithm = 'identity';\n        const compressionAlgorithmKey = channelOptions['grpc.default_compression_algorithm'];\n        if (compressionAlgorithmKey !== undefined) {\n            if (isCompressionAlgorithmKey(compressionAlgorithmKey)) {\n                const clientSelectedEncoding = compression_algorithms_1.CompressionAlgorithms[compressionAlgorithmKey];\n                const serverSupportedEncodings = (_a = sharedFilterConfig.serverSupportedEncodingHeader) === null || _a === void 0 ? void 0 : _a.split(',');\n                /**\n                 * There are two possible situations here:\n                 * 1) We don't have any info yet from the server about what compression it supports\n                 *    In that case we should just use what the client tells us to use\n                 * 2) We've previously received a response from the server including a grpc-accept-encoding header\n                 *    In that case we only want to use the encoding chosen by the client if the server supports it\n                 */\n                if (!serverSupportedEncodings || serverSupportedEncodings.includes(clientSelectedEncoding)) {\n                    this.currentCompressionAlgorithm = clientSelectedEncoding;\n                    this.sendCompression = getCompressionHandler(this.currentCompressionAlgorithm);\n                }\n            }\n            else {\n                logging.log(constants_1.LogVerbosity.ERROR, `Invalid value provided for grpc.default_compression_algorithm option: ${compressionAlgorithmKey}`);\n            }\n        }\n    }\n    async sendMetadata(metadata) {\n        const headers = await metadata;\n        headers.set('grpc-accept-encoding', 'identity,deflate,gzip');\n        headers.set('accept-encoding', 'identity');\n        // No need to send the header if it's \"identity\" -  behavior is identical; save the bandwidth\n        if (this.currentCompressionAlgorithm === 'identity') {\n            headers.remove('grpc-encoding');\n        }\n        else {\n            headers.set('grpc-encoding', this.currentCompressionAlgorithm);\n        }\n        return headers;\n    }\n    receiveMetadata(metadata) {\n        const receiveEncoding = metadata.get('grpc-encoding');\n        if (receiveEncoding.length > 0) {\n            const encoding = receiveEncoding[0];\n            if (typeof encoding === 'string') {\n                this.receiveCompression = getCompressionHandler(encoding);\n            }\n        }\n        metadata.remove('grpc-encoding');\n        /* Check to see if the compression we're using to send messages is supported by the server\n         * If not, reset the sendCompression filter and have it use the default IdentityHandler */\n        const serverSupportedEncodingsHeader = metadata.get('grpc-accept-encoding')[0];\n        if (serverSupportedEncodingsHeader) {\n            this.sharedFilterConfig.serverSupportedEncodingHeader = serverSupportedEncodingsHeader;\n            const serverSupportedEncodings = serverSupportedEncodingsHeader.split(',');\n            if (!serverSupportedEncodings.includes(this.currentCompressionAlgorithm)) {\n                this.sendCompression = new IdentityHandler();\n                this.currentCompressionAlgorithm = 'identity';\n            }\n        }\n        metadata.remove('grpc-accept-encoding');\n        return metadata;\n    }\n    async sendMessage(message) {\n        var _a;\n        /* This filter is special. The input message is the bare message bytes,\n         * and the output is a framed and possibly compressed message. For this\n         * reason, this filter should be at the bottom of the filter stack */\n        const resolvedMessage = await message;\n        let compress;\n        if (this.sendCompression instanceof IdentityHandler) {\n            compress = false;\n        }\n        else {\n            compress = (((_a = resolvedMessage.flags) !== null && _a !== void 0 ? _a : 0) & 2 /* WriteFlags.NoCompress */) === 0;\n        }\n        return {\n            message: await this.sendCompression.writeMessage(resolvedMessage.message, compress),\n            flags: resolvedMessage.flags,\n        };\n    }\n    async receiveMessage(message) {\n        /* This filter is also special. The input message is framed and possibly\n         * compressed, and the output message is deframed and uncompressed. So\n         * this is another reason that this filter should be at the bottom of the\n         * filter stack. */\n        return this.receiveCompression.readMessage(await message);\n    }\n}\nexports.CompressionFilter = CompressionFilter;\nclass CompressionFilterFactory {\n    constructor(channel, options) {\n        this.channel = channel;\n        this.options = options;\n        this.sharedFilterConfig = {};\n    }\n    createFilter() {\n        return new CompressionFilter(this.options, this.sharedFilterConfig);\n    }\n}\nexports.CompressionFilterFactory = CompressionFilterFactory;\n//# sourceMappingURL=compression-filter.js.map","\"use strict\";\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectivityState = void 0;\nvar ConnectivityState;\n(function (ConnectivityState) {\n    ConnectivityState[ConnectivityState[\"IDLE\"] = 0] = \"IDLE\";\n    ConnectivityState[ConnectivityState[\"CONNECTING\"] = 1] = \"CONNECTING\";\n    ConnectivityState[ConnectivityState[\"READY\"] = 2] = \"READY\";\n    ConnectivityState[ConnectivityState[\"TRANSIENT_FAILURE\"] = 3] = \"TRANSIENT_FAILURE\";\n    ConnectivityState[ConnectivityState[\"SHUTDOWN\"] = 4] = \"SHUTDOWN\";\n})(ConnectivityState = exports.ConnectivityState || (exports.ConnectivityState = {}));\n//# sourceMappingURL=connectivity-state.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH = exports.DEFAULT_MAX_SEND_MESSAGE_LENGTH = exports.Propagate = exports.LogVerbosity = exports.Status = void 0;\nvar Status;\n(function (Status) {\n    Status[Status[\"OK\"] = 0] = \"OK\";\n    Status[Status[\"CANCELLED\"] = 1] = \"CANCELLED\";\n    Status[Status[\"UNKNOWN\"] = 2] = \"UNKNOWN\";\n    Status[Status[\"INVALID_ARGUMENT\"] = 3] = \"INVALID_ARGUMENT\";\n    Status[Status[\"DEADLINE_EXCEEDED\"] = 4] = \"DEADLINE_EXCEEDED\";\n    Status[Status[\"NOT_FOUND\"] = 5] = \"NOT_FOUND\";\n    Status[Status[\"ALREADY_EXISTS\"] = 6] = \"ALREADY_EXISTS\";\n    Status[Status[\"PERMISSION_DENIED\"] = 7] = \"PERMISSION_DENIED\";\n    Status[Status[\"RESOURCE_EXHAUSTED\"] = 8] = \"RESOURCE_EXHAUSTED\";\n    Status[Status[\"FAILED_PRECONDITION\"] = 9] = \"FAILED_PRECONDITION\";\n    Status[Status[\"ABORTED\"] = 10] = \"ABORTED\";\n    Status[Status[\"OUT_OF_RANGE\"] = 11] = \"OUT_OF_RANGE\";\n    Status[Status[\"UNIMPLEMENTED\"] = 12] = \"UNIMPLEMENTED\";\n    Status[Status[\"INTERNAL\"] = 13] = \"INTERNAL\";\n    Status[Status[\"UNAVAILABLE\"] = 14] = \"UNAVAILABLE\";\n    Status[Status[\"DATA_LOSS\"] = 15] = \"DATA_LOSS\";\n    Status[Status[\"UNAUTHENTICATED\"] = 16] = \"UNAUTHENTICATED\";\n})(Status = exports.Status || (exports.Status = {}));\nvar LogVerbosity;\n(function (LogVerbosity) {\n    LogVerbosity[LogVerbosity[\"DEBUG\"] = 0] = \"DEBUG\";\n    LogVerbosity[LogVerbosity[\"INFO\"] = 1] = \"INFO\";\n    LogVerbosity[LogVerbosity[\"ERROR\"] = 2] = \"ERROR\";\n    LogVerbosity[LogVerbosity[\"NONE\"] = 3] = \"NONE\";\n})(LogVerbosity = exports.LogVerbosity || (exports.LogVerbosity = {}));\n/**\n * NOTE: This enum is not currently used in any implemented API in this\n * library. It is included only for type parity with the other implementation.\n */\nvar Propagate;\n(function (Propagate) {\n    Propagate[Propagate[\"DEADLINE\"] = 1] = \"DEADLINE\";\n    Propagate[Propagate[\"CENSUS_STATS_CONTEXT\"] = 2] = \"CENSUS_STATS_CONTEXT\";\n    Propagate[Propagate[\"CENSUS_TRACING_CONTEXT\"] = 4] = \"CENSUS_TRACING_CONTEXT\";\n    Propagate[Propagate[\"CANCELLATION\"] = 8] = \"CANCELLATION\";\n    // https://github.com/grpc/grpc/blob/master/include/grpc/impl/codegen/propagation_bits.h#L43\n    Propagate[Propagate[\"DEFAULTS\"] = 65535] = \"DEFAULTS\";\n})(Propagate = exports.Propagate || (exports.Propagate = {}));\n// -1 means unlimited\nexports.DEFAULT_MAX_SEND_MESSAGE_LENGTH = -1;\n// 4 MB default\nexports.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH = 4 * 1024 * 1024;\n//# sourceMappingURL=constants.js.map","\"use strict\";\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.restrictControlPlaneStatusCode = void 0;\nconst constants_1 = require(\"./constants\");\nconst INAPPROPRIATE_CONTROL_PLANE_CODES = [\n    constants_1.Status.OK,\n    constants_1.Status.INVALID_ARGUMENT,\n    constants_1.Status.NOT_FOUND,\n    constants_1.Status.ALREADY_EXISTS,\n    constants_1.Status.FAILED_PRECONDITION,\n    constants_1.Status.ABORTED,\n    constants_1.Status.OUT_OF_RANGE,\n    constants_1.Status.DATA_LOSS\n];\nfunction restrictControlPlaneStatusCode(code, details) {\n    if (INAPPROPRIATE_CONTROL_PLANE_CODES.includes(code)) {\n        return {\n            code: constants_1.Status.INTERNAL,\n            details: `Invalid status from control plane: ${code} ${constants_1.Status[code]} ${details}`\n        };\n    }\n    else {\n        return { code, details };\n    }\n}\nexports.restrictControlPlaneStatusCode = restrictControlPlaneStatusCode;\n//# sourceMappingURL=control-plane-status.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.deadlineToString = exports.getRelativeTimeout = exports.getDeadlineTimeoutString = exports.minDeadline = void 0;\nfunction minDeadline(...deadlineList) {\n    let minValue = Infinity;\n    for (const deadline of deadlineList) {\n        const deadlineMsecs = deadline instanceof Date ? deadline.getTime() : deadline;\n        if (deadlineMsecs < minValue) {\n            minValue = deadlineMsecs;\n        }\n    }\n    return minValue;\n}\nexports.minDeadline = minDeadline;\nconst units = [\n    ['m', 1],\n    ['S', 1000],\n    ['M', 60 * 1000],\n    ['H', 60 * 60 * 1000],\n];\nfunction getDeadlineTimeoutString(deadline) {\n    const now = new Date().getTime();\n    if (deadline instanceof Date) {\n        deadline = deadline.getTime();\n    }\n    const timeoutMs = Math.max(deadline - now, 0);\n    for (const [unit, factor] of units) {\n        const amount = timeoutMs / factor;\n        if (amount < 1e8) {\n            return String(Math.ceil(amount)) + unit;\n        }\n    }\n    throw new Error('Deadline is too far in the future');\n}\nexports.getDeadlineTimeoutString = getDeadlineTimeoutString;\n/**\n * See https://nodejs.org/api/timers.html#settimeoutcallback-delay-args\n * In particular, \"When delay is larger than 2147483647 or less than 1, the\n * delay will be set to 1. Non-integer delays are truncated to an integer.\"\n * This number of milliseconds is almost 25 days.\n */\nconst MAX_TIMEOUT_TIME = 2147483647;\n/**\n * Get the timeout value that should be passed to setTimeout now for the timer\n * to end at the deadline. For any deadline before now, the timer should end\n * immediately, represented by a value of 0. For any deadline more than\n * MAX_TIMEOUT_TIME milliseconds in the future, a timer cannot be set that will\n * end at that time, so it is treated as infinitely far in the future.\n * @param deadline\n * @returns\n */\nfunction getRelativeTimeout(deadline) {\n    const deadlineMs = deadline instanceof Date ? deadline.getTime() : deadline;\n    const now = new Date().getTime();\n    const timeout = deadlineMs - now;\n    if (timeout < 0) {\n        return 0;\n    }\n    else if (timeout > MAX_TIMEOUT_TIME) {\n        return Infinity;\n    }\n    else {\n        return timeout;\n    }\n}\nexports.getRelativeTimeout = getRelativeTimeout;\nfunction deadlineToString(deadline) {\n    if (deadline instanceof Date) {\n        return deadline.toISOString();\n    }\n    else {\n        const dateDeadline = new Date(deadline);\n        if (Number.isNaN(dateDeadline.getTime())) {\n            return '' + deadline;\n        }\n        else {\n            return dateDeadline.toISOString();\n        }\n    }\n}\nexports.deadlineToString = deadlineToString;\n//# sourceMappingURL=deadline.js.map","\"use strict\";\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isDuration = exports.durationToMs = exports.msToDuration = void 0;\nfunction msToDuration(millis) {\n    return {\n        seconds: (millis / 1000) | 0,\n        nanos: (millis % 1000) * 1000000 | 0\n    };\n}\nexports.msToDuration = msToDuration;\nfunction durationToMs(duration) {\n    return (duration.seconds * 1000 + duration.nanos / 1000000) | 0;\n}\nexports.durationToMs = durationToMs;\nfunction isDuration(value) {\n    return (typeof value.seconds === 'number') && (typeof value.nanos === 'number');\n}\nexports.isDuration = isDuration;\n//# sourceMappingURL=duration.js.map","\"use strict\";\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getErrorCode = exports.getErrorMessage = void 0;\nfunction getErrorMessage(error) {\n    if (error instanceof Error) {\n        return error.message;\n    }\n    else {\n        return String(error);\n    }\n}\nexports.getErrorMessage = getErrorMessage;\nfunction getErrorCode(error) {\n    if (typeof error === 'object' &&\n        error !== null &&\n        'code' in error &&\n        typeof error.code === 'number') {\n        return error.code;\n    }\n    else {\n        return null;\n    }\n}\nexports.getErrorCode = getErrorCode;\n//# sourceMappingURL=error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OutlierDetectionLoadBalancingConfig = exports.BaseSubchannelWrapper = exports.registerAdminService = exports.FilterStackFactory = exports.BaseFilter = exports.PickResultType = exports.QueuePicker = exports.UnavailablePicker = exports.ChildLoadBalancerHandler = exports.subchannelAddressToString = exports.validateLoadBalancingConfig = exports.getFirstUsableConfig = exports.registerLoadBalancerType = exports.createChildChannelControlHelper = exports.BackoffTimeout = exports.durationToMs = exports.uriToString = exports.registerResolver = exports.log = exports.trace = void 0;\nvar logging_1 = require(\"./logging\");\nObject.defineProperty(exports, \"trace\", { enumerable: true, get: function () { return logging_1.trace; } });\nObject.defineProperty(exports, \"log\", { enumerable: true, get: function () { return logging_1.log; } });\nvar resolver_1 = require(\"./resolver\");\nObject.defineProperty(exports, \"registerResolver\", { enumerable: true, get: function () { return resolver_1.registerResolver; } });\nvar uri_parser_1 = require(\"./uri-parser\");\nObject.defineProperty(exports, \"uriToString\", { enumerable: true, get: function () { return uri_parser_1.uriToString; } });\nvar duration_1 = require(\"./duration\");\nObject.defineProperty(exports, \"durationToMs\", { enumerable: true, get: function () { return duration_1.durationToMs; } });\nvar backoff_timeout_1 = require(\"./backoff-timeout\");\nObject.defineProperty(exports, \"BackoffTimeout\", { enumerable: true, get: function () { return backoff_timeout_1.BackoffTimeout; } });\nvar load_balancer_1 = require(\"./load-balancer\");\nObject.defineProperty(exports, \"createChildChannelControlHelper\", { enumerable: true, get: function () { return load_balancer_1.createChildChannelControlHelper; } });\nObject.defineProperty(exports, \"registerLoadBalancerType\", { enumerable: true, get: function () { return load_balancer_1.registerLoadBalancerType; } });\nObject.defineProperty(exports, \"getFirstUsableConfig\", { enumerable: true, get: function () { return load_balancer_1.getFirstUsableConfig; } });\nObject.defineProperty(exports, \"validateLoadBalancingConfig\", { enumerable: true, get: function () { return load_balancer_1.validateLoadBalancingConfig; } });\nvar subchannel_address_1 = require(\"./subchannel-address\");\nObject.defineProperty(exports, \"subchannelAddressToString\", { enumerable: true, get: function () { return subchannel_address_1.subchannelAddressToString; } });\nvar load_balancer_child_handler_1 = require(\"./load-balancer-child-handler\");\nObject.defineProperty(exports, \"ChildLoadBalancerHandler\", { enumerable: true, get: function () { return load_balancer_child_handler_1.ChildLoadBalancerHandler; } });\nvar picker_1 = require(\"./picker\");\nObject.defineProperty(exports, \"UnavailablePicker\", { enumerable: true, get: function () { return picker_1.UnavailablePicker; } });\nObject.defineProperty(exports, \"QueuePicker\", { enumerable: true, get: function () { return picker_1.QueuePicker; } });\nObject.defineProperty(exports, \"PickResultType\", { enumerable: true, get: function () { return picker_1.PickResultType; } });\nvar filter_1 = require(\"./filter\");\nObject.defineProperty(exports, \"BaseFilter\", { enumerable: true, get: function () { return filter_1.BaseFilter; } });\nvar filter_stack_1 = require(\"./filter-stack\");\nObject.defineProperty(exports, \"FilterStackFactory\", { enumerable: true, get: function () { return filter_stack_1.FilterStackFactory; } });\nvar admin_1 = require(\"./admin\");\nObject.defineProperty(exports, \"registerAdminService\", { enumerable: true, get: function () { return admin_1.registerAdminService; } });\nvar subchannel_interface_1 = require(\"./subchannel-interface\");\nObject.defineProperty(exports, \"BaseSubchannelWrapper\", { enumerable: true, get: function () { return subchannel_interface_1.BaseSubchannelWrapper; } });\nvar load_balancer_outlier_detection_1 = require(\"./load-balancer-outlier-detection\");\nObject.defineProperty(exports, \"OutlierDetectionLoadBalancingConfig\", { enumerable: true, get: function () { return load_balancer_outlier_detection_1.OutlierDetectionLoadBalancingConfig; } });\n//# sourceMappingURL=experimental.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FilterStackFactory = exports.FilterStack = void 0;\nclass FilterStack {\n    constructor(filters) {\n        this.filters = filters;\n    }\n    sendMetadata(metadata) {\n        let result = metadata;\n        for (let i = 0; i < this.filters.length; i++) {\n            result = this.filters[i].sendMetadata(result);\n        }\n        return result;\n    }\n    receiveMetadata(metadata) {\n        let result = metadata;\n        for (let i = this.filters.length - 1; i >= 0; i--) {\n            result = this.filters[i].receiveMetadata(result);\n        }\n        return result;\n    }\n    sendMessage(message) {\n        let result = message;\n        for (let i = 0; i < this.filters.length; i++) {\n            result = this.filters[i].sendMessage(result);\n        }\n        return result;\n    }\n    receiveMessage(message) {\n        let result = message;\n        for (let i = this.filters.length - 1; i >= 0; i--) {\n            result = this.filters[i].receiveMessage(result);\n        }\n        return result;\n    }\n    receiveTrailers(status) {\n        let result = status;\n        for (let i = this.filters.length - 1; i >= 0; i--) {\n            result = this.filters[i].receiveTrailers(result);\n        }\n        return result;\n    }\n    push(filters) {\n        this.filters.unshift(...filters);\n    }\n    getFilters() {\n        return this.filters;\n    }\n}\nexports.FilterStack = FilterStack;\nclass FilterStackFactory {\n    constructor(factories) {\n        this.factories = factories;\n    }\n    push(filterFactories) {\n        this.factories.unshift(...filterFactories);\n    }\n    clone() {\n        return new FilterStackFactory([...this.factories]);\n    }\n    createFilter() {\n        return new FilterStack(this.factories.map((factory) => factory.createFilter()));\n    }\n}\nexports.FilterStackFactory = FilterStackFactory;\n//# sourceMappingURL=filter-stack.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseFilter = void 0;\nclass BaseFilter {\n    async sendMetadata(metadata) {\n        return metadata;\n    }\n    receiveMetadata(metadata) {\n        return metadata;\n    }\n    async sendMessage(message) {\n        return message;\n    }\n    async receiveMessage(message) {\n        return message;\n    }\n    receiveTrailers(status) {\n        return status;\n    }\n}\nexports.BaseFilter = BaseFilter;\n//# sourceMappingURL=filter.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getProxiedConnection = exports.mapProxyName = void 0;\nconst logging_1 = require(\"./logging\");\nconst constants_1 = require(\"./constants\");\nconst resolver_1 = require(\"./resolver\");\nconst http = require(\"http\");\nconst tls = require(\"tls\");\nconst logging = require(\"./logging\");\nconst subchannel_address_1 = require(\"./subchannel-address\");\nconst uri_parser_1 = require(\"./uri-parser\");\nconst url_1 = require(\"url\");\nconst TRACER_NAME = 'proxy';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nfunction getProxyInfo() {\n    let proxyEnv = '';\n    let envVar = '';\n    /* Prefer using 'grpc_proxy'. Fallback on 'http_proxy' if it is not set.\n     * Also prefer using 'https_proxy' with fallback on 'http_proxy'. The\n     * fallback behavior can be removed if there's a demand for it.\n     */\n    if (process.env.grpc_proxy) {\n        envVar = 'grpc_proxy';\n        proxyEnv = process.env.grpc_proxy;\n    }\n    else if (process.env.https_proxy) {\n        envVar = 'https_proxy';\n        proxyEnv = process.env.https_proxy;\n    }\n    else if (process.env.http_proxy) {\n        envVar = 'http_proxy';\n        proxyEnv = process.env.http_proxy;\n    }\n    else {\n        return {};\n    }\n    let proxyUrl;\n    try {\n        proxyUrl = new url_1.URL(proxyEnv);\n    }\n    catch (e) {\n        (0, logging_1.log)(constants_1.LogVerbosity.ERROR, `cannot parse value of \"${envVar}\" env var`);\n        return {};\n    }\n    if (proxyUrl.protocol !== 'http:') {\n        (0, logging_1.log)(constants_1.LogVerbosity.ERROR, `\"${proxyUrl.protocol}\" scheme not supported in proxy URI`);\n        return {};\n    }\n    let userCred = null;\n    if (proxyUrl.username) {\n        if (proxyUrl.password) {\n            (0, logging_1.log)(constants_1.LogVerbosity.INFO, 'userinfo found in proxy URI');\n            userCred = `${proxyUrl.username}:${proxyUrl.password}`;\n        }\n        else {\n            userCred = proxyUrl.username;\n        }\n    }\n    const hostname = proxyUrl.hostname;\n    let port = proxyUrl.port;\n    /* The proxy URL uses the scheme \"http:\", which has a default port number of\n     * 80. We need to set that explicitly here if it is omitted because otherwise\n     * it will use gRPC's default port 443. */\n    if (port === '') {\n        port = '80';\n    }\n    const result = {\n        address: `${hostname}:${port}`,\n    };\n    if (userCred) {\n        result.creds = userCred;\n    }\n    trace('Proxy server ' + result.address + ' set by environment variable ' + envVar);\n    return result;\n}\nfunction getNoProxyHostList() {\n    /* Prefer using 'no_grpc_proxy'. Fallback on 'no_proxy' if it is not set. */\n    let noProxyStr = process.env.no_grpc_proxy;\n    let envVar = 'no_grpc_proxy';\n    if (!noProxyStr) {\n        noProxyStr = process.env.no_proxy;\n        envVar = 'no_proxy';\n    }\n    if (noProxyStr) {\n        trace('No proxy server list set by environment variable ' + envVar);\n        return noProxyStr.split(',');\n    }\n    else {\n        return [];\n    }\n}\nfunction mapProxyName(target, options) {\n    var _a;\n    const noProxyResult = {\n        target: target,\n        extraOptions: {},\n    };\n    if (((_a = options['grpc.enable_http_proxy']) !== null && _a !== void 0 ? _a : 1) === 0) {\n        return noProxyResult;\n    }\n    if (target.scheme === 'unix') {\n        return noProxyResult;\n    }\n    const proxyInfo = getProxyInfo();\n    if (!proxyInfo.address) {\n        return noProxyResult;\n    }\n    const hostPort = (0, uri_parser_1.splitHostPort)(target.path);\n    if (!hostPort) {\n        return noProxyResult;\n    }\n    const serverHost = hostPort.host;\n    for (const host of getNoProxyHostList()) {\n        if (host === serverHost) {\n            trace('Not using proxy for target in no_proxy list: ' + (0, uri_parser_1.uriToString)(target));\n            return noProxyResult;\n        }\n    }\n    const extraOptions = {\n        'grpc.http_connect_target': (0, uri_parser_1.uriToString)(target),\n    };\n    if (proxyInfo.creds) {\n        extraOptions['grpc.http_connect_creds'] = proxyInfo.creds;\n    }\n    return {\n        target: {\n            scheme: 'dns',\n            path: proxyInfo.address,\n        },\n        extraOptions: extraOptions,\n    };\n}\nexports.mapProxyName = mapProxyName;\nfunction getProxiedConnection(address, channelOptions, connectionOptions) {\n    if (!('grpc.http_connect_target' in channelOptions)) {\n        return Promise.resolve({});\n    }\n    const realTarget = channelOptions['grpc.http_connect_target'];\n    const parsedTarget = (0, uri_parser_1.parseUri)(realTarget);\n    if (parsedTarget === null) {\n        return Promise.resolve({});\n    }\n    const options = {\n        method: 'CONNECT',\n        path: parsedTarget.path,\n    };\n    const headers = {\n        Host: parsedTarget.path,\n    };\n    // Connect to the subchannel address as a proxy\n    if ((0, subchannel_address_1.isTcpSubchannelAddress)(address)) {\n        options.host = address.host;\n        options.port = address.port;\n    }\n    else {\n        options.socketPath = address.path;\n    }\n    if ('grpc.http_connect_creds' in channelOptions) {\n        headers['Proxy-Authorization'] =\n            'Basic ' +\n                Buffer.from(channelOptions['grpc.http_connect_creds']).toString('base64');\n    }\n    options.headers = headers;\n    const proxyAddressString = (0, subchannel_address_1.subchannelAddressToString)(address);\n    trace('Using proxy ' + proxyAddressString + ' to connect to ' + options.path);\n    return new Promise((resolve, reject) => {\n        const request = http.request(options);\n        request.once('connect', (res, socket, head) => {\n            var _a;\n            request.removeAllListeners();\n            socket.removeAllListeners();\n            if (res.statusCode === 200) {\n                trace('Successfully connected to ' +\n                    options.path +\n                    ' through proxy ' +\n                    proxyAddressString);\n                if ('secureContext' in connectionOptions) {\n                    /* The proxy is connecting to a TLS server, so upgrade this socket\n                     * connection to a TLS connection.\n                     * This is a workaround for https://github.com/nodejs/node/issues/32922\n                     * See https://github.com/grpc/grpc-node/pull/1369 for more info. */\n                    const targetPath = (0, resolver_1.getDefaultAuthority)(parsedTarget);\n                    const hostPort = (0, uri_parser_1.splitHostPort)(targetPath);\n                    const remoteHost = (_a = hostPort === null || hostPort === void 0 ? void 0 : hostPort.host) !== null && _a !== void 0 ? _a : targetPath;\n                    const cts = tls.connect(Object.assign({ host: remoteHost, servername: remoteHost, socket: socket }, connectionOptions), () => {\n                        trace('Successfully established a TLS connection to ' +\n                            options.path +\n                            ' through proxy ' +\n                            proxyAddressString);\n                        resolve({ socket: cts, realTarget: parsedTarget });\n                    });\n                    cts.on('error', (error) => {\n                        trace('Failed to establish a TLS connection to ' +\n                            options.path +\n                            ' through proxy ' +\n                            proxyAddressString +\n                            ' with error ' +\n                            error.message);\n                        reject();\n                    });\n                }\n                else {\n                    trace('Successfully established a plaintext connection to ' +\n                        options.path +\n                        ' through proxy ' +\n                        proxyAddressString);\n                    resolve({\n                        socket,\n                        realTarget: parsedTarget,\n                    });\n                }\n            }\n            else {\n                (0, logging_1.log)(constants_1.LogVerbosity.ERROR, 'Failed to connect to ' +\n                    options.path +\n                    ' through proxy ' +\n                    proxyAddressString +\n                    ' with status ' +\n                    res.statusCode);\n                reject();\n            }\n        });\n        request.once('error', (err) => {\n            request.removeAllListeners();\n            (0, logging_1.log)(constants_1.LogVerbosity.ERROR, 'Failed to connect to proxy ' +\n                proxyAddressString +\n                ' with error ' +\n                err.message);\n            reject();\n        });\n        request.end();\n    });\n}\nexports.getProxiedConnection = getProxiedConnection;\n//# sourceMappingURL=http_proxy.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.experimental = exports.addAdminServicesToServer = exports.getChannelzHandlers = exports.getChannelzServiceDefinition = exports.InterceptorConfigurationError = exports.InterceptingCall = exports.RequesterBuilder = exports.ListenerBuilder = exports.StatusBuilder = exports.getClientChannel = exports.ServerCredentials = exports.Server = exports.setLogVerbosity = exports.setLogger = exports.load = exports.loadObject = exports.CallCredentials = exports.ChannelCredentials = exports.waitForClientReady = exports.closeClient = exports.Channel = exports.makeGenericClientConstructor = exports.makeClientConstructor = exports.loadPackageDefinition = exports.Client = exports.compressionAlgorithms = exports.propagate = exports.connectivityState = exports.status = exports.logVerbosity = exports.Metadata = exports.credentials = void 0;\nconst call_credentials_1 = require(\"./call-credentials\");\nObject.defineProperty(exports, \"CallCredentials\", { enumerable: true, get: function () { return call_credentials_1.CallCredentials; } });\nconst channel_1 = require(\"./channel\");\nObject.defineProperty(exports, \"Channel\", { enumerable: true, get: function () { return channel_1.ChannelImplementation; } });\nconst compression_algorithms_1 = require(\"./compression-algorithms\");\nObject.defineProperty(exports, \"compressionAlgorithms\", { enumerable: true, get: function () { return compression_algorithms_1.CompressionAlgorithms; } });\nconst connectivity_state_1 = require(\"./connectivity-state\");\nObject.defineProperty(exports, \"connectivityState\", { enumerable: true, get: function () { return connectivity_state_1.ConnectivityState; } });\nconst channel_credentials_1 = require(\"./channel-credentials\");\nObject.defineProperty(exports, \"ChannelCredentials\", { enumerable: true, get: function () { return channel_credentials_1.ChannelCredentials; } });\nconst client_1 = require(\"./client\");\nObject.defineProperty(exports, \"Client\", { enumerable: true, get: function () { return client_1.Client; } });\nconst constants_1 = require(\"./constants\");\nObject.defineProperty(exports, \"logVerbosity\", { enumerable: true, get: function () { return constants_1.LogVerbosity; } });\nObject.defineProperty(exports, \"status\", { enumerable: true, get: function () { return constants_1.Status; } });\nObject.defineProperty(exports, \"propagate\", { enumerable: true, get: function () { return constants_1.Propagate; } });\nconst logging = require(\"./logging\");\nconst make_client_1 = require(\"./make-client\");\nObject.defineProperty(exports, \"loadPackageDefinition\", { enumerable: true, get: function () { return make_client_1.loadPackageDefinition; } });\nObject.defineProperty(exports, \"makeClientConstructor\", { enumerable: true, get: function () { return make_client_1.makeClientConstructor; } });\nObject.defineProperty(exports, \"makeGenericClientConstructor\", { enumerable: true, get: function () { return make_client_1.makeClientConstructor; } });\nconst metadata_1 = require(\"./metadata\");\nObject.defineProperty(exports, \"Metadata\", { enumerable: true, get: function () { return metadata_1.Metadata; } });\nconst server_1 = require(\"./server\");\nObject.defineProperty(exports, \"Server\", { enumerable: true, get: function () { return server_1.Server; } });\nconst server_credentials_1 = require(\"./server-credentials\");\nObject.defineProperty(exports, \"ServerCredentials\", { enumerable: true, get: function () { return server_credentials_1.ServerCredentials; } });\nconst status_builder_1 = require(\"./status-builder\");\nObject.defineProperty(exports, \"StatusBuilder\", { enumerable: true, get: function () { return status_builder_1.StatusBuilder; } });\n/**** Client Credentials ****/\n// Using assign only copies enumerable properties, which is what we want\nexports.credentials = {\n    /**\n     * Combine a ChannelCredentials with any number of CallCredentials into a\n     * single ChannelCredentials object.\n     * @param channelCredentials The ChannelCredentials object.\n     * @param callCredentials Any number of CallCredentials objects.\n     * @return The resulting ChannelCredentials object.\n     */\n    combineChannelCredentials: (channelCredentials, ...callCredentials) => {\n        return callCredentials.reduce((acc, other) => acc.compose(other), channelCredentials);\n    },\n    /**\n     * Combine any number of CallCredentials into a single CallCredentials\n     * object.\n     * @param first The first CallCredentials object.\n     * @param additional Any number of additional CallCredentials objects.\n     * @return The resulting CallCredentials object.\n     */\n    combineCallCredentials: (first, ...additional) => {\n        return additional.reduce((acc, other) => acc.compose(other), first);\n    },\n    // from channel-credentials.ts\n    createInsecure: channel_credentials_1.ChannelCredentials.createInsecure,\n    createSsl: channel_credentials_1.ChannelCredentials.createSsl,\n    createFromSecureContext: channel_credentials_1.ChannelCredentials.createFromSecureContext,\n    // from call-credentials.ts\n    createFromMetadataGenerator: call_credentials_1.CallCredentials.createFromMetadataGenerator,\n    createFromGoogleCredential: call_credentials_1.CallCredentials.createFromGoogleCredential,\n    createEmpty: call_credentials_1.CallCredentials.createEmpty,\n};\n/**\n * Close a Client object.\n * @param client The client to close.\n */\nconst closeClient = (client) => client.close();\nexports.closeClient = closeClient;\nconst waitForClientReady = (client, deadline, callback) => client.waitForReady(deadline, callback);\nexports.waitForClientReady = waitForClientReady;\n/* eslint-enable @typescript-eslint/no-explicit-any */\n/**** Unimplemented function stubs ****/\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst loadObject = (value, options) => {\n    throw new Error('Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead');\n};\nexports.loadObject = loadObject;\nconst load = (filename, format, options) => {\n    throw new Error('Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead');\n};\nexports.load = load;\nconst setLogger = (logger) => {\n    logging.setLogger(logger);\n};\nexports.setLogger = setLogger;\nconst setLogVerbosity = (verbosity) => {\n    logging.setLoggerVerbosity(verbosity);\n};\nexports.setLogVerbosity = setLogVerbosity;\nconst getClientChannel = (client) => {\n    return client_1.Client.prototype.getChannel.call(client);\n};\nexports.getClientChannel = getClientChannel;\nvar client_interceptors_1 = require(\"./client-interceptors\");\nObject.defineProperty(exports, \"ListenerBuilder\", { enumerable: true, get: function () { return client_interceptors_1.ListenerBuilder; } });\nObject.defineProperty(exports, \"RequesterBuilder\", { enumerable: true, get: function () { return client_interceptors_1.RequesterBuilder; } });\nObject.defineProperty(exports, \"InterceptingCall\", { enumerable: true, get: function () { return client_interceptors_1.InterceptingCall; } });\nObject.defineProperty(exports, \"InterceptorConfigurationError\", { enumerable: true, get: function () { return client_interceptors_1.InterceptorConfigurationError; } });\nvar channelz_1 = require(\"./channelz\");\nObject.defineProperty(exports, \"getChannelzServiceDefinition\", { enumerable: true, get: function () { return channelz_1.getChannelzServiceDefinition; } });\nObject.defineProperty(exports, \"getChannelzHandlers\", { enumerable: true, get: function () { return channelz_1.getChannelzHandlers; } });\nvar admin_1 = require(\"./admin\");\nObject.defineProperty(exports, \"addAdminServicesToServer\", { enumerable: true, get: function () { return admin_1.addAdminServicesToServer; } });\nconst experimental = require(\"./experimental\");\nexports.experimental = experimental;\nconst resolver_dns = require(\"./resolver-dns\");\nconst resolver_uds = require(\"./resolver-uds\");\nconst resolver_ip = require(\"./resolver-ip\");\nconst load_balancer_pick_first = require(\"./load-balancer-pick-first\");\nconst load_balancer_round_robin = require(\"./load-balancer-round-robin\");\nconst load_balancer_outlier_detection = require(\"./load-balancer-outlier-detection\");\nconst channelz = require(\"./channelz\");\nconst clientVersion = require('../../package.json').version;\n(() => {\n    logging.trace(constants_1.LogVerbosity.DEBUG, 'index', 'Loading @grpc/grpc-js version ' + clientVersion);\n    resolver_dns.setup();\n    resolver_uds.setup();\n    resolver_ip.setup();\n    load_balancer_pick_first.setup();\n    load_balancer_round_robin.setup();\n    load_balancer_outlier_detection.setup();\n    channelz.setup();\n})();\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InternalChannel = void 0;\nconst channel_credentials_1 = require(\"./channel-credentials\");\nconst resolving_load_balancer_1 = require(\"./resolving-load-balancer\");\nconst subchannel_pool_1 = require(\"./subchannel-pool\");\nconst picker_1 = require(\"./picker\");\nconst constants_1 = require(\"./constants\");\nconst filter_stack_1 = require(\"./filter-stack\");\nconst compression_filter_1 = require(\"./compression-filter\");\nconst resolver_1 = require(\"./resolver\");\nconst logging_1 = require(\"./logging\");\nconst max_message_size_filter_1 = require(\"./max-message-size-filter\");\nconst http_proxy_1 = require(\"./http_proxy\");\nconst uri_parser_1 = require(\"./uri-parser\");\nconst connectivity_state_1 = require(\"./connectivity-state\");\nconst channelz_1 = require(\"./channelz\");\nconst load_balancing_call_1 = require(\"./load-balancing-call\");\nconst deadline_1 = require(\"./deadline\");\nconst resolving_call_1 = require(\"./resolving-call\");\nconst call_number_1 = require(\"./call-number\");\nconst control_plane_status_1 = require(\"./control-plane-status\");\nconst retrying_call_1 = require(\"./retrying-call\");\nconst subchannel_interface_1 = require(\"./subchannel-interface\");\n/**\n * See https://nodejs.org/api/timers.html#timers_setinterval_callback_delay_args\n */\nconst MAX_TIMEOUT_TIME = 2147483647;\nconst RETRY_THROTTLER_MAP = new Map();\nconst DEFAULT_RETRY_BUFFER_SIZE_BYTES = 1 << 24; // 16 MB\nconst DEFAULT_PER_RPC_RETRY_BUFFER_SIZE_BYTES = 1 << 20; // 1 MB\nclass ChannelSubchannelWrapper extends subchannel_interface_1.BaseSubchannelWrapper {\n    constructor(childSubchannel, channel) {\n        super(childSubchannel);\n        this.channel = channel;\n        this.refCount = 0;\n        this.subchannelStateListener = (subchannel, previousState, newState, keepaliveTime) => {\n            channel.throttleKeepalive(keepaliveTime);\n        };\n        childSubchannel.addConnectivityStateListener(this.subchannelStateListener);\n    }\n    ref() {\n        this.child.ref();\n        this.refCount += 1;\n    }\n    unref() {\n        this.child.unref();\n        this.refCount -= 1;\n        if (this.refCount <= 0) {\n            this.child.removeConnectivityStateListener(this.subchannelStateListener);\n            this.channel.removeWrappedSubchannel(this);\n        }\n    }\n}\nclass InternalChannel {\n    constructor(target, credentials, options) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        this.credentials = credentials;\n        this.options = options;\n        this.connectivityState = connectivity_state_1.ConnectivityState.IDLE;\n        this.currentPicker = new picker_1.UnavailablePicker();\n        /**\n         * Calls queued up to get a call config. Should only be populated before the\n         * first time the resolver returns a result, which includes the ConfigSelector.\n         */\n        this.configSelectionQueue = [];\n        this.pickQueue = [];\n        this.connectivityStateWatchers = [];\n        this.configSelector = null;\n        /**\n         * This is the error from the name resolver if it failed most recently. It\n         * is only used to end calls that start while there is no config selector\n         * and the name resolver is in backoff, so it should be nulled if\n         * configSelector becomes set or the channel state becomes anything other\n         * than TRANSIENT_FAILURE.\n         */\n        this.currentResolutionError = null;\n        this.wrappedSubchannels = new Set();\n        // Channelz info\n        this.channelzEnabled = true;\n        this.callTracker = new channelz_1.ChannelzCallTracker();\n        this.childrenTracker = new channelz_1.ChannelzChildrenTracker();\n        if (typeof target !== 'string') {\n            throw new TypeError('Channel target must be a string');\n        }\n        if (!(credentials instanceof channel_credentials_1.ChannelCredentials)) {\n            throw new TypeError('Channel credentials must be a ChannelCredentials object');\n        }\n        if (options) {\n            if (typeof options !== 'object') {\n                throw new TypeError('Channel options must be an object');\n            }\n        }\n        this.originalTarget = target;\n        const originalTargetUri = (0, uri_parser_1.parseUri)(target);\n        if (originalTargetUri === null) {\n            throw new Error(`Could not parse target name \"${target}\"`);\n        }\n        /* This ensures that the target has a scheme that is registered with the\n         * resolver */\n        const defaultSchemeMapResult = (0, resolver_1.mapUriDefaultScheme)(originalTargetUri);\n        if (defaultSchemeMapResult === null) {\n            throw new Error(`Could not find a default scheme for target name \"${target}\"`);\n        }\n        this.callRefTimer = setInterval(() => { }, MAX_TIMEOUT_TIME);\n        (_b = (_a = this.callRefTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n        if (this.options['grpc.enable_channelz'] === 0) {\n            this.channelzEnabled = false;\n        }\n        this.channelzTrace = new channelz_1.ChannelzTrace();\n        this.channelzRef = (0, channelz_1.registerChannelzChannel)(target, () => this.getChannelzInfo(), this.channelzEnabled);\n        if (this.channelzEnabled) {\n            this.channelzTrace.addTrace('CT_INFO', 'Channel created');\n        }\n        if (this.options['grpc.default_authority']) {\n            this.defaultAuthority = this.options['grpc.default_authority'];\n        }\n        else {\n            this.defaultAuthority = (0, resolver_1.getDefaultAuthority)(defaultSchemeMapResult);\n        }\n        const proxyMapResult = (0, http_proxy_1.mapProxyName)(defaultSchemeMapResult, options);\n        this.target = proxyMapResult.target;\n        this.options = Object.assign({}, this.options, proxyMapResult.extraOptions);\n        /* The global boolean parameter to getSubchannelPool has the inverse meaning to what\n         * the grpc.use_local_subchannel_pool channel option means. */\n        this.subchannelPool = (0, subchannel_pool_1.getSubchannelPool)(((_c = options['grpc.use_local_subchannel_pool']) !== null && _c !== void 0 ? _c : 0) === 0);\n        this.retryBufferTracker = new retrying_call_1.MessageBufferTracker((_d = options['grpc.retry_buffer_size']) !== null && _d !== void 0 ? _d : DEFAULT_RETRY_BUFFER_SIZE_BYTES, (_e = options['grpc.per_rpc_retry_buffer_size']) !== null && _e !== void 0 ? _e : DEFAULT_PER_RPC_RETRY_BUFFER_SIZE_BYTES);\n        this.keepaliveTime = (_f = options['grpc.keepalive_time_ms']) !== null && _f !== void 0 ? _f : -1;\n        const channelControlHelper = {\n            createSubchannel: (subchannelAddress, subchannelArgs) => {\n                const subchannel = this.subchannelPool.getOrCreateSubchannel(this.target, subchannelAddress, Object.assign({}, this.options, subchannelArgs), this.credentials);\n                subchannel.throttleKeepalive(this.keepaliveTime);\n                if (this.channelzEnabled) {\n                    this.channelzTrace.addTrace('CT_INFO', 'Created subchannel or used existing subchannel', subchannel.getChannelzRef());\n                }\n                const wrappedSubchannel = new ChannelSubchannelWrapper(subchannel, this);\n                this.wrappedSubchannels.add(wrappedSubchannel);\n                return wrappedSubchannel;\n            },\n            updateState: (connectivityState, picker) => {\n                this.currentPicker = picker;\n                const queueCopy = this.pickQueue.slice();\n                this.pickQueue = [];\n                this.callRefTimerUnref();\n                for (const call of queueCopy) {\n                    call.doPick();\n                }\n                this.updateState(connectivityState);\n            },\n            requestReresolution: () => {\n                // This should never be called.\n                throw new Error('Resolving load balancer should never call requestReresolution');\n            },\n            addChannelzChild: (child) => {\n                if (this.channelzEnabled) {\n                    this.childrenTracker.refChild(child);\n                }\n            },\n            removeChannelzChild: (child) => {\n                if (this.channelzEnabled) {\n                    this.childrenTracker.unrefChild(child);\n                }\n            }\n        };\n        this.resolvingLoadBalancer = new resolving_load_balancer_1.ResolvingLoadBalancer(this.target, channelControlHelper, options, (serviceConfig, configSelector) => {\n            if (serviceConfig.retryThrottling) {\n                RETRY_THROTTLER_MAP.set(this.getTarget(), new retrying_call_1.RetryThrottler(serviceConfig.retryThrottling.maxTokens, serviceConfig.retryThrottling.tokenRatio, RETRY_THROTTLER_MAP.get(this.getTarget())));\n            }\n            else {\n                RETRY_THROTTLER_MAP.delete(this.getTarget());\n            }\n            if (this.channelzEnabled) {\n                this.channelzTrace.addTrace('CT_INFO', 'Address resolution succeeded');\n            }\n            this.configSelector = configSelector;\n            this.currentResolutionError = null;\n            /* We process the queue asynchronously to ensure that the corresponding\n             * load balancer update has completed. */\n            process.nextTick(() => {\n                const localQueue = this.configSelectionQueue;\n                this.configSelectionQueue = [];\n                this.callRefTimerUnref();\n                for (const call of localQueue) {\n                    call.getConfig();\n                }\n                this.configSelectionQueue = [];\n            });\n        }, (status) => {\n            if (this.channelzEnabled) {\n                this.channelzTrace.addTrace('CT_WARNING', 'Address resolution failed with code ' + status.code + ' and details \"' + status.details + '\"');\n            }\n            if (this.configSelectionQueue.length > 0) {\n                this.trace('Name resolution failed with calls queued for config selection');\n            }\n            if (this.configSelector === null) {\n                this.currentResolutionError = Object.assign(Object.assign({}, (0, control_plane_status_1.restrictControlPlaneStatusCode)(status.code, status.details)), { metadata: status.metadata });\n            }\n            const localQueue = this.configSelectionQueue;\n            this.configSelectionQueue = [];\n            this.callRefTimerUnref();\n            for (const call of localQueue) {\n                call.reportResolverError(status);\n            }\n        });\n        this.filterStackFactory = new filter_stack_1.FilterStackFactory([\n            new max_message_size_filter_1.MaxMessageSizeFilterFactory(this.options),\n            new compression_filter_1.CompressionFilterFactory(this, this.options),\n        ]);\n        this.trace('Channel constructed with options ' + JSON.stringify(options, undefined, 2));\n        const error = new Error();\n        (0, logging_1.trace)(constants_1.LogVerbosity.DEBUG, 'channel_stacktrace', '(' + this.channelzRef.id + ') ' + 'Channel constructed \\n' + ((_g = error.stack) === null || _g === void 0 ? void 0 : _g.substring(error.stack.indexOf('\\n') + 1)));\n    }\n    getChannelzInfo() {\n        return {\n            target: this.originalTarget,\n            state: this.connectivityState,\n            trace: this.channelzTrace,\n            callTracker: this.callTracker,\n            children: this.childrenTracker.getChildLists()\n        };\n    }\n    trace(text, verbosityOverride) {\n        (0, logging_1.trace)(verbosityOverride !== null && verbosityOverride !== void 0 ? verbosityOverride : constants_1.LogVerbosity.DEBUG, 'channel', '(' + this.channelzRef.id + ') ' + (0, uri_parser_1.uriToString)(this.target) + ' ' + text);\n    }\n    callRefTimerRef() {\n        var _a, _b, _c, _d;\n        // If the hasRef function does not exist, always run the code\n        if (!((_b = (_a = this.callRefTimer).hasRef) === null || _b === void 0 ? void 0 : _b.call(_a))) {\n            this.trace('callRefTimer.ref | configSelectionQueue.length=' +\n                this.configSelectionQueue.length +\n                ' pickQueue.length=' +\n                this.pickQueue.length);\n            (_d = (_c = this.callRefTimer).ref) === null || _d === void 0 ? void 0 : _d.call(_c);\n        }\n    }\n    callRefTimerUnref() {\n        var _a, _b;\n        // If the hasRef function does not exist, always run the code\n        if (!this.callRefTimer.hasRef || this.callRefTimer.hasRef()) {\n            this.trace('callRefTimer.unref | configSelectionQueue.length=' +\n                this.configSelectionQueue.length +\n                ' pickQueue.length=' +\n                this.pickQueue.length);\n            (_b = (_a = this.callRefTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n        }\n    }\n    removeConnectivityStateWatcher(watcherObject) {\n        const watcherIndex = this.connectivityStateWatchers.findIndex((value) => value === watcherObject);\n        if (watcherIndex >= 0) {\n            this.connectivityStateWatchers.splice(watcherIndex, 1);\n        }\n    }\n    updateState(newState) {\n        (0, logging_1.trace)(constants_1.LogVerbosity.DEBUG, 'connectivity_state', '(' + this.channelzRef.id + ') ' +\n            (0, uri_parser_1.uriToString)(this.target) +\n            ' ' +\n            connectivity_state_1.ConnectivityState[this.connectivityState] +\n            ' -> ' +\n            connectivity_state_1.ConnectivityState[newState]);\n        if (this.channelzEnabled) {\n            this.channelzTrace.addTrace('CT_INFO', connectivity_state_1.ConnectivityState[this.connectivityState] + ' -> ' + connectivity_state_1.ConnectivityState[newState]);\n        }\n        this.connectivityState = newState;\n        const watchersCopy = this.connectivityStateWatchers.slice();\n        for (const watcherObject of watchersCopy) {\n            if (newState !== watcherObject.currentState) {\n                if (watcherObject.timer) {\n                    clearTimeout(watcherObject.timer);\n                }\n                this.removeConnectivityStateWatcher(watcherObject);\n                watcherObject.callback();\n            }\n        }\n        if (newState !== connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n            this.currentResolutionError = null;\n        }\n    }\n    throttleKeepalive(newKeepaliveTime) {\n        if (newKeepaliveTime > this.keepaliveTime) {\n            this.keepaliveTime = newKeepaliveTime;\n            for (const wrappedSubchannel of this.wrappedSubchannels) {\n                wrappedSubchannel.throttleKeepalive(newKeepaliveTime);\n            }\n        }\n    }\n    removeWrappedSubchannel(wrappedSubchannel) {\n        this.wrappedSubchannels.delete(wrappedSubchannel);\n    }\n    doPick(metadata, extraPickInfo) {\n        return this.currentPicker.pick({ metadata: metadata, extraPickInfo: extraPickInfo });\n    }\n    queueCallForPick(call) {\n        this.pickQueue.push(call);\n        this.callRefTimerRef();\n    }\n    getConfig(method, metadata) {\n        this.resolvingLoadBalancer.exitIdle();\n        if (this.configSelector) {\n            return {\n                type: 'SUCCESS',\n                config: this.configSelector(method, metadata)\n            };\n        }\n        else {\n            if (this.currentResolutionError) {\n                return {\n                    type: 'ERROR',\n                    error: this.currentResolutionError\n                };\n            }\n            else {\n                return {\n                    type: 'NONE'\n                };\n            }\n        }\n    }\n    queueCallForConfig(call) {\n        this.configSelectionQueue.push(call);\n        this.callRefTimerRef();\n    }\n    createLoadBalancingCall(callConfig, method, host, credentials, deadline) {\n        const callNumber = (0, call_number_1.getNextCallNumber)();\n        this.trace('createLoadBalancingCall [' +\n            callNumber +\n            '] method=\"' +\n            method +\n            '\"');\n        return new load_balancing_call_1.LoadBalancingCall(this, callConfig, method, host, credentials, deadline, callNumber);\n    }\n    createRetryingCall(callConfig, method, host, credentials, deadline) {\n        const callNumber = (0, call_number_1.getNextCallNumber)();\n        this.trace('createRetryingCall [' +\n            callNumber +\n            '] method=\"' +\n            method +\n            '\"');\n        return new retrying_call_1.RetryingCall(this, callConfig, method, host, credentials, deadline, callNumber, this.retryBufferTracker, RETRY_THROTTLER_MAP.get(this.getTarget()));\n    }\n    createInnerCall(callConfig, method, host, credentials, deadline) {\n        // Create a RetryingCall if retries are enabled\n        if (this.options['grpc.enable_retries'] === 0) {\n            return this.createLoadBalancingCall(callConfig, method, host, credentials, deadline);\n        }\n        else {\n            return this.createRetryingCall(callConfig, method, host, credentials, deadline);\n        }\n    }\n    createResolvingCall(method, deadline, host, parentCall, propagateFlags) {\n        const callNumber = (0, call_number_1.getNextCallNumber)();\n        this.trace('createResolvingCall [' +\n            callNumber +\n            '] method=\"' +\n            method +\n            '\", deadline=' +\n            (0, deadline_1.deadlineToString)(deadline));\n        const finalOptions = {\n            deadline: deadline,\n            flags: propagateFlags !== null && propagateFlags !== void 0 ? propagateFlags : constants_1.Propagate.DEFAULTS,\n            host: host !== null && host !== void 0 ? host : this.defaultAuthority,\n            parentCall: parentCall,\n        };\n        const call = new resolving_call_1.ResolvingCall(this, method, finalOptions, this.filterStackFactory.clone(), this.credentials._getCallCredentials(), callNumber);\n        if (this.channelzEnabled) {\n            this.callTracker.addCallStarted();\n            call.addStatusWatcher(status => {\n                if (status.code === constants_1.Status.OK) {\n                    this.callTracker.addCallSucceeded();\n                }\n                else {\n                    this.callTracker.addCallFailed();\n                }\n            });\n        }\n        return call;\n    }\n    close() {\n        this.resolvingLoadBalancer.destroy();\n        this.updateState(connectivity_state_1.ConnectivityState.SHUTDOWN);\n        clearInterval(this.callRefTimer);\n        if (this.channelzEnabled) {\n            (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n        }\n        this.subchannelPool.unrefUnusedSubchannels();\n    }\n    getTarget() {\n        return (0, uri_parser_1.uriToString)(this.target);\n    }\n    getConnectivityState(tryToConnect) {\n        const connectivityState = this.connectivityState;\n        if (tryToConnect) {\n            this.resolvingLoadBalancer.exitIdle();\n        }\n        return connectivityState;\n    }\n    watchConnectivityState(currentState, deadline, callback) {\n        if (this.connectivityState === connectivity_state_1.ConnectivityState.SHUTDOWN) {\n            throw new Error('Channel has been shut down');\n        }\n        let timer = null;\n        if (deadline !== Infinity) {\n            const deadlineDate = deadline instanceof Date ? deadline : new Date(deadline);\n            const now = new Date();\n            if (deadline === -Infinity || deadlineDate <= now) {\n                process.nextTick(callback, new Error('Deadline passed without connectivity state change'));\n                return;\n            }\n            timer = setTimeout(() => {\n                this.removeConnectivityStateWatcher(watcherObject);\n                callback(new Error('Deadline passed without connectivity state change'));\n            }, deadlineDate.getTime() - now.getTime());\n        }\n        const watcherObject = {\n            currentState,\n            callback,\n            timer,\n        };\n        this.connectivityStateWatchers.push(watcherObject);\n    }\n    /**\n     * Get the channelz reference object for this channel. The returned value is\n     * garbage if channelz is disabled for this channel.\n     * @returns\n     */\n    getChannelzRef() {\n        return this.channelzRef;\n    }\n    createCall(method, deadline, host, parentCall, propagateFlags) {\n        if (typeof method !== 'string') {\n            throw new TypeError('Channel#createCall: method must be a string');\n        }\n        if (!(typeof deadline === 'number' || deadline instanceof Date)) {\n            throw new TypeError('Channel#createCall: deadline must be a number or Date');\n        }\n        if (this.connectivityState === connectivity_state_1.ConnectivityState.SHUTDOWN) {\n            throw new Error('Channel has been shut down');\n        }\n        return this.createResolvingCall(method, deadline, host, parentCall, propagateFlags);\n    }\n}\nexports.InternalChannel = InternalChannel;\n//# sourceMappingURL=internal-channel.js.map","\"use strict\";\n/*\n * Copyright 2020 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChildLoadBalancerHandler = void 0;\nconst load_balancer_1 = require(\"./load-balancer\");\nconst connectivity_state_1 = require(\"./connectivity-state\");\nconst TYPE_NAME = 'child_load_balancer_helper';\nclass ChildLoadBalancerHandler {\n    constructor(channelControlHelper) {\n        this.channelControlHelper = channelControlHelper;\n        this.currentChild = null;\n        this.pendingChild = null;\n        this.ChildPolicyHelper = class {\n            constructor(parent) {\n                this.parent = parent;\n                this.child = null;\n            }\n            createSubchannel(subchannelAddress, subchannelArgs) {\n                return this.parent.channelControlHelper.createSubchannel(subchannelAddress, subchannelArgs);\n            }\n            updateState(connectivityState, picker) {\n                var _a;\n                if (this.calledByPendingChild()) {\n                    if (connectivityState === connectivity_state_1.ConnectivityState.CONNECTING) {\n                        return;\n                    }\n                    (_a = this.parent.currentChild) === null || _a === void 0 ? void 0 : _a.destroy();\n                    this.parent.currentChild = this.parent.pendingChild;\n                    this.parent.pendingChild = null;\n                }\n                else if (!this.calledByCurrentChild()) {\n                    return;\n                }\n                this.parent.channelControlHelper.updateState(connectivityState, picker);\n            }\n            requestReresolution() {\n                var _a;\n                const latestChild = (_a = this.parent.pendingChild) !== null && _a !== void 0 ? _a : this.parent.currentChild;\n                if (this.child === latestChild) {\n                    this.parent.channelControlHelper.requestReresolution();\n                }\n            }\n            setChild(newChild) {\n                this.child = newChild;\n            }\n            addChannelzChild(child) {\n                this.parent.channelControlHelper.addChannelzChild(child);\n            }\n            removeChannelzChild(child) {\n                this.parent.channelControlHelper.removeChannelzChild(child);\n            }\n            calledByPendingChild() {\n                return this.child === this.parent.pendingChild;\n            }\n            calledByCurrentChild() {\n                return this.child === this.parent.currentChild;\n            }\n        };\n    }\n    /**\n     * Prerequisites: lbConfig !== null and lbConfig.name is registered\n     * @param addressList\n     * @param lbConfig\n     * @param attributes\n     */\n    updateAddressList(addressList, lbConfig, attributes) {\n        let childToUpdate;\n        if (this.currentChild === null ||\n            this.currentChild.getTypeName() !== lbConfig.getLoadBalancerName()) {\n            const newHelper = new this.ChildPolicyHelper(this);\n            const newChild = (0, load_balancer_1.createLoadBalancer)(lbConfig, newHelper);\n            newHelper.setChild(newChild);\n            if (this.currentChild === null) {\n                this.currentChild = newChild;\n                childToUpdate = this.currentChild;\n            }\n            else {\n                if (this.pendingChild) {\n                    this.pendingChild.destroy();\n                }\n                this.pendingChild = newChild;\n                childToUpdate = this.pendingChild;\n            }\n        }\n        else {\n            if (this.pendingChild === null) {\n                childToUpdate = this.currentChild;\n            }\n            else {\n                childToUpdate = this.pendingChild;\n            }\n        }\n        childToUpdate.updateAddressList(addressList, lbConfig, attributes);\n    }\n    exitIdle() {\n        if (this.currentChild) {\n            this.currentChild.exitIdle();\n            if (this.pendingChild) {\n                this.pendingChild.exitIdle();\n            }\n        }\n    }\n    resetBackoff() {\n        if (this.currentChild) {\n            this.currentChild.resetBackoff();\n            if (this.pendingChild) {\n                this.pendingChild.resetBackoff();\n            }\n        }\n    }\n    destroy() {\n        if (this.currentChild) {\n            this.currentChild.destroy();\n            this.currentChild = null;\n        }\n        if (this.pendingChild) {\n            this.pendingChild.destroy();\n            this.pendingChild = null;\n        }\n    }\n    getTypeName() {\n        return TYPE_NAME;\n    }\n}\nexports.ChildLoadBalancerHandler = ChildLoadBalancerHandler;\n//# sourceMappingURL=load-balancer-child-handler.js.map","\"use strict\";\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setup = exports.OutlierDetectionLoadBalancer = exports.OutlierDetectionLoadBalancingConfig = void 0;\nconst connectivity_state_1 = require(\"./connectivity-state\");\nconst constants_1 = require(\"./constants\");\nconst duration_1 = require(\"./duration\");\nconst experimental_1 = require(\"./experimental\");\nconst load_balancer_1 = require(\"./load-balancer\");\nconst load_balancer_child_handler_1 = require(\"./load-balancer-child-handler\");\nconst picker_1 = require(\"./picker\");\nconst subchannel_address_1 = require(\"./subchannel-address\");\nconst subchannel_interface_1 = require(\"./subchannel-interface\");\nconst logging = require(\"./logging\");\nconst TRACER_NAME = 'outlier_detection';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst TYPE_NAME = 'outlier_detection';\nconst OUTLIER_DETECTION_ENABLED = ((_a = process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION) !== null && _a !== void 0 ? _a : 'true') === 'true';\nconst defaultSuccessRateEjectionConfig = {\n    stdev_factor: 1900,\n    enforcement_percentage: 100,\n    minimum_hosts: 5,\n    request_volume: 100\n};\nconst defaultFailurePercentageEjectionConfig = {\n    threshold: 85,\n    enforcement_percentage: 100,\n    minimum_hosts: 5,\n    request_volume: 50\n};\nfunction validateFieldType(obj, fieldName, expectedType, objectName) {\n    if (fieldName in obj && typeof obj[fieldName] !== expectedType) {\n        const fullFieldName = objectName ? `${objectName}.${fieldName}` : fieldName;\n        throw new Error(`outlier detection config ${fullFieldName} parse error: expected ${expectedType}, got ${typeof obj[fieldName]}`);\n    }\n}\nfunction validatePositiveDuration(obj, fieldName, objectName) {\n    const fullFieldName = objectName ? `${objectName}.${fieldName}` : fieldName;\n    if (fieldName in obj) {\n        if (!(0, duration_1.isDuration)(obj[fieldName])) {\n            throw new Error(`outlier detection config ${fullFieldName} parse error: expected Duration, got ${typeof obj[fieldName]}`);\n        }\n        if (!(obj[fieldName].seconds >= 0 && obj[fieldName].seconds <= 315576000000 && obj[fieldName].nanos >= 0 && obj[fieldName].nanos <= 999999999)) {\n            throw new Error(`outlier detection config ${fullFieldName} parse error: values out of range for non-negative Duaration`);\n        }\n    }\n}\nfunction validatePercentage(obj, fieldName, objectName) {\n    const fullFieldName = objectName ? `${objectName}.${fieldName}` : fieldName;\n    validateFieldType(obj, fieldName, 'number', objectName);\n    if (fieldName in obj && !(obj[fieldName] >= 0 && obj[fieldName] <= 100)) {\n        throw new Error(`outlier detection config ${fullFieldName} parse error: value out of range for percentage (0-100)`);\n    }\n}\nclass OutlierDetectionLoadBalancingConfig {\n    constructor(intervalMs, baseEjectionTimeMs, maxEjectionTimeMs, maxEjectionPercent, successRateEjection, failurePercentageEjection, childPolicy) {\n        this.childPolicy = childPolicy;\n        this.intervalMs = intervalMs !== null && intervalMs !== void 0 ? intervalMs : 10000;\n        this.baseEjectionTimeMs = baseEjectionTimeMs !== null && baseEjectionTimeMs !== void 0 ? baseEjectionTimeMs : 30000;\n        this.maxEjectionTimeMs = maxEjectionTimeMs !== null && maxEjectionTimeMs !== void 0 ? maxEjectionTimeMs : 300000;\n        this.maxEjectionPercent = maxEjectionPercent !== null && maxEjectionPercent !== void 0 ? maxEjectionPercent : 10;\n        this.successRateEjection = successRateEjection ? Object.assign(Object.assign({}, defaultSuccessRateEjectionConfig), successRateEjection) : null;\n        this.failurePercentageEjection = failurePercentageEjection ? Object.assign(Object.assign({}, defaultFailurePercentageEjectionConfig), failurePercentageEjection) : null;\n    }\n    getLoadBalancerName() {\n        return TYPE_NAME;\n    }\n    toJsonObject() {\n        return {\n            interval: (0, duration_1.msToDuration)(this.intervalMs),\n            base_ejection_time: (0, duration_1.msToDuration)(this.baseEjectionTimeMs),\n            max_ejection_time: (0, duration_1.msToDuration)(this.maxEjectionTimeMs),\n            max_ejection_percent: this.maxEjectionPercent,\n            success_rate_ejection: this.successRateEjection,\n            failure_percentage_ejection: this.failurePercentageEjection,\n            child_policy: this.childPolicy.map(policy => policy.toJsonObject())\n        };\n    }\n    getIntervalMs() {\n        return this.intervalMs;\n    }\n    getBaseEjectionTimeMs() {\n        return this.baseEjectionTimeMs;\n    }\n    getMaxEjectionTimeMs() {\n        return this.maxEjectionTimeMs;\n    }\n    getMaxEjectionPercent() {\n        return this.maxEjectionPercent;\n    }\n    getSuccessRateEjectionConfig() {\n        return this.successRateEjection;\n    }\n    getFailurePercentageEjectionConfig() {\n        return this.failurePercentageEjection;\n    }\n    getChildPolicy() {\n        return this.childPolicy;\n    }\n    copyWithChildPolicy(childPolicy) {\n        return new OutlierDetectionLoadBalancingConfig(this.intervalMs, this.baseEjectionTimeMs, this.maxEjectionTimeMs, this.maxEjectionPercent, this.successRateEjection, this.failurePercentageEjection, childPolicy);\n    }\n    static createFromJson(obj) {\n        var _a;\n        validatePositiveDuration(obj, 'interval');\n        validatePositiveDuration(obj, 'base_ejection_time');\n        validatePositiveDuration(obj, 'max_ejection_time');\n        validatePercentage(obj, 'max_ejection_percent');\n        if ('success_rate_ejection' in obj) {\n            if (typeof obj.success_rate_ejection !== 'object') {\n                throw new Error('outlier detection config success_rate_ejection must be an object');\n            }\n            validateFieldType(obj.success_rate_ejection, 'stdev_factor', 'number', 'success_rate_ejection');\n            validatePercentage(obj.success_rate_ejection, 'enforcement_percentage', 'success_rate_ejection');\n            validateFieldType(obj.success_rate_ejection, 'minimum_hosts', 'number', 'success_rate_ejection');\n            validateFieldType(obj.success_rate_ejection, 'request_volume', 'number', 'success_rate_ejection');\n        }\n        if ('failure_percentage_ejection' in obj) {\n            if (typeof obj.failure_percentage_ejection !== 'object') {\n                throw new Error('outlier detection config failure_percentage_ejection must be an object');\n            }\n            validatePercentage(obj.failure_percentage_ejection, 'threshold', 'failure_percentage_ejection');\n            validatePercentage(obj.failure_percentage_ejection, 'enforcement_percentage', 'failure_percentage_ejection');\n            validateFieldType(obj.failure_percentage_ejection, 'minimum_hosts', 'number', 'failure_percentage_ejection');\n            validateFieldType(obj.failure_percentage_ejection, 'request_volume', 'number', 'failure_percentage_ejection');\n        }\n        return new OutlierDetectionLoadBalancingConfig(obj.interval ? (0, duration_1.durationToMs)(obj.interval) : null, obj.base_ejection_time ? (0, duration_1.durationToMs)(obj.base_ejection_time) : null, obj.max_ejection_time ? (0, duration_1.durationToMs)(obj.max_ejection_time) : null, (_a = obj.max_ejection_percent) !== null && _a !== void 0 ? _a : null, obj.success_rate_ejection, obj.failure_percentage_ejection, obj.child_policy.map(load_balancer_1.validateLoadBalancingConfig));\n    }\n}\nexports.OutlierDetectionLoadBalancingConfig = OutlierDetectionLoadBalancingConfig;\nclass OutlierDetectionSubchannelWrapper extends subchannel_interface_1.BaseSubchannelWrapper {\n    constructor(childSubchannel, mapEntry) {\n        super(childSubchannel);\n        this.mapEntry = mapEntry;\n        this.stateListeners = [];\n        this.ejected = false;\n        this.refCount = 0;\n        this.childSubchannelState = childSubchannel.getConnectivityState();\n        childSubchannel.addConnectivityStateListener((subchannel, previousState, newState, keepaliveTime) => {\n            this.childSubchannelState = newState;\n            if (!this.ejected) {\n                for (const listener of this.stateListeners) {\n                    listener(this, previousState, newState, keepaliveTime);\n                }\n            }\n        });\n    }\n    getConnectivityState() {\n        if (this.ejected) {\n            return connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE;\n        }\n        else {\n            return this.childSubchannelState;\n        }\n    }\n    /**\n     * Add a listener function to be called whenever the wrapper's\n     * connectivity state changes.\n     * @param listener\n     */\n    addConnectivityStateListener(listener) {\n        this.stateListeners.push(listener);\n    }\n    /**\n     * Remove a listener previously added with `addConnectivityStateListener`\n     * @param listener A reference to a function previously passed to\n     *     `addConnectivityStateListener`\n     */\n    removeConnectivityStateListener(listener) {\n        const listenerIndex = this.stateListeners.indexOf(listener);\n        if (listenerIndex > -1) {\n            this.stateListeners.splice(listenerIndex, 1);\n        }\n    }\n    ref() {\n        this.child.ref();\n        this.refCount += 1;\n    }\n    unref() {\n        this.child.unref();\n        this.refCount -= 1;\n        if (this.refCount <= 0) {\n            if (this.mapEntry) {\n                const index = this.mapEntry.subchannelWrappers.indexOf(this);\n                if (index >= 0) {\n                    this.mapEntry.subchannelWrappers.splice(index, 1);\n                }\n            }\n        }\n    }\n    eject() {\n        this.ejected = true;\n        for (const listener of this.stateListeners) {\n            listener(this, this.childSubchannelState, connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, -1);\n        }\n    }\n    uneject() {\n        this.ejected = false;\n        for (const listener of this.stateListeners) {\n            listener(this, connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, this.childSubchannelState, -1);\n        }\n    }\n    getMapEntry() {\n        return this.mapEntry;\n    }\n    getWrappedSubchannel() {\n        return this.child;\n    }\n}\nfunction createEmptyBucket() {\n    return {\n        success: 0,\n        failure: 0\n    };\n}\nclass CallCounter {\n    constructor() {\n        this.activeBucket = createEmptyBucket();\n        this.inactiveBucket = createEmptyBucket();\n    }\n    addSuccess() {\n        this.activeBucket.success += 1;\n    }\n    addFailure() {\n        this.activeBucket.failure += 1;\n    }\n    switchBuckets() {\n        this.inactiveBucket = this.activeBucket;\n        this.activeBucket = createEmptyBucket();\n    }\n    getLastSuccesses() {\n        return this.inactiveBucket.success;\n    }\n    getLastFailures() {\n        return this.inactiveBucket.failure;\n    }\n}\nclass OutlierDetectionPicker {\n    constructor(wrappedPicker, countCalls) {\n        this.wrappedPicker = wrappedPicker;\n        this.countCalls = countCalls;\n    }\n    pick(pickArgs) {\n        const wrappedPick = this.wrappedPicker.pick(pickArgs);\n        if (wrappedPick.pickResultType === picker_1.PickResultType.COMPLETE) {\n            const subchannelWrapper = wrappedPick.subchannel;\n            const mapEntry = subchannelWrapper.getMapEntry();\n            if (mapEntry) {\n                let onCallEnded = wrappedPick.onCallEnded;\n                if (this.countCalls) {\n                    onCallEnded = statusCode => {\n                        var _a;\n                        if (statusCode === constants_1.Status.OK) {\n                            mapEntry.counter.addSuccess();\n                        }\n                        else {\n                            mapEntry.counter.addFailure();\n                        }\n                        (_a = wrappedPick.onCallEnded) === null || _a === void 0 ? void 0 : _a.call(wrappedPick, statusCode);\n                    };\n                }\n                return Object.assign(Object.assign({}, wrappedPick), { subchannel: subchannelWrapper.getWrappedSubchannel(), onCallEnded: onCallEnded });\n            }\n            else {\n                return Object.assign(Object.assign({}, wrappedPick), { subchannel: subchannelWrapper.getWrappedSubchannel() });\n            }\n        }\n        else {\n            return wrappedPick;\n        }\n    }\n}\nclass OutlierDetectionLoadBalancer {\n    constructor(channelControlHelper) {\n        this.addressMap = new Map();\n        this.latestConfig = null;\n        this.timerStartTime = null;\n        this.childBalancer = new load_balancer_child_handler_1.ChildLoadBalancerHandler((0, experimental_1.createChildChannelControlHelper)(channelControlHelper, {\n            createSubchannel: (subchannelAddress, subchannelArgs) => {\n                const originalSubchannel = channelControlHelper.createSubchannel(subchannelAddress, subchannelArgs);\n                const mapEntry = this.addressMap.get((0, subchannel_address_1.subchannelAddressToString)(subchannelAddress));\n                const subchannelWrapper = new OutlierDetectionSubchannelWrapper(originalSubchannel, mapEntry);\n                if ((mapEntry === null || mapEntry === void 0 ? void 0 : mapEntry.currentEjectionTimestamp) !== null) {\n                    // If the address is ejected, propagate that to the new subchannel wrapper\n                    subchannelWrapper.eject();\n                }\n                mapEntry === null || mapEntry === void 0 ? void 0 : mapEntry.subchannelWrappers.push(subchannelWrapper);\n                return subchannelWrapper;\n            },\n            updateState: (connectivityState, picker) => {\n                if (connectivityState === connectivity_state_1.ConnectivityState.READY) {\n                    channelControlHelper.updateState(connectivityState, new OutlierDetectionPicker(picker, this.isCountingEnabled()));\n                }\n                else {\n                    channelControlHelper.updateState(connectivityState, picker);\n                }\n            }\n        }));\n        this.ejectionTimer = setInterval(() => { }, 0);\n        clearInterval(this.ejectionTimer);\n    }\n    isCountingEnabled() {\n        return this.latestConfig !== null &&\n            (this.latestConfig.getSuccessRateEjectionConfig() !== null ||\n                this.latestConfig.getFailurePercentageEjectionConfig() !== null);\n    }\n    getCurrentEjectionPercent() {\n        let ejectionCount = 0;\n        for (const mapEntry of this.addressMap.values()) {\n            if (mapEntry.currentEjectionTimestamp !== null) {\n                ejectionCount += 1;\n            }\n        }\n        return (ejectionCount * 100) / this.addressMap.size;\n    }\n    runSuccessRateCheck(ejectionTimestamp) {\n        if (!this.latestConfig) {\n            return;\n        }\n        const successRateConfig = this.latestConfig.getSuccessRateEjectionConfig();\n        if (!successRateConfig) {\n            return;\n        }\n        trace('Running success rate check');\n        // Step 1\n        const targetRequestVolume = successRateConfig.request_volume;\n        let addresesWithTargetVolume = 0;\n        const successRates = [];\n        for (const [address, mapEntry] of this.addressMap) {\n            const successes = mapEntry.counter.getLastSuccesses();\n            const failures = mapEntry.counter.getLastFailures();\n            trace('Stats for ' + address + ': successes=' + successes + ' failures=' + failures + ' targetRequestVolume=' + targetRequestVolume);\n            if (successes + failures >= targetRequestVolume) {\n                addresesWithTargetVolume += 1;\n                successRates.push(successes / (successes + failures));\n            }\n        }\n        trace('Found ' + addresesWithTargetVolume + ' success rate candidates; currentEjectionPercent=' + this.getCurrentEjectionPercent() + ' successRates=[' + successRates + ']');\n        if (addresesWithTargetVolume < successRateConfig.minimum_hosts) {\n            return;\n        }\n        // Step 2\n        const successRateMean = successRates.reduce((a, b) => a + b) / successRates.length;\n        let successRateDeviationSum = 0;\n        for (const rate of successRates) {\n            const deviation = rate - successRateMean;\n            successRateDeviationSum += deviation * deviation;\n        }\n        const successRateVariance = successRateDeviationSum / successRates.length;\n        const successRateStdev = Math.sqrt(successRateVariance);\n        const ejectionThreshold = successRateMean - successRateStdev * (successRateConfig.stdev_factor / 1000);\n        trace('stdev=' + successRateStdev + ' ejectionThreshold=' + ejectionThreshold);\n        // Step 3\n        for (const [address, mapEntry] of this.addressMap.entries()) {\n            // Step 3.i\n            if (this.getCurrentEjectionPercent() >= this.latestConfig.getMaxEjectionPercent()) {\n                break;\n            }\n            // Step 3.ii\n            const successes = mapEntry.counter.getLastSuccesses();\n            const failures = mapEntry.counter.getLastFailures();\n            if (successes + failures < targetRequestVolume) {\n                continue;\n            }\n            // Step 3.iii\n            const successRate = successes / (successes + failures);\n            trace('Checking candidate ' + address + ' successRate=' + successRate);\n            if (successRate < ejectionThreshold) {\n                const randomNumber = Math.random() * 100;\n                trace('Candidate ' + address + ' randomNumber=' + randomNumber + ' enforcement_percentage=' + successRateConfig.enforcement_percentage);\n                if (randomNumber < successRateConfig.enforcement_percentage) {\n                    trace('Ejecting candidate ' + address);\n                    this.eject(mapEntry, ejectionTimestamp);\n                }\n            }\n        }\n    }\n    runFailurePercentageCheck(ejectionTimestamp) {\n        if (!this.latestConfig) {\n            return;\n        }\n        const failurePercentageConfig = this.latestConfig.getFailurePercentageEjectionConfig();\n        if (!failurePercentageConfig) {\n            return;\n        }\n        trace('Running failure percentage check. threshold=' + failurePercentageConfig.threshold + ' request volume threshold=' + failurePercentageConfig.request_volume);\n        // Step 1\n        let addressesWithTargetVolume = 0;\n        for (const mapEntry of this.addressMap.values()) {\n            const successes = mapEntry.counter.getLastSuccesses();\n            const failures = mapEntry.counter.getLastFailures();\n            if (successes + failures >= failurePercentageConfig.request_volume) {\n                addressesWithTargetVolume += 1;\n            }\n        }\n        if (addressesWithTargetVolume < failurePercentageConfig.minimum_hosts) {\n            return;\n        }\n        // Step 2\n        for (const [address, mapEntry] of this.addressMap.entries()) {\n            // Step 2.i\n            if (this.getCurrentEjectionPercent() >= this.latestConfig.getMaxEjectionPercent()) {\n                break;\n            }\n            // Step 2.ii\n            const successes = mapEntry.counter.getLastSuccesses();\n            const failures = mapEntry.counter.getLastFailures();\n            trace('Candidate successes=' + successes + ' failures=' + failures);\n            if (successes + failures < failurePercentageConfig.request_volume) {\n                continue;\n            }\n            // Step 2.iii\n            const failurePercentage = (failures * 100) / (failures + successes);\n            if (failurePercentage > failurePercentageConfig.threshold) {\n                const randomNumber = Math.random() * 100;\n                trace('Candidate ' + address + ' randomNumber=' + randomNumber + ' enforcement_percentage=' + failurePercentageConfig.enforcement_percentage);\n                if (randomNumber < failurePercentageConfig.enforcement_percentage) {\n                    trace('Ejecting candidate ' + address);\n                    this.eject(mapEntry, ejectionTimestamp);\n                }\n            }\n        }\n    }\n    eject(mapEntry, ejectionTimestamp) {\n        mapEntry.currentEjectionTimestamp = new Date();\n        mapEntry.ejectionTimeMultiplier += 1;\n        for (const subchannelWrapper of mapEntry.subchannelWrappers) {\n            subchannelWrapper.eject();\n        }\n    }\n    uneject(mapEntry) {\n        mapEntry.currentEjectionTimestamp = null;\n        for (const subchannelWrapper of mapEntry.subchannelWrappers) {\n            subchannelWrapper.uneject();\n        }\n    }\n    switchAllBuckets() {\n        for (const mapEntry of this.addressMap.values()) {\n            mapEntry.counter.switchBuckets();\n        }\n    }\n    startTimer(delayMs) {\n        var _a, _b;\n        this.ejectionTimer = setTimeout(() => this.runChecks(), delayMs);\n        (_b = (_a = this.ejectionTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    runChecks() {\n        const ejectionTimestamp = new Date();\n        trace('Ejection timer running');\n        this.switchAllBuckets();\n        if (!this.latestConfig) {\n            return;\n        }\n        this.timerStartTime = ejectionTimestamp;\n        this.startTimer(this.latestConfig.getIntervalMs());\n        this.runSuccessRateCheck(ejectionTimestamp);\n        this.runFailurePercentageCheck(ejectionTimestamp);\n        for (const [address, mapEntry] of this.addressMap.entries()) {\n            if (mapEntry.currentEjectionTimestamp === null) {\n                if (mapEntry.ejectionTimeMultiplier > 0) {\n                    mapEntry.ejectionTimeMultiplier -= 1;\n                }\n            }\n            else {\n                const baseEjectionTimeMs = this.latestConfig.getBaseEjectionTimeMs();\n                const maxEjectionTimeMs = this.latestConfig.getMaxEjectionTimeMs();\n                const returnTime = new Date(mapEntry.currentEjectionTimestamp.getTime());\n                returnTime.setMilliseconds(returnTime.getMilliseconds() + Math.min(baseEjectionTimeMs * mapEntry.ejectionTimeMultiplier, Math.max(baseEjectionTimeMs, maxEjectionTimeMs)));\n                if (returnTime < new Date()) {\n                    trace('Unejecting ' + address);\n                    this.uneject(mapEntry);\n                }\n            }\n        }\n    }\n    updateAddressList(addressList, lbConfig, attributes) {\n        if (!(lbConfig instanceof OutlierDetectionLoadBalancingConfig)) {\n            return;\n        }\n        const subchannelAddresses = new Set();\n        for (const address of addressList) {\n            subchannelAddresses.add((0, subchannel_address_1.subchannelAddressToString)(address));\n        }\n        for (const address of subchannelAddresses) {\n            if (!this.addressMap.has(address)) {\n                trace('Adding map entry for ' + address);\n                this.addressMap.set(address, {\n                    counter: new CallCounter(),\n                    currentEjectionTimestamp: null,\n                    ejectionTimeMultiplier: 0,\n                    subchannelWrappers: []\n                });\n            }\n        }\n        for (const key of this.addressMap.keys()) {\n            if (!subchannelAddresses.has(key)) {\n                trace('Removing map entry for ' + key);\n                this.addressMap.delete(key);\n            }\n        }\n        const childPolicy = (0, load_balancer_1.getFirstUsableConfig)(lbConfig.getChildPolicy(), true);\n        this.childBalancer.updateAddressList(addressList, childPolicy, attributes);\n        if (lbConfig.getSuccessRateEjectionConfig() || lbConfig.getFailurePercentageEjectionConfig()) {\n            if (this.timerStartTime) {\n                trace('Previous timer existed. Replacing timer');\n                clearTimeout(this.ejectionTimer);\n                const remainingDelay = lbConfig.getIntervalMs() - ((new Date()).getTime() - this.timerStartTime.getTime());\n                this.startTimer(remainingDelay);\n            }\n            else {\n                trace('Starting new timer');\n                this.timerStartTime = new Date();\n                this.startTimer(lbConfig.getIntervalMs());\n                this.switchAllBuckets();\n            }\n        }\n        else {\n            trace('Counting disabled. Cancelling timer.');\n            this.timerStartTime = null;\n            clearTimeout(this.ejectionTimer);\n            for (const mapEntry of this.addressMap.values()) {\n                this.uneject(mapEntry);\n                mapEntry.ejectionTimeMultiplier = 0;\n            }\n        }\n        this.latestConfig = lbConfig;\n    }\n    exitIdle() {\n        this.childBalancer.exitIdle();\n    }\n    resetBackoff() {\n        this.childBalancer.resetBackoff();\n    }\n    destroy() {\n        clearTimeout(this.ejectionTimer);\n        this.childBalancer.destroy();\n    }\n    getTypeName() {\n        return TYPE_NAME;\n    }\n}\nexports.OutlierDetectionLoadBalancer = OutlierDetectionLoadBalancer;\nfunction setup() {\n    if (OUTLIER_DETECTION_ENABLED) {\n        (0, experimental_1.registerLoadBalancerType)(TYPE_NAME, OutlierDetectionLoadBalancer, OutlierDetectionLoadBalancingConfig);\n    }\n}\nexports.setup = setup;\n//# sourceMappingURL=load-balancer-outlier-detection.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setup = exports.PickFirstLoadBalancer = exports.PickFirstLoadBalancingConfig = void 0;\nconst load_balancer_1 = require(\"./load-balancer\");\nconst connectivity_state_1 = require(\"./connectivity-state\");\nconst picker_1 = require(\"./picker\");\nconst subchannel_address_1 = require(\"./subchannel-address\");\nconst logging = require(\"./logging\");\nconst constants_1 = require(\"./constants\");\nconst TRACER_NAME = 'pick_first';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst TYPE_NAME = 'pick_first';\n/**\n * Delay after starting a connection on a subchannel before starting a\n * connection on the next subchannel in the list, for Happy Eyeballs algorithm.\n */\nconst CONNECTION_DELAY_INTERVAL_MS = 250;\nclass PickFirstLoadBalancingConfig {\n    getLoadBalancerName() {\n        return TYPE_NAME;\n    }\n    constructor() { }\n    toJsonObject() {\n        return {\n            [TYPE_NAME]: {},\n        };\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static createFromJson(obj) {\n        return new PickFirstLoadBalancingConfig();\n    }\n}\nexports.PickFirstLoadBalancingConfig = PickFirstLoadBalancingConfig;\n/**\n * Picker for a `PickFirstLoadBalancer` in the READY state. Always returns the\n * picked subchannel.\n */\nclass PickFirstPicker {\n    constructor(subchannel) {\n        this.subchannel = subchannel;\n    }\n    pick(pickArgs) {\n        return {\n            pickResultType: picker_1.PickResultType.COMPLETE,\n            subchannel: this.subchannel,\n            status: null,\n            onCallStarted: null,\n            onCallEnded: null\n        };\n    }\n}\nclass PickFirstLoadBalancer {\n    /**\n     * Load balancer that attempts to connect to each backend in the address list\n     * in order, and picks the first one that connects, using it for every\n     * request.\n     * @param channelControlHelper `ChannelControlHelper` instance provided by\n     *     this load balancer's owner.\n     */\n    constructor(channelControlHelper) {\n        this.channelControlHelper = channelControlHelper;\n        /**\n         * The list of backend addresses most recently passed to `updateAddressList`.\n         */\n        this.latestAddressList = [];\n        /**\n         * The list of subchannels this load balancer is currently attempting to\n         * connect to.\n         */\n        this.subchannels = [];\n        /**\n         * The current connectivity state of the load balancer.\n         */\n        this.currentState = connectivity_state_1.ConnectivityState.IDLE;\n        /**\n         * The index within the `subchannels` array of the subchannel with the most\n         * recently started connection attempt.\n         */\n        this.currentSubchannelIndex = 0;\n        /**\n         * The currently picked subchannel used for making calls. Populated if\n         * and only if the load balancer's current state is READY. In that case,\n         * the subchannel's current state is also READY.\n         */\n        this.currentPick = null;\n        this.triedAllSubchannels = false;\n        this.subchannelStateCounts = {\n            [connectivity_state_1.ConnectivityState.CONNECTING]: 0,\n            [connectivity_state_1.ConnectivityState.IDLE]: 0,\n            [connectivity_state_1.ConnectivityState.READY]: 0,\n            [connectivity_state_1.ConnectivityState.SHUTDOWN]: 0,\n            [connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE]: 0,\n        };\n        this.subchannelStateListener = (subchannel, previousState, newState) => {\n            this.subchannelStateCounts[previousState] -= 1;\n            this.subchannelStateCounts[newState] += 1;\n            /* If the subchannel we most recently attempted to start connecting\n             * to goes into TRANSIENT_FAILURE, immediately try to start\n             * connecting to the next one instead of waiting for the connection\n             * delay timer. */\n            if (subchannel.getRealSubchannel() === this.subchannels[this.currentSubchannelIndex].getRealSubchannel() &&\n                newState === connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n                this.startNextSubchannelConnecting();\n            }\n            if (newState === connectivity_state_1.ConnectivityState.READY) {\n                this.pickSubchannel(subchannel);\n                return;\n            }\n            else {\n                if (this.triedAllSubchannels &&\n                    this.subchannelStateCounts[connectivity_state_1.ConnectivityState.IDLE] ===\n                        this.subchannels.length) {\n                    /* If all of the subchannels are IDLE we should go back to a\n                     * basic IDLE state where there is no subchannel list to avoid\n                     * holding unused resources. We do not reset triedAllSubchannels\n                     * because that is a reminder to request reresolution the next time\n                     * this LB policy needs to connect. */\n                    this.resetSubchannelList(false);\n                    this.updateState(connectivity_state_1.ConnectivityState.IDLE, new picker_1.QueuePicker(this));\n                    return;\n                }\n                if (this.currentPick === null) {\n                    if (this.triedAllSubchannels) {\n                        let newLBState;\n                        if (this.subchannelStateCounts[connectivity_state_1.ConnectivityState.CONNECTING] > 0) {\n                            newLBState = connectivity_state_1.ConnectivityState.CONNECTING;\n                        }\n                        else if (this.subchannelStateCounts[connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE] >\n                            0) {\n                            newLBState = connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE;\n                        }\n                        else {\n                            newLBState = connectivity_state_1.ConnectivityState.IDLE;\n                        }\n                        if (newLBState !== this.currentState) {\n                            if (newLBState === connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n                                this.updateState(newLBState, new picker_1.UnavailablePicker());\n                            }\n                            else {\n                                this.updateState(newLBState, new picker_1.QueuePicker(this));\n                            }\n                        }\n                    }\n                    else {\n                        this.updateState(connectivity_state_1.ConnectivityState.CONNECTING, new picker_1.QueuePicker(this));\n                    }\n                }\n            }\n        };\n        this.pickedSubchannelStateListener = (subchannel, previousState, newState) => {\n            if (newState !== connectivity_state_1.ConnectivityState.READY) {\n                this.currentPick = null;\n                subchannel.unref();\n                subchannel.removeConnectivityStateListener(this.pickedSubchannelStateListener);\n                this.channelControlHelper.removeChannelzChild(subchannel.getChannelzRef());\n                if (this.subchannels.length > 0) {\n                    if (this.triedAllSubchannels) {\n                        let newLBState;\n                        if (this.subchannelStateCounts[connectivity_state_1.ConnectivityState.CONNECTING] > 0) {\n                            newLBState = connectivity_state_1.ConnectivityState.CONNECTING;\n                        }\n                        else if (this.subchannelStateCounts[connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE] >\n                            0) {\n                            newLBState = connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE;\n                        }\n                        else {\n                            newLBState = connectivity_state_1.ConnectivityState.IDLE;\n                        }\n                        if (newLBState === connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n                            this.updateState(newLBState, new picker_1.UnavailablePicker());\n                        }\n                        else {\n                            this.updateState(newLBState, new picker_1.QueuePicker(this));\n                        }\n                    }\n                    else {\n                        this.updateState(connectivity_state_1.ConnectivityState.CONNECTING, new picker_1.QueuePicker(this));\n                    }\n                }\n                else {\n                    /* We don't need to backoff here because this only happens if a\n                     * subchannel successfully connects then disconnects, so it will not\n                     * create a loop of attempting to connect to an unreachable backend\n                     */\n                    this.updateState(connectivity_state_1.ConnectivityState.IDLE, new picker_1.QueuePicker(this));\n                }\n            }\n        };\n        this.connectionDelayTimeout = setTimeout(() => { }, 0);\n        clearTimeout(this.connectionDelayTimeout);\n    }\n    startNextSubchannelConnecting() {\n        if (this.triedAllSubchannels) {\n            return;\n        }\n        for (const [index, subchannel] of this.subchannels.entries()) {\n            if (index > this.currentSubchannelIndex) {\n                const subchannelState = subchannel.getConnectivityState();\n                if (subchannelState === connectivity_state_1.ConnectivityState.IDLE ||\n                    subchannelState === connectivity_state_1.ConnectivityState.CONNECTING) {\n                    this.startConnecting(index);\n                    return;\n                }\n            }\n        }\n        this.triedAllSubchannels = true;\n    }\n    /**\n     * Have a single subchannel in the `subchannels` list start connecting.\n     * @param subchannelIndex The index into the `subchannels` list.\n     */\n    startConnecting(subchannelIndex) {\n        clearTimeout(this.connectionDelayTimeout);\n        this.currentSubchannelIndex = subchannelIndex;\n        if (this.subchannels[subchannelIndex].getConnectivityState() ===\n            connectivity_state_1.ConnectivityState.IDLE) {\n            trace('Start connecting to subchannel with address ' +\n                this.subchannels[subchannelIndex].getAddress());\n            process.nextTick(() => {\n                this.subchannels[subchannelIndex].startConnecting();\n            });\n        }\n        this.connectionDelayTimeout = setTimeout(() => {\n            this.startNextSubchannelConnecting();\n        }, CONNECTION_DELAY_INTERVAL_MS);\n    }\n    pickSubchannel(subchannel) {\n        trace('Pick subchannel with address ' + subchannel.getAddress());\n        if (this.currentPick !== null) {\n            this.currentPick.unref();\n            this.currentPick.removeConnectivityStateListener(this.pickedSubchannelStateListener);\n        }\n        this.currentPick = subchannel;\n        this.updateState(connectivity_state_1.ConnectivityState.READY, new PickFirstPicker(subchannel));\n        subchannel.addConnectivityStateListener(this.pickedSubchannelStateListener);\n        subchannel.ref();\n        this.channelControlHelper.addChannelzChild(subchannel.getChannelzRef());\n        this.resetSubchannelList();\n        clearTimeout(this.connectionDelayTimeout);\n    }\n    updateState(newState, picker) {\n        trace(connectivity_state_1.ConnectivityState[this.currentState] +\n            ' -> ' +\n            connectivity_state_1.ConnectivityState[newState]);\n        this.currentState = newState;\n        this.channelControlHelper.updateState(newState, picker);\n    }\n    resetSubchannelList(resetTriedAllSubchannels = true) {\n        for (const subchannel of this.subchannels) {\n            subchannel.removeConnectivityStateListener(this.subchannelStateListener);\n            subchannel.unref();\n            this.channelControlHelper.removeChannelzChild(subchannel.getChannelzRef());\n        }\n        this.currentSubchannelIndex = 0;\n        this.subchannelStateCounts = {\n            [connectivity_state_1.ConnectivityState.CONNECTING]: 0,\n            [connectivity_state_1.ConnectivityState.IDLE]: 0,\n            [connectivity_state_1.ConnectivityState.READY]: 0,\n            [connectivity_state_1.ConnectivityState.SHUTDOWN]: 0,\n            [connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE]: 0,\n        };\n        this.subchannels = [];\n        if (resetTriedAllSubchannels) {\n            this.triedAllSubchannels = false;\n        }\n    }\n    /**\n     * Start connecting to the address list most recently passed to\n     * `updateAddressList`.\n     */\n    connectToAddressList() {\n        this.resetSubchannelList();\n        trace('Connect to address list ' +\n            this.latestAddressList.map((address) => (0, subchannel_address_1.subchannelAddressToString)(address)));\n        this.subchannels = this.latestAddressList.map((address) => this.channelControlHelper.createSubchannel(address, {}));\n        for (const subchannel of this.subchannels) {\n            subchannel.ref();\n            this.channelControlHelper.addChannelzChild(subchannel.getChannelzRef());\n        }\n        for (const subchannel of this.subchannels) {\n            subchannel.addConnectivityStateListener(this.subchannelStateListener);\n            this.subchannelStateCounts[subchannel.getConnectivityState()] += 1;\n            if (subchannel.getConnectivityState() === connectivity_state_1.ConnectivityState.READY) {\n                this.pickSubchannel(subchannel);\n                this.resetSubchannelList();\n                return;\n            }\n        }\n        for (const [index, subchannel] of this.subchannels.entries()) {\n            const subchannelState = subchannel.getConnectivityState();\n            if (subchannelState === connectivity_state_1.ConnectivityState.IDLE ||\n                subchannelState === connectivity_state_1.ConnectivityState.CONNECTING) {\n                this.startConnecting(index);\n                if (this.currentPick === null) {\n                    this.updateState(connectivity_state_1.ConnectivityState.CONNECTING, new picker_1.QueuePicker(this));\n                }\n                return;\n            }\n        }\n        // If the code reaches this point, every subchannel must be in TRANSIENT_FAILURE\n        if (this.currentPick === null) {\n            this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker());\n        }\n    }\n    updateAddressList(addressList, lbConfig) {\n        // lbConfig has no useful information for pick first load balancing\n        /* To avoid unnecessary churn, we only do something with this address list\n         * if we're not currently trying to establish a connection, or if the new\n         * address list is different from the existing one */\n        if (this.subchannels.length === 0 ||\n            !this.latestAddressList.every((value, index) => (0, subchannel_address_1.subchannelAddressEqual)(addressList[index], value))) {\n            this.latestAddressList = addressList;\n            this.connectToAddressList();\n        }\n    }\n    exitIdle() {\n        if (this.currentState === connectivity_state_1.ConnectivityState.IDLE ||\n            this.triedAllSubchannels) {\n            this.channelControlHelper.requestReresolution();\n        }\n        for (const subchannel of this.subchannels) {\n            subchannel.startConnecting();\n        }\n        if (this.currentState === connectivity_state_1.ConnectivityState.IDLE) {\n            if (this.latestAddressList.length > 0) {\n                this.connectToAddressList();\n            }\n        }\n    }\n    resetBackoff() {\n        /* The pick first load balancer does not have a connection backoff, so this\n         * does nothing */\n    }\n    destroy() {\n        this.resetSubchannelList();\n        if (this.currentPick !== null) {\n            /* Unref can cause a state change, which can cause a change in the value\n             * of this.currentPick, so we hold a local reference to make sure that\n             * does not impact this function. */\n            const currentPick = this.currentPick;\n            currentPick.unref();\n            currentPick.removeConnectivityStateListener(this.pickedSubchannelStateListener);\n            this.channelControlHelper.removeChannelzChild(currentPick.getChannelzRef());\n        }\n    }\n    getTypeName() {\n        return TYPE_NAME;\n    }\n}\nexports.PickFirstLoadBalancer = PickFirstLoadBalancer;\nfunction setup() {\n    (0, load_balancer_1.registerLoadBalancerType)(TYPE_NAME, PickFirstLoadBalancer, PickFirstLoadBalancingConfig);\n    (0, load_balancer_1.registerDefaultLoadBalancerType)(TYPE_NAME);\n}\nexports.setup = setup;\n//# sourceMappingURL=load-balancer-pick-first.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setup = exports.RoundRobinLoadBalancer = void 0;\nconst load_balancer_1 = require(\"./load-balancer\");\nconst connectivity_state_1 = require(\"./connectivity-state\");\nconst picker_1 = require(\"./picker\");\nconst subchannel_address_1 = require(\"./subchannel-address\");\nconst logging = require(\"./logging\");\nconst constants_1 = require(\"./constants\");\nconst TRACER_NAME = 'round_robin';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst TYPE_NAME = 'round_robin';\nclass RoundRobinLoadBalancingConfig {\n    getLoadBalancerName() {\n        return TYPE_NAME;\n    }\n    constructor() { }\n    toJsonObject() {\n        return {\n            [TYPE_NAME]: {},\n        };\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    static createFromJson(obj) {\n        return new RoundRobinLoadBalancingConfig();\n    }\n}\nclass RoundRobinPicker {\n    constructor(subchannelList, nextIndex = 0) {\n        this.subchannelList = subchannelList;\n        this.nextIndex = nextIndex;\n    }\n    pick(pickArgs) {\n        const pickedSubchannel = this.subchannelList[this.nextIndex];\n        this.nextIndex = (this.nextIndex + 1) % this.subchannelList.length;\n        return {\n            pickResultType: picker_1.PickResultType.COMPLETE,\n            subchannel: pickedSubchannel,\n            status: null,\n            onCallStarted: null,\n            onCallEnded: null\n        };\n    }\n    /**\n     * Check what the next subchannel returned would be. Used by the load\n     * balancer implementation to preserve this part of the picker state if\n     * possible when a subchannel connects or disconnects.\n     */\n    peekNextSubchannel() {\n        return this.subchannelList[this.nextIndex];\n    }\n}\nclass RoundRobinLoadBalancer {\n    constructor(channelControlHelper) {\n        this.channelControlHelper = channelControlHelper;\n        this.subchannels = [];\n        this.currentState = connectivity_state_1.ConnectivityState.IDLE;\n        this.currentReadyPicker = null;\n        this.subchannelStateCounts = {\n            [connectivity_state_1.ConnectivityState.CONNECTING]: 0,\n            [connectivity_state_1.ConnectivityState.IDLE]: 0,\n            [connectivity_state_1.ConnectivityState.READY]: 0,\n            [connectivity_state_1.ConnectivityState.SHUTDOWN]: 0,\n            [connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE]: 0,\n        };\n        this.subchannelStateListener = (subchannel, previousState, newState) => {\n            this.subchannelStateCounts[previousState] -= 1;\n            this.subchannelStateCounts[newState] += 1;\n            this.calculateAndUpdateState();\n            if (newState === connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE ||\n                newState === connectivity_state_1.ConnectivityState.IDLE) {\n                this.channelControlHelper.requestReresolution();\n                subchannel.startConnecting();\n            }\n        };\n    }\n    calculateAndUpdateState() {\n        if (this.subchannelStateCounts[connectivity_state_1.ConnectivityState.READY] > 0) {\n            const readySubchannels = this.subchannels.filter((subchannel) => subchannel.getConnectivityState() === connectivity_state_1.ConnectivityState.READY);\n            let index = 0;\n            if (this.currentReadyPicker !== null) {\n                index = readySubchannels.indexOf(this.currentReadyPicker.peekNextSubchannel());\n                if (index < 0) {\n                    index = 0;\n                }\n            }\n            this.updateState(connectivity_state_1.ConnectivityState.READY, new RoundRobinPicker(readySubchannels, index));\n        }\n        else if (this.subchannelStateCounts[connectivity_state_1.ConnectivityState.CONNECTING] > 0) {\n            this.updateState(connectivity_state_1.ConnectivityState.CONNECTING, new picker_1.QueuePicker(this));\n        }\n        else if (this.subchannelStateCounts[connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE] > 0) {\n            this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker());\n        }\n        else {\n            this.updateState(connectivity_state_1.ConnectivityState.IDLE, new picker_1.QueuePicker(this));\n        }\n    }\n    updateState(newState, picker) {\n        trace(connectivity_state_1.ConnectivityState[this.currentState] +\n            ' -> ' +\n            connectivity_state_1.ConnectivityState[newState]);\n        if (newState === connectivity_state_1.ConnectivityState.READY) {\n            this.currentReadyPicker = picker;\n        }\n        else {\n            this.currentReadyPicker = null;\n        }\n        this.currentState = newState;\n        this.channelControlHelper.updateState(newState, picker);\n    }\n    resetSubchannelList() {\n        for (const subchannel of this.subchannels) {\n            subchannel.removeConnectivityStateListener(this.subchannelStateListener);\n            subchannel.unref();\n            this.channelControlHelper.removeChannelzChild(subchannel.getChannelzRef());\n        }\n        this.subchannelStateCounts = {\n            [connectivity_state_1.ConnectivityState.CONNECTING]: 0,\n            [connectivity_state_1.ConnectivityState.IDLE]: 0,\n            [connectivity_state_1.ConnectivityState.READY]: 0,\n            [connectivity_state_1.ConnectivityState.SHUTDOWN]: 0,\n            [connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE]: 0,\n        };\n        this.subchannels = [];\n    }\n    updateAddressList(addressList, lbConfig) {\n        this.resetSubchannelList();\n        trace('Connect to address list ' +\n            addressList.map((address) => (0, subchannel_address_1.subchannelAddressToString)(address)));\n        this.subchannels = addressList.map((address) => this.channelControlHelper.createSubchannel(address, {}));\n        for (const subchannel of this.subchannels) {\n            subchannel.ref();\n            subchannel.addConnectivityStateListener(this.subchannelStateListener);\n            this.channelControlHelper.addChannelzChild(subchannel.getChannelzRef());\n            const subchannelState = subchannel.getConnectivityState();\n            this.subchannelStateCounts[subchannelState] += 1;\n            if (subchannelState === connectivity_state_1.ConnectivityState.IDLE ||\n                subchannelState === connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n                subchannel.startConnecting();\n            }\n        }\n        this.calculateAndUpdateState();\n    }\n    exitIdle() {\n        for (const subchannel of this.subchannels) {\n            subchannel.startConnecting();\n        }\n    }\n    resetBackoff() {\n        /* The pick first load balancer does not have a connection backoff, so this\n         * does nothing */\n    }\n    destroy() {\n        this.resetSubchannelList();\n    }\n    getTypeName() {\n        return TYPE_NAME;\n    }\n}\nexports.RoundRobinLoadBalancer = RoundRobinLoadBalancer;\nfunction setup() {\n    (0, load_balancer_1.registerLoadBalancerType)(TYPE_NAME, RoundRobinLoadBalancer, RoundRobinLoadBalancingConfig);\n}\nexports.setup = setup;\n//# sourceMappingURL=load-balancer-round-robin.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateLoadBalancingConfig = exports.getFirstUsableConfig = exports.isLoadBalancerNameRegistered = exports.createLoadBalancer = exports.registerDefaultLoadBalancerType = exports.registerLoadBalancerType = exports.createChildChannelControlHelper = void 0;\n/**\n * Create a child ChannelControlHelper that overrides some methods of the\n * parent while letting others pass through to the parent unmodified. This\n * allows other code to create these children without needing to know about\n * all of the methods to be passed through.\n * @param parent\n * @param overrides\n */\nfunction createChildChannelControlHelper(parent, overrides) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    return {\n        createSubchannel: (_b = (_a = overrides.createSubchannel) === null || _a === void 0 ? void 0 : _a.bind(overrides)) !== null && _b !== void 0 ? _b : parent.createSubchannel.bind(parent),\n        updateState: (_d = (_c = overrides.updateState) === null || _c === void 0 ? void 0 : _c.bind(overrides)) !== null && _d !== void 0 ? _d : parent.updateState.bind(parent),\n        requestReresolution: (_f = (_e = overrides.requestReresolution) === null || _e === void 0 ? void 0 : _e.bind(overrides)) !== null && _f !== void 0 ? _f : parent.requestReresolution.bind(parent),\n        addChannelzChild: (_h = (_g = overrides.addChannelzChild) === null || _g === void 0 ? void 0 : _g.bind(overrides)) !== null && _h !== void 0 ? _h : parent.addChannelzChild.bind(parent),\n        removeChannelzChild: (_k = (_j = overrides.removeChannelzChild) === null || _j === void 0 ? void 0 : _j.bind(overrides)) !== null && _k !== void 0 ? _k : parent.removeChannelzChild.bind(parent)\n    };\n}\nexports.createChildChannelControlHelper = createChildChannelControlHelper;\nconst registeredLoadBalancerTypes = {};\nlet defaultLoadBalancerType = null;\nfunction registerLoadBalancerType(typeName, loadBalancerType, loadBalancingConfigType) {\n    registeredLoadBalancerTypes[typeName] = {\n        LoadBalancer: loadBalancerType,\n        LoadBalancingConfig: loadBalancingConfigType,\n    };\n}\nexports.registerLoadBalancerType = registerLoadBalancerType;\nfunction registerDefaultLoadBalancerType(typeName) {\n    defaultLoadBalancerType = typeName;\n}\nexports.registerDefaultLoadBalancerType = registerDefaultLoadBalancerType;\nfunction createLoadBalancer(config, channelControlHelper) {\n    const typeName = config.getLoadBalancerName();\n    if (typeName in registeredLoadBalancerTypes) {\n        return new registeredLoadBalancerTypes[typeName].LoadBalancer(channelControlHelper);\n    }\n    else {\n        return null;\n    }\n}\nexports.createLoadBalancer = createLoadBalancer;\nfunction isLoadBalancerNameRegistered(typeName) {\n    return typeName in registeredLoadBalancerTypes;\n}\nexports.isLoadBalancerNameRegistered = isLoadBalancerNameRegistered;\nfunction getFirstUsableConfig(configs, fallbackTodefault = false) {\n    for (const config of configs) {\n        if (config.getLoadBalancerName() in registeredLoadBalancerTypes) {\n            return config;\n        }\n    }\n    if (fallbackTodefault) {\n        if (defaultLoadBalancerType) {\n            return new registeredLoadBalancerTypes[defaultLoadBalancerType].LoadBalancingConfig();\n        }\n        else {\n            return null;\n        }\n    }\n    else {\n        return null;\n    }\n}\nexports.getFirstUsableConfig = getFirstUsableConfig;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction validateLoadBalancingConfig(obj) {\n    if (!(obj !== null && typeof obj === 'object')) {\n        throw new Error('Load balancing config must be an object');\n    }\n    const keys = Object.keys(obj);\n    if (keys.length !== 1) {\n        throw new Error('Provided load balancing config has multiple conflicting entries');\n    }\n    const typeName = keys[0];\n    if (typeName in registeredLoadBalancerTypes) {\n        return registeredLoadBalancerTypes[typeName].LoadBalancingConfig.createFromJson(obj[typeName]);\n    }\n    else {\n        throw new Error(`Unrecognized load balancing config name ${typeName}`);\n    }\n}\nexports.validateLoadBalancingConfig = validateLoadBalancingConfig;\n//# sourceMappingURL=load-balancer.js.map","\"use strict\";\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LoadBalancingCall = void 0;\nconst connectivity_state_1 = require(\"./connectivity-state\");\nconst constants_1 = require(\"./constants\");\nconst deadline_1 = require(\"./deadline\");\nconst metadata_1 = require(\"./metadata\");\nconst picker_1 = require(\"./picker\");\nconst uri_parser_1 = require(\"./uri-parser\");\nconst logging = require(\"./logging\");\nconst control_plane_status_1 = require(\"./control-plane-status\");\nconst http2 = require(\"http2\");\nconst TRACER_NAME = 'load_balancing_call';\nclass LoadBalancingCall {\n    constructor(channel, callConfig, methodName, host, credentials, deadline, callNumber) {\n        var _a, _b;\n        this.channel = channel;\n        this.callConfig = callConfig;\n        this.methodName = methodName;\n        this.host = host;\n        this.credentials = credentials;\n        this.deadline = deadline;\n        this.callNumber = callNumber;\n        this.child = null;\n        this.readPending = false;\n        this.pendingMessage = null;\n        this.pendingHalfClose = false;\n        this.pendingChildStatus = null;\n        this.ended = false;\n        this.metadata = null;\n        this.listener = null;\n        this.onCallEnded = null;\n        const splitPath = this.methodName.split('/');\n        let serviceName = '';\n        /* The standard path format is \"/{serviceName}/{methodName}\", so if we split\n         * by '/', the first item should be empty and the second should be the\n         * service name */\n        if (splitPath.length >= 2) {\n            serviceName = splitPath[1];\n        }\n        const hostname = (_b = (_a = (0, uri_parser_1.splitHostPort)(this.host)) === null || _a === void 0 ? void 0 : _a.host) !== null && _b !== void 0 ? _b : 'localhost';\n        /* Currently, call credentials are only allowed on HTTPS connections, so we\n         * can assume that the scheme is \"https\" */\n        this.serviceUrl = `https://${hostname}/${serviceName}`;\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '[' + this.callNumber + '] ' + text);\n    }\n    outputStatus(status, progress) {\n        var _a, _b;\n        if (!this.ended) {\n            this.ended = true;\n            this.trace('ended with status: code=' + status.code + ' details=\"' + status.details + '\"');\n            const finalStatus = Object.assign(Object.assign({}, status), { progress });\n            (_a = this.listener) === null || _a === void 0 ? void 0 : _a.onReceiveStatus(finalStatus);\n            (_b = this.onCallEnded) === null || _b === void 0 ? void 0 : _b.call(this, finalStatus.code);\n        }\n    }\n    doPick() {\n        var _a, _b;\n        if (this.ended) {\n            return;\n        }\n        if (!this.metadata) {\n            throw new Error('doPick called before start');\n        }\n        const pickResult = this.channel.doPick(this.metadata, this.callConfig.pickInformation);\n        const subchannelString = pickResult.subchannel ?\n            '(' + pickResult.subchannel.getChannelzRef().id + ') ' + pickResult.subchannel.getAddress() :\n            '' + pickResult.subchannel;\n        this.trace('Pick result: ' +\n            picker_1.PickResultType[pickResult.pickResultType] +\n            ' subchannel: ' +\n            subchannelString +\n            ' status: ' +\n            ((_a = pickResult.status) === null || _a === void 0 ? void 0 : _a.code) +\n            ' ' +\n            ((_b = pickResult.status) === null || _b === void 0 ? void 0 : _b.details));\n        switch (pickResult.pickResultType) {\n            case picker_1.PickResultType.COMPLETE:\n                this.credentials.generateMetadata({ service_url: this.serviceUrl }).then((credsMetadata) => {\n                    var _a, _b, _c;\n                    const finalMetadata = this.metadata.clone();\n                    finalMetadata.merge(credsMetadata);\n                    if (finalMetadata.get('authorization').length > 1) {\n                        this.outputStatus({\n                            code: constants_1.Status.INTERNAL,\n                            details: '\"authorization\" metadata cannot have multiple values',\n                            metadata: new metadata_1.Metadata()\n                        }, 'PROCESSED');\n                    }\n                    if (pickResult.subchannel.getConnectivityState() !== connectivity_state_1.ConnectivityState.READY) {\n                        this.trace('Picked subchannel ' +\n                            subchannelString +\n                            ' has state ' +\n                            connectivity_state_1.ConnectivityState[pickResult.subchannel.getConnectivityState()] +\n                            ' after getting credentials metadata. Retrying pick');\n                        this.doPick();\n                        return;\n                    }\n                    if (this.deadline !== Infinity) {\n                        finalMetadata.set('grpc-timeout', (0, deadline_1.getDeadlineTimeoutString)(this.deadline));\n                    }\n                    try {\n                        this.child = pickResult.subchannel.getRealSubchannel().createCall(finalMetadata, this.host, this.methodName, {\n                            onReceiveMetadata: metadata => {\n                                this.trace('Received metadata');\n                                this.listener.onReceiveMetadata(metadata);\n                            },\n                            onReceiveMessage: message => {\n                                this.trace('Received message');\n                                this.listener.onReceiveMessage(message);\n                            },\n                            onReceiveStatus: status => {\n                                this.trace('Received status');\n                                if (status.rstCode === http2.constants.NGHTTP2_REFUSED_STREAM) {\n                                    this.outputStatus(status, 'REFUSED');\n                                }\n                                else {\n                                    this.outputStatus(status, 'PROCESSED');\n                                }\n                            }\n                        });\n                    }\n                    catch (error) {\n                        this.trace('Failed to start call on picked subchannel ' +\n                            subchannelString +\n                            ' with error ' +\n                            error.message);\n                        this.outputStatus({\n                            code: constants_1.Status.INTERNAL,\n                            details: 'Failed to start HTTP/2 stream with error ' + error.message,\n                            metadata: new metadata_1.Metadata()\n                        }, 'NOT_STARTED');\n                        return;\n                    }\n                    (_b = (_a = this.callConfig).onCommitted) === null || _b === void 0 ? void 0 : _b.call(_a);\n                    (_c = pickResult.onCallStarted) === null || _c === void 0 ? void 0 : _c.call(pickResult);\n                    this.onCallEnded = pickResult.onCallEnded;\n                    this.trace('Created child call [' + this.child.getCallNumber() + ']');\n                    if (this.readPending) {\n                        this.child.startRead();\n                    }\n                    if (this.pendingMessage) {\n                        this.child.sendMessageWithContext(this.pendingMessage.context, this.pendingMessage.message);\n                    }\n                    if (this.pendingHalfClose) {\n                        this.child.halfClose();\n                    }\n                }, (error) => {\n                    // We assume the error code isn't 0 (Status.OK)\n                    const { code, details } = (0, control_plane_status_1.restrictControlPlaneStatusCode)(typeof error.code === 'number' ? error.code : constants_1.Status.UNKNOWN, `Getting metadata from plugin failed with error: ${error.message}`);\n                    this.outputStatus({\n                        code: code,\n                        details: details,\n                        metadata: new metadata_1.Metadata()\n                    }, 'PROCESSED');\n                });\n                break;\n            case picker_1.PickResultType.DROP:\n                const { code, details } = (0, control_plane_status_1.restrictControlPlaneStatusCode)(pickResult.status.code, pickResult.status.details);\n                this.outputStatus({ code, details, metadata: pickResult.status.metadata }, 'DROP');\n                break;\n            case picker_1.PickResultType.TRANSIENT_FAILURE:\n                if (this.metadata.getOptions().waitForReady) {\n                    this.channel.queueCallForPick(this);\n                }\n                else {\n                    const { code, details } = (0, control_plane_status_1.restrictControlPlaneStatusCode)(pickResult.status.code, pickResult.status.details);\n                    this.outputStatus({ code, details, metadata: pickResult.status.metadata }, 'PROCESSED');\n                }\n                break;\n            case picker_1.PickResultType.QUEUE:\n                this.channel.queueCallForPick(this);\n        }\n    }\n    cancelWithStatus(status, details) {\n        var _a;\n        this.trace('cancelWithStatus code: ' + status + ' details: \"' + details + '\"');\n        (_a = this.child) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(status, details);\n        this.outputStatus({ code: status, details: details, metadata: new metadata_1.Metadata() }, 'PROCESSED');\n    }\n    getPeer() {\n        var _a, _b;\n        return (_b = (_a = this.child) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : this.channel.getTarget();\n    }\n    start(metadata, listener) {\n        this.trace('start called');\n        this.listener = listener;\n        this.metadata = metadata;\n        this.doPick();\n    }\n    sendMessageWithContext(context, message) {\n        this.trace('write() called with message of length ' + message.length);\n        if (this.child) {\n            this.child.sendMessageWithContext(context, message);\n        }\n        else {\n            this.pendingMessage = { context, message };\n        }\n    }\n    startRead() {\n        this.trace('startRead called');\n        if (this.child) {\n            this.child.startRead();\n        }\n        else {\n            this.readPending = true;\n        }\n    }\n    halfClose() {\n        this.trace('halfClose called');\n        if (this.child) {\n            this.child.halfClose();\n        }\n        else {\n            this.pendingHalfClose = true;\n        }\n    }\n    setCredentials(credentials) {\n        throw new Error(\"Method not implemented.\");\n    }\n    getCallNumber() {\n        return this.callNumber;\n    }\n}\nexports.LoadBalancingCall = LoadBalancingCall;\n//# sourceMappingURL=load-balancing-call.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nvar _a, _b, _c, _d;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isTracerEnabled = exports.trace = exports.log = exports.setLoggerVerbosity = exports.setLogger = exports.getLogger = void 0;\nconst constants_1 = require(\"./constants\");\nconst DEFAULT_LOGGER = {\n    error: (message, ...optionalParams) => {\n        console.error('E ' + message, ...optionalParams);\n    },\n    info: (message, ...optionalParams) => {\n        console.error('I ' + message, ...optionalParams);\n    },\n    debug: (message, ...optionalParams) => {\n        console.error('D ' + message, ...optionalParams);\n    },\n};\nlet _logger = DEFAULT_LOGGER;\nlet _logVerbosity = constants_1.LogVerbosity.ERROR;\nconst verbosityString = (_b = (_a = process.env.GRPC_NODE_VERBOSITY) !== null && _a !== void 0 ? _a : process.env.GRPC_VERBOSITY) !== null && _b !== void 0 ? _b : '';\nswitch (verbosityString.toUpperCase()) {\n    case 'DEBUG':\n        _logVerbosity = constants_1.LogVerbosity.DEBUG;\n        break;\n    case 'INFO':\n        _logVerbosity = constants_1.LogVerbosity.INFO;\n        break;\n    case 'ERROR':\n        _logVerbosity = constants_1.LogVerbosity.ERROR;\n        break;\n    case 'NONE':\n        _logVerbosity = constants_1.LogVerbosity.NONE;\n        break;\n    default:\n    // Ignore any other values\n}\nconst getLogger = () => {\n    return _logger;\n};\nexports.getLogger = getLogger;\nconst setLogger = (logger) => {\n    _logger = logger;\n};\nexports.setLogger = setLogger;\nconst setLoggerVerbosity = (verbosity) => {\n    _logVerbosity = verbosity;\n};\nexports.setLoggerVerbosity = setLoggerVerbosity;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst log = (severity, ...args) => {\n    let logFunction;\n    if (severity >= _logVerbosity) {\n        switch (severity) {\n            case constants_1.LogVerbosity.DEBUG:\n                logFunction = _logger.debug;\n                break;\n            case constants_1.LogVerbosity.INFO:\n                logFunction = _logger.info;\n                break;\n            case constants_1.LogVerbosity.ERROR:\n                logFunction = _logger.error;\n                break;\n        }\n        /* Fall back to _logger.error when other methods are not available for\n         * compatiblity with older behavior that always logged to _logger.error */\n        if (!logFunction) {\n            logFunction = _logger.error;\n        }\n        if (logFunction) {\n            logFunction.bind(_logger)(...args);\n        }\n    }\n};\nexports.log = log;\nconst tracersString = (_d = (_c = process.env.GRPC_NODE_TRACE) !== null && _c !== void 0 ? _c : process.env.GRPC_TRACE) !== null && _d !== void 0 ? _d : '';\nconst enabledTracers = new Set();\nconst disabledTracers = new Set();\nfor (const tracerName of tracersString.split(',')) {\n    if (tracerName.startsWith('-')) {\n        disabledTracers.add(tracerName.substring(1));\n    }\n    else {\n        enabledTracers.add(tracerName);\n    }\n}\nconst allEnabled = enabledTracers.has('all');\nfunction trace(severity, tracer, text) {\n    if (isTracerEnabled(tracer)) {\n        (0, exports.log)(severity, new Date().toISOString() + ' | ' + tracer + ' | ' + text);\n    }\n}\nexports.trace = trace;\nfunction isTracerEnabled(tracer) {\n    return !disabledTracers.has(tracer) &&\n        (allEnabled || enabledTracers.has(tracer));\n}\nexports.isTracerEnabled = isTracerEnabled;\n//# sourceMappingURL=logging.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadPackageDefinition = exports.makeClientConstructor = void 0;\nconst client_1 = require(\"./client\");\n/**\n * Map with short names for each of the requester maker functions. Used in\n * makeClientConstructor\n * @private\n */\nconst requesterFuncs = {\n    unary: client_1.Client.prototype.makeUnaryRequest,\n    server_stream: client_1.Client.prototype.makeServerStreamRequest,\n    client_stream: client_1.Client.prototype.makeClientStreamRequest,\n    bidi: client_1.Client.prototype.makeBidiStreamRequest,\n};\n/**\n * Returns true, if given key is included in the blacklisted\n * keys.\n * @param key key for check, string.\n */\nfunction isPrototypePolluted(key) {\n    return ['__proto__', 'prototype', 'constructor'].includes(key);\n}\n/**\n * Creates a constructor for a client with the given methods, as specified in\n * the methods argument. The resulting class will have an instance method for\n * each method in the service, which is a partial application of one of the\n * [Client]{@link grpc.Client} request methods, depending on `requestSerialize`\n * and `responseSerialize`, with the `method`, `serialize`, and `deserialize`\n * arguments predefined.\n * @param methods An object mapping method names to\n *     method attributes\n * @param serviceName The fully qualified name of the service\n * @param classOptions An options object.\n * @return New client constructor, which is a subclass of\n *     {@link grpc.Client}, and has the same arguments as that constructor.\n */\nfunction makeClientConstructor(methods, serviceName, classOptions) {\n    if (!classOptions) {\n        classOptions = {};\n    }\n    class ServiceClientImpl extends client_1.Client {\n    }\n    Object.keys(methods).forEach((name) => {\n        if (isPrototypePolluted(name)) {\n            return;\n        }\n        const attrs = methods[name];\n        let methodType;\n        // TODO(murgatroid99): Verify that we don't need this anymore\n        if (typeof name === 'string' && name.charAt(0) === '$') {\n            throw new Error('Method names cannot start with $');\n        }\n        if (attrs.requestStream) {\n            if (attrs.responseStream) {\n                methodType = 'bidi';\n            }\n            else {\n                methodType = 'client_stream';\n            }\n        }\n        else {\n            if (attrs.responseStream) {\n                methodType = 'server_stream';\n            }\n            else {\n                methodType = 'unary';\n            }\n        }\n        const serialize = attrs.requestSerialize;\n        const deserialize = attrs.responseDeserialize;\n        const methodFunc = partial(requesterFuncs[methodType], attrs.path, serialize, deserialize);\n        ServiceClientImpl.prototype[name] = methodFunc;\n        // Associate all provided attributes with the method\n        Object.assign(ServiceClientImpl.prototype[name], attrs);\n        if (attrs.originalName && !isPrototypePolluted(attrs.originalName)) {\n            ServiceClientImpl.prototype[attrs.originalName] =\n                ServiceClientImpl.prototype[name];\n        }\n    });\n    ServiceClientImpl.service = methods;\n    ServiceClientImpl.serviceName = serviceName;\n    return ServiceClientImpl;\n}\nexports.makeClientConstructor = makeClientConstructor;\nfunction partial(fn, path, serialize, deserialize) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return function (...args) {\n        return fn.call(this, path, serialize, deserialize, ...args);\n    };\n}\nfunction isProtobufTypeDefinition(obj) {\n    return 'format' in obj;\n}\n/**\n * Load a gRPC package definition as a gRPC object hierarchy.\n * @param packageDef The package definition object.\n * @return The resulting gRPC object.\n */\nfunction loadPackageDefinition(packageDef) {\n    const result = {};\n    for (const serviceFqn in packageDef) {\n        if (Object.prototype.hasOwnProperty.call(packageDef, serviceFqn)) {\n            const service = packageDef[serviceFqn];\n            const nameComponents = serviceFqn.split('.');\n            if (nameComponents.some((comp) => isPrototypePolluted(comp))) {\n                continue;\n            }\n            const serviceName = nameComponents[nameComponents.length - 1];\n            let current = result;\n            for (const packageName of nameComponents.slice(0, -1)) {\n                if (!current[packageName]) {\n                    current[packageName] = {};\n                }\n                current = current[packageName];\n            }\n            if (isProtobufTypeDefinition(service)) {\n                current[serviceName] = service;\n            }\n            else {\n                current[serviceName] = makeClientConstructor(service, serviceName, {});\n            }\n        }\n    }\n    return result;\n}\nexports.loadPackageDefinition = loadPackageDefinition;\n//# sourceMappingURL=make-client.js.map","\"use strict\";\n/*\n * Copyright 2020 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MaxMessageSizeFilterFactory = exports.MaxMessageSizeFilter = void 0;\nconst filter_1 = require(\"./filter\");\nconst constants_1 = require(\"./constants\");\nconst metadata_1 = require(\"./metadata\");\nclass MaxMessageSizeFilter extends filter_1.BaseFilter {\n    constructor(options) {\n        super();\n        this.options = options;\n        this.maxSendMessageSize = constants_1.DEFAULT_MAX_SEND_MESSAGE_LENGTH;\n        this.maxReceiveMessageSize = constants_1.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;\n        if ('grpc.max_send_message_length' in options) {\n            this.maxSendMessageSize = options['grpc.max_send_message_length'];\n        }\n        if ('grpc.max_receive_message_length' in options) {\n            this.maxReceiveMessageSize = options['grpc.max_receive_message_length'];\n        }\n    }\n    async sendMessage(message) {\n        /* A configured size of -1 means that there is no limit, so skip the check\n         * entirely */\n        if (this.maxSendMessageSize === -1) {\n            return message;\n        }\n        else {\n            const concreteMessage = await message;\n            if (concreteMessage.message.length > this.maxSendMessageSize) {\n                throw {\n                    code: constants_1.Status.RESOURCE_EXHAUSTED,\n                    details: `Sent message larger than max (${concreteMessage.message.length} vs. ${this.maxSendMessageSize})`,\n                    metadata: new metadata_1.Metadata()\n                };\n            }\n            else {\n                return concreteMessage;\n            }\n        }\n    }\n    async receiveMessage(message) {\n        /* A configured size of -1 means that there is no limit, so skip the check\n         * entirely */\n        if (this.maxReceiveMessageSize === -1) {\n            return message;\n        }\n        else {\n            const concreteMessage = await message;\n            if (concreteMessage.length > this.maxReceiveMessageSize) {\n                throw {\n                    code: constants_1.Status.RESOURCE_EXHAUSTED,\n                    details: `Received message larger than max (${concreteMessage.length} vs. ${this.maxReceiveMessageSize})`,\n                    metadata: new metadata_1.Metadata()\n                };\n            }\n            else {\n                return concreteMessage;\n            }\n        }\n    }\n}\nexports.MaxMessageSizeFilter = MaxMessageSizeFilter;\nclass MaxMessageSizeFilterFactory {\n    constructor(options) {\n        this.options = options;\n    }\n    createFilter() {\n        return new MaxMessageSizeFilter(this.options);\n    }\n}\nexports.MaxMessageSizeFilterFactory = MaxMessageSizeFilterFactory;\n//# sourceMappingURL=max-message-size-filter.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Metadata = void 0;\nconst logging_1 = require(\"./logging\");\nconst constants_1 = require(\"./constants\");\nconst error_1 = require(\"./error\");\nconst LEGAL_KEY_REGEX = /^[0-9a-z_.-]+$/;\nconst LEGAL_NON_BINARY_VALUE_REGEX = /^[ -~]*$/;\nfunction isLegalKey(key) {\n    return LEGAL_KEY_REGEX.test(key);\n}\nfunction isLegalNonBinaryValue(value) {\n    return LEGAL_NON_BINARY_VALUE_REGEX.test(value);\n}\nfunction isBinaryKey(key) {\n    return key.endsWith('-bin');\n}\nfunction isCustomMetadata(key) {\n    return !key.startsWith('grpc-');\n}\nfunction normalizeKey(key) {\n    return key.toLowerCase();\n}\nfunction validate(key, value) {\n    if (!isLegalKey(key)) {\n        throw new Error('Metadata key \"' + key + '\" contains illegal characters');\n    }\n    if (value !== null && value !== undefined) {\n        if (isBinaryKey(key)) {\n            if (!Buffer.isBuffer(value)) {\n                throw new Error(\"keys that end with '-bin' must have Buffer values\");\n            }\n        }\n        else {\n            if (Buffer.isBuffer(value)) {\n                throw new Error(\"keys that don't end with '-bin' must have String values\");\n            }\n            if (!isLegalNonBinaryValue(value)) {\n                throw new Error('Metadata string value \"' + value + '\" contains illegal characters');\n            }\n        }\n    }\n}\n/**\n * A class for storing metadata. Keys are normalized to lowercase ASCII.\n */\nclass Metadata {\n    constructor(options = {}) {\n        this.internalRepr = new Map();\n        this.options = options;\n    }\n    /**\n     * Sets the given value for the given key by replacing any other values\n     * associated with that key. Normalizes the key.\n     * @param key The key to whose value should be set.\n     * @param value The value to set. Must be a buffer if and only\n     *   if the normalized key ends with '-bin'.\n     */\n    set(key, value) {\n        key = normalizeKey(key);\n        validate(key, value);\n        this.internalRepr.set(key, [value]);\n    }\n    /**\n     * Adds the given value for the given key by appending to a list of previous\n     * values associated with that key. Normalizes the key.\n     * @param key The key for which a new value should be appended.\n     * @param value The value to add. Must be a buffer if and only\n     *   if the normalized key ends with '-bin'.\n     */\n    add(key, value) {\n        key = normalizeKey(key);\n        validate(key, value);\n        const existingValue = this.internalRepr.get(key);\n        if (existingValue === undefined) {\n            this.internalRepr.set(key, [value]);\n        }\n        else {\n            existingValue.push(value);\n        }\n    }\n    /**\n     * Removes the given key and any associated values. Normalizes the key.\n     * @param key The key whose values should be removed.\n     */\n    remove(key) {\n        key = normalizeKey(key);\n        // validate(key);\n        this.internalRepr.delete(key);\n    }\n    /**\n     * Gets a list of all values associated with the key. Normalizes the key.\n     * @param key The key whose value should be retrieved.\n     * @return A list of values associated with the given key.\n     */\n    get(key) {\n        key = normalizeKey(key);\n        // validate(key);\n        return this.internalRepr.get(key) || [];\n    }\n    /**\n     * Gets a plain object mapping each key to the first value associated with it.\n     * This reflects the most common way that people will want to see metadata.\n     * @return A key/value mapping of the metadata.\n     */\n    getMap() {\n        const result = {};\n        for (const [key, values] of this.internalRepr) {\n            if (values.length > 0) {\n                const v = values[0];\n                result[key] = Buffer.isBuffer(v) ? Buffer.from(v) : v;\n            }\n        }\n        return result;\n    }\n    /**\n     * Clones the metadata object.\n     * @return The newly cloned object.\n     */\n    clone() {\n        const newMetadata = new Metadata(this.options);\n        const newInternalRepr = newMetadata.internalRepr;\n        for (const [key, value] of this.internalRepr) {\n            const clonedValue = value.map((v) => {\n                if (Buffer.isBuffer(v)) {\n                    return Buffer.from(v);\n                }\n                else {\n                    return v;\n                }\n            });\n            newInternalRepr.set(key, clonedValue);\n        }\n        return newMetadata;\n    }\n    /**\n     * Merges all key-value pairs from a given Metadata object into this one.\n     * If both this object and the given object have values in the same key,\n     * values from the other Metadata object will be appended to this object's\n     * values.\n     * @param other A Metadata object.\n     */\n    merge(other) {\n        for (const [key, values] of other.internalRepr) {\n            const mergedValue = (this.internalRepr.get(key) || []).concat(values);\n            this.internalRepr.set(key, mergedValue);\n        }\n    }\n    setOptions(options) {\n        this.options = options;\n    }\n    getOptions() {\n        return this.options;\n    }\n    /**\n     * Creates an OutgoingHttpHeaders object that can be used with the http2 API.\n     */\n    toHttp2Headers() {\n        // NOTE: Node <8.9 formats http2 headers incorrectly.\n        const result = {};\n        for (const [key, values] of this.internalRepr) {\n            // We assume that the user's interaction with this object is limited to\n            // through its public API (i.e. keys and values are already validated).\n            result[key] = values.map(bufToString);\n        }\n        return result;\n    }\n    // For compatibility with the other Metadata implementation\n    _getCoreRepresentation() {\n        return this.internalRepr;\n    }\n    /**\n     * This modifies the behavior of JSON.stringify to show an object\n     * representation of the metadata map.\n     */\n    toJSON() {\n        const result = {};\n        for (const [key, values] of this.internalRepr) {\n            result[key] = values;\n        }\n        return result;\n    }\n    /**\n     * Returns a new Metadata object based fields in a given IncomingHttpHeaders\n     * object.\n     * @param headers An IncomingHttpHeaders object.\n     */\n    static fromHttp2Headers(headers) {\n        const result = new Metadata();\n        for (const key of Object.keys(headers)) {\n            // Reserved headers (beginning with `:`) are not valid keys.\n            if (key.charAt(0) === ':') {\n                continue;\n            }\n            const values = headers[key];\n            try {\n                if (isBinaryKey(key)) {\n                    if (Array.isArray(values)) {\n                        values.forEach((value) => {\n                            result.add(key, Buffer.from(value, 'base64'));\n                        });\n                    }\n                    else if (values !== undefined) {\n                        if (isCustomMetadata(key)) {\n                            values.split(',').forEach((v) => {\n                                result.add(key, Buffer.from(v.trim(), 'base64'));\n                            });\n                        }\n                        else {\n                            result.add(key, Buffer.from(values, 'base64'));\n                        }\n                    }\n                }\n                else {\n                    if (Array.isArray(values)) {\n                        values.forEach((value) => {\n                            result.add(key, value);\n                        });\n                    }\n                    else if (values !== undefined) {\n                        result.add(key, values);\n                    }\n                }\n            }\n            catch (error) {\n                const message = `Failed to add metadata entry ${key}: ${values}. ${(0, error_1.getErrorMessage)(error)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;\n                (0, logging_1.log)(constants_1.LogVerbosity.ERROR, message);\n            }\n        }\n        return result;\n    }\n}\nexports.Metadata = Metadata;\nconst bufToString = (val) => {\n    return Buffer.isBuffer(val) ? val.toString('base64') : val;\n};\n//# sourceMappingURL=metadata.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QueuePicker = exports.UnavailablePicker = exports.PickResultType = void 0;\nconst metadata_1 = require(\"./metadata\");\nconst constants_1 = require(\"./constants\");\nvar PickResultType;\n(function (PickResultType) {\n    PickResultType[PickResultType[\"COMPLETE\"] = 0] = \"COMPLETE\";\n    PickResultType[PickResultType[\"QUEUE\"] = 1] = \"QUEUE\";\n    PickResultType[PickResultType[\"TRANSIENT_FAILURE\"] = 2] = \"TRANSIENT_FAILURE\";\n    PickResultType[PickResultType[\"DROP\"] = 3] = \"DROP\";\n})(PickResultType = exports.PickResultType || (exports.PickResultType = {}));\n/**\n * A standard picker representing a load balancer in the TRANSIENT_FAILURE\n * state. Always responds to every pick request with an UNAVAILABLE status.\n */\nclass UnavailablePicker {\n    constructor(status) {\n        if (status !== undefined) {\n            this.status = status;\n        }\n        else {\n            this.status = {\n                code: constants_1.Status.UNAVAILABLE,\n                details: 'No connection established',\n                metadata: new metadata_1.Metadata(),\n            };\n        }\n    }\n    pick(pickArgs) {\n        return {\n            pickResultType: PickResultType.TRANSIENT_FAILURE,\n            subchannel: null,\n            status: this.status,\n            onCallStarted: null,\n            onCallEnded: null\n        };\n    }\n}\nexports.UnavailablePicker = UnavailablePicker;\n/**\n * A standard picker representing a load balancer in the IDLE or CONNECTING\n * state. Always responds to every pick request with a QUEUE pick result\n * indicating that the pick should be tried again with the next `Picker`. Also\n * reports back to the load balancer that a connection should be established\n * once any pick is attempted.\n */\nclass QueuePicker {\n    // Constructed with a load balancer. Calls exitIdle on it the first time pick is called\n    constructor(loadBalancer) {\n        this.loadBalancer = loadBalancer;\n        this.calledExitIdle = false;\n    }\n    pick(pickArgs) {\n        if (!this.calledExitIdle) {\n            process.nextTick(() => {\n                this.loadBalancer.exitIdle();\n            });\n            this.calledExitIdle = true;\n        }\n        return {\n            pickResultType: PickResultType.QUEUE,\n            subchannel: null,\n            status: null,\n            onCallStarted: null,\n            onCallEnded: null\n        };\n    }\n}\nexports.QueuePicker = QueuePicker;\n//# sourceMappingURL=picker.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setup = void 0;\nconst resolver_1 = require(\"./resolver\");\nconst dns = require(\"dns\");\nconst util = require(\"util\");\nconst service_config_1 = require(\"./service-config\");\nconst constants_1 = require(\"./constants\");\nconst metadata_1 = require(\"./metadata\");\nconst logging = require(\"./logging\");\nconst constants_2 = require(\"./constants\");\nconst uri_parser_1 = require(\"./uri-parser\");\nconst net_1 = require(\"net\");\nconst backoff_timeout_1 = require(\"./backoff-timeout\");\nconst TRACER_NAME = 'dns_resolver';\nfunction trace(text) {\n    logging.trace(constants_2.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\n/**\n * The default TCP port to connect to if not explicitly specified in the target.\n */\nconst DEFAULT_PORT = 443;\nconst DEFAULT_MIN_TIME_BETWEEN_RESOLUTIONS_MS = 30000;\nconst resolveTxtPromise = util.promisify(dns.resolveTxt);\nconst dnsLookupPromise = util.promisify(dns.lookup);\n/**\n * Merge any number of arrays into a single alternating array\n * @param arrays\n */\nfunction mergeArrays(...arrays) {\n    const result = [];\n    for (let i = 0; i <\n        Math.max.apply(null, arrays.map((array) => array.length)); i++) {\n        for (const array of arrays) {\n            if (i < array.length) {\n                result.push(array[i]);\n            }\n        }\n    }\n    return result;\n}\n/**\n * Resolver implementation that handles DNS names and IP addresses.\n */\nclass DnsResolver {\n    constructor(target, listener, channelOptions) {\n        var _a, _b, _c;\n        this.target = target;\n        this.listener = listener;\n        this.pendingLookupPromise = null;\n        this.pendingTxtPromise = null;\n        this.latestLookupResult = null;\n        this.latestServiceConfig = null;\n        this.latestServiceConfigError = null;\n        this.continueResolving = false;\n        this.isNextResolutionTimerRunning = false;\n        this.isServiceConfigEnabled = true;\n        trace('Resolver constructed for target ' + (0, uri_parser_1.uriToString)(target));\n        const hostPort = (0, uri_parser_1.splitHostPort)(target.path);\n        if (hostPort === null) {\n            this.ipResult = null;\n            this.dnsHostname = null;\n            this.port = null;\n        }\n        else {\n            if ((0, net_1.isIPv4)(hostPort.host) || (0, net_1.isIPv6)(hostPort.host)) {\n                this.ipResult = [\n                    {\n                        host: hostPort.host,\n                        port: (_a = hostPort.port) !== null && _a !== void 0 ? _a : DEFAULT_PORT,\n                    },\n                ];\n                this.dnsHostname = null;\n                this.port = null;\n            }\n            else {\n                this.ipResult = null;\n                this.dnsHostname = hostPort.host;\n                this.port = (_b = hostPort.port) !== null && _b !== void 0 ? _b : DEFAULT_PORT;\n            }\n        }\n        this.percentage = Math.random() * 100;\n        if (channelOptions['grpc.service_config_disable_resolution'] === 1) {\n            this.isServiceConfigEnabled = false;\n        }\n        this.defaultResolutionError = {\n            code: constants_1.Status.UNAVAILABLE,\n            details: `Name resolution failed for target ${(0, uri_parser_1.uriToString)(this.target)}`,\n            metadata: new metadata_1.Metadata(),\n        };\n        const backoffOptions = {\n            initialDelay: channelOptions['grpc.initial_reconnect_backoff_ms'],\n            maxDelay: channelOptions['grpc.max_reconnect_backoff_ms'],\n        };\n        this.backoff = new backoff_timeout_1.BackoffTimeout(() => {\n            if (this.continueResolving) {\n                this.startResolutionWithBackoff();\n            }\n        }, backoffOptions);\n        this.backoff.unref();\n        this.minTimeBetweenResolutionsMs = (_c = channelOptions['grpc.dns_min_time_between_resolutions_ms']) !== null && _c !== void 0 ? _c : DEFAULT_MIN_TIME_BETWEEN_RESOLUTIONS_MS;\n        this.nextResolutionTimer = setTimeout(() => { }, 0);\n        clearTimeout(this.nextResolutionTimer);\n    }\n    /**\n     * If the target is an IP address, just provide that address as a result.\n     * Otherwise, initiate A, AAAA, and TXT lookups\n     */\n    startResolution() {\n        if (this.ipResult !== null) {\n            trace('Returning IP address for target ' + (0, uri_parser_1.uriToString)(this.target));\n            setImmediate(() => {\n                this.listener.onSuccessfulResolution(this.ipResult, null, null, null, {});\n            });\n            this.backoff.stop();\n            this.backoff.reset();\n            return;\n        }\n        if (this.dnsHostname === null) {\n            trace('Failed to parse DNS address ' + (0, uri_parser_1.uriToString)(this.target));\n            setImmediate(() => {\n                this.listener.onError({\n                    code: constants_1.Status.UNAVAILABLE,\n                    details: `Failed to parse DNS address ${(0, uri_parser_1.uriToString)(this.target)}`,\n                    metadata: new metadata_1.Metadata(),\n                });\n            });\n            this.stopNextResolutionTimer();\n        }\n        else {\n            if (this.pendingLookupPromise !== null) {\n                return;\n            }\n            trace('Looking up DNS hostname ' + this.dnsHostname);\n            /* We clear out latestLookupResult here to ensure that it contains the\n             * latest result since the last time we started resolving. That way, the\n             * TXT resolution handler can use it, but only if it finishes second. We\n             * don't clear out any previous service config results because it's\n             * better to use a service config that's slightly out of date than to\n             * revert to an effectively blank one. */\n            this.latestLookupResult = null;\n            const hostname = this.dnsHostname;\n            /* We lookup both address families here and then split them up later\n             * because when looking up a single family, dns.lookup outputs an error\n             * if the name exists but there are no records for that family, and that\n             * error is indistinguishable from other kinds of errors */\n            this.pendingLookupPromise = dnsLookupPromise(hostname, { all: true });\n            this.pendingLookupPromise.then((addressList) => {\n                this.pendingLookupPromise = null;\n                this.backoff.reset();\n                this.backoff.stop();\n                const ip4Addresses = addressList.filter((addr) => addr.family === 4);\n                const ip6Addresses = addressList.filter((addr) => addr.family === 6);\n                this.latestLookupResult = mergeArrays(ip6Addresses, ip4Addresses).map((addr) => ({ host: addr.address, port: +this.port }));\n                const allAddressesString = '[' +\n                    this.latestLookupResult\n                        .map((addr) => addr.host + ':' + addr.port)\n                        .join(',') +\n                    ']';\n                trace('Resolved addresses for target ' +\n                    (0, uri_parser_1.uriToString)(this.target) +\n                    ': ' +\n                    allAddressesString);\n                if (this.latestLookupResult.length === 0) {\n                    this.listener.onError(this.defaultResolutionError);\n                    return;\n                }\n                /* If the TXT lookup has not yet finished, both of the last two\n                 * arguments will be null, which is the equivalent of getting an\n                 * empty TXT response. When the TXT lookup does finish, its handler\n                 * can update the service config by using the same address list */\n                this.listener.onSuccessfulResolution(this.latestLookupResult, this.latestServiceConfig, this.latestServiceConfigError, null, {});\n            }, (err) => {\n                trace('Resolution error for target ' +\n                    (0, uri_parser_1.uriToString)(this.target) +\n                    ': ' +\n                    err.message);\n                this.pendingLookupPromise = null;\n                this.stopNextResolutionTimer();\n                this.listener.onError(this.defaultResolutionError);\n            });\n            /* If there already is a still-pending TXT resolution, we can just use\n             * that result when it comes in */\n            if (this.isServiceConfigEnabled && this.pendingTxtPromise === null) {\n                /* We handle the TXT query promise differently than the others because\n                 * the name resolution attempt as a whole is a success even if the TXT\n                 * lookup fails */\n                this.pendingTxtPromise = resolveTxtPromise(hostname);\n                this.pendingTxtPromise.then((txtRecord) => {\n                    this.pendingTxtPromise = null;\n                    try {\n                        this.latestServiceConfig = (0, service_config_1.extractAndSelectServiceConfig)(txtRecord, this.percentage);\n                    }\n                    catch (err) {\n                        this.latestServiceConfigError = {\n                            code: constants_1.Status.UNAVAILABLE,\n                            details: 'Parsing service config failed',\n                            metadata: new metadata_1.Metadata(),\n                        };\n                    }\n                    if (this.latestLookupResult !== null) {\n                        /* We rely here on the assumption that calling this function with\n                         * identical parameters will be essentialy idempotent, and calling\n                         * it with the same address list and a different service config\n                         * should result in a fast and seamless switchover. */\n                        this.listener.onSuccessfulResolution(this.latestLookupResult, this.latestServiceConfig, this.latestServiceConfigError, null, {});\n                    }\n                }, (err) => {\n                    /* If TXT lookup fails we should do nothing, which means that we\n                     * continue to use the result of the most recent successful lookup,\n                     * or the default null config object if there has never been a\n                     * successful lookup. We do not set the latestServiceConfigError\n                     * here because that is specifically used for response validation\n                     * errors. We still need to handle this error so that it does not\n                     * bubble up as an unhandled promise rejection. */\n                });\n            }\n        }\n    }\n    startNextResolutionTimer() {\n        var _a, _b;\n        clearTimeout(this.nextResolutionTimer);\n        this.nextResolutionTimer = (_b = (_a = setTimeout(() => {\n            this.stopNextResolutionTimer();\n            if (this.continueResolving) {\n                this.startResolutionWithBackoff();\n            }\n        }, this.minTimeBetweenResolutionsMs)).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n        this.isNextResolutionTimerRunning = true;\n    }\n    stopNextResolutionTimer() {\n        clearTimeout(this.nextResolutionTimer);\n        this.isNextResolutionTimerRunning = false;\n    }\n    startResolutionWithBackoff() {\n        if (this.pendingLookupPromise === null) {\n            this.continueResolving = false;\n            this.startResolution();\n            this.backoff.runOnce();\n            this.startNextResolutionTimer();\n        }\n    }\n    updateResolution() {\n        /* If there is a pending lookup, just let it finish. Otherwise, if the\n         * nextResolutionTimer or backoff timer is running, set the\n         * continueResolving flag to resolve when whichever of those timers\n         * fires. Otherwise, start resolving immediately. */\n        if (this.pendingLookupPromise === null) {\n            if (this.isNextResolutionTimerRunning || this.backoff.isRunning()) {\n                this.continueResolving = true;\n            }\n            else {\n                this.startResolutionWithBackoff();\n            }\n        }\n    }\n    destroy() {\n        this.continueResolving = false;\n        this.backoff.stop();\n        this.stopNextResolutionTimer();\n    }\n    /**\n     * Get the default authority for the given target. For IP targets, that is\n     * the IP address. For DNS targets, it is the hostname.\n     * @param target\n     */\n    static getDefaultAuthority(target) {\n        return target.path;\n    }\n}\n/**\n * Set up the DNS resolver class by registering it as the handler for the\n * \"dns:\" prefix and as the default resolver.\n */\nfunction setup() {\n    (0, resolver_1.registerResolver)('dns', DnsResolver);\n    (0, resolver_1.registerDefaultScheme)('dns');\n}\nexports.setup = setup;\n//# sourceMappingURL=resolver-dns.js.map","\"use strict\";\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setup = void 0;\nconst net_1 = require(\"net\");\nconst constants_1 = require(\"./constants\");\nconst metadata_1 = require(\"./metadata\");\nconst resolver_1 = require(\"./resolver\");\nconst uri_parser_1 = require(\"./uri-parser\");\nconst logging = require(\"./logging\");\nconst TRACER_NAME = 'ip_resolver';\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst IPV4_SCHEME = 'ipv4';\nconst IPV6_SCHEME = 'ipv6';\n/**\n * The default TCP port to connect to if not explicitly specified in the target.\n */\nconst DEFAULT_PORT = 443;\nclass IpResolver {\n    constructor(target, listener, channelOptions) {\n        var _a;\n        this.target = target;\n        this.listener = listener;\n        this.addresses = [];\n        this.error = null;\n        trace('Resolver constructed for target ' + (0, uri_parser_1.uriToString)(target));\n        const addresses = [];\n        if (!(target.scheme === IPV4_SCHEME || target.scheme === IPV6_SCHEME)) {\n            this.error = {\n                code: constants_1.Status.UNAVAILABLE,\n                details: `Unrecognized scheme ${target.scheme} in IP resolver`,\n                metadata: new metadata_1.Metadata(),\n            };\n            return;\n        }\n        const pathList = target.path.split(',');\n        for (const path of pathList) {\n            const hostPort = (0, uri_parser_1.splitHostPort)(path);\n            if (hostPort === null) {\n                this.error = {\n                    code: constants_1.Status.UNAVAILABLE,\n                    details: `Failed to parse ${target.scheme} address ${path}`,\n                    metadata: new metadata_1.Metadata(),\n                };\n                return;\n            }\n            if ((target.scheme === IPV4_SCHEME && !(0, net_1.isIPv4)(hostPort.host)) ||\n                (target.scheme === IPV6_SCHEME && !(0, net_1.isIPv6)(hostPort.host))) {\n                this.error = {\n                    code: constants_1.Status.UNAVAILABLE,\n                    details: `Failed to parse ${target.scheme} address ${path}`,\n                    metadata: new metadata_1.Metadata(),\n                };\n                return;\n            }\n            addresses.push({\n                host: hostPort.host,\n                port: (_a = hostPort.port) !== null && _a !== void 0 ? _a : DEFAULT_PORT,\n            });\n        }\n        this.addresses = addresses;\n        trace('Parsed ' + target.scheme + ' address list ' + this.addresses);\n    }\n    updateResolution() {\n        process.nextTick(() => {\n            if (this.error) {\n                this.listener.onError(this.error);\n            }\n            else {\n                this.listener.onSuccessfulResolution(this.addresses, null, null, null, {});\n            }\n        });\n    }\n    destroy() {\n        // This resolver owns no resources, so we do nothing here.\n    }\n    static getDefaultAuthority(target) {\n        return target.path.split(',')[0];\n    }\n}\nfunction setup() {\n    (0, resolver_1.registerResolver)(IPV4_SCHEME, IpResolver);\n    (0, resolver_1.registerResolver)(IPV6_SCHEME, IpResolver);\n}\nexports.setup = setup;\n//# sourceMappingURL=resolver-ip.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setup = void 0;\nconst resolver_1 = require(\"./resolver\");\nclass UdsResolver {\n    constructor(target, listener, channelOptions) {\n        this.listener = listener;\n        this.addresses = [];\n        let path;\n        if (target.authority === '') {\n            path = '/' + target.path;\n        }\n        else {\n            path = target.path;\n        }\n        this.addresses = [{ path }];\n    }\n    updateResolution() {\n        process.nextTick(this.listener.onSuccessfulResolution, this.addresses, null, null, null, {});\n    }\n    destroy() {\n        // This resolver owns no resources, so we do nothing here.\n    }\n    static getDefaultAuthority(target) {\n        return 'localhost';\n    }\n}\nfunction setup() {\n    (0, resolver_1.registerResolver)('unix', UdsResolver);\n}\nexports.setup = setup;\n//# sourceMappingURL=resolver-uds.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mapUriDefaultScheme = exports.getDefaultAuthority = exports.createResolver = exports.registerDefaultScheme = exports.registerResolver = void 0;\nconst uri_parser_1 = require(\"./uri-parser\");\nconst registeredResolvers = {};\nlet defaultScheme = null;\n/**\n * Register a resolver class to handle target names prefixed with the `prefix`\n * string. This prefix should correspond to a URI scheme name listed in the\n * [gRPC Name Resolution document](https://github.com/grpc/grpc/blob/master/doc/naming.md)\n * @param prefix\n * @param resolverClass\n */\nfunction registerResolver(scheme, resolverClass) {\n    registeredResolvers[scheme] = resolverClass;\n}\nexports.registerResolver = registerResolver;\n/**\n * Register a default resolver to handle target names that do not start with\n * any registered prefix.\n * @param resolverClass\n */\nfunction registerDefaultScheme(scheme) {\n    defaultScheme = scheme;\n}\nexports.registerDefaultScheme = registerDefaultScheme;\n/**\n * Create a name resolver for the specified target, if possible. Throws an\n * error if no such name resolver can be created.\n * @param target\n * @param listener\n */\nfunction createResolver(target, listener, options) {\n    if (target.scheme !== undefined && target.scheme in registeredResolvers) {\n        return new registeredResolvers[target.scheme](target, listener, options);\n    }\n    else {\n        throw new Error(`No resolver could be created for target ${(0, uri_parser_1.uriToString)(target)}`);\n    }\n}\nexports.createResolver = createResolver;\n/**\n * Get the default authority for the specified target, if possible. Throws an\n * error if no registered name resolver can parse that target string.\n * @param target\n */\nfunction getDefaultAuthority(target) {\n    if (target.scheme !== undefined && target.scheme in registeredResolvers) {\n        return registeredResolvers[target.scheme].getDefaultAuthority(target);\n    }\n    else {\n        throw new Error(`Invalid target ${(0, uri_parser_1.uriToString)(target)}`);\n    }\n}\nexports.getDefaultAuthority = getDefaultAuthority;\nfunction mapUriDefaultScheme(target) {\n    if (target.scheme === undefined || !(target.scheme in registeredResolvers)) {\n        if (defaultScheme !== null) {\n            return {\n                scheme: defaultScheme,\n                authority: undefined,\n                path: (0, uri_parser_1.uriToString)(target),\n            };\n        }\n        else {\n            return null;\n        }\n    }\n    return target;\n}\nexports.mapUriDefaultScheme = mapUriDefaultScheme;\n//# sourceMappingURL=resolver.js.map","\"use strict\";\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ResolvingCall = void 0;\nconst constants_1 = require(\"./constants\");\nconst deadline_1 = require(\"./deadline\");\nconst metadata_1 = require(\"./metadata\");\nconst logging = require(\"./logging\");\nconst control_plane_status_1 = require(\"./control-plane-status\");\nconst TRACER_NAME = 'resolving_call';\nclass ResolvingCall {\n    constructor(channel, method, options, filterStackFactory, credentials, callNumber) {\n        this.channel = channel;\n        this.method = method;\n        this.filterStackFactory = filterStackFactory;\n        this.credentials = credentials;\n        this.callNumber = callNumber;\n        this.child = null;\n        this.readPending = false;\n        this.pendingMessage = null;\n        this.pendingHalfClose = false;\n        this.ended = false;\n        this.readFilterPending = false;\n        this.writeFilterPending = false;\n        this.pendingChildStatus = null;\n        this.metadata = null;\n        this.listener = null;\n        this.statusWatchers = [];\n        this.deadlineTimer = setTimeout(() => { }, 0);\n        this.filterStack = null;\n        this.deadline = options.deadline;\n        this.host = options.host;\n        if (options.parentCall) {\n            if (options.flags & constants_1.Propagate.CANCELLATION) {\n                options.parentCall.on('cancelled', () => {\n                    this.cancelWithStatus(constants_1.Status.CANCELLED, 'Cancelled by parent call');\n                });\n            }\n            if (options.flags & constants_1.Propagate.DEADLINE) {\n                this.trace('Propagating deadline from parent: ' + options.parentCall.getDeadline());\n                this.deadline = (0, deadline_1.minDeadline)(this.deadline, options.parentCall.getDeadline());\n            }\n        }\n        this.trace('Created');\n        this.runDeadlineTimer();\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '[' + this.callNumber + '] ' + text);\n    }\n    runDeadlineTimer() {\n        clearTimeout(this.deadlineTimer);\n        this.trace('Deadline: ' + (0, deadline_1.deadlineToString)(this.deadline));\n        const timeout = (0, deadline_1.getRelativeTimeout)(this.deadline);\n        if (timeout !== Infinity) {\n            this.trace('Deadline will be reached in ' + timeout + 'ms');\n            const handleDeadline = () => {\n                this.cancelWithStatus(constants_1.Status.DEADLINE_EXCEEDED, 'Deadline exceeded');\n            };\n            if (timeout <= 0) {\n                process.nextTick(handleDeadline);\n            }\n            else {\n                this.deadlineTimer = setTimeout(handleDeadline, timeout);\n            }\n        }\n    }\n    outputStatus(status) {\n        if (!this.ended) {\n            this.ended = true;\n            if (!this.filterStack) {\n                this.filterStack = this.filterStackFactory.createFilter();\n            }\n            clearTimeout(this.deadlineTimer);\n            const filteredStatus = this.filterStack.receiveTrailers(status);\n            this.trace('ended with status: code=' + filteredStatus.code + ' details=\"' + filteredStatus.details + '\"');\n            this.statusWatchers.forEach(watcher => watcher(filteredStatus));\n            process.nextTick(() => {\n                var _a;\n                (_a = this.listener) === null || _a === void 0 ? void 0 : _a.onReceiveStatus(filteredStatus);\n            });\n        }\n    }\n    sendMessageOnChild(context, message) {\n        if (!this.child) {\n            throw new Error('sendMessageonChild called with child not populated');\n        }\n        const child = this.child;\n        this.writeFilterPending = true;\n        this.filterStack.sendMessage(Promise.resolve({ message: message, flags: context.flags })).then((filteredMessage) => {\n            this.writeFilterPending = false;\n            child.sendMessageWithContext(context, filteredMessage.message);\n            if (this.pendingHalfClose) {\n                child.halfClose();\n            }\n        }, (status) => {\n            this.cancelWithStatus(status.code, status.details);\n        });\n    }\n    getConfig() {\n        if (this.ended) {\n            return;\n        }\n        if (!this.metadata || !this.listener) {\n            throw new Error('getConfig called before start');\n        }\n        const configResult = this.channel.getConfig(this.method, this.metadata);\n        if (configResult.type === 'NONE') {\n            this.channel.queueCallForConfig(this);\n            return;\n        }\n        else if (configResult.type === 'ERROR') {\n            if (this.metadata.getOptions().waitForReady) {\n                this.channel.queueCallForConfig(this);\n            }\n            else {\n                this.outputStatus(configResult.error);\n            }\n            return;\n        }\n        // configResult.type === 'SUCCESS'\n        const config = configResult.config;\n        if (config.status !== constants_1.Status.OK) {\n            const { code, details } = (0, control_plane_status_1.restrictControlPlaneStatusCode)(config.status, 'Failed to route call to method ' + this.method);\n            this.outputStatus({\n                code: code,\n                details: details,\n                metadata: new metadata_1.Metadata()\n            });\n            return;\n        }\n        if (config.methodConfig.timeout) {\n            const configDeadline = new Date();\n            configDeadline.setSeconds(configDeadline.getSeconds() + config.methodConfig.timeout.seconds);\n            configDeadline.setMilliseconds(configDeadline.getMilliseconds() +\n                config.methodConfig.timeout.nanos / 1000000);\n            this.deadline = (0, deadline_1.minDeadline)(this.deadline, configDeadline);\n            this.runDeadlineTimer();\n        }\n        this.filterStackFactory.push(config.dynamicFilterFactories);\n        this.filterStack = this.filterStackFactory.createFilter();\n        this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(filteredMetadata => {\n            this.child = this.channel.createInnerCall(config, this.method, this.host, this.credentials, this.deadline);\n            this.child.start(filteredMetadata, {\n                onReceiveMetadata: metadata => {\n                    this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(metadata));\n                },\n                onReceiveMessage: message => {\n                    this.readFilterPending = true;\n                    this.filterStack.receiveMessage(message).then(filteredMesssage => {\n                        this.readFilterPending = false;\n                        this.listener.onReceiveMessage(filteredMesssage);\n                        if (this.pendingChildStatus) {\n                            this.outputStatus(this.pendingChildStatus);\n                        }\n                    }, (status) => {\n                        this.cancelWithStatus(status.code, status.details);\n                    });\n                },\n                onReceiveStatus: status => {\n                    if (this.readFilterPending) {\n                        this.pendingChildStatus = status;\n                    }\n                    else {\n                        this.outputStatus(status);\n                    }\n                }\n            });\n            if (this.readPending) {\n                this.child.startRead();\n            }\n            if (this.pendingMessage) {\n                this.sendMessageOnChild(this.pendingMessage.context, this.pendingMessage.message);\n            }\n            else if (this.pendingHalfClose) {\n                this.child.halfClose();\n            }\n        }, (status) => {\n            this.outputStatus(status);\n        });\n    }\n    reportResolverError(status) {\n        var _a;\n        if ((_a = this.metadata) === null || _a === void 0 ? void 0 : _a.getOptions().waitForReady) {\n            this.channel.queueCallForConfig(this);\n        }\n        else {\n            this.outputStatus(status);\n        }\n    }\n    cancelWithStatus(status, details) {\n        var _a;\n        this.trace('cancelWithStatus code: ' + status + ' details: \"' + details + '\"');\n        (_a = this.child) === null || _a === void 0 ? void 0 : _a.cancelWithStatus(status, details);\n        this.outputStatus({ code: status, details: details, metadata: new metadata_1.Metadata() });\n    }\n    getPeer() {\n        var _a, _b;\n        return (_b = (_a = this.child) === null || _a === void 0 ? void 0 : _a.getPeer()) !== null && _b !== void 0 ? _b : this.channel.getTarget();\n    }\n    start(metadata, listener) {\n        this.trace('start called');\n        this.metadata = metadata.clone();\n        this.listener = listener;\n        this.getConfig();\n    }\n    sendMessageWithContext(context, message) {\n        this.trace('write() called with message of length ' + message.length);\n        if (this.child) {\n            this.sendMessageOnChild(context, message);\n        }\n        else {\n            this.pendingMessage = { context, message };\n        }\n    }\n    startRead() {\n        this.trace('startRead called');\n        if (this.child) {\n            this.child.startRead();\n        }\n        else {\n            this.readPending = true;\n        }\n    }\n    halfClose() {\n        this.trace('halfClose called');\n        if (this.child && !this.writeFilterPending) {\n            this.child.halfClose();\n        }\n        else {\n            this.pendingHalfClose = true;\n        }\n    }\n    setCredentials(credentials) {\n        this.credentials = this.credentials.compose(credentials);\n    }\n    addStatusWatcher(watcher) {\n        this.statusWatchers.push(watcher);\n    }\n    getCallNumber() {\n        return this.callNumber;\n    }\n}\nexports.ResolvingCall = ResolvingCall;\n//# sourceMappingURL=resolving-call.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ResolvingLoadBalancer = void 0;\nconst load_balancer_1 = require(\"./load-balancer\");\nconst service_config_1 = require(\"./service-config\");\nconst connectivity_state_1 = require(\"./connectivity-state\");\nconst resolver_1 = require(\"./resolver\");\nconst picker_1 = require(\"./picker\");\nconst backoff_timeout_1 = require(\"./backoff-timeout\");\nconst constants_1 = require(\"./constants\");\nconst metadata_1 = require(\"./metadata\");\nconst logging = require(\"./logging\");\nconst constants_2 = require(\"./constants\");\nconst uri_parser_1 = require(\"./uri-parser\");\nconst load_balancer_child_handler_1 = require(\"./load-balancer-child-handler\");\nconst TRACER_NAME = 'resolving_load_balancer';\nfunction trace(text) {\n    logging.trace(constants_2.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst DEFAULT_LOAD_BALANCER_NAME = 'pick_first';\nfunction getDefaultConfigSelector(serviceConfig) {\n    return function defaultConfigSelector(methodName, metadata) {\n        var _a, _b;\n        const splitName = methodName.split('/').filter((x) => x.length > 0);\n        const service = (_a = splitName[0]) !== null && _a !== void 0 ? _a : '';\n        const method = (_b = splitName[1]) !== null && _b !== void 0 ? _b : '';\n        if (serviceConfig && serviceConfig.methodConfig) {\n            for (const methodConfig of serviceConfig.methodConfig) {\n                for (const name of methodConfig.name) {\n                    if (name.service === service &&\n                        (name.method === undefined || name.method === method)) {\n                        return {\n                            methodConfig: methodConfig,\n                            pickInformation: {},\n                            status: constants_1.Status.OK,\n                            dynamicFilterFactories: []\n                        };\n                    }\n                }\n            }\n        }\n        return {\n            methodConfig: { name: [] },\n            pickInformation: {},\n            status: constants_1.Status.OK,\n            dynamicFilterFactories: []\n        };\n    };\n}\nclass ResolvingLoadBalancer {\n    /**\n     * Wrapper class that behaves like a `LoadBalancer` and also handles name\n     * resolution internally.\n     * @param target The address of the backend to connect to.\n     * @param channelControlHelper `ChannelControlHelper` instance provided by\n     *     this load balancer's owner.\n     * @param defaultServiceConfig The default service configuration to be used\n     *     if none is provided by the name resolver. A `null` value indicates\n     *     that the default behavior should be the default unconfigured behavior.\n     *     In practice, that means using the \"pick first\" load balancer\n     *     implmentation\n     */\n    constructor(target, channelControlHelper, channelOptions, onSuccessfulResolution, onFailedResolution) {\n        this.target = target;\n        this.channelControlHelper = channelControlHelper;\n        this.channelOptions = channelOptions;\n        this.onSuccessfulResolution = onSuccessfulResolution;\n        this.onFailedResolution = onFailedResolution;\n        this.latestChildState = connectivity_state_1.ConnectivityState.IDLE;\n        this.latestChildPicker = new picker_1.QueuePicker(this);\n        /**\n         * This resolving load balancer's current connectivity state.\n         */\n        this.currentState = connectivity_state_1.ConnectivityState.IDLE;\n        /**\n         * The service config object from the last successful resolution, if\n         * available. A value of null indicates that we have not yet received a valid\n         * service config from the resolver.\n         */\n        this.previousServiceConfig = null;\n        /**\n         * Indicates whether we should attempt to resolve again after the backoff\n         * timer runs out.\n         */\n        this.continueResolving = false;\n        if (channelOptions['grpc.service_config']) {\n            this.defaultServiceConfig = (0, service_config_1.validateServiceConfig)(JSON.parse(channelOptions['grpc.service_config']));\n        }\n        else {\n            this.defaultServiceConfig = {\n                loadBalancingConfig: [],\n                methodConfig: [],\n            };\n        }\n        this.updateState(connectivity_state_1.ConnectivityState.IDLE, new picker_1.QueuePicker(this));\n        this.childLoadBalancer = new load_balancer_child_handler_1.ChildLoadBalancerHandler({\n            createSubchannel: channelControlHelper.createSubchannel.bind(channelControlHelper),\n            requestReresolution: () => {\n                /* If the backoffTimeout is running, we're still backing off from\n                 * making resolve requests, so we shouldn't make another one here.\n                 * In that case, the backoff timer callback will call\n                 * updateResolution */\n                if (this.backoffTimeout.isRunning()) {\n                    this.continueResolving = true;\n                }\n                else {\n                    this.updateResolution();\n                }\n            },\n            updateState: (newState, picker) => {\n                this.latestChildState = newState;\n                this.latestChildPicker = picker;\n                this.updateState(newState, picker);\n            },\n            addChannelzChild: channelControlHelper.addChannelzChild.bind(channelControlHelper),\n            removeChannelzChild: channelControlHelper.removeChannelzChild.bind(channelControlHelper)\n        });\n        this.innerResolver = (0, resolver_1.createResolver)(target, {\n            onSuccessfulResolution: (addressList, serviceConfig, serviceConfigError, configSelector, attributes) => {\n                var _a;\n                let workingServiceConfig = null;\n                /* This first group of conditionals implements the algorithm described\n                 * in https://github.com/grpc/proposal/blob/master/A21-service-config-error-handling.md\n                 * in the section called \"Behavior on receiving a new gRPC Config\".\n                 */\n                if (serviceConfig === null) {\n                    // Step 4 and 5\n                    if (serviceConfigError === null) {\n                        // Step 5\n                        this.previousServiceConfig = null;\n                        workingServiceConfig = this.defaultServiceConfig;\n                    }\n                    else {\n                        // Step 4\n                        if (this.previousServiceConfig === null) {\n                            // Step 4.ii\n                            this.handleResolutionFailure(serviceConfigError);\n                        }\n                        else {\n                            // Step 4.i\n                            workingServiceConfig = this.previousServiceConfig;\n                        }\n                    }\n                }\n                else {\n                    // Step 3\n                    workingServiceConfig = serviceConfig;\n                    this.previousServiceConfig = serviceConfig;\n                }\n                const workingConfigList = (_a = workingServiceConfig === null || workingServiceConfig === void 0 ? void 0 : workingServiceConfig.loadBalancingConfig) !== null && _a !== void 0 ? _a : [];\n                const loadBalancingConfig = (0, load_balancer_1.getFirstUsableConfig)(workingConfigList, true);\n                if (loadBalancingConfig === null) {\n                    // There were load balancing configs but none are supported. This counts as a resolution failure\n                    this.handleResolutionFailure({\n                        code: constants_1.Status.UNAVAILABLE,\n                        details: 'All load balancer options in service config are not compatible',\n                        metadata: new metadata_1.Metadata(),\n                    });\n                    return;\n                }\n                this.childLoadBalancer.updateAddressList(addressList, loadBalancingConfig, attributes);\n                const finalServiceConfig = workingServiceConfig !== null && workingServiceConfig !== void 0 ? workingServiceConfig : this.defaultServiceConfig;\n                this.onSuccessfulResolution(finalServiceConfig, configSelector !== null && configSelector !== void 0 ? configSelector : getDefaultConfigSelector(finalServiceConfig));\n            },\n            onError: (error) => {\n                this.handleResolutionFailure(error);\n            },\n        }, channelOptions);\n        const backoffOptions = {\n            initialDelay: channelOptions['grpc.initial_reconnect_backoff_ms'],\n            maxDelay: channelOptions['grpc.max_reconnect_backoff_ms'],\n        };\n        this.backoffTimeout = new backoff_timeout_1.BackoffTimeout(() => {\n            if (this.continueResolving) {\n                this.updateResolution();\n                this.continueResolving = false;\n            }\n            else {\n                this.updateState(this.latestChildState, this.latestChildPicker);\n            }\n        }, backoffOptions);\n        this.backoffTimeout.unref();\n    }\n    updateResolution() {\n        this.innerResolver.updateResolution();\n        if (this.currentState === connectivity_state_1.ConnectivityState.IDLE) {\n            this.updateState(connectivity_state_1.ConnectivityState.CONNECTING, new picker_1.QueuePicker(this));\n        }\n        this.backoffTimeout.runOnce();\n    }\n    updateState(connectivityState, picker) {\n        trace((0, uri_parser_1.uriToString)(this.target) +\n            ' ' +\n            connectivity_state_1.ConnectivityState[this.currentState] +\n            ' -> ' +\n            connectivity_state_1.ConnectivityState[connectivityState]);\n        // Ensure that this.exitIdle() is called by the picker\n        if (connectivityState === connectivity_state_1.ConnectivityState.IDLE) {\n            picker = new picker_1.QueuePicker(this);\n        }\n        this.currentState = connectivityState;\n        this.channelControlHelper.updateState(connectivityState, picker);\n    }\n    handleResolutionFailure(error) {\n        if (this.latestChildState === connectivity_state_1.ConnectivityState.IDLE) {\n            this.updateState(connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE, new picker_1.UnavailablePicker(error));\n            this.onFailedResolution(error);\n        }\n    }\n    exitIdle() {\n        if (this.currentState === connectivity_state_1.ConnectivityState.IDLE || this.currentState === connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n            if (this.backoffTimeout.isRunning()) {\n                this.continueResolving = true;\n            }\n            else {\n                this.updateResolution();\n            }\n        }\n        this.childLoadBalancer.exitIdle();\n    }\n    updateAddressList(addressList, lbConfig) {\n        throw new Error('updateAddressList not supported on ResolvingLoadBalancer');\n    }\n    resetBackoff() {\n        this.backoffTimeout.reset();\n        this.childLoadBalancer.resetBackoff();\n    }\n    destroy() {\n        this.childLoadBalancer.destroy();\n        this.innerResolver.destroy();\n        this.updateState(connectivity_state_1.ConnectivityState.SHUTDOWN, new picker_1.UnavailablePicker());\n    }\n    getTypeName() {\n        return 'resolving_load_balancer';\n    }\n}\nexports.ResolvingLoadBalancer = ResolvingLoadBalancer;\n//# sourceMappingURL=resolving-load-balancer.js.map","\"use strict\";\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RetryingCall = exports.MessageBufferTracker = exports.RetryThrottler = void 0;\nconst constants_1 = require(\"./constants\");\nconst metadata_1 = require(\"./metadata\");\nconst logging = require(\"./logging\");\nconst TRACER_NAME = 'retrying_call';\nclass RetryThrottler {\n    constructor(maxTokens, tokenRatio, previousRetryThrottler) {\n        this.maxTokens = maxTokens;\n        this.tokenRatio = tokenRatio;\n        if (previousRetryThrottler) {\n            /* When carrying over tokens from a previous config, rescale them to the\n             * new max value */\n            this.tokens = previousRetryThrottler.tokens * (maxTokens / previousRetryThrottler.maxTokens);\n        }\n        else {\n            this.tokens = maxTokens;\n        }\n    }\n    addCallSucceeded() {\n        this.tokens = Math.max(this.tokens + this.tokenRatio, this.maxTokens);\n    }\n    addCallFailed() {\n        this.tokens = Math.min(this.tokens - 1, 0);\n    }\n    canRetryCall() {\n        return this.tokens > this.maxTokens / 2;\n    }\n}\nexports.RetryThrottler = RetryThrottler;\nclass MessageBufferTracker {\n    constructor(totalLimit, limitPerCall) {\n        this.totalLimit = totalLimit;\n        this.limitPerCall = limitPerCall;\n        this.totalAllocated = 0;\n        this.allocatedPerCall = new Map();\n    }\n    allocate(size, callId) {\n        var _a;\n        const currentPerCall = (_a = this.allocatedPerCall.get(callId)) !== null && _a !== void 0 ? _a : 0;\n        if (this.limitPerCall - currentPerCall < size || this.totalLimit - this.totalAllocated < size) {\n            return false;\n        }\n        this.allocatedPerCall.set(callId, currentPerCall + size);\n        this.totalAllocated += size;\n        return true;\n    }\n    free(size, callId) {\n        var _a;\n        if (this.totalAllocated < size) {\n            throw new Error(`Invalid buffer allocation state: call ${callId} freed ${size} > total allocated ${this.totalAllocated}`);\n        }\n        this.totalAllocated -= size;\n        const currentPerCall = (_a = this.allocatedPerCall.get(callId)) !== null && _a !== void 0 ? _a : 0;\n        if (currentPerCall < size) {\n            throw new Error(`Invalid buffer allocation state: call ${callId} freed ${size} > allocated for call ${currentPerCall}`);\n        }\n        this.allocatedPerCall.set(callId, currentPerCall - size);\n    }\n    freeAll(callId) {\n        var _a;\n        const currentPerCall = (_a = this.allocatedPerCall.get(callId)) !== null && _a !== void 0 ? _a : 0;\n        if (this.totalAllocated < currentPerCall) {\n            throw new Error(`Invalid buffer allocation state: call ${callId} allocated ${currentPerCall} > total allocated ${this.totalAllocated}`);\n        }\n        this.totalAllocated -= currentPerCall;\n        this.allocatedPerCall.delete(callId);\n    }\n}\nexports.MessageBufferTracker = MessageBufferTracker;\nconst PREVIONS_RPC_ATTEMPTS_METADATA_KEY = 'grpc-previous-rpc-attempts';\nclass RetryingCall {\n    constructor(channel, callConfig, methodName, host, credentials, deadline, callNumber, bufferTracker, retryThrottler) {\n        this.channel = channel;\n        this.callConfig = callConfig;\n        this.methodName = methodName;\n        this.host = host;\n        this.credentials = credentials;\n        this.deadline = deadline;\n        this.callNumber = callNumber;\n        this.bufferTracker = bufferTracker;\n        this.retryThrottler = retryThrottler;\n        this.listener = null;\n        this.initialMetadata = null;\n        this.underlyingCalls = [];\n        this.writeBuffer = [];\n        /**\n         * The offset of message indices in the writeBuffer. For example, if\n         * writeBufferOffset is 10, message 10 is in writeBuffer[0] and message 15\n         * is in writeBuffer[5].\n         */\n        this.writeBufferOffset = 0;\n        /**\n         * Tracks whether a read has been started, so that we know whether to start\n         * reads on new child calls. This only matters for the first read, because\n         * once a message comes in the child call becomes committed and there will\n         * be no new child calls.\n         */\n        this.readStarted = false;\n        this.transparentRetryUsed = false;\n        /**\n         * Number of attempts so far\n         */\n        this.attempts = 0;\n        this.hedgingTimer = null;\n        this.committedCallIndex = null;\n        this.initialRetryBackoffSec = 0;\n        this.nextRetryBackoffSec = 0;\n        if (callConfig.methodConfig.retryPolicy) {\n            this.state = 'RETRY';\n            const retryPolicy = callConfig.methodConfig.retryPolicy;\n            this.nextRetryBackoffSec = this.initialRetryBackoffSec = Number(retryPolicy.initialBackoff.substring(0, retryPolicy.initialBackoff.length - 1));\n        }\n        else if (callConfig.methodConfig.hedgingPolicy) {\n            this.state = 'HEDGING';\n        }\n        else {\n            this.state = 'TRANSPARENT_ONLY';\n        }\n    }\n    getCallNumber() {\n        return this.callNumber;\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '[' + this.callNumber + '] ' + text);\n    }\n    reportStatus(statusObject) {\n        this.trace('ended with status: code=' + statusObject.code + ' details=\"' + statusObject.details + '\"');\n        this.bufferTracker.freeAll(this.callNumber);\n        this.writeBufferOffset = this.writeBufferOffset + this.writeBuffer.length;\n        this.writeBuffer = [];\n        process.nextTick(() => {\n            var _a;\n            // Explicitly construct status object to remove progress field\n            (_a = this.listener) === null || _a === void 0 ? void 0 : _a.onReceiveStatus({\n                code: statusObject.code,\n                details: statusObject.details,\n                metadata: statusObject.metadata\n            });\n        });\n    }\n    cancelWithStatus(status, details) {\n        this.trace('cancelWithStatus code: ' + status + ' details: \"' + details + '\"');\n        this.reportStatus({ code: status, details, metadata: new metadata_1.Metadata() });\n        for (const { call } of this.underlyingCalls) {\n            call.cancelWithStatus(status, details);\n        }\n    }\n    getPeer() {\n        if (this.committedCallIndex !== null) {\n            return this.underlyingCalls[this.committedCallIndex].call.getPeer();\n        }\n        else {\n            return 'unknown';\n        }\n    }\n    getBufferEntry(messageIndex) {\n        var _a;\n        return (_a = this.writeBuffer[messageIndex - this.writeBufferOffset]) !== null && _a !== void 0 ? _a : { entryType: 'FREED', allocated: false };\n    }\n    getNextBufferIndex() {\n        return this.writeBufferOffset + this.writeBuffer.length;\n    }\n    clearSentMessages() {\n        if (this.state !== 'COMMITTED') {\n            return;\n        }\n        const earliestNeededMessageIndex = this.underlyingCalls[this.committedCallIndex].nextMessageToSend;\n        for (let messageIndex = this.writeBufferOffset; messageIndex < earliestNeededMessageIndex; messageIndex++) {\n            const bufferEntry = this.getBufferEntry(messageIndex);\n            if (bufferEntry.allocated) {\n                this.bufferTracker.free(bufferEntry.message.message.length, this.callNumber);\n            }\n        }\n        this.writeBuffer = this.writeBuffer.slice(earliestNeededMessageIndex - this.writeBufferOffset);\n        this.writeBufferOffset = earliestNeededMessageIndex;\n    }\n    commitCall(index) {\n        if (this.state === 'COMMITTED') {\n            return;\n        }\n        if (this.underlyingCalls[index].state === 'COMPLETED') {\n            return;\n        }\n        this.trace('Committing call [' + this.underlyingCalls[index].call.getCallNumber() + '] at index ' + index);\n        this.state = 'COMMITTED';\n        this.committedCallIndex = index;\n        for (let i = 0; i < this.underlyingCalls.length; i++) {\n            if (i === index) {\n                continue;\n            }\n            if (this.underlyingCalls[i].state === 'COMPLETED') {\n                continue;\n            }\n            this.underlyingCalls[i].state = 'COMPLETED';\n            this.underlyingCalls[i].call.cancelWithStatus(constants_1.Status.CANCELLED, 'Discarded in favor of other hedged attempt');\n        }\n        this.clearSentMessages();\n    }\n    commitCallWithMostMessages() {\n        if (this.state === 'COMMITTED') {\n            return;\n        }\n        let mostMessages = -1;\n        let callWithMostMessages = -1;\n        for (const [index, childCall] of this.underlyingCalls.entries()) {\n            if (childCall.state === 'ACTIVE' && childCall.nextMessageToSend > mostMessages) {\n                mostMessages = childCall.nextMessageToSend;\n                callWithMostMessages = index;\n            }\n        }\n        if (callWithMostMessages === -1) {\n            /* There are no active calls, disable retries to force the next call that\n             * is started to be committed. */\n            this.state = 'TRANSPARENT_ONLY';\n        }\n        else {\n            this.commitCall(callWithMostMessages);\n        }\n    }\n    isStatusCodeInList(list, code) {\n        return list.some((value => value === code || value.toString().toLowerCase() === constants_1.Status[code].toLowerCase()));\n    }\n    getNextRetryBackoffMs() {\n        var _a;\n        const retryPolicy = (_a = this.callConfig) === null || _a === void 0 ? void 0 : _a.methodConfig.retryPolicy;\n        if (!retryPolicy) {\n            return 0;\n        }\n        const nextBackoffMs = Math.random() * this.nextRetryBackoffSec * 1000;\n        const maxBackoffSec = Number(retryPolicy.maxBackoff.substring(0, retryPolicy.maxBackoff.length - 1));\n        this.nextRetryBackoffSec = Math.min(this.nextRetryBackoffSec * retryPolicy.backoffMultiplier, maxBackoffSec);\n        return nextBackoffMs;\n    }\n    maybeRetryCall(pushback, callback) {\n        if (this.state !== 'RETRY') {\n            callback(false);\n            return;\n        }\n        const retryPolicy = this.callConfig.methodConfig.retryPolicy;\n        if (this.attempts >= Math.min(retryPolicy.maxAttempts, 5)) {\n            callback(false);\n            return;\n        }\n        let retryDelayMs;\n        if (pushback === null) {\n            retryDelayMs = this.getNextRetryBackoffMs();\n        }\n        else if (pushback < 0) {\n            this.state = 'TRANSPARENT_ONLY';\n            callback(false);\n            return;\n        }\n        else {\n            retryDelayMs = pushback;\n            this.nextRetryBackoffSec = this.initialRetryBackoffSec;\n        }\n        setTimeout(() => {\n            var _a, _b;\n            if (this.state !== 'RETRY') {\n                callback(false);\n                return;\n            }\n            if ((_b = (_a = this.retryThrottler) === null || _a === void 0 ? void 0 : _a.canRetryCall()) !== null && _b !== void 0 ? _b : true) {\n                callback(true);\n                this.attempts += 1;\n                this.startNewAttempt();\n            }\n        }, retryDelayMs);\n    }\n    countActiveCalls() {\n        let count = 0;\n        for (const call of this.underlyingCalls) {\n            if ((call === null || call === void 0 ? void 0 : call.state) === 'ACTIVE') {\n                count += 1;\n            }\n        }\n        return count;\n    }\n    handleProcessedStatus(status, callIndex, pushback) {\n        var _a, _b, _c;\n        switch (this.state) {\n            case 'COMMITTED':\n            case 'TRANSPARENT_ONLY':\n                this.commitCall(callIndex);\n                this.reportStatus(status);\n                break;\n            case 'HEDGING':\n                if (this.isStatusCodeInList((_a = this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes) !== null && _a !== void 0 ? _a : [], status.code)) {\n                    (_b = this.retryThrottler) === null || _b === void 0 ? void 0 : _b.addCallFailed();\n                    let delayMs;\n                    if (pushback === null) {\n                        delayMs = 0;\n                    }\n                    else if (pushback < 0) {\n                        this.state = 'TRANSPARENT_ONLY';\n                        this.commitCall(callIndex);\n                        this.reportStatus(status);\n                        return;\n                    }\n                    else {\n                        delayMs = pushback;\n                    }\n                    setTimeout(() => {\n                        this.maybeStartHedgingAttempt();\n                        // If after trying to start a call there are no active calls, this was the last one\n                        if (this.countActiveCalls() === 0) {\n                            this.commitCall(callIndex);\n                            this.reportStatus(status);\n                        }\n                    }, delayMs);\n                }\n                else {\n                    this.commitCall(callIndex);\n                    this.reportStatus(status);\n                }\n                break;\n            case 'RETRY':\n                if (this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes, status.code)) {\n                    (_c = this.retryThrottler) === null || _c === void 0 ? void 0 : _c.addCallFailed();\n                    this.maybeRetryCall(pushback, (retried) => {\n                        if (!retried) {\n                            this.commitCall(callIndex);\n                            this.reportStatus(status);\n                        }\n                    });\n                }\n                else {\n                    this.commitCall(callIndex);\n                    this.reportStatus(status);\n                }\n                break;\n        }\n    }\n    getPushback(metadata) {\n        const mdValue = metadata.get('grpc-retry-pushback-ms');\n        if (mdValue.length === 0) {\n            return null;\n        }\n        try {\n            return parseInt(mdValue[0]);\n        }\n        catch (e) {\n            return -1;\n        }\n    }\n    handleChildStatus(status, callIndex) {\n        var _a;\n        if (this.underlyingCalls[callIndex].state === 'COMPLETED') {\n            return;\n        }\n        this.trace('state=' + this.state + ' handling status with progress ' + status.progress + ' from child [' + this.underlyingCalls[callIndex].call.getCallNumber() + '] in state ' + this.underlyingCalls[callIndex].state);\n        this.underlyingCalls[callIndex].state = 'COMPLETED';\n        if (status.code === constants_1.Status.OK) {\n            (_a = this.retryThrottler) === null || _a === void 0 ? void 0 : _a.addCallSucceeded();\n            this.commitCall(callIndex);\n            this.reportStatus(status);\n            return;\n        }\n        if (this.state === 'COMMITTED') {\n            this.reportStatus(status);\n            return;\n        }\n        const pushback = this.getPushback(status.metadata);\n        switch (status.progress) {\n            case 'NOT_STARTED':\n                // RPC never leaves the client, always safe to retry\n                this.startNewAttempt();\n                break;\n            case 'REFUSED':\n                // RPC reaches the server library, but not the server application logic\n                if (this.transparentRetryUsed) {\n                    this.handleProcessedStatus(status, callIndex, pushback);\n                }\n                else {\n                    this.transparentRetryUsed = true;\n                    this.startNewAttempt();\n                }\n                ;\n                break;\n            case 'DROP':\n                this.commitCall(callIndex);\n                this.reportStatus(status);\n                break;\n            case 'PROCESSED':\n                this.handleProcessedStatus(status, callIndex, pushback);\n                break;\n        }\n    }\n    maybeStartHedgingAttempt() {\n        if (this.state !== 'HEDGING') {\n            return;\n        }\n        if (!this.callConfig.methodConfig.hedgingPolicy) {\n            return;\n        }\n        const hedgingPolicy = this.callConfig.methodConfig.hedgingPolicy;\n        if (this.attempts >= Math.min(hedgingPolicy.maxAttempts, 5)) {\n            return;\n        }\n        this.attempts += 1;\n        this.startNewAttempt();\n        this.maybeStartHedgingTimer();\n    }\n    maybeStartHedgingTimer() {\n        var _a, _b, _c;\n        if (this.hedgingTimer) {\n            clearTimeout(this.hedgingTimer);\n        }\n        if (this.state !== 'HEDGING') {\n            return;\n        }\n        if (!this.callConfig.methodConfig.hedgingPolicy) {\n            return;\n        }\n        const hedgingPolicy = this.callConfig.methodConfig.hedgingPolicy;\n        if (this.attempts >= Math.min(hedgingPolicy.maxAttempts, 5)) {\n            return;\n        }\n        const hedgingDelayString = (_a = hedgingPolicy.hedgingDelay) !== null && _a !== void 0 ? _a : '0s';\n        const hedgingDelaySec = Number(hedgingDelayString.substring(0, hedgingDelayString.length - 1));\n        this.hedgingTimer = setTimeout(() => {\n            this.maybeStartHedgingAttempt();\n        }, hedgingDelaySec * 1000);\n        (_c = (_b = this.hedgingTimer).unref) === null || _c === void 0 ? void 0 : _c.call(_b);\n    }\n    startNewAttempt() {\n        const child = this.channel.createLoadBalancingCall(this.callConfig, this.methodName, this.host, this.credentials, this.deadline);\n        this.trace('Created child call [' + child.getCallNumber() + '] for attempt ' + this.attempts);\n        const index = this.underlyingCalls.length;\n        this.underlyingCalls.push({ state: 'ACTIVE', call: child, nextMessageToSend: 0 });\n        const previousAttempts = this.attempts - 1;\n        const initialMetadata = this.initialMetadata.clone();\n        if (previousAttempts > 0) {\n            initialMetadata.set(PREVIONS_RPC_ATTEMPTS_METADATA_KEY, `${previousAttempts}`);\n        }\n        let receivedMetadata = false;\n        child.start(initialMetadata, {\n            onReceiveMetadata: metadata => {\n                this.trace('Received metadata from child [' + child.getCallNumber() + ']');\n                this.commitCall(index);\n                receivedMetadata = true;\n                if (previousAttempts > 0) {\n                    metadata.set(PREVIONS_RPC_ATTEMPTS_METADATA_KEY, `${previousAttempts}`);\n                }\n                if (this.underlyingCalls[index].state === 'ACTIVE') {\n                    this.listener.onReceiveMetadata(metadata);\n                }\n            },\n            onReceiveMessage: message => {\n                this.trace('Received message from child [' + child.getCallNumber() + ']');\n                this.commitCall(index);\n                if (this.underlyingCalls[index].state === 'ACTIVE') {\n                    this.listener.onReceiveMessage(message);\n                }\n            },\n            onReceiveStatus: status => {\n                this.trace('Received status from child [' + child.getCallNumber() + ']');\n                if (!receivedMetadata && previousAttempts > 0) {\n                    status.metadata.set(PREVIONS_RPC_ATTEMPTS_METADATA_KEY, `${previousAttempts}`);\n                }\n                this.handleChildStatus(status, index);\n            }\n        });\n        this.sendNextChildMessage(index);\n        if (this.readStarted) {\n            child.startRead();\n        }\n    }\n    start(metadata, listener) {\n        this.trace('start called');\n        this.listener = listener;\n        this.initialMetadata = metadata;\n        this.attempts += 1;\n        this.startNewAttempt();\n        this.maybeStartHedgingTimer();\n    }\n    handleChildWriteCompleted(childIndex) {\n        var _a, _b;\n        const childCall = this.underlyingCalls[childIndex];\n        const messageIndex = childCall.nextMessageToSend;\n        (_b = (_a = this.getBufferEntry(messageIndex)).callback) === null || _b === void 0 ? void 0 : _b.call(_a);\n        this.clearSentMessages();\n        childCall.nextMessageToSend += 1;\n        this.sendNextChildMessage(childIndex);\n    }\n    sendNextChildMessage(childIndex) {\n        const childCall = this.underlyingCalls[childIndex];\n        if (childCall.state === 'COMPLETED') {\n            return;\n        }\n        if (this.getBufferEntry(childCall.nextMessageToSend)) {\n            const bufferEntry = this.getBufferEntry(childCall.nextMessageToSend);\n            switch (bufferEntry.entryType) {\n                case 'MESSAGE':\n                    childCall.call.sendMessageWithContext({\n                        callback: (error) => {\n                            // Ignore error\n                            this.handleChildWriteCompleted(childIndex);\n                        }\n                    }, bufferEntry.message.message);\n                    break;\n                case 'HALF_CLOSE':\n                    childCall.nextMessageToSend += 1;\n                    childCall.call.halfClose();\n                    break;\n                case 'FREED':\n                    // Should not be possible\n                    break;\n            }\n        }\n    }\n    sendMessageWithContext(context, message) {\n        var _a;\n        this.trace('write() called with message of length ' + message.length);\n        const writeObj = {\n            message,\n            flags: context.flags,\n        };\n        const messageIndex = this.getNextBufferIndex();\n        const bufferEntry = {\n            entryType: 'MESSAGE',\n            message: writeObj,\n            allocated: this.bufferTracker.allocate(message.length, this.callNumber)\n        };\n        this.writeBuffer.push(bufferEntry);\n        if (bufferEntry.allocated) {\n            (_a = context.callback) === null || _a === void 0 ? void 0 : _a.call(context);\n            for (const [callIndex, call] of this.underlyingCalls.entries()) {\n                if (call.state === 'ACTIVE' && call.nextMessageToSend === messageIndex) {\n                    call.call.sendMessageWithContext({\n                        callback: (error) => {\n                            // Ignore error\n                            this.handleChildWriteCompleted(callIndex);\n                        }\n                    }, message);\n                }\n            }\n        }\n        else {\n            this.commitCallWithMostMessages();\n            // commitCallWithMostMessages can fail if we are between ping attempts\n            if (this.committedCallIndex === null) {\n                return;\n            }\n            const call = this.underlyingCalls[this.committedCallIndex];\n            bufferEntry.callback = context.callback;\n            if (call.state === 'ACTIVE' && call.nextMessageToSend === messageIndex) {\n                call.call.sendMessageWithContext({\n                    callback: (error) => {\n                        // Ignore error\n                        this.handleChildWriteCompleted(this.committedCallIndex);\n                    }\n                }, message);\n            }\n        }\n    }\n    startRead() {\n        this.trace('startRead called');\n        this.readStarted = true;\n        for (const underlyingCall of this.underlyingCalls) {\n            if ((underlyingCall === null || underlyingCall === void 0 ? void 0 : underlyingCall.state) === 'ACTIVE') {\n                underlyingCall.call.startRead();\n            }\n        }\n    }\n    halfClose() {\n        this.trace('halfClose called');\n        const halfCloseIndex = this.getNextBufferIndex();\n        this.writeBuffer.push({\n            entryType: 'HALF_CLOSE',\n            allocated: false\n        });\n        for (const call of this.underlyingCalls) {\n            if ((call === null || call === void 0 ? void 0 : call.state) === 'ACTIVE' && call.nextMessageToSend === halfCloseIndex) {\n                call.nextMessageToSend += 1;\n                call.call.halfClose();\n            }\n        }\n    }\n    setCredentials(newCredentials) {\n        throw new Error(\"Method not implemented.\");\n    }\n    getMethod() {\n        return this.methodName;\n    }\n    getHost() {\n        return this.host;\n    }\n}\nexports.RetryingCall = RetryingCall;\n//# sourceMappingURL=retrying-call.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Http2ServerCallStream = exports.ServerDuplexStreamImpl = exports.ServerWritableStreamImpl = exports.ServerReadableStreamImpl = exports.ServerUnaryCallImpl = void 0;\nconst events_1 = require(\"events\");\nconst http2 = require(\"http2\");\nconst stream_1 = require(\"stream\");\nconst zlib = require(\"zlib\");\nconst util_1 = require(\"util\");\nconst constants_1 = require(\"./constants\");\nconst metadata_1 = require(\"./metadata\");\nconst stream_decoder_1 = require(\"./stream-decoder\");\nconst logging = require(\"./logging\");\nconst error_1 = require(\"./error\");\nconst TRACER_NAME = 'server_call';\nconst unzip = (0, util_1.promisify)(zlib.unzip);\nconst inflate = (0, util_1.promisify)(zlib.inflate);\nfunction trace(text) {\n    logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, text);\n}\nconst GRPC_ACCEPT_ENCODING_HEADER = 'grpc-accept-encoding';\nconst GRPC_ENCODING_HEADER = 'grpc-encoding';\nconst GRPC_MESSAGE_HEADER = 'grpc-message';\nconst GRPC_STATUS_HEADER = 'grpc-status';\nconst GRPC_TIMEOUT_HEADER = 'grpc-timeout';\nconst DEADLINE_REGEX = /(\\d{1,8})\\s*([HMSmun])/;\nconst deadlineUnitsToMs = {\n    H: 3600000,\n    M: 60000,\n    S: 1000,\n    m: 1,\n    u: 0.001,\n    n: 0.000001,\n};\nconst defaultCompressionHeaders = {\n    // TODO(cjihrig): Remove these encoding headers from the default response\n    // once compression is integrated.\n    [GRPC_ACCEPT_ENCODING_HEADER]: 'identity,deflate,gzip',\n    [GRPC_ENCODING_HEADER]: 'identity',\n};\nconst defaultResponseHeaders = {\n    [http2.constants.HTTP2_HEADER_STATUS]: http2.constants.HTTP_STATUS_OK,\n    [http2.constants.HTTP2_HEADER_CONTENT_TYPE]: 'application/grpc+proto',\n};\nconst defaultResponseOptions = {\n    waitForTrailers: true,\n};\nclass ServerUnaryCallImpl extends events_1.EventEmitter {\n    constructor(call, metadata, request) {\n        super();\n        this.call = call;\n        this.metadata = metadata;\n        this.request = request;\n        this.cancelled = false;\n        this.call.setupSurfaceCall(this);\n    }\n    getPeer() {\n        return this.call.getPeer();\n    }\n    sendMetadata(responseMetadata) {\n        this.call.sendMetadata(responseMetadata);\n    }\n    getDeadline() {\n        return this.call.getDeadline();\n    }\n    getPath() {\n        return this.call.getPath();\n    }\n}\nexports.ServerUnaryCallImpl = ServerUnaryCallImpl;\nclass ServerReadableStreamImpl extends stream_1.Readable {\n    constructor(call, metadata, deserialize, encoding) {\n        super({ objectMode: true });\n        this.call = call;\n        this.metadata = metadata;\n        this.deserialize = deserialize;\n        this.cancelled = false;\n        this.call.setupSurfaceCall(this);\n        this.call.setupReadable(this, encoding);\n    }\n    _read(size) {\n        if (!this.call.consumeUnpushedMessages(this)) {\n            return;\n        }\n        this.call.resume();\n    }\n    getPeer() {\n        return this.call.getPeer();\n    }\n    sendMetadata(responseMetadata) {\n        this.call.sendMetadata(responseMetadata);\n    }\n    getDeadline() {\n        return this.call.getDeadline();\n    }\n    getPath() {\n        return this.call.getPath();\n    }\n}\nexports.ServerReadableStreamImpl = ServerReadableStreamImpl;\nclass ServerWritableStreamImpl extends stream_1.Writable {\n    constructor(call, metadata, serialize, request) {\n        super({ objectMode: true });\n        this.call = call;\n        this.metadata = metadata;\n        this.serialize = serialize;\n        this.request = request;\n        this.cancelled = false;\n        this.trailingMetadata = new metadata_1.Metadata();\n        this.call.setupSurfaceCall(this);\n        this.on('error', (err) => {\n            this.call.sendError(err);\n            this.end();\n        });\n    }\n    getPeer() {\n        return this.call.getPeer();\n    }\n    sendMetadata(responseMetadata) {\n        this.call.sendMetadata(responseMetadata);\n    }\n    getDeadline() {\n        return this.call.getDeadline();\n    }\n    getPath() {\n        return this.call.getPath();\n    }\n    _write(chunk, encoding, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    callback) {\n        try {\n            const response = this.call.serializeMessage(chunk);\n            if (!this.call.write(response)) {\n                this.call.once('drain', callback);\n                return;\n            }\n        }\n        catch (err) {\n            this.emit('error', {\n                details: (0, error_1.getErrorMessage)(err),\n                code: constants_1.Status.INTERNAL\n            });\n        }\n        callback();\n    }\n    _final(callback) {\n        this.call.sendStatus({\n            code: constants_1.Status.OK,\n            details: 'OK',\n            metadata: this.trailingMetadata,\n        });\n        callback(null);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    end(metadata) {\n        if (metadata) {\n            this.trailingMetadata = metadata;\n        }\n        return super.end();\n    }\n}\nexports.ServerWritableStreamImpl = ServerWritableStreamImpl;\nclass ServerDuplexStreamImpl extends stream_1.Duplex {\n    constructor(call, metadata, serialize, deserialize, encoding) {\n        super({ objectMode: true });\n        this.call = call;\n        this.metadata = metadata;\n        this.serialize = serialize;\n        this.deserialize = deserialize;\n        this.cancelled = false;\n        this.trailingMetadata = new metadata_1.Metadata();\n        this.call.setupSurfaceCall(this);\n        this.call.setupReadable(this, encoding);\n        this.on('error', (err) => {\n            this.call.sendError(err);\n            this.end();\n        });\n    }\n    getPeer() {\n        return this.call.getPeer();\n    }\n    sendMetadata(responseMetadata) {\n        this.call.sendMetadata(responseMetadata);\n    }\n    getDeadline() {\n        return this.call.getDeadline();\n    }\n    getPath() {\n        return this.call.getPath();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    end(metadata) {\n        if (metadata) {\n            this.trailingMetadata = metadata;\n        }\n        return super.end();\n    }\n}\nexports.ServerDuplexStreamImpl = ServerDuplexStreamImpl;\nServerDuplexStreamImpl.prototype._read =\n    ServerReadableStreamImpl.prototype._read;\nServerDuplexStreamImpl.prototype._write =\n    ServerWritableStreamImpl.prototype._write;\nServerDuplexStreamImpl.prototype._final =\n    ServerWritableStreamImpl.prototype._final;\n// Internal class that wraps the HTTP2 request.\nclass Http2ServerCallStream extends events_1.EventEmitter {\n    constructor(stream, handler, options) {\n        super();\n        this.stream = stream;\n        this.handler = handler;\n        this.options = options;\n        this.cancelled = false;\n        this.deadlineTimer = null;\n        this.statusSent = false;\n        this.deadline = Infinity;\n        this.wantTrailers = false;\n        this.metadataSent = false;\n        this.canPush = false;\n        this.isPushPending = false;\n        this.bufferedMessages = [];\n        this.messagesToPush = [];\n        this.maxSendMessageSize = constants_1.DEFAULT_MAX_SEND_MESSAGE_LENGTH;\n        this.maxReceiveMessageSize = constants_1.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;\n        this.stream.once('error', (err) => {\n            /* We need an error handler to avoid uncaught error event exceptions, but\n             * there is nothing we can reasonably do here. Any error event should\n             * have a corresponding close event, which handles emitting the cancelled\n             * event. And the stream is now in a bad state, so we can't reasonably\n             * expect to be able to send an error over it. */\n        });\n        this.stream.once('close', () => {\n            var _a;\n            trace('Request to method ' +\n                ((_a = this.handler) === null || _a === void 0 ? void 0 : _a.path) +\n                ' stream closed with rstCode ' +\n                this.stream.rstCode);\n            if (!this.statusSent) {\n                this.cancelled = true;\n                this.emit('cancelled', 'cancelled');\n                this.emit('streamEnd', false);\n                this.sendStatus({\n                    code: constants_1.Status.CANCELLED,\n                    details: 'Cancelled by client',\n                    metadata: null,\n                });\n            }\n        });\n        this.stream.on('drain', () => {\n            this.emit('drain');\n        });\n        if ('grpc.max_send_message_length' in options) {\n            this.maxSendMessageSize = options['grpc.max_send_message_length'];\n        }\n        if ('grpc.max_receive_message_length' in options) {\n            this.maxReceiveMessageSize = options['grpc.max_receive_message_length'];\n        }\n    }\n    checkCancelled() {\n        /* In some cases the stream can become destroyed before the close event\n         * fires. That creates a race condition that this check works around */\n        if (this.stream.destroyed || this.stream.closed) {\n            this.cancelled = true;\n        }\n        return this.cancelled;\n    }\n    getDecompressedMessage(message, encoding) {\n        if (encoding === 'deflate') {\n            return inflate(message.subarray(5));\n        }\n        else if (encoding === 'gzip') {\n            return unzip(message.subarray(5));\n        }\n        else if (encoding === 'identity') {\n            return message.subarray(5);\n        }\n        return Promise.reject({\n            code: constants_1.Status.UNIMPLEMENTED,\n            details: `Received message compressed with unsupported encoding \"${encoding}\"`,\n        });\n    }\n    sendMetadata(customMetadata) {\n        if (this.checkCancelled()) {\n            return;\n        }\n        if (this.metadataSent) {\n            return;\n        }\n        this.metadataSent = true;\n        const custom = customMetadata ? customMetadata.toHttp2Headers() : null;\n        // TODO(cjihrig): Include compression headers.\n        const headers = Object.assign(Object.assign(Object.assign({}, defaultResponseHeaders), defaultCompressionHeaders), custom);\n        this.stream.respond(headers, defaultResponseOptions);\n    }\n    receiveMetadata(headers) {\n        const metadata = metadata_1.Metadata.fromHttp2Headers(headers);\n        if (logging.isTracerEnabled(TRACER_NAME)) {\n            trace('Request to ' +\n                this.handler.path +\n                ' received headers ' +\n                JSON.stringify(metadata.toJSON()));\n        }\n        // TODO(cjihrig): Receive compression metadata.\n        const timeoutHeader = metadata.get(GRPC_TIMEOUT_HEADER);\n        if (timeoutHeader.length > 0) {\n            const match = timeoutHeader[0].toString().match(DEADLINE_REGEX);\n            if (match === null) {\n                const err = new Error('Invalid deadline');\n                err.code = constants_1.Status.OUT_OF_RANGE;\n                this.sendError(err);\n                return metadata;\n            }\n            const timeout = (+match[1] * deadlineUnitsToMs[match[2]]) | 0;\n            const now = new Date();\n            this.deadline = now.setMilliseconds(now.getMilliseconds() + timeout);\n            this.deadlineTimer = setTimeout(handleExpiredDeadline, timeout, this);\n            metadata.remove(GRPC_TIMEOUT_HEADER);\n        }\n        // Remove several headers that should not be propagated to the application\n        metadata.remove(http2.constants.HTTP2_HEADER_ACCEPT_ENCODING);\n        metadata.remove(http2.constants.HTTP2_HEADER_TE);\n        metadata.remove(http2.constants.HTTP2_HEADER_CONTENT_TYPE);\n        metadata.remove('grpc-accept-encoding');\n        return metadata;\n    }\n    receiveUnaryMessage(encoding, next) {\n        const { stream } = this;\n        let receivedLength = 0;\n        const call = this;\n        const body = [];\n        const limit = this.maxReceiveMessageSize;\n        stream.on('data', onData);\n        stream.on('end', onEnd);\n        stream.on('error', onEnd);\n        function onData(chunk) {\n            receivedLength += chunk.byteLength;\n            if (limit !== -1 && receivedLength > limit) {\n                stream.removeListener('data', onData);\n                stream.removeListener('end', onEnd);\n                stream.removeListener('error', onEnd);\n                next({\n                    code: constants_1.Status.RESOURCE_EXHAUSTED,\n                    details: `Received message larger than max (${receivedLength} vs. ${limit})`,\n                });\n                return;\n            }\n            body.push(chunk);\n        }\n        function onEnd(err) {\n            stream.removeListener('data', onData);\n            stream.removeListener('end', onEnd);\n            stream.removeListener('error', onEnd);\n            if (err !== undefined) {\n                next({ code: constants_1.Status.INTERNAL, details: err.message });\n                return;\n            }\n            if (receivedLength === 0) {\n                next({ code: constants_1.Status.INTERNAL, details: 'received empty unary message' });\n                return;\n            }\n            call.emit('receiveMessage');\n            const requestBytes = Buffer.concat(body, receivedLength);\n            const compressed = requestBytes.readUInt8(0) === 1;\n            const compressedMessageEncoding = compressed ? encoding : 'identity';\n            const decompressedMessage = call.getDecompressedMessage(requestBytes, compressedMessageEncoding);\n            if (Buffer.isBuffer(decompressedMessage)) {\n                call.safeDeserializeMessage(decompressedMessage, next);\n                return;\n            }\n            decompressedMessage.then((decompressed) => call.safeDeserializeMessage(decompressed, next), (err) => next(err.code\n                ? err\n                : {\n                    code: constants_1.Status.INTERNAL,\n                    details: `Received \"grpc-encoding\" header \"${encoding}\" but ${encoding} decompression failed`,\n                }));\n        }\n    }\n    safeDeserializeMessage(buffer, next) {\n        try {\n            next(null, this.deserializeMessage(buffer));\n        }\n        catch (err) {\n            next({\n                details: (0, error_1.getErrorMessage)(err),\n                code: constants_1.Status.INTERNAL\n            });\n        }\n    }\n    serializeMessage(value) {\n        const messageBuffer = this.handler.serialize(value);\n        // TODO(cjihrig): Call compression aware serializeMessage().\n        const byteLength = messageBuffer.byteLength;\n        const output = Buffer.allocUnsafe(byteLength + 5);\n        output.writeUInt8(0, 0);\n        output.writeUInt32BE(byteLength, 1);\n        messageBuffer.copy(output, 5);\n        return output;\n    }\n    deserializeMessage(bytes) {\n        return this.handler.deserialize(bytes);\n    }\n    async sendUnaryMessage(err, value, metadata, flags) {\n        if (this.checkCancelled()) {\n            return;\n        }\n        if (metadata === undefined) {\n            metadata = null;\n        }\n        if (err) {\n            if (!Object.prototype.hasOwnProperty.call(err, 'metadata') && metadata) {\n                err.metadata = metadata;\n            }\n            this.sendError(err);\n            return;\n        }\n        try {\n            const response = this.serializeMessage(value);\n            this.write(response);\n            this.sendStatus({ code: constants_1.Status.OK, details: 'OK', metadata });\n        }\n        catch (err) {\n            this.sendError({\n                details: (0, error_1.getErrorMessage)(err),\n                code: constants_1.Status.INTERNAL\n            });\n        }\n    }\n    sendStatus(statusObj) {\n        var _a, _b;\n        this.emit('callEnd', statusObj.code);\n        this.emit('streamEnd', statusObj.code === constants_1.Status.OK);\n        if (this.checkCancelled()) {\n            return;\n        }\n        trace('Request to method ' +\n            ((_a = this.handler) === null || _a === void 0 ? void 0 : _a.path) +\n            ' ended with status code: ' +\n            constants_1.Status[statusObj.code] +\n            ' details: ' +\n            statusObj.details);\n        if (this.deadlineTimer)\n            clearTimeout(this.deadlineTimer);\n        if (this.stream.headersSent) {\n            if (!this.wantTrailers) {\n                this.wantTrailers = true;\n                this.stream.once('wantTrailers', () => {\n                    var _a;\n                    const trailersToSend = Object.assign({ [GRPC_STATUS_HEADER]: statusObj.code, [GRPC_MESSAGE_HEADER]: encodeURI(statusObj.details) }, (_a = statusObj.metadata) === null || _a === void 0 ? void 0 : _a.toHttp2Headers());\n                    this.stream.sendTrailers(trailersToSend);\n                    this.statusSent = true;\n                });\n                this.stream.end();\n            }\n        }\n        else {\n            // Trailers-only response\n            const trailersToSend = Object.assign(Object.assign({ [GRPC_STATUS_HEADER]: statusObj.code, [GRPC_MESSAGE_HEADER]: encodeURI(statusObj.details) }, defaultResponseHeaders), (_b = statusObj.metadata) === null || _b === void 0 ? void 0 : _b.toHttp2Headers());\n            this.stream.respond(trailersToSend, { endStream: true });\n            this.statusSent = true;\n        }\n    }\n    sendError(error) {\n        const status = {\n            code: constants_1.Status.UNKNOWN,\n            details: 'message' in error ? error.message : 'Unknown Error',\n            metadata: 'metadata' in error && error.metadata !== undefined\n                ? error.metadata\n                : null,\n        };\n        if ('code' in error &&\n            typeof error.code === 'number' &&\n            Number.isInteger(error.code)) {\n            status.code = error.code;\n            if ('details' in error && typeof error.details === 'string') {\n                status.details = error.details;\n            }\n        }\n        this.sendStatus(status);\n    }\n    write(chunk) {\n        if (this.checkCancelled()) {\n            return;\n        }\n        if (this.maxSendMessageSize !== -1 &&\n            chunk.length > this.maxSendMessageSize) {\n            this.sendError({\n                code: constants_1.Status.RESOURCE_EXHAUSTED,\n                details: `Sent message larger than max (${chunk.length} vs. ${this.maxSendMessageSize})`,\n            });\n            return;\n        }\n        this.sendMetadata();\n        this.emit('sendMessage');\n        return this.stream.write(chunk);\n    }\n    resume() {\n        this.stream.resume();\n    }\n    setupSurfaceCall(call) {\n        this.once('cancelled', (reason) => {\n            call.cancelled = true;\n            call.emit('cancelled', reason);\n        });\n        this.once('callEnd', (status) => call.emit('callEnd', status));\n    }\n    setupReadable(readable, encoding) {\n        const decoder = new stream_decoder_1.StreamDecoder();\n        let readsDone = false;\n        let pendingMessageProcessing = false;\n        let pushedEnd = false;\n        const maybePushEnd = () => {\n            if (!pushedEnd && readsDone && !pendingMessageProcessing) {\n                pushedEnd = true;\n                this.pushOrBufferMessage(readable, null);\n            }\n        };\n        this.stream.on('data', async (data) => {\n            const messages = decoder.write(data);\n            pendingMessageProcessing = true;\n            this.stream.pause();\n            for (const message of messages) {\n                if (this.maxReceiveMessageSize !== -1 &&\n                    message.length > this.maxReceiveMessageSize) {\n                    this.sendError({\n                        code: constants_1.Status.RESOURCE_EXHAUSTED,\n                        details: `Received message larger than max (${message.length} vs. ${this.maxReceiveMessageSize})`,\n                    });\n                    return;\n                }\n                this.emit('receiveMessage');\n                const compressed = message.readUInt8(0) === 1;\n                const compressedMessageEncoding = compressed ? encoding : 'identity';\n                const decompressedMessage = await this.getDecompressedMessage(message, compressedMessageEncoding);\n                // Encountered an error with decompression; it'll already have been propogated back\n                // Just return early\n                if (!decompressedMessage)\n                    return;\n                this.pushOrBufferMessage(readable, decompressedMessage);\n            }\n            pendingMessageProcessing = false;\n            this.stream.resume();\n            maybePushEnd();\n        });\n        this.stream.once('end', () => {\n            readsDone = true;\n            maybePushEnd();\n        });\n    }\n    consumeUnpushedMessages(readable) {\n        this.canPush = true;\n        while (this.messagesToPush.length > 0) {\n            const nextMessage = this.messagesToPush.shift();\n            const canPush = readable.push(nextMessage);\n            if (nextMessage === null || canPush === false) {\n                this.canPush = false;\n                break;\n            }\n        }\n        return this.canPush;\n    }\n    pushOrBufferMessage(readable, messageBytes) {\n        if (this.isPushPending) {\n            this.bufferedMessages.push(messageBytes);\n        }\n        else {\n            this.pushMessage(readable, messageBytes);\n        }\n    }\n    async pushMessage(readable, messageBytes) {\n        if (messageBytes === null) {\n            trace('Received end of stream');\n            if (this.canPush) {\n                readable.push(null);\n            }\n            else {\n                this.messagesToPush.push(null);\n            }\n            return;\n        }\n        trace('Received message of length ' + messageBytes.length);\n        this.isPushPending = true;\n        try {\n            const deserialized = await this.deserializeMessage(messageBytes);\n            if (this.canPush) {\n                if (!readable.push(deserialized)) {\n                    this.canPush = false;\n                    this.stream.pause();\n                }\n            }\n            else {\n                this.messagesToPush.push(deserialized);\n            }\n        }\n        catch (error) {\n            // Ignore any remaining messages when errors occur.\n            this.bufferedMessages.length = 0;\n            let code = (0, error_1.getErrorCode)(error);\n            if (code === null || code < constants_1.Status.OK || code > constants_1.Status.UNAUTHENTICATED) {\n                code = constants_1.Status.INTERNAL;\n            }\n            readable.emit('error', {\n                details: (0, error_1.getErrorMessage)(error),\n                code: code\n            });\n        }\n        this.isPushPending = false;\n        if (this.bufferedMessages.length > 0) {\n            this.pushMessage(readable, this.bufferedMessages.shift());\n        }\n    }\n    getPeer() {\n        const socket = this.stream.session.socket;\n        if (socket.remoteAddress) {\n            if (socket.remotePort) {\n                return `${socket.remoteAddress}:${socket.remotePort}`;\n            }\n            else {\n                return socket.remoteAddress;\n            }\n        }\n        else {\n            return 'unknown';\n        }\n    }\n    getDeadline() {\n        return this.deadline;\n    }\n    getPath() {\n        return this.handler.path;\n    }\n}\nexports.Http2ServerCallStream = Http2ServerCallStream;\nfunction handleExpiredDeadline(call) {\n    const err = new Error('Deadline exceeded');\n    err.code = constants_1.Status.DEADLINE_EXCEEDED;\n    call.sendError(err);\n    call.cancelled = true;\n    call.emit('cancelled', 'deadline');\n}\n//# sourceMappingURL=server-call.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ServerCredentials = void 0;\nconst tls_helpers_1 = require(\"./tls-helpers\");\nclass ServerCredentials {\n    static createInsecure() {\n        return new InsecureServerCredentials();\n    }\n    static createSsl(rootCerts, keyCertPairs, checkClientCertificate = false) {\n        if (rootCerts !== null && !Buffer.isBuffer(rootCerts)) {\n            throw new TypeError('rootCerts must be null or a Buffer');\n        }\n        if (!Array.isArray(keyCertPairs)) {\n            throw new TypeError('keyCertPairs must be an array');\n        }\n        if (typeof checkClientCertificate !== 'boolean') {\n            throw new TypeError('checkClientCertificate must be a boolean');\n        }\n        const cert = [];\n        const key = [];\n        for (let i = 0; i < keyCertPairs.length; i++) {\n            const pair = keyCertPairs[i];\n            if (pair === null || typeof pair !== 'object') {\n                throw new TypeError(`keyCertPair[${i}] must be an object`);\n            }\n            if (!Buffer.isBuffer(pair.private_key)) {\n                throw new TypeError(`keyCertPair[${i}].private_key must be a Buffer`);\n            }\n            if (!Buffer.isBuffer(pair.cert_chain)) {\n                throw new TypeError(`keyCertPair[${i}].cert_chain must be a Buffer`);\n            }\n            cert.push(pair.cert_chain);\n            key.push(pair.private_key);\n        }\n        return new SecureServerCredentials({\n            ca: rootCerts || (0, tls_helpers_1.getDefaultRootsData)() || undefined,\n            cert,\n            key,\n            requestCert: checkClientCertificate,\n            ciphers: tls_helpers_1.CIPHER_SUITES,\n        });\n    }\n}\nexports.ServerCredentials = ServerCredentials;\nclass InsecureServerCredentials extends ServerCredentials {\n    _isSecure() {\n        return false;\n    }\n    _getSettings() {\n        return null;\n    }\n}\nclass SecureServerCredentials extends ServerCredentials {\n    constructor(options) {\n        super();\n        this.options = options;\n    }\n    _isSecure() {\n        return true;\n    }\n    _getSettings() {\n        return this.options;\n    }\n}\n//# sourceMappingURL=server-credentials.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Server = void 0;\nconst http2 = require(\"http2\");\nconst constants_1 = require(\"./constants\");\nconst server_call_1 = require(\"./server-call\");\nconst server_credentials_1 = require(\"./server-credentials\");\nconst resolver_1 = require(\"./resolver\");\nconst logging = require(\"./logging\");\nconst subchannel_address_1 = require(\"./subchannel-address\");\nconst uri_parser_1 = require(\"./uri-parser\");\nconst channelz_1 = require(\"./channelz\");\nconst error_1 = require(\"./error\");\nconst UNLIMITED_CONNECTION_AGE_MS = ~(1 << 31);\nconst KEEPALIVE_MAX_TIME_MS = ~(1 << 31);\nconst KEEPALIVE_TIMEOUT_MS = 20000;\nconst { HTTP2_HEADER_PATH } = http2.constants;\nconst TRACER_NAME = 'server';\nfunction noop() { }\nfunction getUnimplementedStatusResponse(methodName) {\n    return {\n        code: constants_1.Status.UNIMPLEMENTED,\n        details: `The server does not implement the method ${methodName}`,\n    };\n}\nfunction getDefaultHandler(handlerType, methodName) {\n    const unimplementedStatusResponse = getUnimplementedStatusResponse(methodName);\n    switch (handlerType) {\n        case 'unary':\n            return (call, callback) => {\n                callback(unimplementedStatusResponse, null);\n            };\n        case 'clientStream':\n            return (call, callback) => {\n                callback(unimplementedStatusResponse, null);\n            };\n        case 'serverStream':\n            return (call) => {\n                call.emit('error', unimplementedStatusResponse);\n            };\n        case 'bidi':\n            return (call) => {\n                call.emit('error', unimplementedStatusResponse);\n            };\n        default:\n            throw new Error(`Invalid handlerType ${handlerType}`);\n    }\n}\nclass Server {\n    constructor(options) {\n        var _a, _b, _c, _d;\n        this.http2ServerList = [];\n        this.handlers = new Map();\n        this.sessions = new Map();\n        this.started = false;\n        this.serverAddressString = 'null';\n        // Channelz Info\n        this.channelzEnabled = true;\n        this.channelzTrace = new channelz_1.ChannelzTrace();\n        this.callTracker = new channelz_1.ChannelzCallTracker();\n        this.listenerChildrenTracker = new channelz_1.ChannelzChildrenTracker();\n        this.sessionChildrenTracker = new channelz_1.ChannelzChildrenTracker();\n        this.options = options !== null && options !== void 0 ? options : {};\n        if (this.options['grpc.enable_channelz'] === 0) {\n            this.channelzEnabled = false;\n        }\n        this.channelzRef = (0, channelz_1.registerChannelzServer)(() => this.getChannelzInfo(), this.channelzEnabled);\n        if (this.channelzEnabled) {\n            this.channelzTrace.addTrace('CT_INFO', 'Server created');\n        }\n        this.maxConnectionAgeMs = (_a = this.options['grpc.max_connection_age_ms']) !== null && _a !== void 0 ? _a : UNLIMITED_CONNECTION_AGE_MS;\n        this.maxConnectionAgeGraceMs = (_b = this.options['grpc.max_connection_age_grace_ms']) !== null && _b !== void 0 ? _b : UNLIMITED_CONNECTION_AGE_MS;\n        this.keepaliveTimeMs = (_c = this.options['grpc.keepalive_time_ms']) !== null && _c !== void 0 ? _c : KEEPALIVE_MAX_TIME_MS;\n        this.keepaliveTimeoutMs = (_d = this.options['grpc.keepalive_timeout_ms']) !== null && _d !== void 0 ? _d : KEEPALIVE_TIMEOUT_MS;\n        this.trace('Server constructed');\n    }\n    getChannelzInfo() {\n        return {\n            trace: this.channelzTrace,\n            callTracker: this.callTracker,\n            listenerChildren: this.listenerChildrenTracker.getChildLists(),\n            sessionChildren: this.sessionChildrenTracker.getChildLists()\n        };\n    }\n    getChannelzSessionInfoGetter(session) {\n        return () => {\n            var _a, _b, _c;\n            const sessionInfo = this.sessions.get(session);\n            const sessionSocket = session.socket;\n            const remoteAddress = sessionSocket.remoteAddress ? (0, subchannel_address_1.stringToSubchannelAddress)(sessionSocket.remoteAddress, sessionSocket.remotePort) : null;\n            const localAddress = sessionSocket.localAddress ? (0, subchannel_address_1.stringToSubchannelAddress)(sessionSocket.localAddress, sessionSocket.localPort) : null;\n            let tlsInfo;\n            if (session.encrypted) {\n                const tlsSocket = sessionSocket;\n                const cipherInfo = tlsSocket.getCipher();\n                const certificate = tlsSocket.getCertificate();\n                const peerCertificate = tlsSocket.getPeerCertificate();\n                tlsInfo = {\n                    cipherSuiteStandardName: (_a = cipherInfo.standardName) !== null && _a !== void 0 ? _a : null,\n                    cipherSuiteOtherName: cipherInfo.standardName ? null : cipherInfo.name,\n                    localCertificate: (certificate && 'raw' in certificate) ? certificate.raw : null,\n                    remoteCertificate: (peerCertificate && 'raw' in peerCertificate) ? peerCertificate.raw : null\n                };\n            }\n            else {\n                tlsInfo = null;\n            }\n            const socketInfo = {\n                remoteAddress: remoteAddress,\n                localAddress: localAddress,\n                security: tlsInfo,\n                remoteName: null,\n                streamsStarted: sessionInfo.streamTracker.callsStarted,\n                streamsSucceeded: sessionInfo.streamTracker.callsSucceeded,\n                streamsFailed: sessionInfo.streamTracker.callsFailed,\n                messagesSent: sessionInfo.messagesSent,\n                messagesReceived: sessionInfo.messagesReceived,\n                keepAlivesSent: 0,\n                lastLocalStreamCreatedTimestamp: null,\n                lastRemoteStreamCreatedTimestamp: sessionInfo.streamTracker.lastCallStartedTimestamp,\n                lastMessageSentTimestamp: sessionInfo.lastMessageSentTimestamp,\n                lastMessageReceivedTimestamp: sessionInfo.lastMessageReceivedTimestamp,\n                localFlowControlWindow: (_b = session.state.localWindowSize) !== null && _b !== void 0 ? _b : null,\n                remoteFlowControlWindow: (_c = session.state.remoteWindowSize) !== null && _c !== void 0 ? _c : null\n            };\n            return socketInfo;\n        };\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '(' + this.channelzRef.id + ') ' + text);\n    }\n    addProtoService() {\n        throw new Error('Not implemented. Use addService() instead');\n    }\n    addService(service, implementation) {\n        if (service === null ||\n            typeof service !== 'object' ||\n            implementation === null ||\n            typeof implementation !== 'object') {\n            throw new Error('addService() requires two objects as arguments');\n        }\n        const serviceKeys = Object.keys(service);\n        if (serviceKeys.length === 0) {\n            throw new Error('Cannot add an empty service to a server');\n        }\n        serviceKeys.forEach((name) => {\n            const attrs = service[name];\n            let methodType;\n            if (attrs.requestStream) {\n                if (attrs.responseStream) {\n                    methodType = 'bidi';\n                }\n                else {\n                    methodType = 'clientStream';\n                }\n            }\n            else {\n                if (attrs.responseStream) {\n                    methodType = 'serverStream';\n                }\n                else {\n                    methodType = 'unary';\n                }\n            }\n            let implFn = implementation[name];\n            let impl;\n            if (implFn === undefined && typeof attrs.originalName === 'string') {\n                implFn = implementation[attrs.originalName];\n            }\n            if (implFn !== undefined) {\n                impl = implFn.bind(implementation);\n            }\n            else {\n                impl = getDefaultHandler(methodType, name);\n            }\n            const success = this.register(attrs.path, impl, attrs.responseSerialize, attrs.requestDeserialize, methodType);\n            if (success === false) {\n                throw new Error(`Method handler for ${attrs.path} already provided.`);\n            }\n        });\n    }\n    removeService(service) {\n        if (service === null || typeof service !== 'object') {\n            throw new Error('removeService() requires object as argument');\n        }\n        const serviceKeys = Object.keys(service);\n        serviceKeys.forEach((name) => {\n            const attrs = service[name];\n            this.unregister(attrs.path);\n        });\n    }\n    bind(port, creds) {\n        throw new Error('Not implemented. Use bindAsync() instead');\n    }\n    bindAsync(port, creds, callback) {\n        if (this.started === true) {\n            throw new Error('server is already started');\n        }\n        if (typeof port !== 'string') {\n            throw new TypeError('port must be a string');\n        }\n        if (creds === null || !(creds instanceof server_credentials_1.ServerCredentials)) {\n            throw new TypeError('creds must be a ServerCredentials object');\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError('callback must be a function');\n        }\n        const initialPortUri = (0, uri_parser_1.parseUri)(port);\n        if (initialPortUri === null) {\n            throw new Error(`Could not parse port \"${port}\"`);\n        }\n        const portUri = (0, resolver_1.mapUriDefaultScheme)(initialPortUri);\n        if (portUri === null) {\n            throw new Error(`Could not get a default scheme for port \"${port}\"`);\n        }\n        const serverOptions = {\n            maxSendHeaderBlockLength: Number.MAX_SAFE_INTEGER,\n        };\n        if ('grpc-node.max_session_memory' in this.options) {\n            serverOptions.maxSessionMemory = this.options['grpc-node.max_session_memory'];\n        }\n        else {\n            /* By default, set a very large max session memory limit, to effectively\n             * disable enforcement of the limit. Some testing indicates that Node's\n             * behavior degrades badly when this limit is reached, so we solve that\n             * by disabling the check entirely. */\n            serverOptions.maxSessionMemory = Number.MAX_SAFE_INTEGER;\n        }\n        if ('grpc.max_concurrent_streams' in this.options) {\n            serverOptions.settings = {\n                maxConcurrentStreams: this.options['grpc.max_concurrent_streams'],\n            };\n        }\n        const deferredCallback = (error, port) => {\n            process.nextTick(() => callback(error, port));\n        };\n        const setupServer = () => {\n            let http2Server;\n            if (creds._isSecure()) {\n                const secureServerOptions = Object.assign(serverOptions, creds._getSettings());\n                http2Server = http2.createSecureServer(secureServerOptions);\n                http2Server.on('secureConnection', (socket) => {\n                    /* These errors need to be handled by the user of Http2SecureServer,\n                     * according to https://github.com/nodejs/node/issues/35824 */\n                    socket.on('error', (e) => {\n                        this.trace('An incoming TLS connection closed with error: ' + e.message);\n                    });\n                });\n            }\n            else {\n                http2Server = http2.createServer(serverOptions);\n            }\n            http2Server.setTimeout(0, noop);\n            this._setupHandlers(http2Server);\n            return http2Server;\n        };\n        const bindSpecificPort = (addressList, portNum, previousCount) => {\n            if (addressList.length === 0) {\n                return Promise.resolve({ port: portNum, count: previousCount });\n            }\n            return Promise.all(addressList.map((address) => {\n                this.trace('Attempting to bind ' + (0, subchannel_address_1.subchannelAddressToString)(address));\n                let addr;\n                if ((0, subchannel_address_1.isTcpSubchannelAddress)(address)) {\n                    addr = {\n                        host: address.host,\n                        port: portNum,\n                    };\n                }\n                else {\n                    addr = address;\n                }\n                const http2Server = setupServer();\n                return new Promise((resolve, reject) => {\n                    const onError = (err) => {\n                        this.trace('Failed to bind ' + (0, subchannel_address_1.subchannelAddressToString)(address) + ' with error ' + err.message);\n                        resolve(err);\n                    };\n                    http2Server.once('error', onError);\n                    http2Server.listen(addr, () => {\n                        const boundAddress = http2Server.address();\n                        let boundSubchannelAddress;\n                        if (typeof boundAddress === 'string') {\n                            boundSubchannelAddress = {\n                                path: boundAddress\n                            };\n                        }\n                        else {\n                            boundSubchannelAddress = {\n                                host: boundAddress.address,\n                                port: boundAddress.port\n                            };\n                        }\n                        let channelzRef;\n                        channelzRef = (0, channelz_1.registerChannelzSocket)((0, subchannel_address_1.subchannelAddressToString)(boundSubchannelAddress), () => {\n                            return {\n                                localAddress: boundSubchannelAddress,\n                                remoteAddress: null,\n                                security: null,\n                                remoteName: null,\n                                streamsStarted: 0,\n                                streamsSucceeded: 0,\n                                streamsFailed: 0,\n                                messagesSent: 0,\n                                messagesReceived: 0,\n                                keepAlivesSent: 0,\n                                lastLocalStreamCreatedTimestamp: null,\n                                lastRemoteStreamCreatedTimestamp: null,\n                                lastMessageSentTimestamp: null,\n                                lastMessageReceivedTimestamp: null,\n                                localFlowControlWindow: null,\n                                remoteFlowControlWindow: null\n                            };\n                        }, this.channelzEnabled);\n                        if (this.channelzEnabled) {\n                            this.listenerChildrenTracker.refChild(channelzRef);\n                        }\n                        this.http2ServerList.push({ server: http2Server, channelzRef: channelzRef });\n                        this.trace('Successfully bound ' + (0, subchannel_address_1.subchannelAddressToString)(boundSubchannelAddress));\n                        resolve('port' in boundSubchannelAddress ? boundSubchannelAddress.port : portNum);\n                        http2Server.removeListener('error', onError);\n                    });\n                });\n            })).then((results) => {\n                let count = 0;\n                for (const result of results) {\n                    if (typeof result === 'number') {\n                        count += 1;\n                        if (result !== portNum) {\n                            throw new Error('Invalid state: multiple port numbers added from single address');\n                        }\n                    }\n                }\n                return {\n                    port: portNum,\n                    count: count + previousCount,\n                };\n            });\n        };\n        const bindWildcardPort = (addressList) => {\n            if (addressList.length === 0) {\n                return Promise.resolve({ port: 0, count: 0 });\n            }\n            const address = addressList[0];\n            const http2Server = setupServer();\n            return new Promise((resolve, reject) => {\n                const onError = (err) => {\n                    this.trace('Failed to bind ' + (0, subchannel_address_1.subchannelAddressToString)(address) + ' with error ' + err.message);\n                    resolve(bindWildcardPort(addressList.slice(1)));\n                };\n                http2Server.once('error', onError);\n                http2Server.listen(address, () => {\n                    const boundAddress = http2Server.address();\n                    const boundSubchannelAddress = {\n                        host: boundAddress.address,\n                        port: boundAddress.port\n                    };\n                    let channelzRef;\n                    channelzRef = (0, channelz_1.registerChannelzSocket)((0, subchannel_address_1.subchannelAddressToString)(boundSubchannelAddress), () => {\n                        return {\n                            localAddress: boundSubchannelAddress,\n                            remoteAddress: null,\n                            security: null,\n                            remoteName: null,\n                            streamsStarted: 0,\n                            streamsSucceeded: 0,\n                            streamsFailed: 0,\n                            messagesSent: 0,\n                            messagesReceived: 0,\n                            keepAlivesSent: 0,\n                            lastLocalStreamCreatedTimestamp: null,\n                            lastRemoteStreamCreatedTimestamp: null,\n                            lastMessageSentTimestamp: null,\n                            lastMessageReceivedTimestamp: null,\n                            localFlowControlWindow: null,\n                            remoteFlowControlWindow: null\n                        };\n                    }, this.channelzEnabled);\n                    if (this.channelzEnabled) {\n                        this.listenerChildrenTracker.refChild(channelzRef);\n                    }\n                    this.http2ServerList.push({ server: http2Server, channelzRef: channelzRef });\n                    this.trace('Successfully bound ' + (0, subchannel_address_1.subchannelAddressToString)(boundSubchannelAddress));\n                    resolve(bindSpecificPort(addressList.slice(1), boundAddress.port, 1));\n                    http2Server.removeListener('error', onError);\n                });\n            });\n        };\n        const resolverListener = {\n            onSuccessfulResolution: (addressList, serviceConfig, serviceConfigError) => {\n                // We only want one resolution result. Discard all future results\n                resolverListener.onSuccessfulResolution = () => { };\n                if (addressList.length === 0) {\n                    deferredCallback(new Error(`No addresses resolved for port ${port}`), 0);\n                    return;\n                }\n                let bindResultPromise;\n                if ((0, subchannel_address_1.isTcpSubchannelAddress)(addressList[0])) {\n                    if (addressList[0].port === 0) {\n                        bindResultPromise = bindWildcardPort(addressList);\n                    }\n                    else {\n                        bindResultPromise = bindSpecificPort(addressList, addressList[0].port, 0);\n                    }\n                }\n                else {\n                    // Use an arbitrary non-zero port for non-TCP addresses\n                    bindResultPromise = bindSpecificPort(addressList, 1, 0);\n                }\n                bindResultPromise.then((bindResult) => {\n                    if (bindResult.count === 0) {\n                        const errorString = `No address added out of total ${addressList.length} resolved`;\n                        logging.log(constants_1.LogVerbosity.ERROR, errorString);\n                        deferredCallback(new Error(errorString), 0);\n                    }\n                    else {\n                        if (bindResult.count < addressList.length) {\n                            logging.log(constants_1.LogVerbosity.INFO, `WARNING Only ${bindResult.count} addresses added out of total ${addressList.length} resolved`);\n                        }\n                        deferredCallback(null, bindResult.port);\n                    }\n                }, (error) => {\n                    const errorString = `No address added out of total ${addressList.length} resolved`;\n                    logging.log(constants_1.LogVerbosity.ERROR, errorString);\n                    deferredCallback(new Error(errorString), 0);\n                });\n            },\n            onError: (error) => {\n                deferredCallback(new Error(error.details), 0);\n            },\n        };\n        const resolver = (0, resolver_1.createResolver)(portUri, resolverListener, this.options);\n        resolver.updateResolution();\n    }\n    forceShutdown() {\n        // Close the server if it is still running.\n        for (const { server: http2Server, channelzRef: ref } of this.http2ServerList) {\n            if (http2Server.listening) {\n                http2Server.close(() => {\n                    if (this.channelzEnabled) {\n                        this.listenerChildrenTracker.unrefChild(ref);\n                        (0, channelz_1.unregisterChannelzRef)(ref);\n                    }\n                });\n            }\n        }\n        this.started = false;\n        // Always destroy any available sessions. It's possible that one or more\n        // tryShutdown() calls are in progress. Don't wait on them to finish.\n        this.sessions.forEach((channelzInfo, session) => {\n            // Cast NGHTTP2_CANCEL to any because TypeScript doesn't seem to\n            // recognize destroy(code) as a valid signature.\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            session.destroy(http2.constants.NGHTTP2_CANCEL);\n        });\n        this.sessions.clear();\n        if (this.channelzEnabled) {\n            (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n        }\n    }\n    register(name, handler, serialize, deserialize, type) {\n        if (this.handlers.has(name)) {\n            return false;\n        }\n        this.handlers.set(name, {\n            func: handler,\n            serialize,\n            deserialize,\n            type,\n            path: name,\n        });\n        return true;\n    }\n    unregister(name) {\n        return this.handlers.delete(name);\n    }\n    start() {\n        if (this.http2ServerList.length === 0 ||\n            this.http2ServerList.every(({ server: http2Server }) => http2Server.listening !== true)) {\n            throw new Error('server must be bound in order to start');\n        }\n        if (this.started === true) {\n            throw new Error('server is already started');\n        }\n        if (this.channelzEnabled) {\n            this.channelzTrace.addTrace('CT_INFO', 'Starting');\n        }\n        this.started = true;\n    }\n    tryShutdown(callback) {\n        const wrappedCallback = (error) => {\n            if (this.channelzEnabled) {\n                (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n            }\n            callback(error);\n        };\n        let pendingChecks = 0;\n        function maybeCallback() {\n            pendingChecks--;\n            if (pendingChecks === 0) {\n                wrappedCallback();\n            }\n        }\n        // Close the server if necessary.\n        this.started = false;\n        for (const { server: http2Server, channelzRef: ref } of this.http2ServerList) {\n            if (http2Server.listening) {\n                pendingChecks++;\n                http2Server.close(() => {\n                    if (this.channelzEnabled) {\n                        this.listenerChildrenTracker.unrefChild(ref);\n                        (0, channelz_1.unregisterChannelzRef)(ref);\n                    }\n                    maybeCallback();\n                });\n            }\n        }\n        this.sessions.forEach((channelzInfo, session) => {\n            if (!session.closed) {\n                pendingChecks += 1;\n                session.close(maybeCallback);\n            }\n        });\n        if (pendingChecks === 0) {\n            wrappedCallback();\n        }\n    }\n    addHttp2Port() {\n        throw new Error('Not yet implemented');\n    }\n    /**\n     * Get the channelz reference object for this server. The returned value is\n     * garbage if channelz is disabled for this server.\n     * @returns\n     */\n    getChannelzRef() {\n        return this.channelzRef;\n    }\n    _verifyContentType(stream, headers) {\n        const contentType = headers[http2.constants.HTTP2_HEADER_CONTENT_TYPE];\n        if (typeof contentType !== 'string' ||\n            !contentType.startsWith('application/grpc')) {\n            stream.respond({\n                [http2.constants.HTTP2_HEADER_STATUS]: http2.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE,\n            }, { endStream: true });\n            return false;\n        }\n        return true;\n    }\n    _retrieveHandler(headers) {\n        const path = headers[HTTP2_HEADER_PATH];\n        this.trace('Received call to method ' +\n            path +\n            ' at address ' +\n            this.serverAddressString);\n        const handler = this.handlers.get(path);\n        if (handler === undefined) {\n            this.trace('No handler registered for method ' +\n                path +\n                '. Sending UNIMPLEMENTED status.');\n            throw getUnimplementedStatusResponse(path);\n        }\n        return handler;\n    }\n    _respondWithError(err, stream, channelzSessionInfo = null) {\n        const call = new server_call_1.Http2ServerCallStream(stream, null, this.options);\n        if (err.code === undefined) {\n            err.code = constants_1.Status.INTERNAL;\n        }\n        if (this.channelzEnabled) {\n            this.callTracker.addCallFailed();\n            channelzSessionInfo === null || channelzSessionInfo === void 0 ? void 0 : channelzSessionInfo.streamTracker.addCallFailed();\n        }\n        call.sendError(err);\n    }\n    _channelzHandler(stream, headers) {\n        var _a;\n        const channelzSessionInfo = this.sessions.get(stream.session);\n        this.callTracker.addCallStarted();\n        channelzSessionInfo === null || channelzSessionInfo === void 0 ? void 0 : channelzSessionInfo.streamTracker.addCallStarted();\n        if (!this._verifyContentType(stream, headers)) {\n            this.callTracker.addCallFailed();\n            channelzSessionInfo === null || channelzSessionInfo === void 0 ? void 0 : channelzSessionInfo.streamTracker.addCallFailed();\n            return;\n        }\n        let handler;\n        try {\n            handler = this._retrieveHandler(headers);\n        }\n        catch (err) {\n            this._respondWithError({\n                details: (0, error_1.getErrorMessage)(err),\n                code: (_a = (0, error_1.getErrorCode)(err)) !== null && _a !== void 0 ? _a : undefined\n            }, stream, channelzSessionInfo);\n            return;\n        }\n        const call = new server_call_1.Http2ServerCallStream(stream, handler, this.options);\n        call.once('callEnd', (code) => {\n            if (code === constants_1.Status.OK) {\n                this.callTracker.addCallSucceeded();\n            }\n            else {\n                this.callTracker.addCallFailed();\n            }\n        });\n        if (channelzSessionInfo) {\n            call.once('streamEnd', (success) => {\n                if (success) {\n                    channelzSessionInfo.streamTracker.addCallSucceeded();\n                }\n                else {\n                    channelzSessionInfo.streamTracker.addCallFailed();\n                }\n            });\n            call.on('sendMessage', () => {\n                channelzSessionInfo.messagesSent += 1;\n                channelzSessionInfo.lastMessageSentTimestamp = new Date();\n            });\n            call.on('receiveMessage', () => {\n                channelzSessionInfo.messagesReceived += 1;\n                channelzSessionInfo.lastMessageReceivedTimestamp = new Date();\n            });\n        }\n        if (!this._runHandlerForCall(call, handler, headers)) {\n            this.callTracker.addCallFailed();\n            channelzSessionInfo === null || channelzSessionInfo === void 0 ? void 0 : channelzSessionInfo.streamTracker.addCallFailed();\n            call.sendError({\n                code: constants_1.Status.INTERNAL,\n                details: `Unknown handler type: ${handler.type}`\n            });\n        }\n    }\n    _streamHandler(stream, headers) {\n        var _a;\n        if (this._verifyContentType(stream, headers) !== true) {\n            return;\n        }\n        let handler;\n        try {\n            handler = this._retrieveHandler(headers);\n        }\n        catch (err) {\n            this._respondWithError({\n                details: (0, error_1.getErrorMessage)(err),\n                code: (_a = (0, error_1.getErrorCode)(err)) !== null && _a !== void 0 ? _a : undefined\n            }, stream, null);\n            return;\n        }\n        const call = new server_call_1.Http2ServerCallStream(stream, handler, this.options);\n        if (!this._runHandlerForCall(call, handler, headers)) {\n            call.sendError({\n                code: constants_1.Status.INTERNAL,\n                details: `Unknown handler type: ${handler.type}`\n            });\n        }\n    }\n    _runHandlerForCall(call, handler, headers) {\n        var _a;\n        const metadata = call.receiveMetadata(headers);\n        const encoding = (_a = metadata.get('grpc-encoding')[0]) !== null && _a !== void 0 ? _a : 'identity';\n        metadata.remove('grpc-encoding');\n        const { type } = handler;\n        if (type === 'unary') {\n            handleUnary(call, handler, metadata, encoding);\n        }\n        else if (type === 'clientStream') {\n            handleClientStreaming(call, handler, metadata, encoding);\n        }\n        else if (type === 'serverStream') {\n            handleServerStreaming(call, handler, metadata, encoding);\n        }\n        else if (type === 'bidi') {\n            handleBidiStreaming(call, handler, metadata, encoding);\n        }\n        else {\n            return false;\n        }\n        return true;\n    }\n    _setupHandlers(http2Server) {\n        if (http2Server === null) {\n            return;\n        }\n        const serverAddress = http2Server.address();\n        let serverAddressString = 'null';\n        if (serverAddress) {\n            if (typeof serverAddress === 'string') {\n                serverAddressString = serverAddress;\n            }\n            else {\n                serverAddressString =\n                    serverAddress.address + ':' + serverAddress.port;\n            }\n        }\n        this.serverAddressString = serverAddressString;\n        const handler = this.channelzEnabled\n            ? this._channelzHandler\n            : this._streamHandler;\n        http2Server.on('stream', handler.bind(this));\n        http2Server.on('session', (session) => {\n            var _a, _b, _c, _d, _e;\n            if (!this.started) {\n                session.destroy();\n                return;\n            }\n            let channelzRef;\n            channelzRef = (0, channelz_1.registerChannelzSocket)((_a = session.socket.remoteAddress) !== null && _a !== void 0 ? _a : 'unknown', this.getChannelzSessionInfoGetter(session), this.channelzEnabled);\n            const channelzSessionInfo = {\n                ref: channelzRef,\n                streamTracker: new channelz_1.ChannelzCallTracker(),\n                messagesSent: 0,\n                messagesReceived: 0,\n                lastMessageSentTimestamp: null,\n                lastMessageReceivedTimestamp: null\n            };\n            this.sessions.set(session, channelzSessionInfo);\n            const clientAddress = session.socket.remoteAddress;\n            if (this.channelzEnabled) {\n                this.channelzTrace.addTrace('CT_INFO', 'Connection established by client ' + clientAddress);\n                this.sessionChildrenTracker.refChild(channelzRef);\n            }\n            let connectionAgeTimer = null;\n            let connectionAgeGraceTimer = null;\n            let sessionClosedByServer = false;\n            if (this.maxConnectionAgeMs !== UNLIMITED_CONNECTION_AGE_MS) {\n                // Apply a random jitter within a +/-10% range\n                const jitterMagnitude = this.maxConnectionAgeMs / 10;\n                const jitter = Math.random() * jitterMagnitude * 2 - jitterMagnitude;\n                connectionAgeTimer = (_c = (_b = setTimeout(() => {\n                    var _a, _b;\n                    sessionClosedByServer = true;\n                    if (this.channelzEnabled) {\n                        this.channelzTrace.addTrace('CT_INFO', 'Connection dropped by max connection age from ' + clientAddress);\n                    }\n                    try {\n                        session.goaway(http2.constants.NGHTTP2_NO_ERROR, ~(1 << 31), Buffer.from('max_age'));\n                    }\n                    catch (e) {\n                        // The goaway can't be sent because the session is already closed\n                        session.destroy();\n                        return;\n                    }\n                    session.close();\n                    /* Allow a grace period after sending the GOAWAY before forcibly\n                     * closing the connection. */\n                    if (this.maxConnectionAgeGraceMs !== UNLIMITED_CONNECTION_AGE_MS) {\n                        connectionAgeGraceTimer = (_b = (_a = setTimeout(() => {\n                            session.destroy();\n                        }, this.maxConnectionAgeGraceMs)).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n                    }\n                }, this.maxConnectionAgeMs + jitter)).unref) === null || _c === void 0 ? void 0 : _c.call(_b);\n            }\n            const keeapliveTimeTimer = (_e = (_d = setInterval(() => {\n                var _a, _b;\n                const timeoutTImer = (_b = (_a = setTimeout(() => {\n                    sessionClosedByServer = true;\n                    if (this.channelzEnabled) {\n                        this.channelzTrace.addTrace('CT_INFO', 'Connection dropped by keepalive timeout from ' + clientAddress);\n                    }\n                    session.close();\n                }, this.keepaliveTimeoutMs)).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n                try {\n                    session.ping((err, duration, payload) => {\n                        clearTimeout(timeoutTImer);\n                    });\n                }\n                catch (e) {\n                    // The ping can't be sent because the session is already closed\n                    session.destroy();\n                }\n            }, this.keepaliveTimeMs)).unref) === null || _e === void 0 ? void 0 : _e.call(_d);\n            session.on('close', () => {\n                if (this.channelzEnabled) {\n                    if (!sessionClosedByServer) {\n                        this.channelzTrace.addTrace('CT_INFO', 'Connection dropped by client ' + clientAddress);\n                    }\n                    this.sessionChildrenTracker.unrefChild(channelzRef);\n                    (0, channelz_1.unregisterChannelzRef)(channelzRef);\n                }\n                if (connectionAgeTimer) {\n                    clearTimeout(connectionAgeTimer);\n                }\n                if (connectionAgeGraceTimer) {\n                    clearTimeout(connectionAgeGraceTimer);\n                }\n                if (keeapliveTimeTimer) {\n                    clearTimeout(keeapliveTimeTimer);\n                }\n                this.sessions.delete(session);\n            });\n        });\n    }\n}\nexports.Server = Server;\nfunction handleUnary(call, handler, metadata, encoding) {\n    call.receiveUnaryMessage(encoding, (err, request) => {\n        if (err) {\n            call.sendError(err);\n            return;\n        }\n        if (request === undefined || call.cancelled) {\n            return;\n        }\n        const emitter = new server_call_1.ServerUnaryCallImpl(call, metadata, request);\n        handler.func(emitter, (err, value, trailer, flags) => {\n            call.sendUnaryMessage(err, value, trailer, flags);\n        });\n    });\n}\nfunction handleClientStreaming(call, handler, metadata, encoding) {\n    const stream = new server_call_1.ServerReadableStreamImpl(call, metadata, handler.deserialize, encoding);\n    function respond(err, value, trailer, flags) {\n        stream.destroy();\n        call.sendUnaryMessage(err, value, trailer, flags);\n    }\n    if (call.cancelled) {\n        return;\n    }\n    stream.on('error', respond);\n    handler.func(stream, respond);\n}\nfunction handleServerStreaming(call, handler, metadata, encoding) {\n    call.receiveUnaryMessage(encoding, (err, request) => {\n        if (err) {\n            call.sendError(err);\n            return;\n        }\n        if (request === undefined || call.cancelled) {\n            return;\n        }\n        const stream = new server_call_1.ServerWritableStreamImpl(call, metadata, handler.serialize, request);\n        handler.func(stream);\n    });\n}\nfunction handleBidiStreaming(call, handler, metadata, encoding) {\n    const stream = new server_call_1.ServerDuplexStreamImpl(call, metadata, handler.serialize, handler.deserialize, encoding);\n    if (call.cancelled) {\n        return;\n    }\n    handler.func(stream);\n}\n//# sourceMappingURL=server.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extractAndSelectServiceConfig = exports.validateServiceConfig = exports.validateRetryThrottling = void 0;\n/* This file implements gRFC A2 and the service config spec:\n * https://github.com/grpc/proposal/blob/master/A2-service-configs-in-dns.md\n * https://github.com/grpc/grpc/blob/master/doc/service_config.md. Each\n * function here takes an object with unknown structure and returns its\n * specific object type if the input has the right structure, and throws an\n * error otherwise. */\n/* The any type is purposely used here. All functions validate their input at\n * runtime */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst os = require(\"os\");\nconst constants_1 = require(\"./constants\");\nconst load_balancer_1 = require(\"./load-balancer\");\n/**\n * Recognizes a number with up to 9 digits after the decimal point, followed by\n * an \"s\", representing a number of seconds.\n */\nconst DURATION_REGEX = /^\\d+(\\.\\d{1,9})?s$/;\n/**\n * Client language name used for determining whether this client matches a\n * `ServiceConfigCanaryConfig`'s `clientLanguage` list.\n */\nconst CLIENT_LANGUAGE_STRING = 'node';\nfunction validateName(obj) {\n    if (!('service' in obj) || typeof obj.service !== 'string') {\n        throw new Error('Invalid method config name: invalid service');\n    }\n    const result = {\n        service: obj.service,\n    };\n    if ('method' in obj) {\n        if (typeof obj.method === 'string') {\n            result.method = obj.method;\n        }\n        else {\n            throw new Error('Invalid method config name: invalid method');\n        }\n    }\n    return result;\n}\nfunction validateRetryPolicy(obj) {\n    if (!('maxAttempts' in obj) || !Number.isInteger(obj.maxAttempts) || obj.maxAttempts < 2) {\n        throw new Error('Invalid method config retry policy: maxAttempts must be an integer at least 2');\n    }\n    if (!('initialBackoff' in obj) || typeof obj.initialBackoff !== 'string' || !DURATION_REGEX.test(obj.initialBackoff)) {\n        throw new Error('Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s');\n    }\n    if (!('maxBackoff' in obj) || typeof obj.maxBackoff !== 'string' || !DURATION_REGEX.test(obj.maxBackoff)) {\n        throw new Error('Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s');\n    }\n    if (!('backoffMultiplier' in obj) || typeof obj.backoffMultiplier !== 'number' || obj.backoffMultiplier <= 0) {\n        throw new Error('Invalid method config retry policy: backoffMultiplier must be a number greater than 0');\n    }\n    if (!(('retryableStatusCodes' in obj) && Array.isArray(obj.retryableStatusCodes))) {\n        throw new Error('Invalid method config retry policy: retryableStatusCodes is required');\n    }\n    if (obj.retryableStatusCodes.length === 0) {\n        throw new Error('Invalid method config retry policy: retryableStatusCodes must be non-empty');\n    }\n    for (const value of obj.retryableStatusCodes) {\n        if (typeof value === 'number') {\n            if (!Object.values(constants_1.Status).includes(value)) {\n                throw new Error('Invalid method config retry policy: retryableStatusCodes value not in status code range');\n            }\n        }\n        else if (typeof value === 'string') {\n            if (!Object.values(constants_1.Status).includes(value.toUpperCase())) {\n                throw new Error('Invalid method config retry policy: retryableStatusCodes value not a status code name');\n            }\n        }\n        else {\n            throw new Error('Invalid method config retry policy: retryableStatusCodes value must be a string or number');\n        }\n    }\n    return {\n        maxAttempts: obj.maxAttempts,\n        initialBackoff: obj.initialBackoff,\n        maxBackoff: obj.maxBackoff,\n        backoffMultiplier: obj.backoffMultiplier,\n        retryableStatusCodes: obj.retryableStatusCodes\n    };\n}\nfunction validateHedgingPolicy(obj) {\n    if (!('maxAttempts' in obj) || !Number.isInteger(obj.maxAttempts) || obj.maxAttempts < 2) {\n        throw new Error('Invalid method config hedging policy: maxAttempts must be an integer at least 2');\n    }\n    if (('hedgingDelay' in obj) && (typeof obj.hedgingDelay !== 'string' || !DURATION_REGEX.test(obj.hedgingDelay))) {\n        throw new Error('Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s');\n    }\n    if (('nonFatalStatusCodes' in obj) && Array.isArray(obj.nonFatalStatusCodes)) {\n        for (const value of obj.nonFatalStatusCodes) {\n            if (typeof value === 'number') {\n                if (!Object.values(constants_1.Status).includes(value)) {\n                    throw new Error('Invlid method config hedging policy: nonFatalStatusCodes value not in status code range');\n                }\n            }\n            else if (typeof value === 'string') {\n                if (!Object.values(constants_1.Status).includes(value.toUpperCase())) {\n                    throw new Error('Invlid method config hedging policy: nonFatalStatusCodes value not a status code name');\n                }\n            }\n            else {\n                throw new Error('Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number');\n            }\n        }\n    }\n    const result = {\n        maxAttempts: obj.maxAttempts\n    };\n    if (obj.hedgingDelay) {\n        result.hedgingDelay = obj.hedgingDelay;\n    }\n    if (obj.nonFatalStatusCodes) {\n        result.nonFatalStatusCodes = obj.nonFatalStatusCodes;\n    }\n    return result;\n}\nfunction validateMethodConfig(obj) {\n    var _a;\n    const result = {\n        name: [],\n    };\n    if (!('name' in obj) || !Array.isArray(obj.name)) {\n        throw new Error('Invalid method config: invalid name array');\n    }\n    for (const name of obj.name) {\n        result.name.push(validateName(name));\n    }\n    if ('waitForReady' in obj) {\n        if (typeof obj.waitForReady !== 'boolean') {\n            throw new Error('Invalid method config: invalid waitForReady');\n        }\n        result.waitForReady = obj.waitForReady;\n    }\n    if ('timeout' in obj) {\n        if (typeof obj.timeout === 'object') {\n            if (!('seconds' in obj.timeout) ||\n                !(typeof obj.timeout.seconds === 'number')) {\n                throw new Error('Invalid method config: invalid timeout.seconds');\n            }\n            if (!('nanos' in obj.timeout) ||\n                !(typeof obj.timeout.nanos === 'number')) {\n                throw new Error('Invalid method config: invalid timeout.nanos');\n            }\n            result.timeout = obj.timeout;\n        }\n        else if (typeof obj.timeout === 'string' &&\n            DURATION_REGEX.test(obj.timeout)) {\n            const timeoutParts = obj.timeout\n                .substring(0, obj.timeout.length - 1)\n                .split('.');\n            result.timeout = {\n                seconds: timeoutParts[0] | 0,\n                nanos: ((_a = timeoutParts[1]) !== null && _a !== void 0 ? _a : 0) | 0,\n            };\n        }\n        else {\n            throw new Error('Invalid method config: invalid timeout');\n        }\n    }\n    if ('maxRequestBytes' in obj) {\n        if (typeof obj.maxRequestBytes !== 'number') {\n            throw new Error('Invalid method config: invalid maxRequestBytes');\n        }\n        result.maxRequestBytes = obj.maxRequestBytes;\n    }\n    if ('maxResponseBytes' in obj) {\n        if (typeof obj.maxResponseBytes !== 'number') {\n            throw new Error('Invalid method config: invalid maxRequestBytes');\n        }\n        result.maxResponseBytes = obj.maxResponseBytes;\n    }\n    if ('retryPolicy' in obj) {\n        if ('hedgingPolicy' in obj) {\n            throw new Error('Invalid method config: retryPolicy and hedgingPolicy cannot both be specified');\n        }\n        else {\n            result.retryPolicy = validateRetryPolicy(obj.retryPolicy);\n        }\n    }\n    else if ('hedgingPolicy' in obj) {\n        result.hedgingPolicy = validateHedgingPolicy(obj.hedgingPolicy);\n    }\n    return result;\n}\nfunction validateRetryThrottling(obj) {\n    if (!('maxTokens' in obj) || typeof obj.maxTokens !== 'number' || obj.maxTokens <= 0 || obj.maxTokens > 1000) {\n        throw new Error('Invalid retryThrottling: maxTokens must be a number in (0, 1000]');\n    }\n    if (!('tokenRatio' in obj) || typeof obj.tokenRatio !== 'number' || obj.tokenRatio <= 0) {\n        throw new Error('Invalid retryThrottling: tokenRatio must be a number greater than 0');\n    }\n    return {\n        maxTokens: +obj.maxTokens.toFixed(3),\n        tokenRatio: +obj.tokenRatio.toFixed(3)\n    };\n}\nexports.validateRetryThrottling = validateRetryThrottling;\nfunction validateServiceConfig(obj) {\n    const result = {\n        loadBalancingConfig: [],\n        methodConfig: [],\n    };\n    if ('loadBalancingPolicy' in obj) {\n        if (typeof obj.loadBalancingPolicy === 'string') {\n            result.loadBalancingPolicy = obj.loadBalancingPolicy;\n        }\n        else {\n            throw new Error('Invalid service config: invalid loadBalancingPolicy');\n        }\n    }\n    if ('loadBalancingConfig' in obj) {\n        if (Array.isArray(obj.loadBalancingConfig)) {\n            for (const config of obj.loadBalancingConfig) {\n                result.loadBalancingConfig.push((0, load_balancer_1.validateLoadBalancingConfig)(config));\n            }\n        }\n        else {\n            throw new Error('Invalid service config: invalid loadBalancingConfig');\n        }\n    }\n    if ('methodConfig' in obj) {\n        if (Array.isArray(obj.methodConfig)) {\n            for (const methodConfig of obj.methodConfig) {\n                result.methodConfig.push(validateMethodConfig(methodConfig));\n            }\n        }\n    }\n    if ('retryThrottling' in obj) {\n        result.retryThrottling = validateRetryThrottling(obj.retryThrottling);\n    }\n    // Validate method name uniqueness\n    const seenMethodNames = [];\n    for (const methodConfig of result.methodConfig) {\n        for (const name of methodConfig.name) {\n            for (const seenName of seenMethodNames) {\n                if (name.service === seenName.service &&\n                    name.method === seenName.method) {\n                    throw new Error(`Invalid service config: duplicate name ${name.service}/${name.method}`);\n                }\n            }\n            seenMethodNames.push(name);\n        }\n    }\n    return result;\n}\nexports.validateServiceConfig = validateServiceConfig;\nfunction validateCanaryConfig(obj) {\n    if (!('serviceConfig' in obj)) {\n        throw new Error('Invalid service config choice: missing service config');\n    }\n    const result = {\n        serviceConfig: validateServiceConfig(obj.serviceConfig),\n    };\n    if ('clientLanguage' in obj) {\n        if (Array.isArray(obj.clientLanguage)) {\n            result.clientLanguage = [];\n            for (const lang of obj.clientLanguage) {\n                if (typeof lang === 'string') {\n                    result.clientLanguage.push(lang);\n                }\n                else {\n                    throw new Error('Invalid service config choice: invalid clientLanguage');\n                }\n            }\n        }\n        else {\n            throw new Error('Invalid service config choice: invalid clientLanguage');\n        }\n    }\n    if ('clientHostname' in obj) {\n        if (Array.isArray(obj.clientHostname)) {\n            result.clientHostname = [];\n            for (const lang of obj.clientHostname) {\n                if (typeof lang === 'string') {\n                    result.clientHostname.push(lang);\n                }\n                else {\n                    throw new Error('Invalid service config choice: invalid clientHostname');\n                }\n            }\n        }\n        else {\n            throw new Error('Invalid service config choice: invalid clientHostname');\n        }\n    }\n    if ('percentage' in obj) {\n        if (typeof obj.percentage === 'number' &&\n            0 <= obj.percentage &&\n            obj.percentage <= 100) {\n            result.percentage = obj.percentage;\n        }\n        else {\n            throw new Error('Invalid service config choice: invalid percentage');\n        }\n    }\n    // Validate that no unexpected fields are present\n    const allowedFields = [\n        'clientLanguage',\n        'percentage',\n        'clientHostname',\n        'serviceConfig',\n    ];\n    for (const field in obj) {\n        if (!allowedFields.includes(field)) {\n            throw new Error(`Invalid service config choice: unexpected field ${field}`);\n        }\n    }\n    return result;\n}\nfunction validateAndSelectCanaryConfig(obj, percentage) {\n    if (!Array.isArray(obj)) {\n        throw new Error('Invalid service config list');\n    }\n    for (const config of obj) {\n        const validatedConfig = validateCanaryConfig(config);\n        /* For each field, we check if it is present, then only discard the\n         * config if the field value does not match the current client */\n        if (typeof validatedConfig.percentage === 'number' &&\n            percentage > validatedConfig.percentage) {\n            continue;\n        }\n        if (Array.isArray(validatedConfig.clientHostname)) {\n            let hostnameMatched = false;\n            for (const hostname of validatedConfig.clientHostname) {\n                if (hostname === os.hostname()) {\n                    hostnameMatched = true;\n                }\n            }\n            if (!hostnameMatched) {\n                continue;\n            }\n        }\n        if (Array.isArray(validatedConfig.clientLanguage)) {\n            let languageMatched = false;\n            for (const language of validatedConfig.clientLanguage) {\n                if (language === CLIENT_LANGUAGE_STRING) {\n                    languageMatched = true;\n                }\n            }\n            if (!languageMatched) {\n                continue;\n            }\n        }\n        return validatedConfig.serviceConfig;\n    }\n    throw new Error('No matching service config found');\n}\n/**\n * Find the \"grpc_config\" record among the TXT records, parse its value as JSON, validate its contents,\n * and select a service config with selection fields that all match this client. Most of these steps\n * can fail with an error; the caller must handle any errors thrown this way.\n * @param txtRecord The TXT record array that is output from a successful call to dns.resolveTxt\n * @param percentage A number chosen from the range [0, 100) that is used to select which config to use\n * @return The service configuration to use, given the percentage value, or null if the service config\n *     data has a valid format but none of the options match the current client.\n */\nfunction extractAndSelectServiceConfig(txtRecord, percentage) {\n    for (const record of txtRecord) {\n        if (record.length > 0 && record[0].startsWith('grpc_config=')) {\n            /* Treat the list of strings in this record as a single string and remove\n             * \"grpc_config=\" from the beginning. The rest should be a JSON string */\n            const recordString = record.join('').substring('grpc_config='.length);\n            const recordJson = JSON.parse(recordString);\n            return validateAndSelectCanaryConfig(recordJson, percentage);\n        }\n    }\n    return null;\n}\nexports.extractAndSelectServiceConfig = extractAndSelectServiceConfig;\n//# sourceMappingURL=service-config.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StatusBuilder = void 0;\n/**\n * A builder for gRPC status objects.\n */\nclass StatusBuilder {\n    constructor() {\n        this.code = null;\n        this.details = null;\n        this.metadata = null;\n    }\n    /**\n     * Adds a status code to the builder.\n     */\n    withCode(code) {\n        this.code = code;\n        return this;\n    }\n    /**\n     * Adds details to the builder.\n     */\n    withDetails(details) {\n        this.details = details;\n        return this;\n    }\n    /**\n     * Adds metadata to the builder.\n     */\n    withMetadata(metadata) {\n        this.metadata = metadata;\n        return this;\n    }\n    /**\n     * Builds the status object.\n     */\n    build() {\n        const status = {};\n        if (this.code !== null) {\n            status.code = this.code;\n        }\n        if (this.details !== null) {\n            status.details = this.details;\n        }\n        if (this.metadata !== null) {\n            status.metadata = this.metadata;\n        }\n        return status;\n    }\n}\nexports.StatusBuilder = StatusBuilder;\n//# sourceMappingURL=status-builder.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StreamDecoder = void 0;\nvar ReadState;\n(function (ReadState) {\n    ReadState[ReadState[\"NO_DATA\"] = 0] = \"NO_DATA\";\n    ReadState[ReadState[\"READING_SIZE\"] = 1] = \"READING_SIZE\";\n    ReadState[ReadState[\"READING_MESSAGE\"] = 2] = \"READING_MESSAGE\";\n})(ReadState || (ReadState = {}));\nclass StreamDecoder {\n    constructor() {\n        this.readState = ReadState.NO_DATA;\n        this.readCompressFlag = Buffer.alloc(1);\n        this.readPartialSize = Buffer.alloc(4);\n        this.readSizeRemaining = 4;\n        this.readMessageSize = 0;\n        this.readPartialMessage = [];\n        this.readMessageRemaining = 0;\n    }\n    write(data) {\n        let readHead = 0;\n        let toRead;\n        const result = [];\n        while (readHead < data.length) {\n            switch (this.readState) {\n                case ReadState.NO_DATA:\n                    this.readCompressFlag = data.slice(readHead, readHead + 1);\n                    readHead += 1;\n                    this.readState = ReadState.READING_SIZE;\n                    this.readPartialSize.fill(0);\n                    this.readSizeRemaining = 4;\n                    this.readMessageSize = 0;\n                    this.readMessageRemaining = 0;\n                    this.readPartialMessage = [];\n                    break;\n                case ReadState.READING_SIZE:\n                    toRead = Math.min(data.length - readHead, this.readSizeRemaining);\n                    data.copy(this.readPartialSize, 4 - this.readSizeRemaining, readHead, readHead + toRead);\n                    this.readSizeRemaining -= toRead;\n                    readHead += toRead;\n                    // readSizeRemaining >=0 here\n                    if (this.readSizeRemaining === 0) {\n                        this.readMessageSize = this.readPartialSize.readUInt32BE(0);\n                        this.readMessageRemaining = this.readMessageSize;\n                        if (this.readMessageRemaining > 0) {\n                            this.readState = ReadState.READING_MESSAGE;\n                        }\n                        else {\n                            const message = Buffer.concat([this.readCompressFlag, this.readPartialSize], 5);\n                            this.readState = ReadState.NO_DATA;\n                            result.push(message);\n                        }\n                    }\n                    break;\n                case ReadState.READING_MESSAGE:\n                    toRead = Math.min(data.length - readHead, this.readMessageRemaining);\n                    this.readPartialMessage.push(data.slice(readHead, readHead + toRead));\n                    this.readMessageRemaining -= toRead;\n                    readHead += toRead;\n                    // readMessageRemaining >=0 here\n                    if (this.readMessageRemaining === 0) {\n                        // At this point, we have read a full message\n                        const framedMessageBuffers = [\n                            this.readCompressFlag,\n                            this.readPartialSize,\n                        ].concat(this.readPartialMessage);\n                        const framedMessage = Buffer.concat(framedMessageBuffers, this.readMessageSize + 5);\n                        this.readState = ReadState.NO_DATA;\n                        result.push(framedMessage);\n                    }\n                    break;\n                default:\n                    throw new Error('Unexpected read state');\n            }\n        }\n        return result;\n    }\n}\nexports.StreamDecoder = StreamDecoder;\n//# sourceMappingURL=stream-decoder.js.map","\"use strict\";\n/*\n * Copyright 2021 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringToSubchannelAddress = exports.subchannelAddressToString = exports.subchannelAddressEqual = exports.isTcpSubchannelAddress = void 0;\nconst net_1 = require(\"net\");\nfunction isTcpSubchannelAddress(address) {\n    return 'port' in address;\n}\nexports.isTcpSubchannelAddress = isTcpSubchannelAddress;\nfunction subchannelAddressEqual(address1, address2) {\n    if (isTcpSubchannelAddress(address1)) {\n        return (isTcpSubchannelAddress(address2) &&\n            address1.host === address2.host &&\n            address1.port === address2.port);\n    }\n    else {\n        return !isTcpSubchannelAddress(address2) && address1.path === address2.path;\n    }\n}\nexports.subchannelAddressEqual = subchannelAddressEqual;\nfunction subchannelAddressToString(address) {\n    if (isTcpSubchannelAddress(address)) {\n        return address.host + ':' + address.port;\n    }\n    else {\n        return address.path;\n    }\n}\nexports.subchannelAddressToString = subchannelAddressToString;\nconst DEFAULT_PORT = 443;\nfunction stringToSubchannelAddress(addressString, port) {\n    if ((0, net_1.isIP)(addressString)) {\n        return {\n            host: addressString,\n            port: port !== null && port !== void 0 ? port : DEFAULT_PORT\n        };\n    }\n    else {\n        return {\n            path: addressString\n        };\n    }\n}\nexports.stringToSubchannelAddress = stringToSubchannelAddress;\n//# sourceMappingURL=subchannel-address.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Http2SubchannelCall = void 0;\nconst http2 = require(\"http2\");\nconst os = require(\"os\");\nconst constants_1 = require(\"./constants\");\nconst metadata_1 = require(\"./metadata\");\nconst stream_decoder_1 = require(\"./stream-decoder\");\nconst logging = require(\"./logging\");\nconst constants_2 = require(\"./constants\");\nconst TRACER_NAME = 'subchannel_call';\nconst { HTTP2_HEADER_STATUS, HTTP2_HEADER_CONTENT_TYPE, NGHTTP2_CANCEL, } = http2.constants;\n/**\n * Should do approximately the same thing as util.getSystemErrorName but the\n * TypeScript types don't have that function for some reason so I just made my\n * own.\n * @param errno\n */\nfunction getSystemErrorName(errno) {\n    for (const [name, num] of Object.entries(os.constants.errno)) {\n        if (num === errno) {\n            return name;\n        }\n    }\n    return 'Unknown system error ' + errno;\n}\nclass Http2SubchannelCall {\n    constructor(http2Stream, callEventTracker, listener, transport, callId) {\n        this.http2Stream = http2Stream;\n        this.callEventTracker = callEventTracker;\n        this.listener = listener;\n        this.transport = transport;\n        this.callId = callId;\n        this.decoder = new stream_decoder_1.StreamDecoder();\n        this.isReadFilterPending = false;\n        this.isPushPending = false;\n        this.canPush = false;\n        /**\n         * Indicates that an 'end' event has come from the http2 stream, so there\n         * will be no more data events.\n         */\n        this.readsClosed = false;\n        this.statusOutput = false;\n        this.unpushedReadMessages = [];\n        // Status code mapped from :status. To be used if grpc-status is not received\n        this.mappedStatusCode = constants_1.Status.UNKNOWN;\n        // This is populated (non-null) if and only if the call has ended\n        this.finalStatus = null;\n        this.internalError = null;\n        http2Stream.on('response', (headers, flags) => {\n            let headersString = '';\n            for (const header of Object.keys(headers)) {\n                headersString += '\\t\\t' + header + ': ' + headers[header] + '\\n';\n            }\n            this.trace('Received server headers:\\n' + headersString);\n            switch (headers[':status']) {\n                // TODO(murgatroid99): handle 100 and 101\n                case 400:\n                    this.mappedStatusCode = constants_1.Status.INTERNAL;\n                    break;\n                case 401:\n                    this.mappedStatusCode = constants_1.Status.UNAUTHENTICATED;\n                    break;\n                case 403:\n                    this.mappedStatusCode = constants_1.Status.PERMISSION_DENIED;\n                    break;\n                case 404:\n                    this.mappedStatusCode = constants_1.Status.UNIMPLEMENTED;\n                    break;\n                case 429:\n                case 502:\n                case 503:\n                case 504:\n                    this.mappedStatusCode = constants_1.Status.UNAVAILABLE;\n                    break;\n                default:\n                    this.mappedStatusCode = constants_1.Status.UNKNOWN;\n            }\n            if (flags & http2.constants.NGHTTP2_FLAG_END_STREAM) {\n                this.handleTrailers(headers);\n            }\n            else {\n                let metadata;\n                try {\n                    metadata = metadata_1.Metadata.fromHttp2Headers(headers);\n                }\n                catch (error) {\n                    this.endCall({\n                        code: constants_1.Status.UNKNOWN,\n                        details: error.message,\n                        metadata: new metadata_1.Metadata(),\n                    });\n                    return;\n                }\n                this.listener.onReceiveMetadata(metadata);\n            }\n        });\n        http2Stream.on('trailers', (headers) => {\n            this.handleTrailers(headers);\n        });\n        http2Stream.on('data', (data) => {\n            /* If the status has already been output, allow the http2 stream to\n             * drain without processing the data. */\n            if (this.statusOutput) {\n                return;\n            }\n            this.trace('receive HTTP/2 data frame of length ' + data.length);\n            const messages = this.decoder.write(data);\n            for (const message of messages) {\n                this.trace('parsed message of length ' + message.length);\n                this.callEventTracker.addMessageReceived();\n                this.tryPush(message);\n            }\n        });\n        http2Stream.on('end', () => {\n            this.readsClosed = true;\n            this.maybeOutputStatus();\n        });\n        http2Stream.on('close', () => {\n            /* Use process.next tick to ensure that this code happens after any\n             * \"error\" event that may be emitted at about the same time, so that\n             * we can bubble up the error message from that event. */\n            process.nextTick(() => {\n                var _a;\n                this.trace('HTTP/2 stream closed with code ' + http2Stream.rstCode);\n                /* If we have a final status with an OK status code, that means that\n                 * we have received all of the messages and we have processed the\n                 * trailers and the call completed successfully, so it doesn't matter\n                 * how the stream ends after that */\n                if (((_a = this.finalStatus) === null || _a === void 0 ? void 0 : _a.code) === constants_1.Status.OK) {\n                    return;\n                }\n                let code;\n                let details = '';\n                switch (http2Stream.rstCode) {\n                    case http2.constants.NGHTTP2_NO_ERROR:\n                        /* If we get a NO_ERROR code and we already have a status, the\n                         * stream completed properly and we just haven't fully processed\n                         * it yet */\n                        if (this.finalStatus !== null) {\n                            return;\n                        }\n                        code = constants_1.Status.INTERNAL;\n                        details = `Received RST_STREAM with code ${http2Stream.rstCode}`;\n                        break;\n                    case http2.constants.NGHTTP2_REFUSED_STREAM:\n                        code = constants_1.Status.UNAVAILABLE;\n                        details = 'Stream refused by server';\n                        break;\n                    case http2.constants.NGHTTP2_CANCEL:\n                        code = constants_1.Status.CANCELLED;\n                        details = 'Call cancelled';\n                        break;\n                    case http2.constants.NGHTTP2_ENHANCE_YOUR_CALM:\n                        code = constants_1.Status.RESOURCE_EXHAUSTED;\n                        details = 'Bandwidth exhausted or memory limit exceeded';\n                        break;\n                    case http2.constants.NGHTTP2_INADEQUATE_SECURITY:\n                        code = constants_1.Status.PERMISSION_DENIED;\n                        details = 'Protocol not secure enough';\n                        break;\n                    case http2.constants.NGHTTP2_INTERNAL_ERROR:\n                        code = constants_1.Status.INTERNAL;\n                        if (this.internalError === null) {\n                            /* This error code was previously handled in the default case, and\n                             * there are several instances of it online, so I wanted to\n                             * preserve the original error message so that people find existing\n                             * information in searches, but also include the more recognizable\n                             * \"Internal server error\" message. */\n                            details = `Received RST_STREAM with code ${http2Stream.rstCode} (Internal server error)`;\n                        }\n                        else {\n                            if (this.internalError.code === 'ECONNRESET' || this.internalError.code === 'ETIMEDOUT') {\n                                code = constants_1.Status.UNAVAILABLE;\n                                details = this.internalError.message;\n                            }\n                            else {\n                                /* The \"Received RST_STREAM with code ...\" error is preserved\n                                 * here for continuity with errors reported online, but the\n                                 * error message at the end will probably be more relevant in\n                                 * most cases. */\n                                details = `Received RST_STREAM with code ${http2Stream.rstCode} triggered by internal client error: ${this.internalError.message}`;\n                            }\n                        }\n                        break;\n                    default:\n                        code = constants_1.Status.INTERNAL;\n                        details = `Received RST_STREAM with code ${http2Stream.rstCode}`;\n                }\n                // This is a no-op if trailers were received at all.\n                // This is OK, because status codes emitted here correspond to more\n                // catastrophic issues that prevent us from receiving trailers in the\n                // first place.\n                this.endCall({ code, details, metadata: new metadata_1.Metadata(), rstCode: http2Stream.rstCode });\n            });\n        });\n        http2Stream.on('error', (err) => {\n            /* We need an error handler here to stop \"Uncaught Error\" exceptions\n             * from bubbling up. However, errors here should all correspond to\n             * \"close\" events, where we will handle the error more granularly */\n            /* Specifically looking for stream errors that were *not* constructed\n             * from a RST_STREAM response here:\n             * https://github.com/nodejs/node/blob/8b8620d580314050175983402dfddf2674e8e22a/lib/internal/http2/core.js#L2267\n             */\n            if (err.code !== 'ERR_HTTP2_STREAM_ERROR') {\n                this.trace('Node error event: message=' +\n                    err.message +\n                    ' code=' +\n                    err.code +\n                    ' errno=' +\n                    getSystemErrorName(err.errno) +\n                    ' syscall=' +\n                    err.syscall);\n                this.internalError = err;\n            }\n            this.callEventTracker.onStreamEnd(false);\n        });\n    }\n    onDisconnect() {\n        this.endCall({\n            code: constants_1.Status.UNAVAILABLE,\n            details: 'Connection dropped',\n            metadata: new metadata_1.Metadata(),\n        });\n    }\n    outputStatus() {\n        /* Precondition: this.finalStatus !== null */\n        if (!this.statusOutput) {\n            this.statusOutput = true;\n            this.trace('ended with status: code=' +\n                this.finalStatus.code +\n                ' details=\"' +\n                this.finalStatus.details +\n                '\"');\n            this.callEventTracker.onCallEnd(this.finalStatus);\n            /* We delay the actual action of bubbling up the status to insulate the\n             * cleanup code in this class from any errors that may be thrown in the\n             * upper layers as a result of bubbling up the status. In particular,\n             * if the status is not OK, the \"error\" event may be emitted\n             * synchronously at the top level, which will result in a thrown error if\n             * the user does not handle that event. */\n            process.nextTick(() => {\n                this.listener.onReceiveStatus(this.finalStatus);\n            });\n            /* Leave the http2 stream in flowing state to drain incoming messages, to\n             * ensure that the stream closure completes. The call stream already does\n             * not push more messages after the status is output, so the messages go\n             * nowhere either way. */\n            this.http2Stream.resume();\n        }\n    }\n    trace(text) {\n        logging.trace(constants_2.LogVerbosity.DEBUG, TRACER_NAME, '[' + this.callId + '] ' + text);\n    }\n    /**\n     * On first call, emits a 'status' event with the given StatusObject.\n     * Subsequent calls are no-ops.\n     * @param status The status of the call.\n     */\n    endCall(status) {\n        /* If the status is OK and a new status comes in (e.g. from a\n         * deserialization failure), that new status takes priority */\n        if (this.finalStatus === null || this.finalStatus.code === constants_1.Status.OK) {\n            this.finalStatus = status;\n            this.maybeOutputStatus();\n        }\n        this.destroyHttp2Stream();\n    }\n    maybeOutputStatus() {\n        if (this.finalStatus !== null) {\n            /* The combination check of readsClosed and that the two message buffer\n             * arrays are empty checks that there all incoming data has been fully\n             * processed */\n            if (this.finalStatus.code !== constants_1.Status.OK ||\n                (this.readsClosed &&\n                    this.unpushedReadMessages.length === 0 &&\n                    !this.isReadFilterPending &&\n                    !this.isPushPending)) {\n                this.outputStatus();\n            }\n        }\n    }\n    push(message) {\n        this.trace('pushing to reader message of length ' +\n            (message instanceof Buffer ? message.length : null));\n        this.canPush = false;\n        this.isPushPending = true;\n        process.nextTick(() => {\n            this.isPushPending = false;\n            /* If we have already output the status any later messages should be\n             * ignored, and can cause out-of-order operation errors higher up in the\n             * stack. Checking as late as possible here to avoid any race conditions.\n             */\n            if (this.statusOutput) {\n                return;\n            }\n            this.listener.onReceiveMessage(message);\n            this.maybeOutputStatus();\n        });\n    }\n    tryPush(messageBytes) {\n        if (this.canPush) {\n            this.http2Stream.pause();\n            this.push(messageBytes);\n        }\n        else {\n            this.trace('unpushedReadMessages.push message of length ' + messageBytes.length);\n            this.unpushedReadMessages.push(messageBytes);\n        }\n    }\n    handleTrailers(headers) {\n        this.callEventTracker.onStreamEnd(true);\n        let headersString = '';\n        for (const header of Object.keys(headers)) {\n            headersString += '\\t\\t' + header + ': ' + headers[header] + '\\n';\n        }\n        this.trace('Received server trailers:\\n' + headersString);\n        let metadata;\n        try {\n            metadata = metadata_1.Metadata.fromHttp2Headers(headers);\n        }\n        catch (e) {\n            metadata = new metadata_1.Metadata();\n        }\n        const metadataMap = metadata.getMap();\n        let code = this.mappedStatusCode;\n        if (code === constants_1.Status.UNKNOWN &&\n            typeof metadataMap['grpc-status'] === 'string') {\n            const receivedStatus = Number(metadataMap['grpc-status']);\n            if (receivedStatus in constants_1.Status) {\n                code = receivedStatus;\n                this.trace('received status code ' + receivedStatus + ' from server');\n            }\n            metadata.remove('grpc-status');\n        }\n        let details = '';\n        if (typeof metadataMap['grpc-message'] === 'string') {\n            try {\n                details = decodeURI(metadataMap['grpc-message']);\n            }\n            catch (e) {\n                details = metadataMap['grpc-message'];\n            }\n            metadata.remove('grpc-message');\n            this.trace('received status details string \"' + details + '\" from server');\n        }\n        const status = { code, details, metadata };\n        // This is a no-op if the call was already ended when handling headers.\n        this.endCall(status);\n    }\n    destroyHttp2Stream() {\n        var _a;\n        // The http2 stream could already have been destroyed if cancelWithStatus\n        // is called in response to an internal http2 error.\n        if (!this.http2Stream.destroyed) {\n            /* If the call has ended with an OK status, communicate that when closing\n             * the stream, partly to avoid a situation in which we detect an error\n             * RST_STREAM as a result after we have the status */\n            let code;\n            if (((_a = this.finalStatus) === null || _a === void 0 ? void 0 : _a.code) === constants_1.Status.OK) {\n                code = http2.constants.NGHTTP2_NO_ERROR;\n            }\n            else {\n                code = http2.constants.NGHTTP2_CANCEL;\n            }\n            this.trace('close http2 stream with code ' + code);\n            this.http2Stream.close(code);\n        }\n    }\n    cancelWithStatus(status, details) {\n        this.trace('cancelWithStatus code: ' + status + ' details: \"' + details + '\"');\n        this.endCall({ code: status, details, metadata: new metadata_1.Metadata() });\n    }\n    getStatus() {\n        return this.finalStatus;\n    }\n    getPeer() {\n        return this.transport.getPeerName();\n    }\n    getCallNumber() {\n        return this.callId;\n    }\n    startRead() {\n        /* If the stream has ended with an error, we should not emit any more\n         * messages and we should communicate that the stream has ended */\n        if (this.finalStatus !== null && this.finalStatus.code !== constants_1.Status.OK) {\n            this.readsClosed = true;\n            this.maybeOutputStatus();\n            return;\n        }\n        this.canPush = true;\n        if (this.unpushedReadMessages.length > 0) {\n            const nextMessage = this.unpushedReadMessages.shift();\n            this.push(nextMessage);\n            return;\n        }\n        /* Only resume reading from the http2Stream if we don't have any pending\n          * messages to emit */\n        this.http2Stream.resume();\n    }\n    sendMessageWithContext(context, message) {\n        this.trace('write() called with message of length ' + message.length);\n        const cb = (error) => {\n            var _a;\n            let code = constants_1.Status.UNAVAILABLE;\n            if ((error === null || error === void 0 ? void 0 : error.code) === 'ERR_STREAM_WRITE_AFTER_END') {\n                code = constants_1.Status.INTERNAL;\n            }\n            if (error) {\n                this.cancelWithStatus(code, `Write error: ${error.message}`);\n            }\n            (_a = context.callback) === null || _a === void 0 ? void 0 : _a.call(context);\n        };\n        this.trace('sending data chunk of length ' + message.length);\n        this.callEventTracker.addMessageSent();\n        try {\n            this.http2Stream.write(message, cb);\n        }\n        catch (error) {\n            this.endCall({\n                code: constants_1.Status.UNAVAILABLE,\n                details: `Write failed with error ${error.message}`,\n                metadata: new metadata_1.Metadata()\n            });\n        }\n    }\n    halfClose() {\n        this.trace('end() called');\n        this.trace('calling end() on HTTP/2 stream');\n        this.http2Stream.end();\n    }\n}\nexports.Http2SubchannelCall = Http2SubchannelCall;\n//# sourceMappingURL=subchannel-call.js.map","\"use strict\";\n/*\n * Copyright 2022 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseSubchannelWrapper = void 0;\nclass BaseSubchannelWrapper {\n    constructor(child) {\n        this.child = child;\n    }\n    getConnectivityState() {\n        return this.child.getConnectivityState();\n    }\n    addConnectivityStateListener(listener) {\n        this.child.addConnectivityStateListener(listener);\n    }\n    removeConnectivityStateListener(listener) {\n        this.child.removeConnectivityStateListener(listener);\n    }\n    startConnecting() {\n        this.child.startConnecting();\n    }\n    getAddress() {\n        return this.child.getAddress();\n    }\n    throttleKeepalive(newKeepaliveTime) {\n        this.child.throttleKeepalive(newKeepaliveTime);\n    }\n    ref() {\n        this.child.ref();\n    }\n    unref() {\n        this.child.unref();\n    }\n    getChannelzRef() {\n        return this.child.getChannelzRef();\n    }\n    getRealSubchannel() {\n        return this.child.getRealSubchannel();\n    }\n}\nexports.BaseSubchannelWrapper = BaseSubchannelWrapper;\n//# sourceMappingURL=subchannel-interface.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSubchannelPool = exports.SubchannelPool = void 0;\nconst channel_options_1 = require(\"./channel-options\");\nconst subchannel_1 = require(\"./subchannel\");\nconst subchannel_address_1 = require(\"./subchannel-address\");\nconst uri_parser_1 = require(\"./uri-parser\");\nconst transport_1 = require(\"./transport\");\n// 10 seconds in milliseconds. This value is arbitrary.\n/**\n * The amount of time in between checks for dropping subchannels that have no\n * other references\n */\nconst REF_CHECK_INTERVAL = 10000;\nclass SubchannelPool {\n    /**\n     * A pool of subchannels use for making connections. Subchannels with the\n     * exact same parameters will be reused.\n     */\n    constructor() {\n        this.pool = Object.create(null);\n        /**\n         * A timer of a task performing a periodic subchannel cleanup.\n         */\n        this.cleanupTimer = null;\n    }\n    /**\n     * Unrefs all unused subchannels and cancels the cleanup task if all\n     * subchannels have been unrefed.\n     */\n    unrefUnusedSubchannels() {\n        let allSubchannelsUnrefed = true;\n        /* These objects are created with Object.create(null), so they do not\n         * have a prototype, which means that for (... in ...) loops over them\n         * do not need to be filtered */\n        // eslint-disable-disable-next-line:forin\n        for (const channelTarget in this.pool) {\n            const subchannelObjArray = this.pool[channelTarget];\n            const refedSubchannels = subchannelObjArray.filter((value) => !value.subchannel.unrefIfOneRef());\n            if (refedSubchannels.length > 0) {\n                allSubchannelsUnrefed = false;\n            }\n            /* For each subchannel in the pool, try to unref it if it has\n             * exactly one ref (which is the ref from the pool itself). If that\n             * does happen, remove the subchannel from the pool */\n            this.pool[channelTarget] = refedSubchannels;\n        }\n        /* Currently we do not delete keys with empty values. If that results\n         * in significant memory usage we should change it. */\n        // Cancel the cleanup task if all subchannels have been unrefed.\n        if (allSubchannelsUnrefed && this.cleanupTimer !== null) {\n            clearInterval(this.cleanupTimer);\n            this.cleanupTimer = null;\n        }\n    }\n    /**\n     * Ensures that the cleanup task is spawned.\n     */\n    ensureCleanupTask() {\n        var _a, _b;\n        if (this.cleanupTimer === null) {\n            this.cleanupTimer = setInterval(() => {\n                this.unrefUnusedSubchannels();\n            }, REF_CHECK_INTERVAL);\n            // Unref because this timer should not keep the event loop running.\n            // Call unref only if it exists to address electron/electron#21162\n            (_b = (_a = this.cleanupTimer).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n        }\n    }\n    /**\n     * Get a subchannel if one already exists with exactly matching parameters.\n     * Otherwise, create and save a subchannel with those parameters.\n     * @param channelTarget\n     * @param subchannelTarget\n     * @param channelArguments\n     * @param channelCredentials\n     */\n    getOrCreateSubchannel(channelTargetUri, subchannelTarget, channelArguments, channelCredentials) {\n        this.ensureCleanupTask();\n        const channelTarget = (0, uri_parser_1.uriToString)(channelTargetUri);\n        if (channelTarget in this.pool) {\n            const subchannelObjArray = this.pool[channelTarget];\n            for (const subchannelObj of subchannelObjArray) {\n                if ((0, subchannel_address_1.subchannelAddressEqual)(subchannelTarget, subchannelObj.subchannelAddress) &&\n                    (0, channel_options_1.channelOptionsEqual)(channelArguments, subchannelObj.channelArguments) &&\n                    channelCredentials._equals(subchannelObj.channelCredentials)) {\n                    return subchannelObj.subchannel;\n                }\n            }\n        }\n        // If we get here, no matching subchannel was found\n        const subchannel = new subchannel_1.Subchannel(channelTargetUri, subchannelTarget, channelArguments, channelCredentials, new transport_1.Http2SubchannelConnector(channelTargetUri));\n        if (!(channelTarget in this.pool)) {\n            this.pool[channelTarget] = [];\n        }\n        this.pool[channelTarget].push({\n            subchannelAddress: subchannelTarget,\n            channelArguments,\n            channelCredentials,\n            subchannel,\n        });\n        subchannel.ref();\n        return subchannel;\n    }\n}\nexports.SubchannelPool = SubchannelPool;\nconst globalSubchannelPool = new SubchannelPool();\n/**\n * Get either the global subchannel pool, or a new subchannel pool.\n * @param global\n */\nfunction getSubchannelPool(global) {\n    if (global) {\n        return globalSubchannelPool;\n    }\n    else {\n        return new SubchannelPool();\n    }\n}\nexports.getSubchannelPool = getSubchannelPool;\n//# sourceMappingURL=subchannel-pool.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Subchannel = void 0;\nconst connectivity_state_1 = require(\"./connectivity-state\");\nconst backoff_timeout_1 = require(\"./backoff-timeout\");\nconst logging = require(\"./logging\");\nconst constants_1 = require(\"./constants\");\nconst uri_parser_1 = require(\"./uri-parser\");\nconst subchannel_address_1 = require(\"./subchannel-address\");\nconst channelz_1 = require(\"./channelz\");\nconst TRACER_NAME = 'subchannel';\n/* setInterval and setTimeout only accept signed 32 bit integers. JS doesn't\n * have a constant for the max signed 32 bit integer, so this is a simple way\n * to calculate it */\nconst KEEPALIVE_MAX_TIME_MS = ~(1 << 31);\nclass Subchannel {\n    /**\n     * A class representing a connection to a single backend.\n     * @param channelTarget The target string for the channel as a whole\n     * @param subchannelAddress The address for the backend that this subchannel\n     *     will connect to\n     * @param options The channel options, plus any specific subchannel options\n     *     for this subchannel\n     * @param credentials The channel credentials used to establish this\n     *     connection\n     */\n    constructor(channelTarget, subchannelAddress, options, credentials, connector) {\n        var _a;\n        this.channelTarget = channelTarget;\n        this.subchannelAddress = subchannelAddress;\n        this.options = options;\n        this.credentials = credentials;\n        this.connector = connector;\n        /**\n         * The subchannel's current connectivity state. Invariant: `session` === `null`\n         * if and only if `connectivityState` is IDLE or TRANSIENT_FAILURE.\n         */\n        this.connectivityState = connectivity_state_1.ConnectivityState.IDLE;\n        /**\n         * The underlying http2 session used to make requests.\n         */\n        this.transport = null;\n        /**\n         * Indicates that the subchannel should transition from TRANSIENT_FAILURE to\n         * CONNECTING instead of IDLE when the backoff timeout ends.\n         */\n        this.continueConnecting = false;\n        /**\n         * A list of listener functions that will be called whenever the connectivity\n         * state changes. Will be modified by `addConnectivityStateListener` and\n         * `removeConnectivityStateListener`\n         */\n        this.stateListeners = [];\n        /**\n         * Tracks channels and subchannel pools with references to this subchannel\n         */\n        this.refcount = 0;\n        // Channelz info\n        this.channelzEnabled = true;\n        this.callTracker = new channelz_1.ChannelzCallTracker();\n        this.childrenTracker = new channelz_1.ChannelzChildrenTracker();\n        // Channelz socket info\n        this.streamTracker = new channelz_1.ChannelzCallTracker();\n        const backoffOptions = {\n            initialDelay: options['grpc.initial_reconnect_backoff_ms'],\n            maxDelay: options['grpc.max_reconnect_backoff_ms'],\n        };\n        this.backoffTimeout = new backoff_timeout_1.BackoffTimeout(() => {\n            this.handleBackoffTimer();\n        }, backoffOptions);\n        this.subchannelAddressString = (0, subchannel_address_1.subchannelAddressToString)(subchannelAddress);\n        this.keepaliveTime = (_a = options['grpc.keepalive_time_ms']) !== null && _a !== void 0 ? _a : -1;\n        if (options['grpc.enable_channelz'] === 0) {\n            this.channelzEnabled = false;\n        }\n        this.channelzTrace = new channelz_1.ChannelzTrace();\n        this.channelzRef = (0, channelz_1.registerChannelzSubchannel)(this.subchannelAddressString, () => this.getChannelzInfo(), this.channelzEnabled);\n        if (this.channelzEnabled) {\n            this.channelzTrace.addTrace('CT_INFO', 'Subchannel created');\n        }\n        this.trace('Subchannel constructed with options ' + JSON.stringify(options, undefined, 2));\n    }\n    getChannelzInfo() {\n        return {\n            state: this.connectivityState,\n            trace: this.channelzTrace,\n            callTracker: this.callTracker,\n            children: this.childrenTracker.getChildLists(),\n            target: this.subchannelAddressString\n        };\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '(' + this.channelzRef.id + ') ' + this.subchannelAddressString + ' ' + text);\n    }\n    refTrace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, 'subchannel_refcount', '(' + this.channelzRef.id + ') ' + this.subchannelAddressString + ' ' + text);\n    }\n    handleBackoffTimer() {\n        if (this.continueConnecting) {\n            this.transitionToState([connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE], connectivity_state_1.ConnectivityState.CONNECTING);\n        }\n        else {\n            this.transitionToState([connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE], connectivity_state_1.ConnectivityState.IDLE);\n        }\n    }\n    /**\n     * Start a backoff timer with the current nextBackoff timeout\n     */\n    startBackoff() {\n        this.backoffTimeout.runOnce();\n    }\n    stopBackoff() {\n        this.backoffTimeout.stop();\n        this.backoffTimeout.reset();\n    }\n    startConnectingInternal() {\n        let options = this.options;\n        if (options['grpc.keepalive_time_ms']) {\n            const adjustedKeepaliveTime = Math.min(this.keepaliveTime, KEEPALIVE_MAX_TIME_MS);\n            options = Object.assign(Object.assign({}, options), { 'grpc.keepalive_time_ms': adjustedKeepaliveTime });\n        }\n        this.connector.connect(this.subchannelAddress, this.credentials, options).then(transport => {\n            if (this.transitionToState([connectivity_state_1.ConnectivityState.CONNECTING], connectivity_state_1.ConnectivityState.READY)) {\n                this.transport = transport;\n                if (this.channelzEnabled) {\n                    this.childrenTracker.refChild(transport.getChannelzRef());\n                }\n                transport.addDisconnectListener((tooManyPings) => {\n                    this.transitionToState([connectivity_state_1.ConnectivityState.READY], connectivity_state_1.ConnectivityState.IDLE);\n                    if (tooManyPings && this.keepaliveTime > 0) {\n                        this.keepaliveTime *= 2;\n                        logging.log(constants_1.LogVerbosity.ERROR, `Connection to ${(0, uri_parser_1.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`);\n                    }\n                });\n            }\n        }, error => {\n            this.transitionToState([connectivity_state_1.ConnectivityState.CONNECTING], connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE);\n        });\n    }\n    /**\n     * Initiate a state transition from any element of oldStates to the new\n     * state. If the current connectivityState is not in oldStates, do nothing.\n     * @param oldStates The set of states to transition from\n     * @param newState The state to transition to\n     * @returns True if the state changed, false otherwise\n     */\n    transitionToState(oldStates, newState) {\n        var _a, _b;\n        if (oldStates.indexOf(this.connectivityState) === -1) {\n            return false;\n        }\n        this.trace(connectivity_state_1.ConnectivityState[this.connectivityState] +\n            ' -> ' +\n            connectivity_state_1.ConnectivityState[newState]);\n        if (this.channelzEnabled) {\n            this.channelzTrace.addTrace('CT_INFO', connectivity_state_1.ConnectivityState[this.connectivityState] + ' -> ' + connectivity_state_1.ConnectivityState[newState]);\n        }\n        const previousState = this.connectivityState;\n        this.connectivityState = newState;\n        switch (newState) {\n            case connectivity_state_1.ConnectivityState.READY:\n                this.stopBackoff();\n                break;\n            case connectivity_state_1.ConnectivityState.CONNECTING:\n                this.startBackoff();\n                this.startConnectingInternal();\n                this.continueConnecting = false;\n                break;\n            case connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE:\n                if (this.channelzEnabled && this.transport) {\n                    this.childrenTracker.unrefChild(this.transport.getChannelzRef());\n                }\n                (_a = this.transport) === null || _a === void 0 ? void 0 : _a.shutdown();\n                this.transport = null;\n                /* If the backoff timer has already ended by the time we get to the\n                 * TRANSIENT_FAILURE state, we want to immediately transition out of\n                 * TRANSIENT_FAILURE as though the backoff timer is ending right now */\n                if (!this.backoffTimeout.isRunning()) {\n                    process.nextTick(() => {\n                        this.handleBackoffTimer();\n                    });\n                }\n                break;\n            case connectivity_state_1.ConnectivityState.IDLE:\n                if (this.channelzEnabled && this.transport) {\n                    this.childrenTracker.unrefChild(this.transport.getChannelzRef());\n                }\n                (_b = this.transport) === null || _b === void 0 ? void 0 : _b.shutdown();\n                this.transport = null;\n                break;\n            default:\n                throw new Error(`Invalid state: unknown ConnectivityState ${newState}`);\n        }\n        /* We use a shallow copy of the stateListeners array in case a listener\n         * is removed during this iteration */\n        for (const listener of [...this.stateListeners]) {\n            listener(this, previousState, newState, this.keepaliveTime);\n        }\n        return true;\n    }\n    ref() {\n        this.refTrace('refcount ' +\n            this.refcount +\n            ' -> ' +\n            (this.refcount + 1));\n        this.refcount += 1;\n    }\n    unref() {\n        this.refTrace('refcount ' +\n            this.refcount +\n            ' -> ' +\n            (this.refcount - 1));\n        this.refcount -= 1;\n        if (this.refcount === 0) {\n            if (this.channelzEnabled) {\n                this.channelzTrace.addTrace('CT_INFO', 'Shutting down');\n            }\n            this.transitionToState([connectivity_state_1.ConnectivityState.CONNECTING, connectivity_state_1.ConnectivityState.READY], connectivity_state_1.ConnectivityState.IDLE);\n            if (this.channelzEnabled) {\n                (0, channelz_1.unregisterChannelzRef)(this.channelzRef);\n            }\n        }\n    }\n    unrefIfOneRef() {\n        if (this.refcount === 1) {\n            this.unref();\n            return true;\n        }\n        return false;\n    }\n    createCall(metadata, host, method, listener) {\n        if (!this.transport) {\n            throw new Error('Cannot create call, subchannel not READY');\n        }\n        let statsTracker;\n        if (this.channelzEnabled) {\n            this.callTracker.addCallStarted();\n            this.streamTracker.addCallStarted();\n            statsTracker = {\n                onCallEnd: status => {\n                    if (status.code === constants_1.Status.OK) {\n                        this.callTracker.addCallSucceeded();\n                    }\n                    else {\n                        this.callTracker.addCallFailed();\n                    }\n                }\n            };\n        }\n        else {\n            statsTracker = {};\n        }\n        return this.transport.createCall(metadata, host, method, listener, statsTracker);\n    }\n    /**\n     * If the subchannel is currently IDLE, start connecting and switch to the\n     * CONNECTING state. If the subchannel is current in TRANSIENT_FAILURE,\n     * the next time it would transition to IDLE, start connecting again instead.\n     * Otherwise, do nothing.\n     */\n    startConnecting() {\n        /* First, try to transition from IDLE to connecting. If that doesn't happen\n         * because the state is not currently IDLE, check if it is\n         * TRANSIENT_FAILURE, and if so indicate that it should go back to\n         * connecting after the backoff timer ends. Otherwise do nothing */\n        if (!this.transitionToState([connectivity_state_1.ConnectivityState.IDLE], connectivity_state_1.ConnectivityState.CONNECTING)) {\n            if (this.connectivityState === connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE) {\n                this.continueConnecting = true;\n            }\n        }\n    }\n    /**\n     * Get the subchannel's current connectivity state.\n     */\n    getConnectivityState() {\n        return this.connectivityState;\n    }\n    /**\n     * Add a listener function to be called whenever the subchannel's\n     * connectivity state changes.\n     * @param listener\n     */\n    addConnectivityStateListener(listener) {\n        this.stateListeners.push(listener);\n    }\n    /**\n     * Remove a listener previously added with `addConnectivityStateListener`\n     * @param listener A reference to a function previously passed to\n     *     `addConnectivityStateListener`\n     */\n    removeConnectivityStateListener(listener) {\n        const listenerIndex = this.stateListeners.indexOf(listener);\n        if (listenerIndex > -1) {\n            this.stateListeners.splice(listenerIndex, 1);\n        }\n    }\n    /**\n     * Reset the backoff timeout, and immediately start connecting if in backoff.\n     */\n    resetBackoff() {\n        this.backoffTimeout.reset();\n        this.transitionToState([connectivity_state_1.ConnectivityState.TRANSIENT_FAILURE], connectivity_state_1.ConnectivityState.CONNECTING);\n    }\n    getAddress() {\n        return this.subchannelAddressString;\n    }\n    getChannelzRef() {\n        return this.channelzRef;\n    }\n    getRealSubchannel() {\n        return this;\n    }\n    throttleKeepalive(newKeepaliveTime) {\n        if (newKeepaliveTime > this.keepaliveTime) {\n            this.keepaliveTime = newKeepaliveTime;\n        }\n    }\n}\nexports.Subchannel = Subchannel;\n//# sourceMappingURL=subchannel.js.map","\"use strict\";\n/*\n * Copyright 2019 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getDefaultRootsData = exports.CIPHER_SUITES = void 0;\nconst fs = require(\"fs\");\nexports.CIPHER_SUITES = process.env.GRPC_SSL_CIPHER_SUITES;\nconst DEFAULT_ROOTS_FILE_PATH = process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH;\nlet defaultRootsData = null;\nfunction getDefaultRootsData() {\n    if (DEFAULT_ROOTS_FILE_PATH) {\n        if (defaultRootsData === null) {\n            defaultRootsData = fs.readFileSync(DEFAULT_ROOTS_FILE_PATH);\n        }\n        return defaultRootsData;\n    }\n    return null;\n}\nexports.getDefaultRootsData = getDefaultRootsData;\n//# sourceMappingURL=tls-helpers.js.map","\"use strict\";\n/*\n * Copyright 2023 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Http2SubchannelConnector = void 0;\nconst http2 = require(\"http2\");\nconst tls_1 = require(\"tls\");\nconst channelz_1 = require(\"./channelz\");\nconst constants_1 = require(\"./constants\");\nconst http_proxy_1 = require(\"./http_proxy\");\nconst logging = require(\"./logging\");\nconst resolver_1 = require(\"./resolver\");\nconst subchannel_address_1 = require(\"./subchannel-address\");\nconst uri_parser_1 = require(\"./uri-parser\");\nconst net = require(\"net\");\nconst subchannel_call_1 = require(\"./subchannel-call\");\nconst call_number_1 = require(\"./call-number\");\nconst TRACER_NAME = 'transport';\nconst FLOW_CONTROL_TRACER_NAME = 'transport_flowctrl';\nconst clientVersion = require('../../package.json').version;\nconst { HTTP2_HEADER_AUTHORITY, HTTP2_HEADER_CONTENT_TYPE, HTTP2_HEADER_METHOD, HTTP2_HEADER_PATH, HTTP2_HEADER_TE, HTTP2_HEADER_USER_AGENT, } = http2.constants;\n/* setInterval and setTimeout only accept signed 32 bit integers. JS doesn't\n * have a constant for the max signed 32 bit integer, so this is a simple way\n * to calculate it */\nconst KEEPALIVE_MAX_TIME_MS = ~(1 << 31);\nconst KEEPALIVE_TIMEOUT_MS = 20000;\nconst tooManyPingsData = Buffer.from('too_many_pings', 'ascii');\nclass Http2Transport {\n    constructor(session, subchannelAddress, options) {\n        this.session = session;\n        /**\n         * The amount of time in between sending pings\n         */\n        this.keepaliveTimeMs = -1;\n        /**\n         * The amount of time to wait for an acknowledgement after sending a ping\n         */\n        this.keepaliveTimeoutMs = KEEPALIVE_TIMEOUT_MS;\n        /**\n         * Timer reference tracking when the most recent ping will be considered lost\n         */\n        this.keepaliveTimeoutId = null;\n        /**\n         * Indicates whether keepalive pings should be sent without any active calls\n         */\n        this.keepaliveWithoutCalls = false;\n        this.activeCalls = new Set();\n        this.disconnectListeners = [];\n        this.disconnectHandled = false;\n        this.channelzEnabled = true;\n        /**\n         * Name of the remote server, if it is not the same as the subchannel\n         * address, i.e. if connecting through an HTTP CONNECT proxy.\n         */\n        this.remoteName = null;\n        this.streamTracker = new channelz_1.ChannelzCallTracker();\n        this.keepalivesSent = 0;\n        this.messagesSent = 0;\n        this.messagesReceived = 0;\n        this.lastMessageSentTimestamp = null;\n        this.lastMessageReceivedTimestamp = null;\n        // Build user-agent string.\n        this.userAgent = [\n            options['grpc.primary_user_agent'],\n            `grpc-node-js/${clientVersion}`,\n            options['grpc.secondary_user_agent'],\n        ]\n            .filter((e) => e)\n            .join(' '); // remove falsey values first\n        if ('grpc.keepalive_time_ms' in options) {\n            this.keepaliveTimeMs = options['grpc.keepalive_time_ms'];\n        }\n        if ('grpc.keepalive_timeout_ms' in options) {\n            this.keepaliveTimeoutMs = options['grpc.keepalive_timeout_ms'];\n        }\n        if ('grpc.keepalive_permit_without_calls' in options) {\n            this.keepaliveWithoutCalls =\n                options['grpc.keepalive_permit_without_calls'] === 1;\n        }\n        else {\n            this.keepaliveWithoutCalls = false;\n        }\n        this.keepaliveIntervalId = setTimeout(() => { }, 0);\n        clearTimeout(this.keepaliveIntervalId);\n        if (this.keepaliveWithoutCalls) {\n            this.startKeepalivePings();\n        }\n        this.subchannelAddressString = (0, subchannel_address_1.subchannelAddressToString)(subchannelAddress);\n        if (options['grpc.enable_channelz'] === 0) {\n            this.channelzEnabled = false;\n        }\n        this.channelzRef = (0, channelz_1.registerChannelzSocket)(this.subchannelAddressString, () => this.getChannelzInfo(), this.channelzEnabled);\n        session.once('close', () => {\n            this.trace('session closed');\n            this.stopKeepalivePings();\n            this.handleDisconnect();\n        });\n        session.once('goaway', (errorCode, lastStreamID, opaqueData) => {\n            let tooManyPings = false;\n            /* See the last paragraph of\n             * https://github.com/grpc/proposal/blob/master/A8-client-side-keepalive.md#basic-keepalive */\n            if (errorCode === http2.constants.NGHTTP2_ENHANCE_YOUR_CALM &&\n                opaqueData.equals(tooManyPingsData)) {\n                tooManyPings = true;\n            }\n            this.trace('connection closed by GOAWAY with code ' +\n                errorCode);\n            this.reportDisconnectToOwner(tooManyPings);\n        });\n        session.once('error', error => {\n            /* Do nothing here. Any error should also trigger a close event, which is\n             * where we want to handle that.  */\n            this.trace('connection closed with error ' +\n                error.message);\n        });\n        if (logging.isTracerEnabled(TRACER_NAME)) {\n            session.on('remoteSettings', (settings) => {\n                this.trace('new settings received' +\n                    (this.session !== session ? ' on the old connection' : '') +\n                    ': ' +\n                    JSON.stringify(settings));\n            });\n            session.on('localSettings', (settings) => {\n                this.trace('local settings acknowledged by remote' +\n                    (this.session !== session ? ' on the old connection' : '') +\n                    ': ' +\n                    JSON.stringify(settings));\n            });\n        }\n    }\n    getChannelzInfo() {\n        var _a, _b, _c;\n        const sessionSocket = this.session.socket;\n        const remoteAddress = sessionSocket.remoteAddress ? (0, subchannel_address_1.stringToSubchannelAddress)(sessionSocket.remoteAddress, sessionSocket.remotePort) : null;\n        const localAddress = sessionSocket.localAddress ? (0, subchannel_address_1.stringToSubchannelAddress)(sessionSocket.localAddress, sessionSocket.localPort) : null;\n        let tlsInfo;\n        if (this.session.encrypted) {\n            const tlsSocket = sessionSocket;\n            const cipherInfo = tlsSocket.getCipher();\n            const certificate = tlsSocket.getCertificate();\n            const peerCertificate = tlsSocket.getPeerCertificate();\n            tlsInfo = {\n                cipherSuiteStandardName: (_a = cipherInfo.standardName) !== null && _a !== void 0 ? _a : null,\n                cipherSuiteOtherName: cipherInfo.standardName ? null : cipherInfo.name,\n                localCertificate: (certificate && 'raw' in certificate) ? certificate.raw : null,\n                remoteCertificate: (peerCertificate && 'raw' in peerCertificate) ? peerCertificate.raw : null\n            };\n        }\n        else {\n            tlsInfo = null;\n        }\n        const socketInfo = {\n            remoteAddress: remoteAddress,\n            localAddress: localAddress,\n            security: tlsInfo,\n            remoteName: this.remoteName,\n            streamsStarted: this.streamTracker.callsStarted,\n            streamsSucceeded: this.streamTracker.callsSucceeded,\n            streamsFailed: this.streamTracker.callsFailed,\n            messagesSent: this.messagesSent,\n            messagesReceived: this.messagesReceived,\n            keepAlivesSent: this.keepalivesSent,\n            lastLocalStreamCreatedTimestamp: this.streamTracker.lastCallStartedTimestamp,\n            lastRemoteStreamCreatedTimestamp: null,\n            lastMessageSentTimestamp: this.lastMessageSentTimestamp,\n            lastMessageReceivedTimestamp: this.lastMessageReceivedTimestamp,\n            localFlowControlWindow: (_b = this.session.state.localWindowSize) !== null && _b !== void 0 ? _b : null,\n            remoteFlowControlWindow: (_c = this.session.state.remoteWindowSize) !== null && _c !== void 0 ? _c : null\n        };\n        return socketInfo;\n    }\n    trace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, TRACER_NAME, '(' + this.channelzRef.id + ') ' + this.subchannelAddressString + ' ' + text);\n    }\n    keepaliveTrace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, 'keepalive', '(' + this.channelzRef.id + ') ' + this.subchannelAddressString + ' ' + text);\n    }\n    flowControlTrace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, FLOW_CONTROL_TRACER_NAME, '(' + this.channelzRef.id + ') ' + this.subchannelAddressString + ' ' + text);\n    }\n    internalsTrace(text) {\n        logging.trace(constants_1.LogVerbosity.DEBUG, 'transport_internals', '(' + this.channelzRef.id + ') ' + this.subchannelAddressString + ' ' + text);\n    }\n    /**\n     * Indicate to the owner of this object that this transport should no longer\n     * be used. That happens if the connection drops, or if the server sends a\n     * GOAWAY.\n     * @param tooManyPings If true, this was triggered by a GOAWAY with data\n     * indicating that the session was closed becaues the client sent too many\n     * pings.\n     * @returns\n     */\n    reportDisconnectToOwner(tooManyPings) {\n        if (this.disconnectHandled) {\n            return;\n        }\n        this.disconnectHandled = true;\n        this.disconnectListeners.forEach(listener => listener(tooManyPings));\n    }\n    /**\n     * Handle connection drops, but not GOAWAYs.\n     */\n    handleDisconnect() {\n        this.reportDisconnectToOwner(false);\n        /* Give calls an event loop cycle to finish naturally before reporting the\n         * disconnnection to them. */\n        setImmediate(() => {\n            for (const call of this.activeCalls) {\n                call.onDisconnect();\n            }\n        });\n    }\n    addDisconnectListener(listener) {\n        this.disconnectListeners.push(listener);\n    }\n    clearKeepaliveTimeout() {\n        if (!this.keepaliveTimeoutId) {\n            return;\n        }\n        clearTimeout(this.keepaliveTimeoutId);\n        this.keepaliveTimeoutId = null;\n    }\n    sendPing() {\n        var _a, _b;\n        if (this.channelzEnabled) {\n            this.keepalivesSent += 1;\n        }\n        this.keepaliveTrace('Sending ping with timeout ' + this.keepaliveTimeoutMs + 'ms');\n        if (!this.keepaliveTimeoutId) {\n            this.keepaliveTimeoutId = setTimeout(() => {\n                this.keepaliveTrace('Ping timeout passed without response');\n                this.handleDisconnect();\n            }, this.keepaliveTimeoutMs);\n            (_b = (_a = this.keepaliveTimeoutId).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n        }\n        try {\n            this.session.ping((err, duration, payload) => {\n                this.keepaliveTrace('Received ping response');\n                this.clearKeepaliveTimeout();\n            });\n        }\n        catch (e) {\n            /* If we fail to send a ping, the connection is no longer functional, so\n             * we should discard it. */\n            this.handleDisconnect();\n        }\n    }\n    startKeepalivePings() {\n        var _a, _b;\n        if (this.keepaliveTimeMs < 0) {\n            return;\n        }\n        this.keepaliveIntervalId = setInterval(() => {\n            this.sendPing();\n        }, this.keepaliveTimeMs);\n        (_b = (_a = this.keepaliveIntervalId).unref) === null || _b === void 0 ? void 0 : _b.call(_a);\n        /* Don't send a ping immediately because whatever caused us to start\n         * sending pings should also involve some network activity. */\n    }\n    /**\n     * Stop keepalive pings when terminating a connection. This discards the\n     * outstanding ping timeout, so it should not be called if the same\n     * connection will still be used.\n     */\n    stopKeepalivePings() {\n        clearInterval(this.keepaliveIntervalId);\n        this.clearKeepaliveTimeout();\n    }\n    removeActiveCall(call) {\n        this.activeCalls.delete(call);\n        if (this.activeCalls.size === 0) {\n            this.session.unref();\n            if (!this.keepaliveWithoutCalls) {\n                this.stopKeepalivePings();\n            }\n        }\n    }\n    addActiveCall(call) {\n        if (this.activeCalls.size === 0) {\n            this.session.ref();\n            if (!this.keepaliveWithoutCalls) {\n                this.startKeepalivePings();\n            }\n        }\n        this.activeCalls.add(call);\n    }\n    createCall(metadata, host, method, listener, subchannelCallStatsTracker) {\n        const headers = metadata.toHttp2Headers();\n        headers[HTTP2_HEADER_AUTHORITY] = host;\n        headers[HTTP2_HEADER_USER_AGENT] = this.userAgent;\n        headers[HTTP2_HEADER_CONTENT_TYPE] = 'application/grpc';\n        headers[HTTP2_HEADER_METHOD] = 'POST';\n        headers[HTTP2_HEADER_PATH] = method;\n        headers[HTTP2_HEADER_TE] = 'trailers';\n        let http2Stream;\n        /* In theory, if an error is thrown by session.request because session has\n         * become unusable (e.g. because it has received a goaway), this subchannel\n         * should soon see the corresponding close or goaway event anyway and leave\n         * READY. But we have seen reports that this does not happen\n         * (https://github.com/googleapis/nodejs-firestore/issues/1023#issuecomment-653204096)\n         * so for defense in depth, we just discard the session when we see an\n         * error here.\n         */\n        try {\n            http2Stream = this.session.request(headers);\n        }\n        catch (e) {\n            this.handleDisconnect();\n            throw e;\n        }\n        this.flowControlTrace('local window size: ' +\n            this.session.state.localWindowSize +\n            ' remote window size: ' +\n            this.session.state.remoteWindowSize);\n        this.internalsTrace('session.closed=' +\n            this.session.closed +\n            ' session.destroyed=' +\n            this.session.destroyed +\n            ' session.socket.destroyed=' +\n            this.session.socket.destroyed);\n        let eventTracker;\n        let call;\n        if (this.channelzEnabled) {\n            this.streamTracker.addCallStarted();\n            eventTracker = {\n                addMessageSent: () => {\n                    var _a;\n                    this.messagesSent += 1;\n                    this.lastMessageSentTimestamp = new Date();\n                    (_a = subchannelCallStatsTracker.addMessageSent) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker);\n                },\n                addMessageReceived: () => {\n                    var _a;\n                    this.messagesReceived += 1;\n                    this.lastMessageReceivedTimestamp = new Date();\n                    (_a = subchannelCallStatsTracker.addMessageReceived) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker);\n                },\n                onCallEnd: status => {\n                    var _a;\n                    (_a = subchannelCallStatsTracker.onCallEnd) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker, status);\n                    this.removeActiveCall(call);\n                },\n                onStreamEnd: success => {\n                    var _a;\n                    if (success) {\n                        this.streamTracker.addCallSucceeded();\n                    }\n                    else {\n                        this.streamTracker.addCallFailed();\n                    }\n                    (_a = subchannelCallStatsTracker.onStreamEnd) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker, success);\n                }\n            };\n        }\n        else {\n            eventTracker = {\n                addMessageSent: () => {\n                    var _a;\n                    (_a = subchannelCallStatsTracker.addMessageSent) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker);\n                },\n                addMessageReceived: () => {\n                    var _a;\n                    (_a = subchannelCallStatsTracker.addMessageReceived) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker);\n                },\n                onCallEnd: (status) => {\n                    var _a;\n                    (_a = subchannelCallStatsTracker.onCallEnd) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker, status);\n                    this.removeActiveCall(call);\n                },\n                onStreamEnd: (success) => {\n                    var _a;\n                    (_a = subchannelCallStatsTracker.onStreamEnd) === null || _a === void 0 ? void 0 : _a.call(subchannelCallStatsTracker, success);\n                }\n            };\n        }\n        call = new subchannel_call_1.Http2SubchannelCall(http2Stream, eventTracker, listener, this, (0, call_number_1.getNextCallNumber)());\n        this.addActiveCall(call);\n        return call;\n    }\n    getChannelzRef() {\n        return this.channelzRef;\n    }\n    getPeerName() {\n        return this.subchannelAddressString;\n    }\n    shutdown() {\n        this.session.close();\n    }\n}\nclass Http2SubchannelConnector {\n    constructor(channelTarget) {\n        this.channelTarget = channelTarget;\n        this.session = null;\n        this.isShutdown = false;\n    }\n    trace(text) {\n    }\n    createSession(address, credentials, options, proxyConnectionResult) {\n        if (this.isShutdown) {\n            return Promise.reject();\n        }\n        return new Promise((resolve, reject) => {\n            var _a, _b, _c;\n            let remoteName;\n            if (proxyConnectionResult.realTarget) {\n                remoteName = (0, uri_parser_1.uriToString)(proxyConnectionResult.realTarget);\n                this.trace('creating HTTP/2 session through proxy to ' + (0, uri_parser_1.uriToString)(proxyConnectionResult.realTarget));\n            }\n            else {\n                remoteName = null;\n                this.trace('creating HTTP/2 session to ' + (0, subchannel_address_1.subchannelAddressToString)(address));\n            }\n            const targetAuthority = (0, resolver_1.getDefaultAuthority)((_a = proxyConnectionResult.realTarget) !== null && _a !== void 0 ? _a : this.channelTarget);\n            let connectionOptions = credentials._getConnectionOptions() || {};\n            connectionOptions.maxSendHeaderBlockLength = Number.MAX_SAFE_INTEGER;\n            if ('grpc-node.max_session_memory' in options) {\n                connectionOptions.maxSessionMemory = options['grpc-node.max_session_memory'];\n            }\n            else {\n                /* By default, set a very large max session memory limit, to effectively\n                 * disable enforcement of the limit. Some testing indicates that Node's\n                 * behavior degrades badly when this limit is reached, so we solve that\n                 * by disabling the check entirely. */\n                connectionOptions.maxSessionMemory = Number.MAX_SAFE_INTEGER;\n            }\n            let addressScheme = 'http://';\n            if ('secureContext' in connectionOptions) {\n                addressScheme = 'https://';\n                // If provided, the value of grpc.ssl_target_name_override should be used\n                // to override the target hostname when checking server identity.\n                // This option is used for testing only.\n                if (options['grpc.ssl_target_name_override']) {\n                    const sslTargetNameOverride = options['grpc.ssl_target_name_override'];\n                    connectionOptions.checkServerIdentity = (host, cert) => {\n                        return (0, tls_1.checkServerIdentity)(sslTargetNameOverride, cert);\n                    };\n                    connectionOptions.servername = sslTargetNameOverride;\n                }\n                else {\n                    const authorityHostname = (_c = (_b = (0, uri_parser_1.splitHostPort)(targetAuthority)) === null || _b === void 0 ? void 0 : _b.host) !== null && _c !== void 0 ? _c : 'localhost';\n                    // We want to always set servername to support SNI\n                    connectionOptions.servername = authorityHostname;\n                }\n                if (proxyConnectionResult.socket) {\n                    /* This is part of the workaround for\n                     * https://github.com/nodejs/node/issues/32922. Without that bug,\n                     * proxyConnectionResult.socket would always be a plaintext socket and\n                     * this would say\n                     * connectionOptions.socket = proxyConnectionResult.socket; */\n                    connectionOptions.createConnection = (authority, option) => {\n                        return proxyConnectionResult.socket;\n                    };\n                }\n            }\n            else {\n                /* In all but the most recent versions of Node, http2.connect does not use\n                 * the options when establishing plaintext connections, so we need to\n                 * establish that connection explicitly. */\n                connectionOptions.createConnection = (authority, option) => {\n                    if (proxyConnectionResult.socket) {\n                        return proxyConnectionResult.socket;\n                    }\n                    else {\n                        /* net.NetConnectOpts is declared in a way that is more restrictive\n                         * than what net.connect will actually accept, so we use the type\n                         * assertion to work around that. */\n                        return net.connect(address);\n                    }\n                };\n            }\n            connectionOptions = Object.assign(Object.assign({}, connectionOptions), address);\n            /* http2.connect uses the options here:\n             * https://github.com/nodejs/node/blob/70c32a6d190e2b5d7b9ff9d5b6a459d14e8b7d59/lib/internal/http2/core.js#L3028-L3036\n             * The spread operator overides earlier values with later ones, so any port\n             * or host values in the options will be used rather than any values extracted\n             * from the first argument. In addition, the path overrides the host and port,\n             * as documented for plaintext connections here:\n             * https://nodejs.org/api/net.html#net_socket_connect_options_connectlistener\n             * and for TLS connections here:\n             * https://nodejs.org/api/tls.html#tls_tls_connect_options_callback. In\n             * earlier versions of Node, http2.connect passes these options to\n             * tls.connect but not net.connect, so in the insecure case we still need\n             * to set the createConnection option above to create the connection\n             * explicitly. We cannot do that in the TLS case because http2.connect\n             * passes necessary additional options to tls.connect.\n             * The first argument just needs to be parseable as a URL and the scheme\n             * determines whether the connection will be established over TLS or not.\n             */\n            const session = http2.connect(addressScheme + targetAuthority, connectionOptions);\n            this.session = session;\n            session.unref();\n            session.once('connect', () => {\n                session.removeAllListeners();\n                resolve(new Http2Transport(session, address, options));\n                this.session = null;\n            });\n            session.once('close', () => {\n                this.session = null;\n                reject();\n            });\n            session.once('error', error => {\n                this.trace('connection failed with error ' + error.message);\n            });\n        });\n    }\n    connect(address, credentials, options) {\n        var _a, _b;\n        if (this.isShutdown) {\n            return Promise.reject();\n        }\n        /* Pass connection options through to the proxy so that it's able to\n         * upgrade it's connection to support tls if needed.\n         * This is a workaround for https://github.com/nodejs/node/issues/32922\n         * See https://github.com/grpc/grpc-node/pull/1369 for more info. */\n        const connectionOptions = credentials._getConnectionOptions() || {};\n        if ('secureContext' in connectionOptions) {\n            connectionOptions.ALPNProtocols = ['h2'];\n            // If provided, the value of grpc.ssl_target_name_override should be used\n            // to override the target hostname when checking server identity.\n            // This option is used for testing only.\n            if (options['grpc.ssl_target_name_override']) {\n                const sslTargetNameOverride = options['grpc.ssl_target_name_override'];\n                connectionOptions.checkServerIdentity = (host, cert) => {\n                    return (0, tls_1.checkServerIdentity)(sslTargetNameOverride, cert);\n                };\n                connectionOptions.servername = sslTargetNameOverride;\n            }\n            else {\n                if ('grpc.http_connect_target' in options) {\n                    /* This is more or less how servername will be set in createSession\n                     * if a connection is successfully established through the proxy.\n                     * If the proxy is not used, these connectionOptions are discarded\n                     * anyway */\n                    const targetPath = (0, resolver_1.getDefaultAuthority)((_a = (0, uri_parser_1.parseUri)(options['grpc.http_connect_target'])) !== null && _a !== void 0 ? _a : {\n                        path: 'localhost',\n                    });\n                    const hostPort = (0, uri_parser_1.splitHostPort)(targetPath);\n                    connectionOptions.servername = (_b = hostPort === null || hostPort === void 0 ? void 0 : hostPort.host) !== null && _b !== void 0 ? _b : targetPath;\n                }\n            }\n        }\n        return (0, http_proxy_1.getProxiedConnection)(address, options, connectionOptions).then(result => this.createSession(address, credentials, options, result));\n    }\n    shutdown() {\n        var _a;\n        this.isShutdown = true;\n        (_a = this.session) === null || _a === void 0 ? void 0 : _a.close();\n        this.session = null;\n    }\n}\nexports.Http2SubchannelConnector = Http2SubchannelConnector;\n//# sourceMappingURL=transport.js.map","\"use strict\";\n/*\n * Copyright 2020 gRPC authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.uriToString = exports.splitHostPort = exports.parseUri = void 0;\n/*\n * The groups correspond to URI parts as follows:\n * 1. scheme\n * 2. authority\n * 3. path\n */\nconst URI_REGEX = /^(?:([A-Za-z0-9+.-]+):)?(?:\\/\\/([^/]*)\\/)?(.+)$/;\nfunction parseUri(uriString) {\n    const parsedUri = URI_REGEX.exec(uriString);\n    if (parsedUri === null) {\n        return null;\n    }\n    return {\n        scheme: parsedUri[1],\n        authority: parsedUri[2],\n        path: parsedUri[3],\n    };\n}\nexports.parseUri = parseUri;\nconst NUMBER_REGEX = /^\\d+$/;\nfunction splitHostPort(path) {\n    if (path.startsWith('[')) {\n        const hostEnd = path.indexOf(']');\n        if (hostEnd === -1) {\n            return null;\n        }\n        const host = path.substring(1, hostEnd);\n        /* Only an IPv6 address should be in bracketed notation, and an IPv6\n         * address should have at least one colon */\n        if (host.indexOf(':') === -1) {\n            return null;\n        }\n        if (path.length > hostEnd + 1) {\n            if (path[hostEnd + 1] === ':') {\n                const portString = path.substring(hostEnd + 2);\n                if (NUMBER_REGEX.test(portString)) {\n                    return {\n                        host: host,\n                        port: +portString,\n                    };\n                }\n                else {\n                    return null;\n                }\n            }\n            else {\n                return null;\n            }\n        }\n        else {\n            return {\n                host,\n            };\n        }\n    }\n    else {\n        const splitPath = path.split(':');\n        /* Exactly one colon means that this is host:port. Zero colons means that\n         * there is no port. And multiple colons means that this is a bare IPv6\n         * address with no port */\n        if (splitPath.length === 2) {\n            if (NUMBER_REGEX.test(splitPath[1])) {\n                return {\n                    host: splitPath[0],\n                    port: +splitPath[1],\n                };\n            }\n            else {\n                return null;\n            }\n        }\n        else {\n            return {\n                host: path,\n            };\n        }\n    }\n}\nexports.splitHostPort = splitHostPort;\nfunction uriToString(uri) {\n    let result = '';\n    if (uri.scheme !== undefined) {\n        result += uri.scheme + ':';\n    }\n    if (uri.authority !== undefined) {\n        result += '//' + uri.authority + '/';\n    }\n    result += uri.path;\n    return result;\n}\nexports.uriToString = uriToString;\n//# sourceMappingURL=uri-parser.js.map","\"use strict\";\nvar $protobuf = require(\"../..\");\nmodule.exports = exports = $protobuf.descriptor = $protobuf.Root.fromJSON(require(\"../../google/protobuf/descriptor.json\")).lookup(\".google.protobuf\");\n\nvar Namespace = $protobuf.Namespace,\n    Root      = $protobuf.Root,\n    Enum      = $protobuf.Enum,\n    Type      = $protobuf.Type,\n    Field     = $protobuf.Field,\n    MapField  = $protobuf.MapField,\n    OneOf     = $protobuf.OneOf,\n    Service   = $protobuf.Service,\n    Method    = $protobuf.Method;\n\n// --- Root ---\n\n/**\n * Properties of a FileDescriptorSet message.\n * @interface IFileDescriptorSet\n * @property {IFileDescriptorProto[]} file Files\n */\n\n/**\n * Properties of a FileDescriptorProto message.\n * @interface IFileDescriptorProto\n * @property {string} [name] File name\n * @property {string} [package] Package\n * @property {*} [dependency] Not supported\n * @property {*} [publicDependency] Not supported\n * @property {*} [weakDependency] Not supported\n * @property {IDescriptorProto[]} [messageType] Nested message types\n * @property {IEnumDescriptorProto[]} [enumType] Nested enums\n * @property {IServiceDescriptorProto[]} [service] Nested services\n * @property {IFieldDescriptorProto[]} [extension] Nested extension fields\n * @property {IFileOptions} [options] Options\n * @property {*} [sourceCodeInfo] Not supported\n * @property {string} [syntax=\"proto2\"] Syntax\n */\n\n/**\n * Properties of a FileOptions message.\n * @interface IFileOptions\n * @property {string} [javaPackage]\n * @property {string} [javaOuterClassname]\n * @property {boolean} [javaMultipleFiles]\n * @property {boolean} [javaGenerateEqualsAndHash]\n * @property {boolean} [javaStringCheckUtf8]\n * @property {IFileOptionsOptimizeMode} [optimizeFor=1]\n * @property {string} [goPackage]\n * @property {boolean} [ccGenericServices]\n * @property {boolean} [javaGenericServices]\n * @property {boolean} [pyGenericServices]\n * @property {boolean} [deprecated]\n * @property {boolean} [ccEnableArenas]\n * @property {string} [objcClassPrefix]\n * @property {string} [csharpNamespace]\n */\n\n/**\n * Values of he FileOptions.OptimizeMode enum.\n * @typedef IFileOptionsOptimizeMode\n * @type {number}\n * @property {number} SPEED=1\n * @property {number} CODE_SIZE=2\n * @property {number} LITE_RUNTIME=3\n */\n\n/**\n * Creates a root from a descriptor set.\n * @param {IFileDescriptorSet|Reader|Uint8Array} descriptor Descriptor\n * @returns {Root} Root instance\n */\nRoot.fromDescriptor = function fromDescriptor(descriptor) {\n\n    // Decode the descriptor message if specified as a buffer:\n    if (typeof descriptor.length === \"number\")\n        descriptor = exports.FileDescriptorSet.decode(descriptor);\n\n    var root = new Root();\n\n    if (descriptor.file) {\n        var fileDescriptor,\n            filePackage;\n        for (var j = 0, i; j < descriptor.file.length; ++j) {\n            filePackage = root;\n            if ((fileDescriptor = descriptor.file[j])[\"package\"] && fileDescriptor[\"package\"].length)\n                filePackage = root.define(fileDescriptor[\"package\"]);\n            if (fileDescriptor.name && fileDescriptor.name.length)\n                root.files.push(filePackage.filename = fileDescriptor.name);\n            if (fileDescriptor.messageType)\n                for (i = 0; i < fileDescriptor.messageType.length; ++i)\n                    filePackage.add(Type.fromDescriptor(fileDescriptor.messageType[i], fileDescriptor.syntax));\n            if (fileDescriptor.enumType)\n                for (i = 0; i < fileDescriptor.enumType.length; ++i)\n                    filePackage.add(Enum.fromDescriptor(fileDescriptor.enumType[i]));\n            if (fileDescriptor.extension)\n                for (i = 0; i < fileDescriptor.extension.length; ++i)\n                    filePackage.add(Field.fromDescriptor(fileDescriptor.extension[i]));\n            if (fileDescriptor.service)\n                for (i = 0; i < fileDescriptor.service.length; ++i)\n                    filePackage.add(Service.fromDescriptor(fileDescriptor.service[i]));\n            var opts = fromDescriptorOptions(fileDescriptor.options, exports.FileOptions);\n            if (opts) {\n                var ks = Object.keys(opts);\n                for (i = 0; i < ks.length; ++i)\n                    filePackage.setOption(ks[i], opts[ks[i]]);\n            }\n        }\n    }\n\n    return root;\n};\n\n/**\n * Converts a root to a descriptor set.\n * @returns {Message<IFileDescriptorSet>} Descriptor\n * @param {string} [syntax=\"proto2\"] Syntax\n */\nRoot.prototype.toDescriptor = function toDescriptor(syntax) {\n    var set = exports.FileDescriptorSet.create();\n    Root_toDescriptorRecursive(this, set.file, syntax);\n    return set;\n};\n\n// Traverses a namespace and assembles the descriptor set\nfunction Root_toDescriptorRecursive(ns, files, syntax) {\n\n    // Create a new file\n    var file = exports.FileDescriptorProto.create({ name: ns.filename || (ns.fullName.substring(1).replace(/\\./g, \"_\") || \"root\") + \".proto\" });\n    if (syntax)\n        file.syntax = syntax;\n    if (!(ns instanceof Root))\n        file[\"package\"] = ns.fullName.substring(1);\n\n    // Add nested types\n    for (var i = 0, nested; i < ns.nestedArray.length; ++i)\n        if ((nested = ns._nestedArray[i]) instanceof Type)\n            file.messageType.push(nested.toDescriptor(syntax));\n        else if (nested instanceof Enum)\n            file.enumType.push(nested.toDescriptor());\n        else if (nested instanceof Field)\n            file.extension.push(nested.toDescriptor(syntax));\n        else if (nested instanceof Service)\n            file.service.push(nested.toDescriptor());\n        else if (nested instanceof /* plain */ Namespace)\n            Root_toDescriptorRecursive(nested, files, syntax); // requires new file\n\n    // Keep package-level options\n    file.options = toDescriptorOptions(ns.options, exports.FileOptions);\n\n    // And keep the file only if there is at least one nested object\n    if (file.messageType.length + file.enumType.length + file.extension.length + file.service.length)\n        files.push(file);\n}\n\n// --- Type ---\n\n/**\n * Properties of a DescriptorProto message.\n * @interface IDescriptorProto\n * @property {string} [name] Message type name\n * @property {IFieldDescriptorProto[]} [field] Fields\n * @property {IFieldDescriptorProto[]} [extension] Extension fields\n * @property {IDescriptorProto[]} [nestedType] Nested message types\n * @property {IEnumDescriptorProto[]} [enumType] Nested enums\n * @property {IDescriptorProtoExtensionRange[]} [extensionRange] Extension ranges\n * @property {IOneofDescriptorProto[]} [oneofDecl] Oneofs\n * @property {IMessageOptions} [options] Not supported\n * @property {IDescriptorProtoReservedRange[]} [reservedRange] Reserved ranges\n * @property {string[]} [reservedName] Reserved names\n */\n\n/**\n * Properties of a MessageOptions message.\n * @interface IMessageOptions\n * @property {boolean} [mapEntry=false] Whether this message is a map entry\n */\n\n/**\n * Properties of an ExtensionRange message.\n * @interface IDescriptorProtoExtensionRange\n * @property {number} [start] Start field id\n * @property {number} [end] End field id\n */\n\n/**\n * Properties of a ReservedRange message.\n * @interface IDescriptorProtoReservedRange\n * @property {number} [start] Start field id\n * @property {number} [end] End field id\n */\n\nvar unnamedMessageIndex = 0;\n\n/**\n * Creates a type from a descriptor.\n * @param {IDescriptorProto|Reader|Uint8Array} descriptor Descriptor\n * @param {string} [syntax=\"proto2\"] Syntax\n * @returns {Type} Type instance\n */\nType.fromDescriptor = function fromDescriptor(descriptor, syntax) {\n\n    // Decode the descriptor message if specified as a buffer:\n    if (typeof descriptor.length === \"number\")\n        descriptor = exports.DescriptorProto.decode(descriptor);\n\n    // Create the message type\n    var type = new Type(descriptor.name.length ? descriptor.name : \"Type\" + unnamedMessageIndex++, fromDescriptorOptions(descriptor.options, exports.MessageOptions)),\n        i;\n\n    /* Oneofs */ if (descriptor.oneofDecl)\n        for (i = 0; i < descriptor.oneofDecl.length; ++i)\n            type.add(OneOf.fromDescriptor(descriptor.oneofDecl[i]));\n    /* Fields */ if (descriptor.field)\n        for (i = 0; i < descriptor.field.length; ++i) {\n            var field = Field.fromDescriptor(descriptor.field[i], syntax);\n            type.add(field);\n            if (descriptor.field[i].hasOwnProperty(\"oneofIndex\")) // eslint-disable-line no-prototype-builtins\n                type.oneofsArray[descriptor.field[i].oneofIndex].add(field);\n        }\n    /* Extension fields */ if (descriptor.extension)\n        for (i = 0; i < descriptor.extension.length; ++i)\n            type.add(Field.fromDescriptor(descriptor.extension[i], syntax));\n    /* Nested types */ if (descriptor.nestedType)\n        for (i = 0; i < descriptor.nestedType.length; ++i) {\n            type.add(Type.fromDescriptor(descriptor.nestedType[i], syntax));\n            if (descriptor.nestedType[i].options && descriptor.nestedType[i].options.mapEntry)\n                type.setOption(\"map_entry\", true);\n        }\n    /* Nested enums */ if (descriptor.enumType)\n        for (i = 0; i < descriptor.enumType.length; ++i)\n            type.add(Enum.fromDescriptor(descriptor.enumType[i]));\n    /* Extension ranges */ if (descriptor.extensionRange && descriptor.extensionRange.length) {\n        type.extensions = [];\n        for (i = 0; i < descriptor.extensionRange.length; ++i)\n            type.extensions.push([ descriptor.extensionRange[i].start, descriptor.extensionRange[i].end ]);\n    }\n    /* Reserved... */ if (descriptor.reservedRange && descriptor.reservedRange.length || descriptor.reservedName && descriptor.reservedName.length) {\n        type.reserved = [];\n        /* Ranges */ if (descriptor.reservedRange)\n            for (i = 0; i < descriptor.reservedRange.length; ++i)\n                type.reserved.push([ descriptor.reservedRange[i].start, descriptor.reservedRange[i].end ]);\n        /* Names */ if (descriptor.reservedName)\n            for (i = 0; i < descriptor.reservedName.length; ++i)\n                type.reserved.push(descriptor.reservedName[i]);\n    }\n\n    return type;\n};\n\n/**\n * Converts a type to a descriptor.\n * @returns {Message<IDescriptorProto>} Descriptor\n * @param {string} [syntax=\"proto2\"] Syntax\n */\nType.prototype.toDescriptor = function toDescriptor(syntax) {\n    var descriptor = exports.DescriptorProto.create({ name: this.name }),\n        i;\n\n    /* Fields */ for (i = 0; i < this.fieldsArray.length; ++i) {\n        var fieldDescriptor;\n        descriptor.field.push(fieldDescriptor = this._fieldsArray[i].toDescriptor(syntax));\n        if (this._fieldsArray[i] instanceof MapField) { // map fields are repeated FieldNameEntry\n            var keyType = toDescriptorType(this._fieldsArray[i].keyType, this._fieldsArray[i].resolvedKeyType),\n                valueType = toDescriptorType(this._fieldsArray[i].type, this._fieldsArray[i].resolvedType),\n                valueTypeName = valueType === /* type */ 11 || valueType === /* enum */ 14\n                    ? this._fieldsArray[i].resolvedType && shortname(this.parent, this._fieldsArray[i].resolvedType) || this._fieldsArray[i].type\n                    : undefined;\n            descriptor.nestedType.push(exports.DescriptorProto.create({\n                name: fieldDescriptor.typeName,\n                field: [\n                    exports.FieldDescriptorProto.create({ name: \"key\", number: 1, label: 1, type: keyType }), // can't reference a type or enum\n                    exports.FieldDescriptorProto.create({ name: \"value\", number: 2, label: 1, type: valueType, typeName: valueTypeName })\n                ],\n                options: exports.MessageOptions.create({ mapEntry: true })\n            }));\n        }\n    }\n    /* Oneofs */ for (i = 0; i < this.oneofsArray.length; ++i)\n        descriptor.oneofDecl.push(this._oneofsArray[i].toDescriptor());\n    /* Nested... */ for (i = 0; i < this.nestedArray.length; ++i) {\n        /* Extension fields */ if (this._nestedArray[i] instanceof Field)\n            descriptor.field.push(this._nestedArray[i].toDescriptor(syntax));\n        /* Types */ else if (this._nestedArray[i] instanceof Type)\n            descriptor.nestedType.push(this._nestedArray[i].toDescriptor(syntax));\n        /* Enums */ else if (this._nestedArray[i] instanceof Enum)\n            descriptor.enumType.push(this._nestedArray[i].toDescriptor());\n        // plain nested namespaces become packages instead in Root#toDescriptor\n    }\n    /* Extension ranges */ if (this.extensions)\n        for (i = 0; i < this.extensions.length; ++i)\n            descriptor.extensionRange.push(exports.DescriptorProto.ExtensionRange.create({ start: this.extensions[i][0], end: this.extensions[i][1] }));\n    /* Reserved... */ if (this.reserved)\n        for (i = 0; i < this.reserved.length; ++i)\n            /* Names */ if (typeof this.reserved[i] === \"string\")\n                descriptor.reservedName.push(this.reserved[i]);\n            /* Ranges */ else\n                descriptor.reservedRange.push(exports.DescriptorProto.ReservedRange.create({ start: this.reserved[i][0], end: this.reserved[i][1] }));\n\n    descriptor.options = toDescriptorOptions(this.options, exports.MessageOptions);\n\n    return descriptor;\n};\n\n// --- Field ---\n\n/**\n * Properties of a FieldDescriptorProto message.\n * @interface IFieldDescriptorProto\n * @property {string} [name] Field name\n * @property {number} [number] Field id\n * @property {IFieldDescriptorProtoLabel} [label] Field rule\n * @property {IFieldDescriptorProtoType} [type] Field basic type\n * @property {string} [typeName] Field type name\n * @property {string} [extendee] Extended type name\n * @property {string} [defaultValue] Literal default value\n * @property {number} [oneofIndex] Oneof index if part of a oneof\n * @property {*} [jsonName] Not supported\n * @property {IFieldOptions} [options] Field options\n */\n\n/**\n * Values of the FieldDescriptorProto.Label enum.\n * @typedef IFieldDescriptorProtoLabel\n * @type {number}\n * @property {number} LABEL_OPTIONAL=1\n * @property {number} LABEL_REQUIRED=2\n * @property {number} LABEL_REPEATED=3\n */\n\n/**\n * Values of the FieldDescriptorProto.Type enum.\n * @typedef IFieldDescriptorProtoType\n * @type {number}\n * @property {number} TYPE_DOUBLE=1\n * @property {number} TYPE_FLOAT=2\n * @property {number} TYPE_INT64=3\n * @property {number} TYPE_UINT64=4\n * @property {number} TYPE_INT32=5\n * @property {number} TYPE_FIXED64=6\n * @property {number} TYPE_FIXED32=7\n * @property {number} TYPE_BOOL=8\n * @property {number} TYPE_STRING=9\n * @property {number} TYPE_GROUP=10\n * @property {number} TYPE_MESSAGE=11\n * @property {number} TYPE_BYTES=12\n * @property {number} TYPE_UINT32=13\n * @property {number} TYPE_ENUM=14\n * @property {number} TYPE_SFIXED32=15\n * @property {number} TYPE_SFIXED64=16\n * @property {number} TYPE_SINT32=17\n * @property {number} TYPE_SINT64=18\n */\n\n/**\n * Properties of a FieldOptions message.\n * @interface IFieldOptions\n * @property {boolean} [packed] Whether packed or not (defaults to `false` for proto2 and `true` for proto3)\n * @property {IFieldOptionsJSType} [jstype] JavaScript value type (not used by protobuf.js)\n */\n\n/**\n * Values of the FieldOptions.JSType enum.\n * @typedef IFieldOptionsJSType\n * @type {number}\n * @property {number} JS_NORMAL=0\n * @property {number} JS_STRING=1\n * @property {number} JS_NUMBER=2\n */\n\n// copied here from parse.js\nvar numberRe = /^(?![eE])[0-9]*(?:\\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;\n\n/**\n * Creates a field from a descriptor.\n * @param {IFieldDescriptorProto|Reader|Uint8Array} descriptor Descriptor\n * @param {string} [syntax=\"proto2\"] Syntax\n * @returns {Field} Field instance\n */\nField.fromDescriptor = function fromDescriptor(descriptor, syntax) {\n\n    // Decode the descriptor message if specified as a buffer:\n    if (typeof descriptor.length === \"number\")\n        descriptor = exports.DescriptorProto.decode(descriptor);\n\n    if (typeof descriptor.number !== \"number\")\n        throw Error(\"missing field id\");\n\n    // Rewire field type\n    var fieldType;\n    if (descriptor.typeName && descriptor.typeName.length)\n        fieldType = descriptor.typeName;\n    else\n        fieldType = fromDescriptorType(descriptor.type);\n\n    // Rewire field rule\n    var fieldRule;\n    switch (descriptor.label) {\n        // 0 is reserved for errors\n        case 1: fieldRule = undefined; break;\n        case 2: fieldRule = \"required\"; break;\n        case 3: fieldRule = \"repeated\"; break;\n        default: throw Error(\"illegal label: \" + descriptor.label);\n    }\n\n\tvar extendee = descriptor.extendee;\n\tif (descriptor.extendee !== undefined) {\n\t\textendee = extendee.length ? extendee : undefined;\n\t}\n    var field = new Field(\n        descriptor.name.length ? descriptor.name : \"field\" + descriptor.number,\n        descriptor.number,\n        fieldType,\n        fieldRule,\n        extendee\n    );\n\n    field.options = fromDescriptorOptions(descriptor.options, exports.FieldOptions);\n\n    if (descriptor.defaultValue && descriptor.defaultValue.length) {\n        var defaultValue = descriptor.defaultValue;\n        switch (defaultValue) {\n            case \"true\": case \"TRUE\":\n                defaultValue = true;\n                break;\n            case \"false\": case \"FALSE\":\n                defaultValue = false;\n                break;\n            default:\n                var match = numberRe.exec(defaultValue);\n                if (match)\n                    defaultValue = parseInt(defaultValue); // eslint-disable-line radix\n                break;\n        }\n        field.setOption(\"default\", defaultValue);\n    }\n\n    if (packableDescriptorType(descriptor.type)) {\n        if (syntax === \"proto3\") { // defaults to packed=true (internal preset is packed=true)\n            if (descriptor.options && !descriptor.options.packed)\n                field.setOption(\"packed\", false);\n        } else if (!(descriptor.options && descriptor.options.packed)) // defaults to packed=false\n            field.setOption(\"packed\", false);\n    }\n\n    return field;\n};\n\n/**\n * Converts a field to a descriptor.\n * @returns {Message<IFieldDescriptorProto>} Descriptor\n * @param {string} [syntax=\"proto2\"] Syntax\n */\nField.prototype.toDescriptor = function toDescriptor(syntax) {\n    var descriptor = exports.FieldDescriptorProto.create({ name: this.name, number: this.id });\n\n    if (this.map) {\n\n        descriptor.type = 11; // message\n        descriptor.typeName = $protobuf.util.ucFirst(this.name); // fieldName -> FieldNameEntry (built in Type#toDescriptor)\n        descriptor.label = 3; // repeated\n\n    } else {\n\n        // Rewire field type\n        switch (descriptor.type = toDescriptorType(this.type, this.resolve().resolvedType)) {\n            case 10: // group\n            case 11: // type\n            case 14: // enum\n                descriptor.typeName = this.resolvedType ? shortname(this.parent, this.resolvedType) : this.type;\n                break;\n        }\n\n        // Rewire field rule\n        switch (this.rule) {\n            case \"repeated\": descriptor.label = 3; break;\n            case \"required\": descriptor.label = 2; break;\n            default: descriptor.label = 1; break;\n        }\n\n    }\n\n    // Handle extension field\n    descriptor.extendee = this.extensionField ? this.extensionField.parent.fullName : this.extend;\n\n    // Handle part of oneof\n    if (this.partOf)\n        if ((descriptor.oneofIndex = this.parent.oneofsArray.indexOf(this.partOf)) < 0)\n            throw Error(\"missing oneof\");\n\n    if (this.options) {\n        descriptor.options = toDescriptorOptions(this.options, exports.FieldOptions);\n        if (this.options[\"default\"] != null)\n            descriptor.defaultValue = String(this.options[\"default\"]);\n    }\n\n    if (syntax === \"proto3\") { // defaults to packed=true\n        if (!this.packed)\n            (descriptor.options || (descriptor.options = exports.FieldOptions.create())).packed = false;\n    } else if (this.packed) // defaults to packed=false\n        (descriptor.options || (descriptor.options = exports.FieldOptions.create())).packed = true;\n\n    return descriptor;\n};\n\n// --- Enum ---\n\n/**\n * Properties of an EnumDescriptorProto message.\n * @interface IEnumDescriptorProto\n * @property {string} [name] Enum name\n * @property {IEnumValueDescriptorProto[]} [value] Enum values\n * @property {IEnumOptions} [options] Enum options\n */\n\n/**\n * Properties of an EnumValueDescriptorProto message.\n * @interface IEnumValueDescriptorProto\n * @property {string} [name] Name\n * @property {number} [number] Value\n * @property {*} [options] Not supported\n */\n\n/**\n * Properties of an EnumOptions message.\n * @interface IEnumOptions\n * @property {boolean} [allowAlias] Whether aliases are allowed\n * @property {boolean} [deprecated]\n */\n\nvar unnamedEnumIndex = 0;\n\n/**\n * Creates an enum from a descriptor.\n * @param {IEnumDescriptorProto|Reader|Uint8Array} descriptor Descriptor\n * @returns {Enum} Enum instance\n */\nEnum.fromDescriptor = function fromDescriptor(descriptor) {\n\n    // Decode the descriptor message if specified as a buffer:\n    if (typeof descriptor.length === \"number\")\n        descriptor = exports.EnumDescriptorProto.decode(descriptor);\n\n    // Construct values object\n    var values = {};\n    if (descriptor.value)\n        for (var i = 0; i < descriptor.value.length; ++i) {\n            var name  = descriptor.value[i].name,\n                value = descriptor.value[i].number || 0;\n            values[name && name.length ? name : \"NAME\" + value] = value;\n        }\n\n    return new Enum(\n        descriptor.name && descriptor.name.length ? descriptor.name : \"Enum\" + unnamedEnumIndex++,\n        values,\n        fromDescriptorOptions(descriptor.options, exports.EnumOptions)\n    );\n};\n\n/**\n * Converts an enum to a descriptor.\n * @returns {Message<IEnumDescriptorProto>} Descriptor\n */\nEnum.prototype.toDescriptor = function toDescriptor() {\n\n    // Values\n    var values = [];\n    for (var i = 0, ks = Object.keys(this.values); i < ks.length; ++i)\n        values.push(exports.EnumValueDescriptorProto.create({ name: ks[i], number: this.values[ks[i]] }));\n\n    return exports.EnumDescriptorProto.create({\n        name: this.name,\n        value: values,\n        options: toDescriptorOptions(this.options, exports.EnumOptions)\n    });\n};\n\n// --- OneOf ---\n\n/**\n * Properties of a OneofDescriptorProto message.\n * @interface IOneofDescriptorProto\n * @property {string} [name] Oneof name\n * @property {*} [options] Not supported\n */\n\nvar unnamedOneofIndex = 0;\n\n/**\n * Creates a oneof from a descriptor.\n * @param {IOneofDescriptorProto|Reader|Uint8Array} descriptor Descriptor\n * @returns {OneOf} OneOf instance\n */\nOneOf.fromDescriptor = function fromDescriptor(descriptor) {\n\n    // Decode the descriptor message if specified as a buffer:\n    if (typeof descriptor.length === \"number\")\n        descriptor = exports.OneofDescriptorProto.decode(descriptor);\n\n    return new OneOf(\n        // unnamedOneOfIndex is global, not per type, because we have no ref to a type here\n        descriptor.name && descriptor.name.length ? descriptor.name : \"oneof\" + unnamedOneofIndex++\n        // fromDescriptorOptions(descriptor.options, exports.OneofOptions) - only uninterpreted_option\n    );\n};\n\n/**\n * Converts a oneof to a descriptor.\n * @returns {Message<IOneofDescriptorProto>} Descriptor\n */\nOneOf.prototype.toDescriptor = function toDescriptor() {\n    return exports.OneofDescriptorProto.create({\n        name: this.name\n        // options: toDescriptorOptions(this.options, exports.OneofOptions) - only uninterpreted_option\n    });\n};\n\n// --- Service ---\n\n/**\n * Properties of a ServiceDescriptorProto message.\n * @interface IServiceDescriptorProto\n * @property {string} [name] Service name\n * @property {IMethodDescriptorProto[]} [method] Methods\n * @property {IServiceOptions} [options] Options\n */\n\n/**\n * Properties of a ServiceOptions message.\n * @interface IServiceOptions\n * @property {boolean} [deprecated]\n */\n\nvar unnamedServiceIndex = 0;\n\n/**\n * Creates a service from a descriptor.\n * @param {IServiceDescriptorProto|Reader|Uint8Array} descriptor Descriptor\n * @returns {Service} Service instance\n */\nService.fromDescriptor = function fromDescriptor(descriptor) {\n\n    // Decode the descriptor message if specified as a buffer:\n    if (typeof descriptor.length === \"number\")\n        descriptor = exports.ServiceDescriptorProto.decode(descriptor);\n\n    var service = new Service(descriptor.name && descriptor.name.length ? descriptor.name : \"Service\" + unnamedServiceIndex++, fromDescriptorOptions(descriptor.options, exports.ServiceOptions));\n    if (descriptor.method)\n        for (var i = 0; i < descriptor.method.length; ++i)\n            service.add(Method.fromDescriptor(descriptor.method[i]));\n\n    return service;\n};\n\n/**\n * Converts a service to a descriptor.\n * @returns {Message<IServiceDescriptorProto>} Descriptor\n */\nService.prototype.toDescriptor = function toDescriptor() {\n\n    // Methods\n    var methods = [];\n    for (var i = 0; i < this.methodsArray.length; ++i)\n        methods.push(this._methodsArray[i].toDescriptor());\n\n    return exports.ServiceDescriptorProto.create({\n        name: this.name,\n        method: methods,\n        options: toDescriptorOptions(this.options, exports.ServiceOptions)\n    });\n};\n\n// --- Method ---\n\n/**\n * Properties of a MethodDescriptorProto message.\n * @interface IMethodDescriptorProto\n * @property {string} [name] Method name\n * @property {string} [inputType] Request type name\n * @property {string} [outputType] Response type name\n * @property {IMethodOptions} [options] Not supported\n * @property {boolean} [clientStreaming=false] Whether requests are streamed\n * @property {boolean} [serverStreaming=false] Whether responses are streamed\n */\n\n/**\n * Properties of a MethodOptions message.\n * @interface IMethodOptions\n * @property {boolean} [deprecated]\n */\n\nvar unnamedMethodIndex = 0;\n\n/**\n * Creates a method from a descriptor.\n * @param {IMethodDescriptorProto|Reader|Uint8Array} descriptor Descriptor\n * @returns {Method} Reflected method instance\n */\nMethod.fromDescriptor = function fromDescriptor(descriptor) {\n\n    // Decode the descriptor message if specified as a buffer:\n    if (typeof descriptor.length === \"number\")\n        descriptor = exports.MethodDescriptorProto.decode(descriptor);\n\n    return new Method(\n        // unnamedMethodIndex is global, not per service, because we have no ref to a service here\n        descriptor.name && descriptor.name.length ? descriptor.name : \"Method\" + unnamedMethodIndex++,\n        \"rpc\",\n        descriptor.inputType,\n        descriptor.outputType,\n        Boolean(descriptor.clientStreaming),\n        Boolean(descriptor.serverStreaming),\n        fromDescriptorOptions(descriptor.options, exports.MethodOptions)\n    );\n};\n\n/**\n * Converts a method to a descriptor.\n * @returns {Message<IMethodDescriptorProto>} Descriptor\n */\nMethod.prototype.toDescriptor = function toDescriptor() {\n    return exports.MethodDescriptorProto.create({\n        name: this.name,\n        inputType: this.resolvedRequestType ? this.resolvedRequestType.fullName : this.requestType,\n        outputType: this.resolvedResponseType ? this.resolvedResponseType.fullName : this.responseType,\n        clientStreaming: this.requestStream,\n        serverStreaming: this.responseStream,\n        options: toDescriptorOptions(this.options, exports.MethodOptions)\n    });\n};\n\n// --- utility ---\n\n// Converts a descriptor type to a protobuf.js basic type\nfunction fromDescriptorType(type) {\n    switch (type) {\n        // 0 is reserved for errors\n        case 1: return \"double\";\n        case 2: return \"float\";\n        case 3: return \"int64\";\n        case 4: return \"uint64\";\n        case 5: return \"int32\";\n        case 6: return \"fixed64\";\n        case 7: return \"fixed32\";\n        case 8: return \"bool\";\n        case 9: return \"string\";\n        case 12: return \"bytes\";\n        case 13: return \"uint32\";\n        case 15: return \"sfixed32\";\n        case 16: return \"sfixed64\";\n        case 17: return \"sint32\";\n        case 18: return \"sint64\";\n    }\n    throw Error(\"illegal type: \" + type);\n}\n\n// Tests if a descriptor type is packable\nfunction packableDescriptorType(type) {\n    switch (type) {\n        case 1: // double\n        case 2: // float\n        case 3: // int64\n        case 4: // uint64\n        case 5: // int32\n        case 6: // fixed64\n        case 7: // fixed32\n        case 8: // bool\n        case 13: // uint32\n        case 14: // enum (!)\n        case 15: // sfixed32\n        case 16: // sfixed64\n        case 17: // sint32\n        case 18: // sint64\n            return true;\n    }\n    return false;\n}\n\n// Converts a protobuf.js basic type to a descriptor type\nfunction toDescriptorType(type, resolvedType) {\n    switch (type) {\n        // 0 is reserved for errors\n        case \"double\": return 1;\n        case \"float\": return 2;\n        case \"int64\": return 3;\n        case \"uint64\": return 4;\n        case \"int32\": return 5;\n        case \"fixed64\": return 6;\n        case \"fixed32\": return 7;\n        case \"bool\": return 8;\n        case \"string\": return 9;\n        case \"bytes\": return 12;\n        case \"uint32\": return 13;\n        case \"sfixed32\": return 15;\n        case \"sfixed64\": return 16;\n        case \"sint32\": return 17;\n        case \"sint64\": return 18;\n    }\n    if (resolvedType instanceof Enum)\n        return 14;\n    if (resolvedType instanceof Type)\n        return resolvedType.group ? 10 : 11;\n    throw Error(\"illegal type: \" + type);\n}\n\n// Converts descriptor options to an options object\nfunction fromDescriptorOptions(options, type) {\n    if (!options)\n        return undefined;\n    var out = [];\n    for (var i = 0, field, key, val; i < type.fieldsArray.length; ++i)\n        if ((key = (field = type._fieldsArray[i]).name) !== \"uninterpretedOption\")\n            if (options.hasOwnProperty(key)) { // eslint-disable-line no-prototype-builtins\n                val = options[key];\n                if (field.resolvedType instanceof Enum && typeof val === \"number\" && field.resolvedType.valuesById[val] !== undefined)\n                    val = field.resolvedType.valuesById[val];\n                out.push(underScore(key), val);\n            }\n    return out.length ? $protobuf.util.toObject(out) : undefined;\n}\n\n// Converts an options object to descriptor options\nfunction toDescriptorOptions(options, type) {\n    if (!options)\n        return undefined;\n    var out = [];\n    for (var i = 0, ks = Object.keys(options), key, val; i < ks.length; ++i) {\n        val = options[key = ks[i]];\n        if (key === \"default\")\n            continue;\n        var field = type.fields[key];\n        if (!field && !(field = type.fields[key = $protobuf.util.camelCase(key)]))\n            continue;\n        out.push(key, val);\n    }\n    return out.length ? type.fromObject($protobuf.util.toObject(out)) : undefined;\n}\n\n// Calculates the shortest relative path from `from` to `to`.\nfunction shortname(from, to) {\n    var fromPath = from.fullName.split(\".\"),\n        toPath = to.fullName.split(\".\"),\n        i = 0,\n        j = 0,\n        k = toPath.length - 1;\n    if (!(from instanceof Root) && to instanceof Namespace)\n        while (i < fromPath.length && j < k && fromPath[i] === toPath[j]) {\n            var other = to.lookup(fromPath[i++], true);\n            if (other !== null && other !== to)\n                break;\n            ++j;\n        }\n    else\n        for (; i < fromPath.length && j < k && fromPath[i] === toPath[j]; ++i, ++j);\n    return toPath.slice(j).join(\".\");\n}\n\n// copied here from cli/targets/proto.js\nfunction underScore(str) {\n    return str.substring(0,1)\n         + str.substring(1)\n               .replace(/([A-Z])(?=[a-z]|$)/g, function($0, $1) { return \"_\" + $1.toLowerCase(); });\n}\n\n// --- exports ---\n\n/**\n * Reflected file descriptor set.\n * @name FileDescriptorSet\n * @type {Type}\n * @const\n * @tstype $protobuf.Type\n */\n\n/**\n * Reflected file descriptor proto.\n * @name FileDescriptorProto\n * @type {Type}\n * @const\n * @tstype $protobuf.Type\n */\n\n/**\n * Reflected descriptor proto.\n * @name DescriptorProto\n * @type {Type}\n * @property {Type} ExtensionRange\n * @property {Type} ReservedRange\n * @const\n * @tstype $protobuf.Type & {\n *     ExtensionRange: $protobuf.Type,\n *     ReservedRange: $protobuf.Type\n * }\n */\n\n/**\n * Reflected field descriptor proto.\n * @name FieldDescriptorProto\n * @type {Type}\n * @property {Enum} Label\n * @property {Enum} Type\n * @const\n * @tstype $protobuf.Type & {\n *     Label: $protobuf.Enum,\n *     Type: $protobuf.Enum\n * }\n */\n\n/**\n * Reflected oneof descriptor proto.\n * @name OneofDescriptorProto\n * @type {Type}\n * @const\n * @tstype $protobuf.Type\n */\n\n/**\n * Reflected enum descriptor proto.\n * @name EnumDescriptorProto\n * @type {Type}\n * @const\n * @tstype $protobuf.Type\n */\n\n/**\n * Reflected service descriptor proto.\n * @name ServiceDescriptorProto\n * @type {Type}\n * @const\n * @tstype $protobuf.Type\n */\n\n/**\n * Reflected enum value descriptor proto.\n * @name EnumValueDescriptorProto\n * @type {Type}\n * @const\n * @tstype $protobuf.Type\n */\n\n/**\n * Reflected method descriptor proto.\n * @name MethodDescriptorProto\n * @type {Type}\n * @const\n * @tstype $protobuf.Type\n */\n\n/**\n * Reflected file options.\n * @name FileOptions\n * @type {Type}\n * @property {Enum} OptimizeMode\n * @const\n * @tstype $protobuf.Type & {\n *     OptimizeMode: $protobuf.Enum\n * }\n */\n\n/**\n * Reflected message options.\n * @name MessageOptions\n * @type {Type}\n * @const\n * @tstype $protobuf.Type\n */\n\n/**\n * Reflected field options.\n * @name FieldOptions\n * @type {Type}\n * @property {Enum} CType\n * @property {Enum} JSType\n * @const\n * @tstype $protobuf.Type & {\n *     CType: $protobuf.Enum,\n *     JSType: $protobuf.Enum\n * }\n */\n\n/**\n * Reflected oneof options.\n * @name OneofOptions\n * @type {Type}\n * @const\n * @tstype $protobuf.Type\n */\n\n/**\n * Reflected enum options.\n * @name EnumOptions\n * @type {Type}\n * @const\n * @tstype $protobuf.Type\n */\n\n/**\n * Reflected enum value options.\n * @name EnumValueOptions\n * @type {Type}\n * @const\n * @tstype $protobuf.Type\n */\n\n/**\n * Reflected service options.\n * @name ServiceOptions\n * @type {Type}\n * @const\n * @tstype $protobuf.Type\n */\n\n/**\n * Reflected method options.\n * @name MethodOptions\n * @type {Type}\n * @const\n * @tstype $protobuf.Type\n */\n\n/**\n * Reflected uninterpretet option.\n * @name UninterpretedOption\n * @type {Type}\n * @property {Type} NamePart\n * @const\n * @tstype $protobuf.Type & {\n *     NamePart: $protobuf.Type\n * }\n */\n\n/**\n * Reflected source code info.\n * @name SourceCodeInfo\n * @type {Type}\n * @property {Type} Location\n * @const\n * @tstype $protobuf.Type & {\n *     Location: $protobuf.Type\n * }\n */\n\n/**\n * Reflected generated code info.\n * @name GeneratedCodeInfo\n * @type {Type}\n * @property {Type} Annotation\n * @const\n * @tstype $protobuf.Type & {\n *     Annotation: $protobuf.Type\n * }\n */\n","// full library entry point.\n\n\"use strict\";\nmodule.exports = require(\"./src/index\");\n","// minimal library entry point.\n\n\"use strict\";\nmodule.exports = require(\"./src/index-minimal\");\n","\"use strict\";\nmodule.exports = common;\n\nvar commonRe = /\\/|\\./;\n\n/**\n * Provides common type definitions.\n * Can also be used to provide additional google types or your own custom types.\n * @param {string} name Short name as in `google/protobuf/[name].proto` or full file name\n * @param {Object.<string,*>} json JSON definition within `google.protobuf` if a short name, otherwise the file's root definition\n * @returns {undefined}\n * @property {INamespace} google/protobuf/any.proto Any\n * @property {INamespace} google/protobuf/duration.proto Duration\n * @property {INamespace} google/protobuf/empty.proto Empty\n * @property {INamespace} google/protobuf/field_mask.proto FieldMask\n * @property {INamespace} google/protobuf/struct.proto Struct, Value, NullValue and ListValue\n * @property {INamespace} google/protobuf/timestamp.proto Timestamp\n * @property {INamespace} google/protobuf/wrappers.proto Wrappers\n * @example\n * // manually provides descriptor.proto (assumes google/protobuf/ namespace and .proto extension)\n * protobuf.common(\"descriptor\", descriptorJson);\n *\n * // manually provides a custom definition (uses my.foo namespace)\n * protobuf.common(\"my/foo/bar.proto\", myFooBarJson);\n */\nfunction common(name, json) {\n    if (!commonRe.test(name)) {\n        name = \"google/protobuf/\" + name + \".proto\";\n        json = { nested: { google: { nested: { protobuf: { nested: json } } } } };\n    }\n    common[name] = json;\n}\n\n// Not provided because of limited use (feel free to discuss or to provide yourself):\n//\n// google/protobuf/descriptor.proto\n// google/protobuf/source_context.proto\n// google/protobuf/type.proto\n//\n// Stripped and pre-parsed versions of these non-bundled files are instead available as part of\n// the repository or package within the google/protobuf directory.\n\ncommon(\"any\", {\n\n    /**\n     * Properties of a google.protobuf.Any message.\n     * @interface IAny\n     * @type {Object}\n     * @property {string} [typeUrl]\n     * @property {Uint8Array} [bytes]\n     * @memberof common\n     */\n    Any: {\n        fields: {\n            type_url: {\n                type: \"string\",\n                id: 1\n            },\n            value: {\n                type: \"bytes\",\n                id: 2\n            }\n        }\n    }\n});\n\nvar timeType;\n\ncommon(\"duration\", {\n\n    /**\n     * Properties of a google.protobuf.Duration message.\n     * @interface IDuration\n     * @type {Object}\n     * @property {number|Long} [seconds]\n     * @property {number} [nanos]\n     * @memberof common\n     */\n    Duration: timeType = {\n        fields: {\n            seconds: {\n                type: \"int64\",\n                id: 1\n            },\n            nanos: {\n                type: \"int32\",\n                id: 2\n            }\n        }\n    }\n});\n\ncommon(\"timestamp\", {\n\n    /**\n     * Properties of a google.protobuf.Timestamp message.\n     * @interface ITimestamp\n     * @type {Object}\n     * @property {number|Long} [seconds]\n     * @property {number} [nanos]\n     * @memberof common\n     */\n    Timestamp: timeType\n});\n\ncommon(\"empty\", {\n\n    /**\n     * Properties of a google.protobuf.Empty message.\n     * @interface IEmpty\n     * @memberof common\n     */\n    Empty: {\n        fields: {}\n    }\n});\n\ncommon(\"struct\", {\n\n    /**\n     * Properties of a google.protobuf.Struct message.\n     * @interface IStruct\n     * @type {Object}\n     * @property {Object.<string,IValue>} [fields]\n     * @memberof common\n     */\n    Struct: {\n        fields: {\n            fields: {\n                keyType: \"string\",\n                type: \"Value\",\n                id: 1\n            }\n        }\n    },\n\n    /**\n     * Properties of a google.protobuf.Value message.\n     * @interface IValue\n     * @type {Object}\n     * @property {string} [kind]\n     * @property {0} [nullValue]\n     * @property {number} [numberValue]\n     * @property {string} [stringValue]\n     * @property {boolean} [boolValue]\n     * @property {IStruct} [structValue]\n     * @property {IListValue} [listValue]\n     * @memberof common\n     */\n    Value: {\n        oneofs: {\n            kind: {\n                oneof: [\n                    \"nullValue\",\n                    \"numberValue\",\n                    \"stringValue\",\n                    \"boolValue\",\n                    \"structValue\",\n                    \"listValue\"\n                ]\n            }\n        },\n        fields: {\n            nullValue: {\n                type: \"NullValue\",\n                id: 1\n            },\n            numberValue: {\n                type: \"double\",\n                id: 2\n            },\n            stringValue: {\n                type: \"string\",\n                id: 3\n            },\n            boolValue: {\n                type: \"bool\",\n                id: 4\n            },\n            structValue: {\n                type: \"Struct\",\n                id: 5\n            },\n            listValue: {\n                type: \"ListValue\",\n                id: 6\n            }\n        }\n    },\n\n    NullValue: {\n        values: {\n            NULL_VALUE: 0\n        }\n    },\n\n    /**\n     * Properties of a google.protobuf.ListValue message.\n     * @interface IListValue\n     * @type {Object}\n     * @property {Array.<IValue>} [values]\n     * @memberof common\n     */\n    ListValue: {\n        fields: {\n            values: {\n                rule: \"repeated\",\n                type: \"Value\",\n                id: 1\n            }\n        }\n    }\n});\n\ncommon(\"wrappers\", {\n\n    /**\n     * Properties of a google.protobuf.DoubleValue message.\n     * @interface IDoubleValue\n     * @type {Object}\n     * @property {number} [value]\n     * @memberof common\n     */\n    DoubleValue: {\n        fields: {\n            value: {\n                type: \"double\",\n                id: 1\n            }\n        }\n    },\n\n    /**\n     * Properties of a google.protobuf.FloatValue message.\n     * @interface IFloatValue\n     * @type {Object}\n     * @property {number} [value]\n     * @memberof common\n     */\n    FloatValue: {\n        fields: {\n            value: {\n                type: \"float\",\n                id: 1\n            }\n        }\n    },\n\n    /**\n     * Properties of a google.protobuf.Int64Value message.\n     * @interface IInt64Value\n     * @type {Object}\n     * @property {number|Long} [value]\n     * @memberof common\n     */\n    Int64Value: {\n        fields: {\n            value: {\n                type: \"int64\",\n                id: 1\n            }\n        }\n    },\n\n    /**\n     * Properties of a google.protobuf.UInt64Value message.\n     * @interface IUInt64Value\n     * @type {Object}\n     * @property {number|Long} [value]\n     * @memberof common\n     */\n    UInt64Value: {\n        fields: {\n            value: {\n                type: \"uint64\",\n                id: 1\n            }\n        }\n    },\n\n    /**\n     * Properties of a google.protobuf.Int32Value message.\n     * @interface IInt32Value\n     * @type {Object}\n     * @property {number} [value]\n     * @memberof common\n     */\n    Int32Value: {\n        fields: {\n            value: {\n                type: \"int32\",\n                id: 1\n            }\n        }\n    },\n\n    /**\n     * Properties of a google.protobuf.UInt32Value message.\n     * @interface IUInt32Value\n     * @type {Object}\n     * @property {number} [value]\n     * @memberof common\n     */\n    UInt32Value: {\n        fields: {\n            value: {\n                type: \"uint32\",\n                id: 1\n            }\n        }\n    },\n\n    /**\n     * Properties of a google.protobuf.BoolValue message.\n     * @interface IBoolValue\n     * @type {Object}\n     * @property {boolean} [value]\n     * @memberof common\n     */\n    BoolValue: {\n        fields: {\n            value: {\n                type: \"bool\",\n                id: 1\n            }\n        }\n    },\n\n    /**\n     * Properties of a google.protobuf.StringValue message.\n     * @interface IStringValue\n     * @type {Object}\n     * @property {string} [value]\n     * @memberof common\n     */\n    StringValue: {\n        fields: {\n            value: {\n                type: \"string\",\n                id: 1\n            }\n        }\n    },\n\n    /**\n     * Properties of a google.protobuf.BytesValue message.\n     * @interface IBytesValue\n     * @type {Object}\n     * @property {Uint8Array} [value]\n     * @memberof common\n     */\n    BytesValue: {\n        fields: {\n            value: {\n                type: \"bytes\",\n                id: 1\n            }\n        }\n    }\n});\n\ncommon(\"field_mask\", {\n\n    /**\n     * Properties of a google.protobuf.FieldMask message.\n     * @interface IDoubleValue\n     * @type {Object}\n     * @property {number} [value]\n     * @memberof common\n     */\n    FieldMask: {\n        fields: {\n            paths: {\n                rule: \"repeated\",\n                type: \"string\",\n                id: 1\n            }\n        }\n    }\n});\n\n/**\n * Gets the root definition of the specified common proto file.\n *\n * Bundled definitions are:\n * - google/protobuf/any.proto\n * - google/protobuf/duration.proto\n * - google/protobuf/empty.proto\n * - google/protobuf/field_mask.proto\n * - google/protobuf/struct.proto\n * - google/protobuf/timestamp.proto\n * - google/protobuf/wrappers.proto\n *\n * @param {string} file Proto file name\n * @returns {INamespace|null} Root definition or `null` if not defined\n */\ncommon.get = function get(file) {\n    return common[file] || null;\n};\n","\"use strict\";\n/**\n * Runtime message from/to plain object converters.\n * @namespace\n */\nvar converter = exports;\n\nvar Enum = require(\"./enum\"),\n    util = require(\"./util\");\n\n/**\n * Generates a partial value fromObject conveter.\n * @param {Codegen} gen Codegen instance\n * @param {Field} field Reflected field\n * @param {number} fieldIndex Field index\n * @param {string} prop Property reference\n * @returns {Codegen} Codegen instance\n * @ignore\n */\nfunction genValuePartial_fromObject(gen, field, fieldIndex, prop) {\n    var defaultAlreadyEmitted = false;\n    /* eslint-disable no-unexpected-multiline, block-scoped-var, no-redeclare */\n    if (field.resolvedType) {\n        if (field.resolvedType instanceof Enum) { gen\n            (\"switch(d%s){\", prop);\n            for (var values = field.resolvedType.values, keys = Object.keys(values), i = 0; i < keys.length; ++i) {\n                // enum unknown values passthrough\n                if (values[keys[i]] === field.typeDefault && !defaultAlreadyEmitted) { gen\n                    (\"default:\")\n                        (\"if(typeof(d%s)===\\\"number\\\"){m%s=d%s;break}\", prop, prop, prop);\n                    if (!field.repeated) gen // fallback to default value only for\n                                             // arrays, to avoid leaving holes.\n                        (\"break\");           // for non-repeated fields, just ignore\n                    defaultAlreadyEmitted = true;\n                }\n                gen\n                (\"case%j:\", keys[i])\n                (\"case %i:\", values[keys[i]])\n                    (\"m%s=%j\", prop, values[keys[i]])\n                    (\"break\");\n            } gen\n            (\"}\");\n        } else gen\n            (\"if(typeof d%s!==\\\"object\\\")\", prop)\n                (\"throw TypeError(%j)\", field.fullName + \": object expected\")\n            (\"m%s=types[%i].fromObject(d%s)\", prop, fieldIndex, prop);\n    } else {\n        var isUnsigned = false;\n        switch (field.type) {\n            case \"double\":\n            case \"float\": gen\n                (\"m%s=Number(d%s)\", prop, prop); // also catches \"NaN\", \"Infinity\"\n                break;\n            case \"uint32\":\n            case \"fixed32\": gen\n                (\"m%s=d%s>>>0\", prop, prop);\n                break;\n            case \"int32\":\n            case \"sint32\":\n            case \"sfixed32\": gen\n                (\"m%s=d%s|0\", prop, prop);\n                break;\n            case \"uint64\":\n                isUnsigned = true;\n                // eslint-disable-line no-fallthrough\n            case \"int64\":\n            case \"sint64\":\n            case \"fixed64\":\n            case \"sfixed64\": gen\n                (\"if(util.Long)\")\n                    (\"(m%s=util.Long.fromValue(d%s)).unsigned=%j\", prop, prop, isUnsigned)\n                (\"else if(typeof d%s===\\\"string\\\")\", prop)\n                    (\"m%s=parseInt(d%s,10)\", prop, prop)\n                (\"else if(typeof d%s===\\\"number\\\")\", prop)\n                    (\"m%s=d%s\", prop, prop)\n                (\"else if(typeof d%s===\\\"object\\\")\", prop)\n                    (\"m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)\", prop, prop, prop, isUnsigned ? \"true\" : \"\");\n                break;\n            case \"bytes\": gen\n                (\"if(typeof d%s===\\\"string\\\")\", prop)\n                    (\"util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)\", prop, prop, prop)\n                (\"else if(d%s.length >= 0)\", prop)\n                    (\"m%s=d%s\", prop, prop);\n                break;\n            case \"string\": gen\n                (\"m%s=String(d%s)\", prop, prop);\n                break;\n            case \"bool\": gen\n                (\"m%s=Boolean(d%s)\", prop, prop);\n                break;\n            /* default: gen\n                (\"m%s=d%s\", prop, prop);\n                break; */\n        }\n    }\n    return gen;\n    /* eslint-enable no-unexpected-multiline, block-scoped-var, no-redeclare */\n}\n\n/**\n * Generates a plain object to runtime message converter specific to the specified message type.\n * @param {Type} mtype Message type\n * @returns {Codegen} Codegen instance\n */\nconverter.fromObject = function fromObject(mtype) {\n    /* eslint-disable no-unexpected-multiline, block-scoped-var, no-redeclare */\n    var fields = mtype.fieldsArray;\n    var gen = util.codegen([\"d\"], mtype.name + \"$fromObject\")\n    (\"if(d instanceof this.ctor)\")\n        (\"return d\");\n    if (!fields.length) return gen\n    (\"return new this.ctor\");\n    gen\n    (\"var m=new this.ctor\");\n    for (var i = 0; i < fields.length; ++i) {\n        var field  = fields[i].resolve(),\n            prop   = util.safeProp(field.name);\n\n        // Map fields\n        if (field.map) { gen\n    (\"if(d%s){\", prop)\n        (\"if(typeof d%s!==\\\"object\\\")\", prop)\n            (\"throw TypeError(%j)\", field.fullName + \": object expected\")\n        (\"m%s={}\", prop)\n        (\"for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){\", prop);\n            genValuePartial_fromObject(gen, field, /* not sorted */ i, prop + \"[ks[i]]\")\n        (\"}\")\n    (\"}\");\n\n        // Repeated fields\n        } else if (field.repeated) { gen\n    (\"if(d%s){\", prop)\n        (\"if(!Array.isArray(d%s))\", prop)\n            (\"throw TypeError(%j)\", field.fullName + \": array expected\")\n        (\"m%s=[]\", prop)\n        (\"for(var i=0;i<d%s.length;++i){\", prop);\n            genValuePartial_fromObject(gen, field, /* not sorted */ i, prop + \"[i]\")\n        (\"}\")\n    (\"}\");\n\n        // Non-repeated fields\n        } else {\n            if (!(field.resolvedType instanceof Enum)) gen // no need to test for null/undefined if an enum (uses switch)\n    (\"if(d%s!=null){\", prop); // !== undefined && !== null\n        genValuePartial_fromObject(gen, field, /* not sorted */ i, prop);\n            if (!(field.resolvedType instanceof Enum)) gen\n    (\"}\");\n        }\n    } return gen\n    (\"return m\");\n    /* eslint-enable no-unexpected-multiline, block-scoped-var, no-redeclare */\n};\n\n/**\n * Generates a partial value toObject converter.\n * @param {Codegen} gen Codegen instance\n * @param {Field} field Reflected field\n * @param {number} fieldIndex Field index\n * @param {string} prop Property reference\n * @returns {Codegen} Codegen instance\n * @ignore\n */\nfunction genValuePartial_toObject(gen, field, fieldIndex, prop) {\n    /* eslint-disable no-unexpected-multiline, block-scoped-var, no-redeclare */\n    if (field.resolvedType) {\n        if (field.resolvedType instanceof Enum) gen\n            (\"d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s\", prop, fieldIndex, prop, prop, fieldIndex, prop, prop);\n        else gen\n            (\"d%s=types[%i].toObject(m%s,o)\", prop, fieldIndex, prop);\n    } else {\n        var isUnsigned = false;\n        switch (field.type) {\n            case \"double\":\n            case \"float\": gen\n            (\"d%s=o.json&&!isFinite(m%s)?String(m%s):m%s\", prop, prop, prop, prop);\n                break;\n            case \"uint64\":\n                isUnsigned = true;\n                // eslint-disable-line no-fallthrough\n            case \"int64\":\n            case \"sint64\":\n            case \"fixed64\":\n            case \"sfixed64\": gen\n            (\"if(typeof m%s===\\\"number\\\")\", prop)\n                (\"d%s=o.longs===String?String(m%s):m%s\", prop, prop, prop)\n            (\"else\") // Long-like\n                (\"d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s\", prop, prop, prop, prop, isUnsigned ? \"true\": \"\", prop);\n                break;\n            case \"bytes\": gen\n            (\"d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s\", prop, prop, prop, prop, prop);\n                break;\n            default: gen\n            (\"d%s=m%s\", prop, prop);\n                break;\n        }\n    }\n    return gen;\n    /* eslint-enable no-unexpected-multiline, block-scoped-var, no-redeclare */\n}\n\n/**\n * Generates a runtime message to plain object converter specific to the specified message type.\n * @param {Type} mtype Message type\n * @returns {Codegen} Codegen instance\n */\nconverter.toObject = function toObject(mtype) {\n    /* eslint-disable no-unexpected-multiline, block-scoped-var, no-redeclare */\n    var fields = mtype.fieldsArray.slice().sort(util.compareFieldsById);\n    if (!fields.length)\n        return util.codegen()(\"return {}\");\n    var gen = util.codegen([\"m\", \"o\"], mtype.name + \"$toObject\")\n    (\"if(!o)\")\n        (\"o={}\")\n    (\"var d={}\");\n\n    var repeatedFields = [],\n        mapFields = [],\n        normalFields = [],\n        i = 0;\n    for (; i < fields.length; ++i)\n        if (!fields[i].partOf)\n            ( fields[i].resolve().repeated ? repeatedFields\n            : fields[i].map ? mapFields\n            : normalFields).push(fields[i]);\n\n    if (repeatedFields.length) { gen\n    (\"if(o.arrays||o.defaults){\");\n        for (i = 0; i < repeatedFields.length; ++i) gen\n        (\"d%s=[]\", util.safeProp(repeatedFields[i].name));\n        gen\n    (\"}\");\n    }\n\n    if (mapFields.length) { gen\n    (\"if(o.objects||o.defaults){\");\n        for (i = 0; i < mapFields.length; ++i) gen\n        (\"d%s={}\", util.safeProp(mapFields[i].name));\n        gen\n    (\"}\");\n    }\n\n    if (normalFields.length) { gen\n    (\"if(o.defaults){\");\n        for (i = 0; i < normalFields.length; ++i) {\n            var field = normalFields[i],\n                prop  = util.safeProp(field.name);\n            if (field.resolvedType instanceof Enum) gen\n        (\"d%s=o.enums===String?%j:%j\", prop, field.resolvedType.valuesById[field.typeDefault], field.typeDefault);\n            else if (field.long) gen\n        (\"if(util.Long){\")\n            (\"var n=new util.Long(%i,%i,%j)\", field.typeDefault.low, field.typeDefault.high, field.typeDefault.unsigned)\n            (\"d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n\", prop)\n        (\"}else\")\n            (\"d%s=o.longs===String?%j:%i\", prop, field.typeDefault.toString(), field.typeDefault.toNumber());\n            else if (field.bytes) {\n                var arrayDefault = \"[\" + Array.prototype.slice.call(field.typeDefault).join(\",\") + \"]\";\n                gen\n        (\"if(o.bytes===String)d%s=%j\", prop, String.fromCharCode.apply(String, field.typeDefault))\n        (\"else{\")\n            (\"d%s=%s\", prop, arrayDefault)\n            (\"if(o.bytes!==Array)d%s=util.newBuffer(d%s)\", prop, prop)\n        (\"}\");\n            } else gen\n        (\"d%s=%j\", prop, field.typeDefault); // also messages (=null)\n        } gen\n    (\"}\");\n    }\n    var hasKs2 = false;\n    for (i = 0; i < fields.length; ++i) {\n        var field = fields[i],\n            index = mtype._fieldsArray.indexOf(field),\n            prop  = util.safeProp(field.name);\n        if (field.map) {\n            if (!hasKs2) { hasKs2 = true; gen\n    (\"var ks2\");\n            } gen\n    (\"if(m%s&&(ks2=Object.keys(m%s)).length){\", prop, prop)\n        (\"d%s={}\", prop)\n        (\"for(var j=0;j<ks2.length;++j){\");\n            genValuePartial_toObject(gen, field, /* sorted */ index, prop + \"[ks2[j]]\")\n        (\"}\");\n        } else if (field.repeated) { gen\n    (\"if(m%s&&m%s.length){\", prop, prop)\n        (\"d%s=[]\", prop)\n        (\"for(var j=0;j<m%s.length;++j){\", prop);\n            genValuePartial_toObject(gen, field, /* sorted */ index, prop + \"[j]\")\n        (\"}\");\n        } else { gen\n    (\"if(m%s!=null&&m.hasOwnProperty(%j)){\", prop, field.name); // !== undefined && !== null\n        genValuePartial_toObject(gen, field, /* sorted */ index, prop);\n        if (field.partOf) gen\n        (\"if(o.oneofs)\")\n            (\"d%s=%j\", util.safeProp(field.partOf.name), field.name);\n        }\n        gen\n    (\"}\");\n    }\n    return gen\n    (\"return d\");\n    /* eslint-enable no-unexpected-multiline, block-scoped-var, no-redeclare */\n};\n","\"use strict\";\nmodule.exports = decoder;\n\nvar Enum    = require(\"./enum\"),\n    types   = require(\"./types\"),\n    util    = require(\"./util\");\n\nfunction missing(field) {\n    return \"missing required '\" + field.name + \"'\";\n}\n\n/**\n * Generates a decoder specific to the specified message type.\n * @param {Type} mtype Message type\n * @returns {Codegen} Codegen instance\n */\nfunction decoder(mtype) {\n    /* eslint-disable no-unexpected-multiline */\n    var gen = util.codegen([\"r\", \"l\"], mtype.name + \"$decode\")\n    (\"if(!(r instanceof Reader))\")\n        (\"r=Reader.create(r)\")\n    (\"var c=l===undefined?r.len:r.pos+l,m=new this.ctor\" + (mtype.fieldsArray.filter(function(field) { return field.map; }).length ? \",k,value\" : \"\"))\n    (\"while(r.pos<c){\")\n        (\"var t=r.uint32()\");\n    if (mtype.group) gen\n        (\"if((t&7)===4)\")\n            (\"break\");\n    gen\n        (\"switch(t>>>3){\");\n\n    var i = 0;\n    for (; i < /* initializes */ mtype.fieldsArray.length; ++i) {\n        var field = mtype._fieldsArray[i].resolve(),\n            type  = field.resolvedType instanceof Enum ? \"int32\" : field.type,\n            ref   = \"m\" + util.safeProp(field.name); gen\n            (\"case %i: {\", field.id);\n\n        // Map fields\n        if (field.map) { gen\n                (\"if(%s===util.emptyObject)\", ref)\n                    (\"%s={}\", ref)\n                (\"var c2 = r.uint32()+r.pos\");\n\n            if (types.defaults[field.keyType] !== undefined) gen\n                (\"k=%j\", types.defaults[field.keyType]);\n            else gen\n                (\"k=null\");\n\n            if (types.defaults[type] !== undefined) gen\n                (\"value=%j\", types.defaults[type]);\n            else gen\n                (\"value=null\");\n\n            gen\n                (\"while(r.pos<c2){\")\n                    (\"var tag2=r.uint32()\")\n                    (\"switch(tag2>>>3){\")\n                        (\"case 1: k=r.%s(); break\", field.keyType)\n                        (\"case 2:\");\n\n            if (types.basic[type] === undefined) gen\n                            (\"value=types[%i].decode(r,r.uint32())\", i); // can't be groups\n            else gen\n                            (\"value=r.%s()\", type);\n\n            gen\n                            (\"break\")\n                        (\"default:\")\n                            (\"r.skipType(tag2&7)\")\n                            (\"break\")\n                    (\"}\")\n                (\"}\");\n\n            if (types.long[field.keyType] !== undefined) gen\n                (\"%s[typeof k===\\\"object\\\"?util.longToHash(k):k]=value\", ref);\n            else gen\n                (\"%s[k]=value\", ref);\n\n        // Repeated fields\n        } else if (field.repeated) { gen\n\n                (\"if(!(%s&&%s.length))\", ref, ref)\n                    (\"%s=[]\", ref);\n\n            // Packable (always check for forward and backward compatiblity)\n            if (types.packed[type] !== undefined) gen\n                (\"if((t&7)===2){\")\n                    (\"var c2=r.uint32()+r.pos\")\n                    (\"while(r.pos<c2)\")\n                        (\"%s.push(r.%s())\", ref, type)\n                (\"}else\");\n\n            // Non-packed\n            if (types.basic[type] === undefined) gen(field.resolvedType.group\n                    ? \"%s.push(types[%i].decode(r))\"\n                    : \"%s.push(types[%i].decode(r,r.uint32()))\", ref, i);\n            else gen\n                    (\"%s.push(r.%s())\", ref, type);\n\n        // Non-repeated\n        } else if (types.basic[type] === undefined) gen(field.resolvedType.group\n                ? \"%s=types[%i].decode(r)\"\n                : \"%s=types[%i].decode(r,r.uint32())\", ref, i);\n        else gen\n                (\"%s=r.%s()\", ref, type);\n        gen\n                (\"break\")\n            (\"}\");\n        // Unknown fields\n    } gen\n            (\"default:\")\n                (\"r.skipType(t&7)\")\n                (\"break\")\n\n        (\"}\")\n    (\"}\");\n\n    // Field presence\n    for (i = 0; i < mtype._fieldsArray.length; ++i) {\n        var rfield = mtype._fieldsArray[i];\n        if (rfield.required) gen\n    (\"if(!m.hasOwnProperty(%j))\", rfield.name)\n        (\"throw util.ProtocolError(%j,{instance:m})\", missing(rfield));\n    }\n\n    return gen\n    (\"return m\");\n    /* eslint-enable no-unexpected-multiline */\n}\n","\"use strict\";\nmodule.exports = encoder;\n\nvar Enum     = require(\"./enum\"),\n    types    = require(\"./types\"),\n    util     = require(\"./util\");\n\n/**\n * Generates a partial message type encoder.\n * @param {Codegen} gen Codegen instance\n * @param {Field} field Reflected field\n * @param {number} fieldIndex Field index\n * @param {string} ref Variable reference\n * @returns {Codegen} Codegen instance\n * @ignore\n */\nfunction genTypePartial(gen, field, fieldIndex, ref) {\n    return field.resolvedType.group\n        ? gen(\"types[%i].encode(%s,w.uint32(%i)).uint32(%i)\", fieldIndex, ref, (field.id << 3 | 3) >>> 0, (field.id << 3 | 4) >>> 0)\n        : gen(\"types[%i].encode(%s,w.uint32(%i).fork()).ldelim()\", fieldIndex, ref, (field.id << 3 | 2) >>> 0);\n}\n\n/**\n * Generates an encoder specific to the specified message type.\n * @param {Type} mtype Message type\n * @returns {Codegen} Codegen instance\n */\nfunction encoder(mtype) {\n    /* eslint-disable no-unexpected-multiline, block-scoped-var, no-redeclare */\n    var gen = util.codegen([\"m\", \"w\"], mtype.name + \"$encode\")\n    (\"if(!w)\")\n        (\"w=Writer.create()\");\n\n    var i, ref;\n\n    // \"when a message is serialized its known fields should be written sequentially by field number\"\n    var fields = /* initializes */ mtype.fieldsArray.slice().sort(util.compareFieldsById);\n\n    for (var i = 0; i < fields.length; ++i) {\n        var field    = fields[i].resolve(),\n            index    = mtype._fieldsArray.indexOf(field),\n            type     = field.resolvedType instanceof Enum ? \"int32\" : field.type,\n            wireType = types.basic[type];\n            ref      = \"m\" + util.safeProp(field.name);\n\n        // Map fields\n        if (field.map) {\n            gen\n    (\"if(%s!=null&&Object.hasOwnProperty.call(m,%j)){\", ref, field.name) // !== undefined && !== null\n        (\"for(var ks=Object.keys(%s),i=0;i<ks.length;++i){\", ref)\n            (\"w.uint32(%i).fork().uint32(%i).%s(ks[i])\", (field.id << 3 | 2) >>> 0, 8 | types.mapKey[field.keyType], field.keyType);\n            if (wireType === undefined) gen\n            (\"types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()\", index, ref); // can't be groups\n            else gen\n            (\".uint32(%i).%s(%s[ks[i]]).ldelim()\", 16 | wireType, type, ref);\n            gen\n        (\"}\")\n    (\"}\");\n\n            // Repeated fields\n        } else if (field.repeated) { gen\n    (\"if(%s!=null&&%s.length){\", ref, ref); // !== undefined && !== null\n\n            // Packed repeated\n            if (field.packed && types.packed[type] !== undefined) { gen\n\n        (\"w.uint32(%i).fork()\", (field.id << 3 | 2) >>> 0)\n        (\"for(var i=0;i<%s.length;++i)\", ref)\n            (\"w.%s(%s[i])\", type, ref)\n        (\"w.ldelim()\");\n\n            // Non-packed\n            } else { gen\n\n        (\"for(var i=0;i<%s.length;++i)\", ref);\n                if (wireType === undefined)\n            genTypePartial(gen, field, index, ref + \"[i]\");\n                else gen\n            (\"w.uint32(%i).%s(%s[i])\", (field.id << 3 | wireType) >>> 0, type, ref);\n\n            } gen\n    (\"}\");\n\n        // Non-repeated\n        } else {\n            if (field.optional) gen\n    (\"if(%s!=null&&Object.hasOwnProperty.call(m,%j))\", ref, field.name); // !== undefined && !== null\n\n            if (wireType === undefined)\n        genTypePartial(gen, field, index, ref);\n            else gen\n        (\"w.uint32(%i).%s(%s)\", (field.id << 3 | wireType) >>> 0, type, ref);\n\n        }\n    }\n\n    return gen\n    (\"return w\");\n    /* eslint-enable no-unexpected-multiline, block-scoped-var, no-redeclare */\n}\n","\"use strict\";\nmodule.exports = Enum;\n\n// extends ReflectionObject\nvar ReflectionObject = require(\"./object\");\n((Enum.prototype = Object.create(ReflectionObject.prototype)).constructor = Enum).className = \"Enum\";\n\nvar Namespace = require(\"./namespace\"),\n    util = require(\"./util\");\n\n/**\n * Constructs a new enum instance.\n * @classdesc Reflected enum.\n * @extends ReflectionObject\n * @constructor\n * @param {string} name Unique name within its namespace\n * @param {Object.<string,number>} [values] Enum values as an object, by name\n * @param {Object.<string,*>} [options] Declared options\n * @param {string} [comment] The comment for this enum\n * @param {Object.<string,string>} [comments] The value comments for this enum\n * @param {Object.<string,Object<string,*>>|undefined} [valuesOptions] The value options for this enum\n */\nfunction Enum(name, values, options, comment, comments, valuesOptions) {\n    ReflectionObject.call(this, name, options);\n\n    if (values && typeof values !== \"object\")\n        throw TypeError(\"values must be an object\");\n\n    /**\n     * Enum values by id.\n     * @type {Object.<number,string>}\n     */\n    this.valuesById = {};\n\n    /**\n     * Enum values by name.\n     * @type {Object.<string,number>}\n     */\n    this.values = Object.create(this.valuesById); // toJSON, marker\n\n    /**\n     * Enum comment text.\n     * @type {string|null}\n     */\n    this.comment = comment;\n\n    /**\n     * Value comment texts, if any.\n     * @type {Object.<string,string>}\n     */\n    this.comments = comments || {};\n\n    /**\n     * Values options, if any\n     * @type {Object<string, Object<string, *>>|undefined}\n     */\n    this.valuesOptions = valuesOptions;\n\n    /**\n     * Reserved ranges, if any.\n     * @type {Array.<number[]|string>}\n     */\n    this.reserved = undefined; // toJSON\n\n    // Note that values inherit valuesById on their prototype which makes them a TypeScript-\n    // compatible enum. This is used by pbts to write actual enum definitions that work for\n    // static and reflection code alike instead of emitting generic object definitions.\n\n    if (values)\n        for (var keys = Object.keys(values), i = 0; i < keys.length; ++i)\n            if (typeof values[keys[i]] === \"number\") // use forward entries only\n                this.valuesById[ this.values[keys[i]] = values[keys[i]] ] = keys[i];\n}\n\n/**\n * Enum descriptor.\n * @interface IEnum\n * @property {Object.<string,number>} values Enum values\n * @property {Object.<string,*>} [options] Enum options\n */\n\n/**\n * Constructs an enum from an enum descriptor.\n * @param {string} name Enum name\n * @param {IEnum} json Enum descriptor\n * @returns {Enum} Created enum\n * @throws {TypeError} If arguments are invalid\n */\nEnum.fromJSON = function fromJSON(name, json) {\n    var enm = new Enum(name, json.values, json.options, json.comment, json.comments);\n    enm.reserved = json.reserved;\n    return enm;\n};\n\n/**\n * Converts this enum to an enum descriptor.\n * @param {IToJSONOptions} [toJSONOptions] JSON conversion options\n * @returns {IEnum} Enum descriptor\n */\nEnum.prototype.toJSON = function toJSON(toJSONOptions) {\n    var keepComments = toJSONOptions ? Boolean(toJSONOptions.keepComments) : false;\n    return util.toObject([\n        \"options\"       , this.options,\n        \"valuesOptions\" , this.valuesOptions,\n        \"values\"        , this.values,\n        \"reserved\"      , this.reserved && this.reserved.length ? this.reserved : undefined,\n        \"comment\"       , keepComments ? this.comment : undefined,\n        \"comments\"      , keepComments ? this.comments : undefined\n    ]);\n};\n\n/**\n * Adds a value to this enum.\n * @param {string} name Value name\n * @param {number} id Value id\n * @param {string} [comment] Comment, if any\n * @param {Object.<string, *>|undefined} [options] Options, if any\n * @returns {Enum} `this`\n * @throws {TypeError} If arguments are invalid\n * @throws {Error} If there is already a value with this name or id\n */\nEnum.prototype.add = function add(name, id, comment, options) {\n    // utilized by the parser but not by .fromJSON\n\n    if (!util.isString(name))\n        throw TypeError(\"name must be a string\");\n\n    if (!util.isInteger(id))\n        throw TypeError(\"id must be an integer\");\n\n    if (this.values[name] !== undefined)\n        throw Error(\"duplicate name '\" + name + \"' in \" + this);\n\n    if (this.isReservedId(id))\n        throw Error(\"id \" + id + \" is reserved in \" + this);\n\n    if (this.isReservedName(name))\n        throw Error(\"name '\" + name + \"' is reserved in \" + this);\n\n    if (this.valuesById[id] !== undefined) {\n        if (!(this.options && this.options.allow_alias))\n            throw Error(\"duplicate id \" + id + \" in \" + this);\n        this.values[name] = id;\n    } else\n        this.valuesById[this.values[name] = id] = name;\n\n    if (options) {\n        if (this.valuesOptions === undefined)\n            this.valuesOptions = {};\n        this.valuesOptions[name] = options || null;\n    }\n\n    this.comments[name] = comment || null;\n    return this;\n};\n\n/**\n * Removes a value from this enum\n * @param {string} name Value name\n * @returns {Enum} `this`\n * @throws {TypeError} If arguments are invalid\n * @throws {Error} If `name` is not a name of this enum\n */\nEnum.prototype.remove = function remove(name) {\n\n    if (!util.isString(name))\n        throw TypeError(\"name must be a string\");\n\n    var val = this.values[name];\n    if (val == null)\n        throw Error(\"name '\" + name + \"' does not exist in \" + this);\n\n    delete this.valuesById[val];\n    delete this.values[name];\n    delete this.comments[name];\n    if (this.valuesOptions)\n        delete this.valuesOptions[name];\n\n    return this;\n};\n\n/**\n * Tests if the specified id is reserved.\n * @param {number} id Id to test\n * @returns {boolean} `true` if reserved, otherwise `false`\n */\nEnum.prototype.isReservedId = function isReservedId(id) {\n    return Namespace.isReservedId(this.reserved, id);\n};\n\n/**\n * Tests if the specified name is reserved.\n * @param {string} name Name to test\n * @returns {boolean} `true` if reserved, otherwise `false`\n */\nEnum.prototype.isReservedName = function isReservedName(name) {\n    return Namespace.isReservedName(this.reserved, name);\n};\n","\"use strict\";\nmodule.exports = Field;\n\n// extends ReflectionObject\nvar ReflectionObject = require(\"./object\");\n((Field.prototype = Object.create(ReflectionObject.prototype)).constructor = Field).className = \"Field\";\n\nvar Enum  = require(\"./enum\"),\n    types = require(\"./types\"),\n    util  = require(\"./util\");\n\nvar Type; // cyclic\n\nvar ruleRe = /^required|optional|repeated$/;\n\n/**\n * Constructs a new message field instance. Note that {@link MapField|map fields} have their own class.\n * @name Field\n * @classdesc Reflected message field.\n * @extends FieldBase\n * @constructor\n * @param {string} name Unique name within its namespace\n * @param {number} id Unique id within its namespace\n * @param {string} type Value type\n * @param {string|Object.<string,*>} [rule=\"optional\"] Field rule\n * @param {string|Object.<string,*>} [extend] Extended type if different from parent\n * @param {Object.<string,*>} [options] Declared options\n */\n\n/**\n * Constructs a field from a field descriptor.\n * @param {string} name Field name\n * @param {IField} json Field descriptor\n * @returns {Field} Created field\n * @throws {TypeError} If arguments are invalid\n */\nField.fromJSON = function fromJSON(name, json) {\n    return new Field(name, json.id, json.type, json.rule, json.extend, json.options, json.comment);\n};\n\n/**\n * Not an actual constructor. Use {@link Field} instead.\n * @classdesc Base class of all reflected message fields. This is not an actual class but here for the sake of having consistent type definitions.\n * @exports FieldBase\n * @extends ReflectionObject\n * @constructor\n * @param {string} name Unique name within its namespace\n * @param {number} id Unique id within its namespace\n * @param {string} type Value type\n * @param {string|Object.<string,*>} [rule=\"optional\"] Field rule\n * @param {string|Object.<string,*>} [extend] Extended type if different from parent\n * @param {Object.<string,*>} [options] Declared options\n * @param {string} [comment] Comment associated with this field\n */\nfunction Field(name, id, type, rule, extend, options, comment) {\n\n    if (util.isObject(rule)) {\n        comment = extend;\n        options = rule;\n        rule = extend = undefined;\n    } else if (util.isObject(extend)) {\n        comment = options;\n        options = extend;\n        extend = undefined;\n    }\n\n    ReflectionObject.call(this, name, options);\n\n    if (!util.isInteger(id) || id < 0)\n        throw TypeError(\"id must be a non-negative integer\");\n\n    if (!util.isString(type))\n        throw TypeError(\"type must be a string\");\n\n    if (rule !== undefined && !ruleRe.test(rule = rule.toString().toLowerCase()))\n        throw TypeError(\"rule must be a string rule\");\n\n    if (extend !== undefined && !util.isString(extend))\n        throw TypeError(\"extend must be a string\");\n\n    /**\n     * Field rule, if any.\n     * @type {string|undefined}\n     */\n    if (rule === \"proto3_optional\") {\n        rule = \"optional\";\n    }\n    this.rule = rule && rule !== \"optional\" ? rule : undefined; // toJSON\n\n    /**\n     * Field type.\n     * @type {string}\n     */\n    this.type = type; // toJSON\n\n    /**\n     * Unique field id.\n     * @type {number}\n     */\n    this.id = id; // toJSON, marker\n\n    /**\n     * Extended type if different from parent.\n     * @type {string|undefined}\n     */\n    this.extend = extend || undefined; // toJSON\n\n    /**\n     * Whether this field is required.\n     * @type {boolean}\n     */\n    this.required = rule === \"required\";\n\n    /**\n     * Whether this field is optional.\n     * @type {boolean}\n     */\n    this.optional = !this.required;\n\n    /**\n     * Whether this field is repeated.\n     * @type {boolean}\n     */\n    this.repeated = rule === \"repeated\";\n\n    /**\n     * Whether this field is a map or not.\n     * @type {boolean}\n     */\n    this.map = false;\n\n    /**\n     * Message this field belongs to.\n     * @type {Type|null}\n     */\n    this.message = null;\n\n    /**\n     * OneOf this field belongs to, if any,\n     * @type {OneOf|null}\n     */\n    this.partOf = null;\n\n    /**\n     * The field type's default value.\n     * @type {*}\n     */\n    this.typeDefault = null;\n\n    /**\n     * The field's default value on prototypes.\n     * @type {*}\n     */\n    this.defaultValue = null;\n\n    /**\n     * Whether this field's value should be treated as a long.\n     * @type {boolean}\n     */\n    this.long = util.Long ? types.long[type] !== undefined : /* istanbul ignore next */ false;\n\n    /**\n     * Whether this field's value is a buffer.\n     * @type {boolean}\n     */\n    this.bytes = type === \"bytes\";\n\n    /**\n     * Resolved type if not a basic type.\n     * @type {Type|Enum|null}\n     */\n    this.resolvedType = null;\n\n    /**\n     * Sister-field within the extended type if a declaring extension field.\n     * @type {Field|null}\n     */\n    this.extensionField = null;\n\n    /**\n     * Sister-field within the declaring namespace if an extended field.\n     * @type {Field|null}\n     */\n    this.declaringField = null;\n\n    /**\n     * Internally remembers whether this field is packed.\n     * @type {boolean|null}\n     * @private\n     */\n    this._packed = null;\n\n    /**\n     * Comment for this field.\n     * @type {string|null}\n     */\n    this.comment = comment;\n}\n\n/**\n * Determines whether this field is packed. Only relevant when repeated and working with proto2.\n * @name Field#packed\n * @type {boolean}\n * @readonly\n */\nObject.defineProperty(Field.prototype, \"packed\", {\n    get: function() {\n        // defaults to packed=true if not explicity set to false\n        if (this._packed === null)\n            this._packed = this.getOption(\"packed\") !== false;\n        return this._packed;\n    }\n});\n\n/**\n * @override\n */\nField.prototype.setOption = function setOption(name, value, ifNotSet) {\n    if (name === \"packed\") // clear cached before setting\n        this._packed = null;\n    return ReflectionObject.prototype.setOption.call(this, name, value, ifNotSet);\n};\n\n/**\n * Field descriptor.\n * @interface IField\n * @property {string} [rule=\"optional\"] Field rule\n * @property {string} type Field type\n * @property {number} id Field id\n * @property {Object.<string,*>} [options] Field options\n */\n\n/**\n * Extension field descriptor.\n * @interface IExtensionField\n * @extends IField\n * @property {string} extend Extended type\n */\n\n/**\n * Converts this field to a field descriptor.\n * @param {IToJSONOptions} [toJSONOptions] JSON conversion options\n * @returns {IField} Field descriptor\n */\nField.prototype.toJSON = function toJSON(toJSONOptions) {\n    var keepComments = toJSONOptions ? Boolean(toJSONOptions.keepComments) : false;\n    return util.toObject([\n        \"rule\"    , this.rule !== \"optional\" && this.rule || undefined,\n        \"type\"    , this.type,\n        \"id\"      , this.id,\n        \"extend\"  , this.extend,\n        \"options\" , this.options,\n        \"comment\" , keepComments ? this.comment : undefined\n    ]);\n};\n\n/**\n * Resolves this field's type references.\n * @returns {Field} `this`\n * @throws {Error} If any reference cannot be resolved\n */\nField.prototype.resolve = function resolve() {\n\n    if (this.resolved)\n        return this;\n\n    if ((this.typeDefault = types.defaults[this.type]) === undefined) { // if not a basic type, resolve it\n        this.resolvedType = (this.declaringField ? this.declaringField.parent : this.parent).lookupTypeOrEnum(this.type);\n        if (this.resolvedType instanceof Type)\n            this.typeDefault = null;\n        else // instanceof Enum\n            this.typeDefault = this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]; // first defined\n    } else if (this.options && this.options.proto3_optional) {\n        // proto3 scalar value marked optional; should default to null\n        this.typeDefault = null;\n    }\n\n    // use explicitly set default value if present\n    if (this.options && this.options[\"default\"] != null) {\n        this.typeDefault = this.options[\"default\"];\n        if (this.resolvedType instanceof Enum && typeof this.typeDefault === \"string\")\n            this.typeDefault = this.resolvedType.values[this.typeDefault];\n    }\n\n    // remove unnecessary options\n    if (this.options) {\n        if (this.options.packed === true || this.options.packed !== undefined && this.resolvedType && !(this.resolvedType instanceof Enum))\n            delete this.options.packed;\n        if (!Object.keys(this.options).length)\n            this.options = undefined;\n    }\n\n    // convert to internal data type if necesssary\n    if (this.long) {\n        this.typeDefault = util.Long.fromNumber(this.typeDefault, this.type.charAt(0) === \"u\");\n\n        /* istanbul ignore else */\n        if (Object.freeze)\n            Object.freeze(this.typeDefault); // long instances are meant to be immutable anyway (i.e. use small int cache that even requires it)\n\n    } else if (this.bytes && typeof this.typeDefault === \"string\") {\n        var buf;\n        if (util.base64.test(this.typeDefault))\n            util.base64.decode(this.typeDefault, buf = util.newBuffer(util.base64.length(this.typeDefault)), 0);\n        else\n            util.utf8.write(this.typeDefault, buf = util.newBuffer(util.utf8.length(this.typeDefault)), 0);\n        this.typeDefault = buf;\n    }\n\n    // take special care of maps and repeated fields\n    if (this.map)\n        this.defaultValue = util.emptyObject;\n    else if (this.repeated)\n        this.defaultValue = util.emptyArray;\n    else\n        this.defaultValue = this.typeDefault;\n\n    // ensure proper value on prototype\n    if (this.parent instanceof Type)\n        this.parent.ctor.prototype[this.name] = this.defaultValue;\n\n    return ReflectionObject.prototype.resolve.call(this);\n};\n\n/**\n * Decorator function as returned by {@link Field.d} and {@link MapField.d} (TypeScript).\n * @typedef FieldDecorator\n * @type {function}\n * @param {Object} prototype Target prototype\n * @param {string} fieldName Field name\n * @returns {undefined}\n */\n\n/**\n * Field decorator (TypeScript).\n * @name Field.d\n * @function\n * @param {number} fieldId Field id\n * @param {\"double\"|\"float\"|\"int32\"|\"uint32\"|\"sint32\"|\"fixed32\"|\"sfixed32\"|\"int64\"|\"uint64\"|\"sint64\"|\"fixed64\"|\"sfixed64\"|\"string\"|\"bool\"|\"bytes\"|Object} fieldType Field type\n * @param {\"optional\"|\"required\"|\"repeated\"} [fieldRule=\"optional\"] Field rule\n * @param {T} [defaultValue] Default value\n * @returns {FieldDecorator} Decorator function\n * @template T extends number | number[] | Long | Long[] | string | string[] | boolean | boolean[] | Uint8Array | Uint8Array[] | Buffer | Buffer[]\n */\nField.d = function decorateField(fieldId, fieldType, fieldRule, defaultValue) {\n\n    // submessage: decorate the submessage and use its name as the type\n    if (typeof fieldType === \"function\")\n        fieldType = util.decorateType(fieldType).name;\n\n    // enum reference: create a reflected copy of the enum and keep reuseing it\n    else if (fieldType && typeof fieldType === \"object\")\n        fieldType = util.decorateEnum(fieldType).name;\n\n    return function fieldDecorator(prototype, fieldName) {\n        util.decorateType(prototype.constructor)\n            .add(new Field(fieldName, fieldId, fieldType, fieldRule, { \"default\": defaultValue }));\n    };\n};\n\n/**\n * Field decorator (TypeScript).\n * @name Field.d\n * @function\n * @param {number} fieldId Field id\n * @param {Constructor<T>|string} fieldType Field type\n * @param {\"optional\"|\"required\"|\"repeated\"} [fieldRule=\"optional\"] Field rule\n * @returns {FieldDecorator} Decorator function\n * @template T extends Message<T>\n * @variation 2\n */\n// like Field.d but without a default value\n\n// Sets up cyclic dependencies (called in index-light)\nField._configure = function configure(Type_) {\n    Type = Type_;\n};\n","\"use strict\";\nvar protobuf = module.exports = require(\"./index-minimal\");\n\nprotobuf.build = \"light\";\n\n/**\n * A node-style callback as used by {@link load} and {@link Root#load}.\n * @typedef LoadCallback\n * @type {function}\n * @param {Error|null} error Error, if any, otherwise `null`\n * @param {Root} [root] Root, if there hasn't been an error\n * @returns {undefined}\n */\n\n/**\n * Loads one or multiple .proto or preprocessed .json files into a common root namespace and calls the callback.\n * @param {string|string[]} filename One or multiple files to load\n * @param {Root} root Root namespace, defaults to create a new one if omitted.\n * @param {LoadCallback} callback Callback function\n * @returns {undefined}\n * @see {@link Root#load}\n */\nfunction load(filename, root, callback) {\n    if (typeof root === \"function\") {\n        callback = root;\n        root = new protobuf.Root();\n    } else if (!root)\n        root = new protobuf.Root();\n    return root.load(filename, callback);\n}\n\n/**\n * Loads one or multiple .proto or preprocessed .json files into a common root namespace and calls the callback.\n * @name load\n * @function\n * @param {string|string[]} filename One or multiple files to load\n * @param {LoadCallback} callback Callback function\n * @returns {undefined}\n * @see {@link Root#load}\n * @variation 2\n */\n// function load(filename:string, callback:LoadCallback):undefined\n\n/**\n * Loads one or multiple .proto or preprocessed .json files into a common root namespace and returns a promise.\n * @name load\n * @function\n * @param {string|string[]} filename One or multiple files to load\n * @param {Root} [root] Root namespace, defaults to create a new one if omitted.\n * @returns {Promise<Root>} Promise\n * @see {@link Root#load}\n * @variation 3\n */\n// function load(filename:string, [root:Root]):Promise<Root>\n\nprotobuf.load = load;\n\n/**\n * Synchronously loads one or multiple .proto or preprocessed .json files into a common root namespace (node only).\n * @param {string|string[]} filename One or multiple files to load\n * @param {Root} [root] Root namespace, defaults to create a new one if omitted.\n * @returns {Root} Root namespace\n * @throws {Error} If synchronous fetching is not supported (i.e. in browsers) or if a file's syntax is invalid\n * @see {@link Root#loadSync}\n */\nfunction loadSync(filename, root) {\n    if (!root)\n        root = new protobuf.Root();\n    return root.loadSync(filename);\n}\n\nprotobuf.loadSync = loadSync;\n\n// Serialization\nprotobuf.encoder          = require(\"./encoder\");\nprotobuf.decoder          = require(\"./decoder\");\nprotobuf.verifier         = require(\"./verifier\");\nprotobuf.converter        = require(\"./converter\");\n\n// Reflection\nprotobuf.ReflectionObject = require(\"./object\");\nprotobuf.Namespace        = require(\"./namespace\");\nprotobuf.Root             = require(\"./root\");\nprotobuf.Enum             = require(\"./enum\");\nprotobuf.Type             = require(\"./type\");\nprotobuf.Field            = require(\"./field\");\nprotobuf.OneOf            = require(\"./oneof\");\nprotobuf.MapField         = require(\"./mapfield\");\nprotobuf.Service          = require(\"./service\");\nprotobuf.Method           = require(\"./method\");\n\n// Runtime\nprotobuf.Message          = require(\"./message\");\nprotobuf.wrappers         = require(\"./wrappers\");\n\n// Utility\nprotobuf.types            = require(\"./types\");\nprotobuf.util             = require(\"./util\");\n\n// Set up possibly cyclic reflection dependencies\nprotobuf.ReflectionObject._configure(protobuf.Root);\nprotobuf.Namespace._configure(protobuf.Type, protobuf.Service, protobuf.Enum);\nprotobuf.Root._configure(protobuf.Type);\nprotobuf.Field._configure(protobuf.Type);\n","\"use strict\";\nvar protobuf = exports;\n\n/**\n * Build type, one of `\"full\"`, `\"light\"` or `\"minimal\"`.\n * @name build\n * @type {string}\n * @const\n */\nprotobuf.build = \"minimal\";\n\n// Serialization\nprotobuf.Writer       = require(\"./writer\");\nprotobuf.BufferWriter = require(\"./writer_buffer\");\nprotobuf.Reader       = require(\"./reader\");\nprotobuf.BufferReader = require(\"./reader_buffer\");\n\n// Utility\nprotobuf.util         = require(\"./util/minimal\");\nprotobuf.rpc          = require(\"./rpc\");\nprotobuf.roots        = require(\"./roots\");\nprotobuf.configure    = configure;\n\n/* istanbul ignore next */\n/**\n * Reconfigures the library according to the environment.\n * @returns {undefined}\n */\nfunction configure() {\n    protobuf.util._configure();\n    protobuf.Writer._configure(protobuf.BufferWriter);\n    protobuf.Reader._configure(protobuf.BufferReader);\n}\n\n// Set up buffer utility according to the environment\nconfigure();\n","\"use strict\";\nvar protobuf = module.exports = require(\"./index-light\");\n\nprotobuf.build = \"full\";\n\n// Parser\nprotobuf.tokenize         = require(\"./tokenize\");\nprotobuf.parse            = require(\"./parse\");\nprotobuf.common           = require(\"./common\");\n\n// Configure parser\nprotobuf.Root._configure(protobuf.Type, protobuf.parse, protobuf.common);\n","\"use strict\";\nmodule.exports = MapField;\n\n// extends Field\nvar Field = require(\"./field\");\n((MapField.prototype = Object.create(Field.prototype)).constructor = MapField).className = \"MapField\";\n\nvar types   = require(\"./types\"),\n    util    = require(\"./util\");\n\n/**\n * Constructs a new map field instance.\n * @classdesc Reflected map field.\n * @extends FieldBase\n * @constructor\n * @param {string} name Unique name within its namespace\n * @param {number} id Unique id within its namespace\n * @param {string} keyType Key type\n * @param {string} type Value type\n * @param {Object.<string,*>} [options] Declared options\n * @param {string} [comment] Comment associated with this field\n */\nfunction MapField(name, id, keyType, type, options, comment) {\n    Field.call(this, name, id, type, undefined, undefined, options, comment);\n\n    /* istanbul ignore if */\n    if (!util.isString(keyType))\n        throw TypeError(\"keyType must be a string\");\n\n    /**\n     * Key type.\n     * @type {string}\n     */\n    this.keyType = keyType; // toJSON, marker\n\n    /**\n     * Resolved key type if not a basic type.\n     * @type {ReflectionObject|null}\n     */\n    this.resolvedKeyType = null;\n\n    // Overrides Field#map\n    this.map = true;\n}\n\n/**\n * Map field descriptor.\n * @interface IMapField\n * @extends {IField}\n * @property {string} keyType Key type\n */\n\n/**\n * Extension map field descriptor.\n * @interface IExtensionMapField\n * @extends IMapField\n * @property {string} extend Extended type\n */\n\n/**\n * Constructs a map field from a map field descriptor.\n * @param {string} name Field name\n * @param {IMapField} json Map field descriptor\n * @returns {MapField} Created map field\n * @throws {TypeError} If arguments are invalid\n */\nMapField.fromJSON = function fromJSON(name, json) {\n    return new MapField(name, json.id, json.keyType, json.type, json.options, json.comment);\n};\n\n/**\n * Converts this map field to a map field descriptor.\n * @param {IToJSONOptions} [toJSONOptions] JSON conversion options\n * @returns {IMapField} Map field descriptor\n */\nMapField.prototype.toJSON = function toJSON(toJSONOptions) {\n    var keepComments = toJSONOptions ? Boolean(toJSONOptions.keepComments) : false;\n    return util.toObject([\n        \"keyType\" , this.keyType,\n        \"type\"    , this.type,\n        \"id\"      , this.id,\n        \"extend\"  , this.extend,\n        \"options\" , this.options,\n        \"comment\" , keepComments ? this.comment : undefined\n    ]);\n};\n\n/**\n * @override\n */\nMapField.prototype.resolve = function resolve() {\n    if (this.resolved)\n        return this;\n\n    // Besides a value type, map fields have a key type that may be \"any scalar type except for floating point types and bytes\"\n    if (types.mapKey[this.keyType] === undefined)\n        throw Error(\"invalid key type: \" + this.keyType);\n\n    return Field.prototype.resolve.call(this);\n};\n\n/**\n * Map field decorator (TypeScript).\n * @name MapField.d\n * @function\n * @param {number} fieldId Field id\n * @param {\"int32\"|\"uint32\"|\"sint32\"|\"fixed32\"|\"sfixed32\"|\"int64\"|\"uint64\"|\"sint64\"|\"fixed64\"|\"sfixed64\"|\"bool\"|\"string\"} fieldKeyType Field key type\n * @param {\"double\"|\"float\"|\"int32\"|\"uint32\"|\"sint32\"|\"fixed32\"|\"sfixed32\"|\"int64\"|\"uint64\"|\"sint64\"|\"fixed64\"|\"sfixed64\"|\"bool\"|\"string\"|\"bytes\"|Object|Constructor<{}>} fieldValueType Field value type\n * @returns {FieldDecorator} Decorator function\n * @template T extends { [key: string]: number | Long | string | boolean | Uint8Array | Buffer | number[] | Message<{}> }\n */\nMapField.d = function decorateMapField(fieldId, fieldKeyType, fieldValueType) {\n\n    // submessage value: decorate the submessage and use its name as the type\n    if (typeof fieldValueType === \"function\")\n        fieldValueType = util.decorateType(fieldValueType).name;\n\n    // enum reference value: create a reflected copy of the enum and keep reuseing it\n    else if (fieldValueType && typeof fieldValueType === \"object\")\n        fieldValueType = util.decorateEnum(fieldValueType).name;\n\n    return function mapFieldDecorator(prototype, fieldName) {\n        util.decorateType(prototype.constructor)\n            .add(new MapField(fieldName, fieldId, fieldKeyType, fieldValueType));\n    };\n};\n","\"use strict\";\nmodule.exports = Message;\n\nvar util = require(\"./util/minimal\");\n\n/**\n * Constructs a new message instance.\n * @classdesc Abstract runtime message.\n * @constructor\n * @param {Properties<T>} [properties] Properties to set\n * @template T extends object = object\n */\nfunction Message(properties) {\n    // not used internally\n    if (properties)\n        for (var keys = Object.keys(properties), i = 0; i < keys.length; ++i)\n            this[keys[i]] = properties[keys[i]];\n}\n\n/**\n * Reference to the reflected type.\n * @name Message.$type\n * @type {Type}\n * @readonly\n */\n\n/**\n * Reference to the reflected type.\n * @name Message#$type\n * @type {Type}\n * @readonly\n */\n\n/*eslint-disable valid-jsdoc*/\n\n/**\n * Creates a new message of this type using the specified properties.\n * @param {Object.<string,*>} [properties] Properties to set\n * @returns {Message<T>} Message instance\n * @template T extends Message<T>\n * @this Constructor<T>\n */\nMessage.create = function create(properties) {\n    return this.$type.create(properties);\n};\n\n/**\n * Encodes a message of this type.\n * @param {T|Object.<string,*>} message Message to encode\n * @param {Writer} [writer] Writer to use\n * @returns {Writer} Writer\n * @template T extends Message<T>\n * @this Constructor<T>\n */\nMessage.encode = function encode(message, writer) {\n    return this.$type.encode(message, writer);\n};\n\n/**\n * Encodes a message of this type preceeded by its length as a varint.\n * @param {T|Object.<string,*>} message Message to encode\n * @param {Writer} [writer] Writer to use\n * @returns {Writer} Writer\n * @template T extends Message<T>\n * @this Constructor<T>\n */\nMessage.encodeDelimited = function encodeDelimited(message, writer) {\n    return this.$type.encodeDelimited(message, writer);\n};\n\n/**\n * Decodes a message of this type.\n * @name Message.decode\n * @function\n * @param {Reader|Uint8Array} reader Reader or buffer to decode\n * @returns {T} Decoded message\n * @template T extends Message<T>\n * @this Constructor<T>\n */\nMessage.decode = function decode(reader) {\n    return this.$type.decode(reader);\n};\n\n/**\n * Decodes a message of this type preceeded by its length as a varint.\n * @name Message.decodeDelimited\n * @function\n * @param {Reader|Uint8Array} reader Reader or buffer to decode\n * @returns {T} Decoded message\n * @template T extends Message<T>\n * @this Constructor<T>\n */\nMessage.decodeDelimited = function decodeDelimited(reader) {\n    return this.$type.decodeDelimited(reader);\n};\n\n/**\n * Verifies a message of this type.\n * @name Message.verify\n * @function\n * @param {Object.<string,*>} message Plain object to verify\n * @returns {string|null} `null` if valid, otherwise the reason why it is not\n */\nMessage.verify = function verify(message) {\n    return this.$type.verify(message);\n};\n\n/**\n * Creates a new message of this type from a plain object. Also converts values to their respective internal types.\n * @param {Object.<string,*>} object Plain object\n * @returns {T} Message instance\n * @template T extends Message<T>\n * @this Constructor<T>\n */\nMessage.fromObject = function fromObject(object) {\n    return this.$type.fromObject(object);\n};\n\n/**\n * Creates a plain object from a message of this type. Also converts values to other types if specified.\n * @param {T} message Message instance\n * @param {IConversionOptions} [options] Conversion options\n * @returns {Object.<string,*>} Plain object\n * @template T extends Message<T>\n * @this Constructor<T>\n */\nMessage.toObject = function toObject(message, options) {\n    return this.$type.toObject(message, options);\n};\n\n/**\n * Converts this message to JSON.\n * @returns {Object.<string,*>} JSON object\n */\nMessage.prototype.toJSON = function toJSON() {\n    return this.$type.toObject(this, util.toJSONOptions);\n};\n\n/*eslint-enable valid-jsdoc*/","\"use strict\";\nmodule.exports = Method;\n\n// extends ReflectionObject\nvar ReflectionObject = require(\"./object\");\n((Method.prototype = Object.create(ReflectionObject.prototype)).constructor = Method).className = \"Method\";\n\nvar util = require(\"./util\");\n\n/**\n * Constructs a new service method instance.\n * @classdesc Reflected service method.\n * @extends ReflectionObject\n * @constructor\n * @param {string} name Method name\n * @param {string|undefined} type Method type, usually `\"rpc\"`\n * @param {string} requestType Request message type\n * @param {string} responseType Response message type\n * @param {boolean|Object.<string,*>} [requestStream] Whether the request is streamed\n * @param {boolean|Object.<string,*>} [responseStream] Whether the response is streamed\n * @param {Object.<string,*>} [options] Declared options\n * @param {string} [comment] The comment for this method\n * @param {Object.<string,*>} [parsedOptions] Declared options, properly parsed into an object\n */\nfunction Method(name, type, requestType, responseType, requestStream, responseStream, options, comment, parsedOptions) {\n\n    /* istanbul ignore next */\n    if (util.isObject(requestStream)) {\n        options = requestStream;\n        requestStream = responseStream = undefined;\n    } else if (util.isObject(responseStream)) {\n        options = responseStream;\n        responseStream = undefined;\n    }\n\n    /* istanbul ignore if */\n    if (!(type === undefined || util.isString(type)))\n        throw TypeError(\"type must be a string\");\n\n    /* istanbul ignore if */\n    if (!util.isString(requestType))\n        throw TypeError(\"requestType must be a string\");\n\n    /* istanbul ignore if */\n    if (!util.isString(responseType))\n        throw TypeError(\"responseType must be a string\");\n\n    ReflectionObject.call(this, name, options);\n\n    /**\n     * Method type.\n     * @type {string}\n     */\n    this.type = type || \"rpc\"; // toJSON\n\n    /**\n     * Request type.\n     * @type {string}\n     */\n    this.requestType = requestType; // toJSON, marker\n\n    /**\n     * Whether requests are streamed or not.\n     * @type {boolean|undefined}\n     */\n    this.requestStream = requestStream ? true : undefined; // toJSON\n\n    /**\n     * Response type.\n     * @type {string}\n     */\n    this.responseType = responseType; // toJSON\n\n    /**\n     * Whether responses are streamed or not.\n     * @type {boolean|undefined}\n     */\n    this.responseStream = responseStream ? true : undefined; // toJSON\n\n    /**\n     * Resolved request type.\n     * @type {Type|null}\n     */\n    this.resolvedRequestType = null;\n\n    /**\n     * Resolved response type.\n     * @type {Type|null}\n     */\n    this.resolvedResponseType = null;\n\n    /**\n     * Comment for this method\n     * @type {string|null}\n     */\n    this.comment = comment;\n\n    /**\n     * Options properly parsed into an object\n     */\n    this.parsedOptions = parsedOptions;\n}\n\n/**\n * Method descriptor.\n * @interface IMethod\n * @property {string} [type=\"rpc\"] Method type\n * @property {string} requestType Request type\n * @property {string} responseType Response type\n * @property {boolean} [requestStream=false] Whether requests are streamed\n * @property {boolean} [responseStream=false] Whether responses are streamed\n * @property {Object.<string,*>} [options] Method options\n * @property {string} comment Method comments\n * @property {Object.<string,*>} [parsedOptions] Method options properly parsed into an object\n */\n\n/**\n * Constructs a method from a method descriptor.\n * @param {string} name Method name\n * @param {IMethod} json Method descriptor\n * @returns {Method} Created method\n * @throws {TypeError} If arguments are invalid\n */\nMethod.fromJSON = function fromJSON(name, json) {\n    return new Method(name, json.type, json.requestType, json.responseType, json.requestStream, json.responseStream, json.options, json.comment, json.parsedOptions);\n};\n\n/**\n * Converts this method to a method descriptor.\n * @param {IToJSONOptions} [toJSONOptions] JSON conversion options\n * @returns {IMethod} Method descriptor\n */\nMethod.prototype.toJSON = function toJSON(toJSONOptions) {\n    var keepComments = toJSONOptions ? Boolean(toJSONOptions.keepComments) : false;\n    return util.toObject([\n        \"type\"           , this.type !== \"rpc\" && /* istanbul ignore next */ this.type || undefined,\n        \"requestType\"    , this.requestType,\n        \"requestStream\"  , this.requestStream,\n        \"responseType\"   , this.responseType,\n        \"responseStream\" , this.responseStream,\n        \"options\"        , this.options,\n        \"comment\"        , keepComments ? this.comment : undefined,\n        \"parsedOptions\"  , this.parsedOptions,\n    ]);\n};\n\n/**\n * @override\n */\nMethod.prototype.resolve = function resolve() {\n\n    /* istanbul ignore if */\n    if (this.resolved)\n        return this;\n\n    this.resolvedRequestType = this.parent.lookupType(this.requestType);\n    this.resolvedResponseType = this.parent.lookupType(this.responseType);\n\n    return ReflectionObject.prototype.resolve.call(this);\n};\n","\"use strict\";\nmodule.exports = Namespace;\n\n// extends ReflectionObject\nvar ReflectionObject = require(\"./object\");\n((Namespace.prototype = Object.create(ReflectionObject.prototype)).constructor = Namespace).className = \"Namespace\";\n\nvar Field    = require(\"./field\"),\n    util     = require(\"./util\"),\n    OneOf    = require(\"./oneof\");\n\nvar Type,    // cyclic\n    Service,\n    Enum;\n\n/**\n * Constructs a new namespace instance.\n * @name Namespace\n * @classdesc Reflected namespace.\n * @extends NamespaceBase\n * @constructor\n * @param {string} name Namespace name\n * @param {Object.<string,*>} [options] Declared options\n */\n\n/**\n * Constructs a namespace from JSON.\n * @memberof Namespace\n * @function\n * @param {string} name Namespace name\n * @param {Object.<string,*>} json JSON object\n * @returns {Namespace} Created namespace\n * @throws {TypeError} If arguments are invalid\n */\nNamespace.fromJSON = function fromJSON(name, json) {\n    return new Namespace(name, json.options).addJSON(json.nested);\n};\n\n/**\n * Converts an array of reflection objects to JSON.\n * @memberof Namespace\n * @param {ReflectionObject[]} array Object array\n * @param {IToJSONOptions} [toJSONOptions] JSON conversion options\n * @returns {Object.<string,*>|undefined} JSON object or `undefined` when array is empty\n */\nfunction arrayToJSON(array, toJSONOptions) {\n    if (!(array && array.length))\n        return undefined;\n    var obj = {};\n    for (var i = 0; i < array.length; ++i)\n        obj[array[i].name] = array[i].toJSON(toJSONOptions);\n    return obj;\n}\n\nNamespace.arrayToJSON = arrayToJSON;\n\n/**\n * Tests if the specified id is reserved.\n * @param {Array.<number[]|string>|undefined} reserved Array of reserved ranges and names\n * @param {number} id Id to test\n * @returns {boolean} `true` if reserved, otherwise `false`\n */\nNamespace.isReservedId = function isReservedId(reserved, id) {\n    if (reserved)\n        for (var i = 0; i < reserved.length; ++i)\n            if (typeof reserved[i] !== \"string\" && reserved[i][0] <= id && reserved[i][1] > id)\n                return true;\n    return false;\n};\n\n/**\n * Tests if the specified name is reserved.\n * @param {Array.<number[]|string>|undefined} reserved Array of reserved ranges and names\n * @param {string} name Name to test\n * @returns {boolean} `true` if reserved, otherwise `false`\n */\nNamespace.isReservedName = function isReservedName(reserved, name) {\n    if (reserved)\n        for (var i = 0; i < reserved.length; ++i)\n            if (reserved[i] === name)\n                return true;\n    return false;\n};\n\n/**\n * Not an actual constructor. Use {@link Namespace} instead.\n * @classdesc Base class of all reflection objects containing nested objects. This is not an actual class but here for the sake of having consistent type definitions.\n * @exports NamespaceBase\n * @extends ReflectionObject\n * @abstract\n * @constructor\n * @param {string} name Namespace name\n * @param {Object.<string,*>} [options] Declared options\n * @see {@link Namespace}\n */\nfunction Namespace(name, options) {\n    ReflectionObject.call(this, name, options);\n\n    /**\n     * Nested objects by name.\n     * @type {Object.<string,ReflectionObject>|undefined}\n     */\n    this.nested = undefined; // toJSON\n\n    /**\n     * Cached nested objects as an array.\n     * @type {ReflectionObject[]|null}\n     * @private\n     */\n    this._nestedArray = null;\n}\n\nfunction clearCache(namespace) {\n    namespace._nestedArray = null;\n    return namespace;\n}\n\n/**\n * Nested objects of this namespace as an array for iteration.\n * @name NamespaceBase#nestedArray\n * @type {ReflectionObject[]}\n * @readonly\n */\nObject.defineProperty(Namespace.prototype, \"nestedArray\", {\n    get: function() {\n        return this._nestedArray || (this._nestedArray = util.toArray(this.nested));\n    }\n});\n\n/**\n * Namespace descriptor.\n * @interface INamespace\n * @property {Object.<string,*>} [options] Namespace options\n * @property {Object.<string,AnyNestedObject>} [nested] Nested object descriptors\n */\n\n/**\n * Any extension field descriptor.\n * @typedef AnyExtensionField\n * @type {IExtensionField|IExtensionMapField}\n */\n\n/**\n * Any nested object descriptor.\n * @typedef AnyNestedObject\n * @type {IEnum|IType|IService|AnyExtensionField|INamespace|IOneOf}\n */\n\n/**\n * Converts this namespace to a namespace descriptor.\n * @param {IToJSONOptions} [toJSONOptions] JSON conversion options\n * @returns {INamespace} Namespace descriptor\n */\nNamespace.prototype.toJSON = function toJSON(toJSONOptions) {\n    return util.toObject([\n        \"options\" , this.options,\n        \"nested\"  , arrayToJSON(this.nestedArray, toJSONOptions)\n    ]);\n};\n\n/**\n * Adds nested objects to this namespace from nested object descriptors.\n * @param {Object.<string,AnyNestedObject>} nestedJson Any nested object descriptors\n * @returns {Namespace} `this`\n */\nNamespace.prototype.addJSON = function addJSON(nestedJson) {\n    var ns = this;\n    /* istanbul ignore else */\n    if (nestedJson) {\n        for (var names = Object.keys(nestedJson), i = 0, nested; i < names.length; ++i) {\n            nested = nestedJson[names[i]];\n            ns.add( // most to least likely\n                ( nested.fields !== undefined\n                ? Type.fromJSON\n                : nested.values !== undefined\n                ? Enum.fromJSON\n                : nested.methods !== undefined\n                ? Service.fromJSON\n                : nested.id !== undefined\n                ? Field.fromJSON\n                : Namespace.fromJSON )(names[i], nested)\n            );\n        }\n    }\n    return this;\n};\n\n/**\n * Gets the nested object of the specified name.\n * @param {string} name Nested object name\n * @returns {ReflectionObject|null} The reflection object or `null` if it doesn't exist\n */\nNamespace.prototype.get = function get(name) {\n    return this.nested && this.nested[name]\n        || null;\n};\n\n/**\n * Gets the values of the nested {@link Enum|enum} of the specified name.\n * This methods differs from {@link Namespace#get|get} in that it returns an enum's values directly and throws instead of returning `null`.\n * @param {string} name Nested enum name\n * @returns {Object.<string,number>} Enum values\n * @throws {Error} If there is no such enum\n */\nNamespace.prototype.getEnum = function getEnum(name) {\n    if (this.nested && this.nested[name] instanceof Enum)\n        return this.nested[name].values;\n    throw Error(\"no such enum: \" + name);\n};\n\n/**\n * Adds a nested object to this namespace.\n * @param {ReflectionObject} object Nested object to add\n * @returns {Namespace} `this`\n * @throws {TypeError} If arguments are invalid\n * @throws {Error} If there is already a nested object with this name\n */\nNamespace.prototype.add = function add(object) {\n\n    if (!(object instanceof Field && object.extend !== undefined || object instanceof Type  || object instanceof OneOf || object instanceof Enum || object instanceof Service || object instanceof Namespace))\n        throw TypeError(\"object must be a valid nested object\");\n\n    if (!this.nested)\n        this.nested = {};\n    else {\n        var prev = this.get(object.name);\n        if (prev) {\n            if (prev instanceof Namespace && object instanceof Namespace && !(prev instanceof Type || prev instanceof Service)) {\n                // replace plain namespace but keep existing nested elements and options\n                var nested = prev.nestedArray;\n                for (var i = 0; i < nested.length; ++i)\n                    object.add(nested[i]);\n                this.remove(prev);\n                if (!this.nested)\n                    this.nested = {};\n                object.setOptions(prev.options, true);\n\n            } else\n                throw Error(\"duplicate name '\" + object.name + \"' in \" + this);\n        }\n    }\n    this.nested[object.name] = object;\n    object.onAdd(this);\n    return clearCache(this);\n};\n\n/**\n * Removes a nested object from this namespace.\n * @param {ReflectionObject} object Nested object to remove\n * @returns {Namespace} `this`\n * @throws {TypeError} If arguments are invalid\n * @throws {Error} If `object` is not a member of this namespace\n */\nNamespace.prototype.remove = function remove(object) {\n\n    if (!(object instanceof ReflectionObject))\n        throw TypeError(\"object must be a ReflectionObject\");\n    if (object.parent !== this)\n        throw Error(object + \" is not a member of \" + this);\n\n    delete this.nested[object.name];\n    if (!Object.keys(this.nested).length)\n        this.nested = undefined;\n\n    object.onRemove(this);\n    return clearCache(this);\n};\n\n/**\n * Defines additial namespaces within this one if not yet existing.\n * @param {string|string[]} path Path to create\n * @param {*} [json] Nested types to create from JSON\n * @returns {Namespace} Pointer to the last namespace created or `this` if path is empty\n */\nNamespace.prototype.define = function define(path, json) {\n\n    if (util.isString(path))\n        path = path.split(\".\");\n    else if (!Array.isArray(path))\n        throw TypeError(\"illegal path\");\n    if (path && path.length && path[0] === \"\")\n        throw Error(\"path must be relative\");\n\n    var ptr = this;\n    while (path.length > 0) {\n        var part = path.shift();\n        if (ptr.nested && ptr.nested[part]) {\n            ptr = ptr.nested[part];\n            if (!(ptr instanceof Namespace))\n                throw Error(\"path conflicts with non-namespace objects\");\n        } else\n            ptr.add(ptr = new Namespace(part));\n    }\n    if (json)\n        ptr.addJSON(json);\n    return ptr;\n};\n\n/**\n * Resolves this namespace's and all its nested objects' type references. Useful to validate a reflection tree, but comes at a cost.\n * @returns {Namespace} `this`\n */\nNamespace.prototype.resolveAll = function resolveAll() {\n    var nested = this.nestedArray, i = 0;\n    while (i < nested.length)\n        if (nested[i] instanceof Namespace)\n            nested[i++].resolveAll();\n        else\n            nested[i++].resolve();\n    return this.resolve();\n};\n\n/**\n * Recursively looks up the reflection object matching the specified path in the scope of this namespace.\n * @param {string|string[]} path Path to look up\n * @param {*|Array.<*>} filterTypes Filter types, any combination of the constructors of `protobuf.Type`, `protobuf.Enum`, `protobuf.Service` etc.\n * @param {boolean} [parentAlreadyChecked=false] If known, whether the parent has already been checked\n * @returns {ReflectionObject|null} Looked up object or `null` if none could be found\n */\nNamespace.prototype.lookup = function lookup(path, filterTypes, parentAlreadyChecked) {\n\n    /* istanbul ignore next */\n    if (typeof filterTypes === \"boolean\") {\n        parentAlreadyChecked = filterTypes;\n        filterTypes = undefined;\n    } else if (filterTypes && !Array.isArray(filterTypes))\n        filterTypes = [ filterTypes ];\n\n    if (util.isString(path) && path.length) {\n        if (path === \".\")\n            return this.root;\n        path = path.split(\".\");\n    } else if (!path.length)\n        return this;\n\n    // Start at root if path is absolute\n    if (path[0] === \"\")\n        return this.root.lookup(path.slice(1), filterTypes);\n\n    // Test if the first part matches any nested object, and if so, traverse if path contains more\n    var found = this.get(path[0]);\n    if (found) {\n        if (path.length === 1) {\n            if (!filterTypes || filterTypes.indexOf(found.constructor) > -1)\n                return found;\n        } else if (found instanceof Namespace && (found = found.lookup(path.slice(1), filterTypes, true)))\n            return found;\n\n    // Otherwise try each nested namespace\n    } else\n        for (var i = 0; i < this.nestedArray.length; ++i)\n            if (this._nestedArray[i] instanceof Namespace && (found = this._nestedArray[i].lookup(path, filterTypes, true)))\n                return found;\n\n    // If there hasn't been a match, try again at the parent\n    if (this.parent === null || parentAlreadyChecked)\n        return null;\n    return this.parent.lookup(path, filterTypes);\n};\n\n/**\n * Looks up the reflection object at the specified path, relative to this namespace.\n * @name NamespaceBase#lookup\n * @function\n * @param {string|string[]} path Path to look up\n * @param {boolean} [parentAlreadyChecked=false] Whether the parent has already been checked\n * @returns {ReflectionObject|null} Looked up object or `null` if none could be found\n * @variation 2\n */\n// lookup(path: string, [parentAlreadyChecked: boolean])\n\n/**\n * Looks up the {@link Type|type} at the specified path, relative to this namespace.\n * Besides its signature, this methods differs from {@link Namespace#lookup|lookup} in that it throws instead of returning `null`.\n * @param {string|string[]} path Path to look up\n * @returns {Type} Looked up type\n * @throws {Error} If `path` does not point to a type\n */\nNamespace.prototype.lookupType = function lookupType(path) {\n    var found = this.lookup(path, [ Type ]);\n    if (!found)\n        throw Error(\"no such type: \" + path);\n    return found;\n};\n\n/**\n * Looks up the values of the {@link Enum|enum} at the specified path, relative to this namespace.\n * Besides its signature, this methods differs from {@link Namespace#lookup|lookup} in that it throws instead of returning `null`.\n * @param {string|string[]} path Path to look up\n * @returns {Enum} Looked up enum\n * @throws {Error} If `path` does not point to an enum\n */\nNamespace.prototype.lookupEnum = function lookupEnum(path) {\n    var found = this.lookup(path, [ Enum ]);\n    if (!found)\n        throw Error(\"no such Enum '\" + path + \"' in \" + this);\n    return found;\n};\n\n/**\n * Looks up the {@link Type|type} or {@link Enum|enum} at the specified path, relative to this namespace.\n * Besides its signature, this methods differs from {@link Namespace#lookup|lookup} in that it throws instead of returning `null`.\n * @param {string|string[]} path Path to look up\n * @returns {Type} Looked up type or enum\n * @throws {Error} If `path` does not point to a type or enum\n */\nNamespace.prototype.lookupTypeOrEnum = function lookupTypeOrEnum(path) {\n    var found = this.lookup(path, [ Type, Enum ]);\n    if (!found)\n        throw Error(\"no such Type or Enum '\" + path + \"' in \" + this);\n    return found;\n};\n\n/**\n * Looks up the {@link Service|service} at the specified path, relative to this namespace.\n * Besides its signature, this methods differs from {@link Namespace#lookup|lookup} in that it throws instead of returning `null`.\n * @param {string|string[]} path Path to look up\n * @returns {Service} Looked up service\n * @throws {Error} If `path` does not point to a service\n */\nNamespace.prototype.lookupService = function lookupService(path) {\n    var found = this.lookup(path, [ Service ]);\n    if (!found)\n        throw Error(\"no such Service '\" + path + \"' in \" + this);\n    return found;\n};\n\n// Sets up cyclic dependencies (called in index-light)\nNamespace._configure = function(Type_, Service_, Enum_) {\n    Type    = Type_;\n    Service = Service_;\n    Enum    = Enum_;\n};\n","\"use strict\";\nmodule.exports = ReflectionObject;\n\nReflectionObject.className = \"ReflectionObject\";\n\nvar util = require(\"./util\");\n\nvar Root; // cyclic\n\n/**\n * Constructs a new reflection object instance.\n * @classdesc Base class of all reflection objects.\n * @constructor\n * @param {string} name Object name\n * @param {Object.<string,*>} [options] Declared options\n * @abstract\n */\nfunction ReflectionObject(name, options) {\n\n    if (!util.isString(name))\n        throw TypeError(\"name must be a string\");\n\n    if (options && !util.isObject(options))\n        throw TypeError(\"options must be an object\");\n\n    /**\n     * Options.\n     * @type {Object.<string,*>|undefined}\n     */\n    this.options = options; // toJSON\n\n    /**\n     * Parsed Options.\n     * @type {Array.<Object.<string,*>>|undefined}\n     */\n    this.parsedOptions = null;\n\n    /**\n     * Unique name within its namespace.\n     * @type {string}\n     */\n    this.name = name;\n\n    /**\n     * Parent namespace.\n     * @type {Namespace|null}\n     */\n    this.parent = null;\n\n    /**\n     * Whether already resolved or not.\n     * @type {boolean}\n     */\n    this.resolved = false;\n\n    /**\n     * Comment text, if any.\n     * @type {string|null}\n     */\n    this.comment = null;\n\n    /**\n     * Defining file name.\n     * @type {string|null}\n     */\n    this.filename = null;\n}\n\nObject.defineProperties(ReflectionObject.prototype, {\n\n    /**\n     * Reference to the root namespace.\n     * @name ReflectionObject#root\n     * @type {Root}\n     * @readonly\n     */\n    root: {\n        get: function() {\n            var ptr = this;\n            while (ptr.parent !== null)\n                ptr = ptr.parent;\n            return ptr;\n        }\n    },\n\n    /**\n     * Full name including leading dot.\n     * @name ReflectionObject#fullName\n     * @type {string}\n     * @readonly\n     */\n    fullName: {\n        get: function() {\n            var path = [ this.name ],\n                ptr = this.parent;\n            while (ptr) {\n                path.unshift(ptr.name);\n                ptr = ptr.parent;\n            }\n            return path.join(\".\");\n        }\n    }\n});\n\n/**\n * Converts this reflection object to its descriptor representation.\n * @returns {Object.<string,*>} Descriptor\n * @abstract\n */\nReflectionObject.prototype.toJSON = /* istanbul ignore next */ function toJSON() {\n    throw Error(); // not implemented, shouldn't happen\n};\n\n/**\n * Called when this object is added to a parent.\n * @param {ReflectionObject} parent Parent added to\n * @returns {undefined}\n */\nReflectionObject.prototype.onAdd = function onAdd(parent) {\n    if (this.parent && this.parent !== parent)\n        this.parent.remove(this);\n    this.parent = parent;\n    this.resolved = false;\n    var root = parent.root;\n    if (root instanceof Root)\n        root._handleAdd(this);\n};\n\n/**\n * Called when this object is removed from a parent.\n * @param {ReflectionObject} parent Parent removed from\n * @returns {undefined}\n */\nReflectionObject.prototype.onRemove = function onRemove(parent) {\n    var root = parent.root;\n    if (root instanceof Root)\n        root._handleRemove(this);\n    this.parent = null;\n    this.resolved = false;\n};\n\n/**\n * Resolves this objects type references.\n * @returns {ReflectionObject} `this`\n */\nReflectionObject.prototype.resolve = function resolve() {\n    if (this.resolved)\n        return this;\n    if (this.root instanceof Root)\n        this.resolved = true; // only if part of a root\n    return this;\n};\n\n/**\n * Gets an option value.\n * @param {string} name Option name\n * @returns {*} Option value or `undefined` if not set\n */\nReflectionObject.prototype.getOption = function getOption(name) {\n    if (this.options)\n        return this.options[name];\n    return undefined;\n};\n\n/**\n * Sets an option.\n * @param {string} name Option name\n * @param {*} value Option value\n * @param {boolean} [ifNotSet] Sets the option only if it isn't currently set\n * @returns {ReflectionObject} `this`\n */\nReflectionObject.prototype.setOption = function setOption(name, value, ifNotSet) {\n    if (!ifNotSet || !this.options || this.options[name] === undefined)\n        (this.options || (this.options = {}))[name] = value;\n    return this;\n};\n\n/**\n * Sets a parsed option.\n * @param {string} name parsed Option name\n * @param {*} value Option value\n * @param {string} propName dot '.' delimited full path of property within the option to set. if undefined\\empty, will add a new option with that value\n * @returns {ReflectionObject} `this`\n */\nReflectionObject.prototype.setParsedOption = function setParsedOption(name, value, propName) {\n    if (!this.parsedOptions) {\n        this.parsedOptions = [];\n    }\n    var parsedOptions = this.parsedOptions;\n    if (propName) {\n        // If setting a sub property of an option then try to merge it\n        // with an existing option\n        var opt = parsedOptions.find(function (opt) {\n            return Object.prototype.hasOwnProperty.call(opt, name);\n        });\n        if (opt) {\n            // If we found an existing option - just merge the property value\n            var newValue = opt[name];\n            util.setProperty(newValue, propName, value);\n        } else {\n            // otherwise, create a new option, set it's property and add it to the list\n            opt = {};\n            opt[name] = util.setProperty({}, propName, value);\n            parsedOptions.push(opt);\n        }\n    } else {\n        // Always create a new option when setting the value of the option itself\n        var newOpt = {};\n        newOpt[name] = value;\n        parsedOptions.push(newOpt);\n    }\n    return this;\n};\n\n/**\n * Sets multiple options.\n * @param {Object.<string,*>} options Options to set\n * @param {boolean} [ifNotSet] Sets an option only if it isn't currently set\n * @returns {ReflectionObject} `this`\n */\nReflectionObject.prototype.setOptions = function setOptions(options, ifNotSet) {\n    if (options)\n        for (var keys = Object.keys(options), i = 0; i < keys.length; ++i)\n            this.setOption(keys[i], options[keys[i]], ifNotSet);\n    return this;\n};\n\n/**\n * Converts this instance to its string representation.\n * @returns {string} Class name[, space, full name]\n */\nReflectionObject.prototype.toString = function toString() {\n    var className = this.constructor.className,\n        fullName  = this.fullName;\n    if (fullName.length)\n        return className + \" \" + fullName;\n    return className;\n};\n\n// Sets up cyclic dependencies (called in index-light)\nReflectionObject._configure = function(Root_) {\n    Root = Root_;\n};\n","\"use strict\";\nmodule.exports = OneOf;\n\n// extends ReflectionObject\nvar ReflectionObject = require(\"./object\");\n((OneOf.prototype = Object.create(ReflectionObject.prototype)).constructor = OneOf).className = \"OneOf\";\n\nvar Field = require(\"./field\"),\n    util  = require(\"./util\");\n\n/**\n * Constructs a new oneof instance.\n * @classdesc Reflected oneof.\n * @extends ReflectionObject\n * @constructor\n * @param {string} name Oneof name\n * @param {string[]|Object.<string,*>} [fieldNames] Field names\n * @param {Object.<string,*>} [options] Declared options\n * @param {string} [comment] Comment associated with this field\n */\nfunction OneOf(name, fieldNames, options, comment) {\n    if (!Array.isArray(fieldNames)) {\n        options = fieldNames;\n        fieldNames = undefined;\n    }\n    ReflectionObject.call(this, name, options);\n\n    /* istanbul ignore if */\n    if (!(fieldNames === undefined || Array.isArray(fieldNames)))\n        throw TypeError(\"fieldNames must be an Array\");\n\n    /**\n     * Field names that belong to this oneof.\n     * @type {string[]}\n     */\n    this.oneof = fieldNames || []; // toJSON, marker\n\n    /**\n     * Fields that belong to this oneof as an array for iteration.\n     * @type {Field[]}\n     * @readonly\n     */\n    this.fieldsArray = []; // declared readonly for conformance, possibly not yet added to parent\n\n    /**\n     * Comment for this field.\n     * @type {string|null}\n     */\n    this.comment = comment;\n}\n\n/**\n * Oneof descriptor.\n * @interface IOneOf\n * @property {Array.<string>} oneof Oneof field names\n * @property {Object.<string,*>} [options] Oneof options\n */\n\n/**\n * Constructs a oneof from a oneof descriptor.\n * @param {string} name Oneof name\n * @param {IOneOf} json Oneof descriptor\n * @returns {OneOf} Created oneof\n * @throws {TypeError} If arguments are invalid\n */\nOneOf.fromJSON = function fromJSON(name, json) {\n    return new OneOf(name, json.oneof, json.options, json.comment);\n};\n\n/**\n * Converts this oneof to a oneof descriptor.\n * @param {IToJSONOptions} [toJSONOptions] JSON conversion options\n * @returns {IOneOf} Oneof descriptor\n */\nOneOf.prototype.toJSON = function toJSON(toJSONOptions) {\n    var keepComments = toJSONOptions ? Boolean(toJSONOptions.keepComments) : false;\n    return util.toObject([\n        \"options\" , this.options,\n        \"oneof\"   , this.oneof,\n        \"comment\" , keepComments ? this.comment : undefined\n    ]);\n};\n\n/**\n * Adds the fields of the specified oneof to the parent if not already done so.\n * @param {OneOf} oneof The oneof\n * @returns {undefined}\n * @inner\n * @ignore\n */\nfunction addFieldsToParent(oneof) {\n    if (oneof.parent)\n        for (var i = 0; i < oneof.fieldsArray.length; ++i)\n            if (!oneof.fieldsArray[i].parent)\n                oneof.parent.add(oneof.fieldsArray[i]);\n}\n\n/**\n * Adds a field to this oneof and removes it from its current parent, if any.\n * @param {Field} field Field to add\n * @returns {OneOf} `this`\n */\nOneOf.prototype.add = function add(field) {\n\n    /* istanbul ignore if */\n    if (!(field instanceof Field))\n        throw TypeError(\"field must be a Field\");\n\n    if (field.parent && field.parent !== this.parent)\n        field.parent.remove(field);\n    this.oneof.push(field.name);\n    this.fieldsArray.push(field);\n    field.partOf = this; // field.parent remains null\n    addFieldsToParent(this);\n    return this;\n};\n\n/**\n * Removes a field from this oneof and puts it back to the oneof's parent.\n * @param {Field} field Field to remove\n * @returns {OneOf} `this`\n */\nOneOf.prototype.remove = function remove(field) {\n\n    /* istanbul ignore if */\n    if (!(field instanceof Field))\n        throw TypeError(\"field must be a Field\");\n\n    var index = this.fieldsArray.indexOf(field);\n\n    /* istanbul ignore if */\n    if (index < 0)\n        throw Error(field + \" is not a member of \" + this);\n\n    this.fieldsArray.splice(index, 1);\n    index = this.oneof.indexOf(field.name);\n\n    /* istanbul ignore else */\n    if (index > -1) // theoretical\n        this.oneof.splice(index, 1);\n\n    field.partOf = null;\n    return this;\n};\n\n/**\n * @override\n */\nOneOf.prototype.onAdd = function onAdd(parent) {\n    ReflectionObject.prototype.onAdd.call(this, parent);\n    var self = this;\n    // Collect present fields\n    for (var i = 0; i < this.oneof.length; ++i) {\n        var field = parent.get(this.oneof[i]);\n        if (field && !field.partOf) {\n            field.partOf = self;\n            self.fieldsArray.push(field);\n        }\n    }\n    // Add not yet present fields\n    addFieldsToParent(this);\n};\n\n/**\n * @override\n */\nOneOf.prototype.onRemove = function onRemove(parent) {\n    for (var i = 0, field; i < this.fieldsArray.length; ++i)\n        if ((field = this.fieldsArray[i]).parent)\n            field.parent.remove(field);\n    ReflectionObject.prototype.onRemove.call(this, parent);\n};\n\n/**\n * Decorator function as returned by {@link OneOf.d} (TypeScript).\n * @typedef OneOfDecorator\n * @type {function}\n * @param {Object} prototype Target prototype\n * @param {string} oneofName OneOf name\n * @returns {undefined}\n */\n\n/**\n * OneOf decorator (TypeScript).\n * @function\n * @param {...string} fieldNames Field names\n * @returns {OneOfDecorator} Decorator function\n * @template T extends string\n */\nOneOf.d = function decorateOneOf() {\n    var fieldNames = new Array(arguments.length),\n        index = 0;\n    while (index < arguments.length)\n        fieldNames[index] = arguments[index++];\n    return function oneOfDecorator(prototype, oneofName) {\n        util.decorateType(prototype.constructor)\n            .add(new OneOf(oneofName, fieldNames));\n        Object.defineProperty(prototype, oneofName, {\n            get: util.oneOfGetter(fieldNames),\n            set: util.oneOfSetter(fieldNames)\n        });\n    };\n};\n","\"use strict\";\nmodule.exports = parse;\n\nparse.filename = null;\nparse.defaults = { keepCase: false };\n\nvar tokenize  = require(\"./tokenize\"),\n    Root      = require(\"./root\"),\n    Type      = require(\"./type\"),\n    Field     = require(\"./field\"),\n    MapField  = require(\"./mapfield\"),\n    OneOf     = require(\"./oneof\"),\n    Enum      = require(\"./enum\"),\n    Service   = require(\"./service\"),\n    Method    = require(\"./method\"),\n    types     = require(\"./types\"),\n    util      = require(\"./util\");\n\nvar base10Re    = /^[1-9][0-9]*$/,\n    base10NegRe = /^-?[1-9][0-9]*$/,\n    base16Re    = /^0[x][0-9a-fA-F]+$/,\n    base16NegRe = /^-?0[x][0-9a-fA-F]+$/,\n    base8Re     = /^0[0-7]+$/,\n    base8NegRe  = /^-?0[0-7]+$/,\n    numberRe    = /^(?![eE])[0-9]*(?:\\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,\n    nameRe      = /^[a-zA-Z_][a-zA-Z_0-9]*$/,\n    typeRefRe   = /^(?:\\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,\n    fqTypeRefRe = /^(?:\\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;\n\n/**\n * Result object returned from {@link parse}.\n * @interface IParserResult\n * @property {string|undefined} package Package name, if declared\n * @property {string[]|undefined} imports Imports, if any\n * @property {string[]|undefined} weakImports Weak imports, if any\n * @property {string|undefined} syntax Syntax, if specified (either `\"proto2\"` or `\"proto3\"`)\n * @property {Root} root Populated root instance\n */\n\n/**\n * Options modifying the behavior of {@link parse}.\n * @interface IParseOptions\n * @property {boolean} [keepCase=false] Keeps field casing instead of converting to camel case\n * @property {boolean} [alternateCommentMode=false] Recognize double-slash comments in addition to doc-block comments.\n * @property {boolean} [preferTrailingComment=false] Use trailing comment when both leading comment and trailing comment exist.\n */\n\n/**\n * Options modifying the behavior of JSON serialization.\n * @interface IToJSONOptions\n * @property {boolean} [keepComments=false] Serializes comments.\n */\n\n/**\n * Parses the given .proto source and returns an object with the parsed contents.\n * @param {string} source Source contents\n * @param {Root} root Root to populate\n * @param {IParseOptions} [options] Parse options. Defaults to {@link parse.defaults} when omitted.\n * @returns {IParserResult} Parser result\n * @property {string} filename=null Currently processing file name for error reporting, if known\n * @property {IParseOptions} defaults Default {@link IParseOptions}\n */\nfunction parse(source, root, options) {\n    /* eslint-disable callback-return */\n    if (!(root instanceof Root)) {\n        options = root;\n        root = new Root();\n    }\n    if (!options)\n        options = parse.defaults;\n\n    var preferTrailingComment = options.preferTrailingComment || false;\n    var tn = tokenize(source, options.alternateCommentMode || false),\n        next = tn.next,\n        push = tn.push,\n        peek = tn.peek,\n        skip = tn.skip,\n        cmnt = tn.cmnt;\n\n    var head = true,\n        pkg,\n        imports,\n        weakImports,\n        syntax,\n        isProto3 = false;\n\n    var ptr = root;\n\n    var applyCase = options.keepCase ? function(name) { return name; } : util.camelCase;\n\n    /* istanbul ignore next */\n    function illegal(token, name, insideTryCatch) {\n        var filename = parse.filename;\n        if (!insideTryCatch)\n            parse.filename = null;\n        return Error(\"illegal \" + (name || \"token\") + \" '\" + token + \"' (\" + (filename ? filename + \", \" : \"\") + \"line \" + tn.line + \")\");\n    }\n\n    function readString() {\n        var values = [],\n            token;\n        do {\n            /* istanbul ignore if */\n            if ((token = next()) !== \"\\\"\" && token !== \"'\")\n                throw illegal(token);\n\n            values.push(next());\n            skip(token);\n            token = peek();\n        } while (token === \"\\\"\" || token === \"'\");\n        return values.join(\"\");\n    }\n\n    function readValue(acceptTypeRef) {\n        var token = next();\n        switch (token) {\n            case \"'\":\n            case \"\\\"\":\n                push(token);\n                return readString();\n            case \"true\": case \"TRUE\":\n                return true;\n            case \"false\": case \"FALSE\":\n                return false;\n        }\n        try {\n            return parseNumber(token, /* insideTryCatch */ true);\n        } catch (e) {\n\n            /* istanbul ignore else */\n            if (acceptTypeRef && typeRefRe.test(token))\n                return token;\n\n            /* istanbul ignore next */\n            throw illegal(token, \"value\");\n        }\n    }\n\n    function readRanges(target, acceptStrings) {\n        var token, start;\n        do {\n            if (acceptStrings && ((token = peek()) === \"\\\"\" || token === \"'\"))\n                target.push(readString());\n            else\n                target.push([ start = parseId(next()), skip(\"to\", true) ? parseId(next()) : start ]);\n        } while (skip(\",\", true));\n        skip(\";\");\n    }\n\n    function parseNumber(token, insideTryCatch) {\n        var sign = 1;\n        if (token.charAt(0) === \"-\") {\n            sign = -1;\n            token = token.substring(1);\n        }\n        switch (token) {\n            case \"inf\": case \"INF\": case \"Inf\":\n                return sign * Infinity;\n            case \"nan\": case \"NAN\": case \"Nan\": case \"NaN\":\n                return NaN;\n            case \"0\":\n                return 0;\n        }\n        if (base10Re.test(token))\n            return sign * parseInt(token, 10);\n        if (base16Re.test(token))\n            return sign * parseInt(token, 16);\n        if (base8Re.test(token))\n            return sign * parseInt(token, 8);\n\n        /* istanbul ignore else */\n        if (numberRe.test(token))\n            return sign * parseFloat(token);\n\n        /* istanbul ignore next */\n        throw illegal(token, \"number\", insideTryCatch);\n    }\n\n    function parseId(token, acceptNegative) {\n        switch (token) {\n            case \"max\": case \"MAX\": case \"Max\":\n                return 536870911;\n            case \"0\":\n                return 0;\n        }\n\n        /* istanbul ignore if */\n        if (!acceptNegative && token.charAt(0) === \"-\")\n            throw illegal(token, \"id\");\n\n        if (base10NegRe.test(token))\n            return parseInt(token, 10);\n        if (base16NegRe.test(token))\n            return parseInt(token, 16);\n\n        /* istanbul ignore else */\n        if (base8NegRe.test(token))\n            return parseInt(token, 8);\n\n        /* istanbul ignore next */\n        throw illegal(token, \"id\");\n    }\n\n    function parsePackage() {\n\n        /* istanbul ignore if */\n        if (pkg !== undefined)\n            throw illegal(\"package\");\n\n        pkg = next();\n\n        /* istanbul ignore if */\n        if (!typeRefRe.test(pkg))\n            throw illegal(pkg, \"name\");\n\n        ptr = ptr.define(pkg);\n        skip(\";\");\n    }\n\n    function parseImport() {\n        var token = peek();\n        var whichImports;\n        switch (token) {\n            case \"weak\":\n                whichImports = weakImports || (weakImports = []);\n                next();\n                break;\n            case \"public\":\n                next();\n                // eslint-disable-line no-fallthrough\n            default:\n                whichImports = imports || (imports = []);\n                break;\n        }\n        token = readString();\n        skip(\";\");\n        whichImports.push(token);\n    }\n\n    function parseSyntax() {\n        skip(\"=\");\n        syntax = readString();\n        isProto3 = syntax === \"proto3\";\n\n        /* istanbul ignore if */\n        if (!isProto3 && syntax !== \"proto2\")\n            throw illegal(syntax, \"syntax\");\n\n        skip(\";\");\n    }\n\n    function parseCommon(parent, token) {\n        switch (token) {\n\n            case \"option\":\n                parseOption(parent, token);\n                skip(\";\");\n                return true;\n\n            case \"message\":\n                parseType(parent, token);\n                return true;\n\n            case \"enum\":\n                parseEnum(parent, token);\n                return true;\n\n            case \"service\":\n                parseService(parent, token);\n                return true;\n\n            case \"extend\":\n                parseExtension(parent, token);\n                return true;\n        }\n        return false;\n    }\n\n    function ifBlock(obj, fnIf, fnElse) {\n        var trailingLine = tn.line;\n        if (obj) {\n            if(typeof obj.comment !== \"string\") {\n              obj.comment = cmnt(); // try block-type comment\n            }\n            obj.filename = parse.filename;\n        }\n        if (skip(\"{\", true)) {\n            var token;\n            while ((token = next()) !== \"}\")\n                fnIf(token);\n            skip(\";\", true);\n        } else {\n            if (fnElse)\n                fnElse();\n            skip(\";\");\n            if (obj && (typeof obj.comment !== \"string\" || preferTrailingComment))\n                obj.comment = cmnt(trailingLine) || obj.comment; // try line-type comment\n        }\n    }\n\n    function parseType(parent, token) {\n\n        /* istanbul ignore if */\n        if (!nameRe.test(token = next()))\n            throw illegal(token, \"type name\");\n\n        var type = new Type(token);\n        ifBlock(type, function parseType_block(token) {\n            if (parseCommon(type, token))\n                return;\n\n            switch (token) {\n\n                case \"map\":\n                    parseMapField(type, token);\n                    break;\n\n                case \"required\":\n                case \"repeated\":\n                    parseField(type, token);\n                    break;\n\n                case \"optional\":\n                    /* istanbul ignore if */\n                    if (isProto3) {\n                        parseField(type, \"proto3_optional\");\n                    } else {\n                        parseField(type, \"optional\");\n                    }\n                    break;\n\n                case \"oneof\":\n                    parseOneOf(type, token);\n                    break;\n\n                case \"extensions\":\n                    readRanges(type.extensions || (type.extensions = []));\n                    break;\n\n                case \"reserved\":\n                    readRanges(type.reserved || (type.reserved = []), true);\n                    break;\n\n                default:\n                    /* istanbul ignore if */\n                    if (!isProto3 || !typeRefRe.test(token))\n                        throw illegal(token);\n\n                    push(token);\n                    parseField(type, \"optional\");\n                    break;\n            }\n        });\n        parent.add(type);\n    }\n\n    function parseField(parent, rule, extend) {\n        var type = next();\n        if (type === \"group\") {\n            parseGroup(parent, rule);\n            return;\n        }\n\n        /* istanbul ignore if */\n        if (!typeRefRe.test(type))\n            throw illegal(type, \"type\");\n\n        var name = next();\n\n        /* istanbul ignore if */\n        if (!nameRe.test(name))\n            throw illegal(name, \"name\");\n\n        name = applyCase(name);\n        skip(\"=\");\n\n        var field = new Field(name, parseId(next()), type, rule, extend);\n        ifBlock(field, function parseField_block(token) {\n\n            /* istanbul ignore else */\n            if (token === \"option\") {\n                parseOption(field, token);\n                skip(\";\");\n            } else\n                throw illegal(token);\n\n        }, function parseField_line() {\n            parseInlineOptions(field);\n        });\n\n        if (rule === \"proto3_optional\") {\n            // for proto3 optional fields, we create a single-member Oneof to mimic \"optional\" behavior\n            var oneof = new OneOf(\"_\" + name);\n            field.setOption(\"proto3_optional\", true);\n            oneof.add(field);\n            parent.add(oneof);\n        } else {\n            parent.add(field);\n        }\n\n        // JSON defaults to packed=true if not set so we have to set packed=false explicity when\n        // parsing proto2 descriptors without the option, where applicable. This must be done for\n        // all known packable types and anything that could be an enum (= is not a basic type).\n        if (!isProto3 && field.repeated && (types.packed[type] !== undefined || types.basic[type] === undefined))\n            field.setOption(\"packed\", false, /* ifNotSet */ true);\n    }\n\n    function parseGroup(parent, rule) {\n        var name = next();\n\n        /* istanbul ignore if */\n        if (!nameRe.test(name))\n            throw illegal(name, \"name\");\n\n        var fieldName = util.lcFirst(name);\n        if (name === fieldName)\n            name = util.ucFirst(name);\n        skip(\"=\");\n        var id = parseId(next());\n        var type = new Type(name);\n        type.group = true;\n        var field = new Field(fieldName, id, name, rule);\n        field.filename = parse.filename;\n        ifBlock(type, function parseGroup_block(token) {\n            switch (token) {\n\n                case \"option\":\n                    parseOption(type, token);\n                    skip(\";\");\n                    break;\n\n                case \"required\":\n                case \"repeated\":\n                    parseField(type, token);\n                    break;\n\n                case \"optional\":\n                    /* istanbul ignore if */\n                    if (isProto3) {\n                        parseField(type, \"proto3_optional\");\n                    } else {\n                        parseField(type, \"optional\");\n                    }\n                    break;\n\n                case \"message\":\n                    parseType(type, token);\n                    break;\n\n                case \"enum\":\n                    parseEnum(type, token);\n                    break;\n\n                /* istanbul ignore next */\n                default:\n                    throw illegal(token); // there are no groups with proto3 semantics\n            }\n        });\n        parent.add(type)\n              .add(field);\n    }\n\n    function parseMapField(parent) {\n        skip(\"<\");\n        var keyType = next();\n\n        /* istanbul ignore if */\n        if (types.mapKey[keyType] === undefined)\n            throw illegal(keyType, \"type\");\n\n        skip(\",\");\n        var valueType = next();\n\n        /* istanbul ignore if */\n        if (!typeRefRe.test(valueType))\n            throw illegal(valueType, \"type\");\n\n        skip(\">\");\n        var name = next();\n\n        /* istanbul ignore if */\n        if (!nameRe.test(name))\n            throw illegal(name, \"name\");\n\n        skip(\"=\");\n        var field = new MapField(applyCase(name), parseId(next()), keyType, valueType);\n        ifBlock(field, function parseMapField_block(token) {\n\n            /* istanbul ignore else */\n            if (token === \"option\") {\n                parseOption(field, token);\n                skip(\";\");\n            } else\n                throw illegal(token);\n\n        }, function parseMapField_line() {\n            parseInlineOptions(field);\n        });\n        parent.add(field);\n    }\n\n    function parseOneOf(parent, token) {\n\n        /* istanbul ignore if */\n        if (!nameRe.test(token = next()))\n            throw illegal(token, \"name\");\n\n        var oneof = new OneOf(applyCase(token));\n        ifBlock(oneof, function parseOneOf_block(token) {\n            if (token === \"option\") {\n                parseOption(oneof, token);\n                skip(\";\");\n            } else {\n                push(token);\n                parseField(oneof, \"optional\");\n            }\n        });\n        parent.add(oneof);\n    }\n\n    function parseEnum(parent, token) {\n\n        /* istanbul ignore if */\n        if (!nameRe.test(token = next()))\n            throw illegal(token, \"name\");\n\n        var enm = new Enum(token);\n        ifBlock(enm, function parseEnum_block(token) {\n          switch(token) {\n            case \"option\":\n              parseOption(enm, token);\n              skip(\";\");\n              break;\n\n            case \"reserved\":\n              readRanges(enm.reserved || (enm.reserved = []), true);\n              break;\n\n            default:\n              parseEnumValue(enm, token);\n          }\n        });\n        parent.add(enm);\n    }\n\n    function parseEnumValue(parent, token) {\n\n        /* istanbul ignore if */\n        if (!nameRe.test(token))\n            throw illegal(token, \"name\");\n\n        skip(\"=\");\n        var value = parseId(next(), true),\n            dummy = {\n                options: undefined\n            };\n        dummy.setOption = function(name, value) {\n            if (this.options === undefined)\n                this.options = {};\n            this.options[name] = value;\n        };\n        ifBlock(dummy, function parseEnumValue_block(token) {\n\n            /* istanbul ignore else */\n            if (token === \"option\") {\n                parseOption(dummy, token); // skip\n                skip(\";\");\n            } else\n                throw illegal(token);\n\n        }, function parseEnumValue_line() {\n            parseInlineOptions(dummy); // skip\n        });\n        parent.add(token, value, dummy.comment, dummy.options);\n    }\n\n    function parseOption(parent, token) {\n        var isCustom = skip(\"(\", true);\n\n        /* istanbul ignore if */\n        if (!typeRefRe.test(token = next()))\n            throw illegal(token, \"name\");\n\n        var name = token;\n        var option = name;\n        var propName;\n\n        if (isCustom) {\n            skip(\")\");\n            name = \"(\" + name + \")\";\n            option = name;\n            token = peek();\n            if (fqTypeRefRe.test(token)) {\n                propName = token.slice(1); //remove '.' before property name\n                name += token;\n                next();\n            }\n        }\n        skip(\"=\");\n        var optionValue = parseOptionValue(parent, name);\n        setParsedOption(parent, option, optionValue, propName);\n    }\n\n    function parseOptionValue(parent, name) {\n        // { a: \"foo\" b { c: \"bar\" } }\n        if (skip(\"{\", true)) {\n            var objectResult = {};\n\n            while (!skip(\"}\", true)) {\n                /* istanbul ignore if */\n                if (!nameRe.test(token = next())) {\n                    throw illegal(token, \"name\");\n                }\n\n                var value;\n                var propName = token;\n\n                skip(\":\", true);\n\n                if (peek() === \"{\")\n                    value = parseOptionValue(parent, name + \".\" + token);\n                else if (peek() === \"[\") {\n                    // option (my_option) = {\n                    //     repeated_value: [ \"foo\", \"bar\" ]\n                    // };\n                    value = [];\n                    var lastValue;\n                    if (skip(\"[\", true)) {\n                        do {\n                            lastValue = readValue(true);\n                            value.push(lastValue);\n                        } while (skip(\",\", true));\n                        skip(\"]\");\n                        if (typeof lastValue !== \"undefined\") {\n                            setOption(parent, name + \".\" + token, lastValue);\n                        }\n                    }\n                } else {\n                    value = readValue(true);\n                    setOption(parent, name + \".\" + token, value);\n                }\n\n                var prevValue = objectResult[propName];\n\n                if (prevValue)\n                    value = [].concat(prevValue).concat(value);\n\n                objectResult[propName] = value;\n\n                // Semicolons and commas can be optional\n                skip(\",\", true);\n                skip(\";\", true);\n            }\n\n            return objectResult;\n        }\n\n        var simpleValue = readValue(true);\n        setOption(parent, name, simpleValue);\n        return simpleValue;\n        // Does not enforce a delimiter to be universal\n    }\n\n    function setOption(parent, name, value) {\n        if (parent.setOption)\n            parent.setOption(name, value);\n    }\n\n    function setParsedOption(parent, name, value, propName) {\n        if (parent.setParsedOption)\n            parent.setParsedOption(name, value, propName);\n    }\n\n    function parseInlineOptions(parent) {\n        if (skip(\"[\", true)) {\n            do {\n                parseOption(parent, \"option\");\n            } while (skip(\",\", true));\n            skip(\"]\");\n        }\n        return parent;\n    }\n\n    function parseService(parent, token) {\n\n        /* istanbul ignore if */\n        if (!nameRe.test(token = next()))\n            throw illegal(token, \"service name\");\n\n        var service = new Service(token);\n        ifBlock(service, function parseService_block(token) {\n            if (parseCommon(service, token))\n                return;\n\n            /* istanbul ignore else */\n            if (token === \"rpc\")\n                parseMethod(service, token);\n            else\n                throw illegal(token);\n        });\n        parent.add(service);\n    }\n\n    function parseMethod(parent, token) {\n        // Get the comment of the preceding line now (if one exists) in case the\n        // method is defined across multiple lines.\n        var commentText = cmnt();\n\n        var type = token;\n\n        /* istanbul ignore if */\n        if (!nameRe.test(token = next()))\n            throw illegal(token, \"name\");\n\n        var name = token,\n            requestType, requestStream,\n            responseType, responseStream;\n\n        skip(\"(\");\n        if (skip(\"stream\", true))\n            requestStream = true;\n\n        /* istanbul ignore if */\n        if (!typeRefRe.test(token = next()))\n            throw illegal(token);\n\n        requestType = token;\n        skip(\")\"); skip(\"returns\"); skip(\"(\");\n        if (skip(\"stream\", true))\n            responseStream = true;\n\n        /* istanbul ignore if */\n        if (!typeRefRe.test(token = next()))\n            throw illegal(token);\n\n        responseType = token;\n        skip(\")\");\n\n        var method = new Method(name, type, requestType, responseType, requestStream, responseStream);\n        method.comment = commentText;\n        ifBlock(method, function parseMethod_block(token) {\n\n            /* istanbul ignore else */\n            if (token === \"option\") {\n                parseOption(method, token);\n                skip(\";\");\n            } else\n                throw illegal(token);\n\n        });\n        parent.add(method);\n    }\n\n    function parseExtension(parent, token) {\n\n        /* istanbul ignore if */\n        if (!typeRefRe.test(token = next()))\n            throw illegal(token, \"reference\");\n\n        var reference = token;\n        ifBlock(null, function parseExtension_block(token) {\n            switch (token) {\n\n                case \"required\":\n                case \"repeated\":\n                    parseField(parent, token, reference);\n                    break;\n\n                case \"optional\":\n                    /* istanbul ignore if */\n                    if (isProto3) {\n                        parseField(parent, \"proto3_optional\", reference);\n                    } else {\n                        parseField(parent, \"optional\", reference);\n                    }\n                    break;\n\n                default:\n                    /* istanbul ignore if */\n                    if (!isProto3 || !typeRefRe.test(token))\n                        throw illegal(token);\n                    push(token);\n                    parseField(parent, \"optional\", reference);\n                    break;\n            }\n        });\n    }\n\n    var token;\n    while ((token = next()) !== null) {\n        switch (token) {\n\n            case \"package\":\n\n                /* istanbul ignore if */\n                if (!head)\n                    throw illegal(token);\n\n                parsePackage();\n                break;\n\n            case \"import\":\n\n                /* istanbul ignore if */\n                if (!head)\n                    throw illegal(token);\n\n                parseImport();\n                break;\n\n            case \"syntax\":\n\n                /* istanbul ignore if */\n                if (!head)\n                    throw illegal(token);\n\n                parseSyntax();\n                break;\n\n            case \"option\":\n\n                parseOption(ptr, token);\n                skip(\";\");\n                break;\n\n            default:\n\n                /* istanbul ignore else */\n                if (parseCommon(ptr, token)) {\n                    head = false;\n                    continue;\n                }\n\n                /* istanbul ignore next */\n                throw illegal(token);\n        }\n    }\n\n    parse.filename = null;\n    return {\n        \"package\"     : pkg,\n        \"imports\"     : imports,\n         weakImports  : weakImports,\n         syntax       : syntax,\n         root         : root\n    };\n}\n\n/**\n * Parses the given .proto source and returns an object with the parsed contents.\n * @name parse\n * @function\n * @param {string} source Source contents\n * @param {IParseOptions} [options] Parse options. Defaults to {@link parse.defaults} when omitted.\n * @returns {IParserResult} Parser result\n * @property {string} filename=null Currently processing file name for error reporting, if known\n * @property {IParseOptions} defaults Default {@link IParseOptions}\n * @variation 2\n */\n","\"use strict\";\nmodule.exports = Reader;\n\nvar util      = require(\"./util/minimal\");\n\nvar BufferReader; // cyclic\n\nvar LongBits  = util.LongBits,\n    utf8      = util.utf8;\n\n/* istanbul ignore next */\nfunction indexOutOfRange(reader, writeLength) {\n    return RangeError(\"index out of range: \" + reader.pos + \" + \" + (writeLength || 1) + \" > \" + reader.len);\n}\n\n/**\n * Constructs a new reader instance using the specified buffer.\n * @classdesc Wire format reader using `Uint8Array` if available, otherwise `Array`.\n * @constructor\n * @param {Uint8Array} buffer Buffer to read from\n */\nfunction Reader(buffer) {\n\n    /**\n     * Read buffer.\n     * @type {Uint8Array}\n     */\n    this.buf = buffer;\n\n    /**\n     * Read buffer position.\n     * @type {number}\n     */\n    this.pos = 0;\n\n    /**\n     * Read buffer length.\n     * @type {number}\n     */\n    this.len = buffer.length;\n}\n\nvar create_array = typeof Uint8Array !== \"undefined\"\n    ? function create_typed_array(buffer) {\n        if (buffer instanceof Uint8Array || Array.isArray(buffer))\n            return new Reader(buffer);\n        throw Error(\"illegal buffer\");\n    }\n    /* istanbul ignore next */\n    : function create_array(buffer) {\n        if (Array.isArray(buffer))\n            return new Reader(buffer);\n        throw Error(\"illegal buffer\");\n    };\n\nvar create = function create() {\n    return util.Buffer\n        ? function create_buffer_setup(buffer) {\n            return (Reader.create = function create_buffer(buffer) {\n                return util.Buffer.isBuffer(buffer)\n                    ? new BufferReader(buffer)\n                    /* istanbul ignore next */\n                    : create_array(buffer);\n            })(buffer);\n        }\n        /* istanbul ignore next */\n        : create_array;\n};\n\n/**\n * Creates a new reader using the specified buffer.\n * @function\n * @param {Uint8Array|Buffer} buffer Buffer to read from\n * @returns {Reader|BufferReader} A {@link BufferReader} if `buffer` is a Buffer, otherwise a {@link Reader}\n * @throws {Error} If `buffer` is not a valid buffer\n */\nReader.create = create();\n\nReader.prototype._slice = util.Array.prototype.subarray || /* istanbul ignore next */ util.Array.prototype.slice;\n\n/**\n * Reads a varint as an unsigned 32 bit value.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.uint32 = (function read_uint32_setup() {\n    var value = 4294967295; // optimizer type-hint, tends to deopt otherwise (?!)\n    return function read_uint32() {\n        value = (         this.buf[this.pos] & 127       ) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) <<  7) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) << 14) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) << 21) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] &  15) << 28) >>> 0; if (this.buf[this.pos++] < 128) return value;\n\n        /* istanbul ignore if */\n        if ((this.pos += 5) > this.len) {\n            this.pos = this.len;\n            throw indexOutOfRange(this, 10);\n        }\n        return value;\n    };\n})();\n\n/**\n * Reads a varint as a signed 32 bit value.\n * @returns {number} Value read\n */\nReader.prototype.int32 = function read_int32() {\n    return this.uint32() | 0;\n};\n\n/**\n * Reads a zig-zag encoded varint as a signed 32 bit value.\n * @returns {number} Value read\n */\nReader.prototype.sint32 = function read_sint32() {\n    var value = this.uint32();\n    return value >>> 1 ^ -(value & 1) | 0;\n};\n\n/* eslint-disable no-invalid-this */\n\nfunction readLongVarint() {\n    // tends to deopt with local vars for octet etc.\n    var bits = new LongBits(0, 0);\n    var i = 0;\n    if (this.len - this.pos > 4) { // fast route (lo)\n        for (; i < 4; ++i) {\n            // 1st..4th\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n        // 5th\n        bits.lo = (bits.lo | (this.buf[this.pos] & 127) << 28) >>> 0;\n        bits.hi = (bits.hi | (this.buf[this.pos] & 127) >>  4) >>> 0;\n        if (this.buf[this.pos++] < 128)\n            return bits;\n        i = 0;\n    } else {\n        for (; i < 3; ++i) {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n            // 1st..3th\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n        // 4th\n        bits.lo = (bits.lo | (this.buf[this.pos++] & 127) << i * 7) >>> 0;\n        return bits;\n    }\n    if (this.len - this.pos > 4) { // fast route (hi)\n        for (; i < 5; ++i) {\n            // 6th..10th\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n    } else {\n        for (; i < 5; ++i) {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n            // 6th..10th\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n    }\n    /* istanbul ignore next */\n    throw Error(\"invalid varint encoding\");\n}\n\n/* eslint-enable no-invalid-this */\n\n/**\n * Reads a varint as a signed 64 bit value.\n * @name Reader#int64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a varint as an unsigned 64 bit value.\n * @name Reader#uint64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a zig-zag encoded varint as a signed 64 bit value.\n * @name Reader#sint64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a varint as a boolean.\n * @returns {boolean} Value read\n */\nReader.prototype.bool = function read_bool() {\n    return this.uint32() !== 0;\n};\n\nfunction readFixed32_end(buf, end) { // note that this uses `end`, not `pos`\n    return (buf[end - 4]\n          | buf[end - 3] << 8\n          | buf[end - 2] << 16\n          | buf[end - 1] << 24) >>> 0;\n}\n\n/**\n * Reads fixed 32 bits as an unsigned 32 bit integer.\n * @returns {number} Value read\n */\nReader.prototype.fixed32 = function read_fixed32() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    return readFixed32_end(this.buf, this.pos += 4);\n};\n\n/**\n * Reads fixed 32 bits as a signed 32 bit integer.\n * @returns {number} Value read\n */\nReader.prototype.sfixed32 = function read_sfixed32() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    return readFixed32_end(this.buf, this.pos += 4) | 0;\n};\n\n/* eslint-disable no-invalid-this */\n\nfunction readFixed64(/* this: Reader */) {\n\n    /* istanbul ignore if */\n    if (this.pos + 8 > this.len)\n        throw indexOutOfRange(this, 8);\n\n    return new LongBits(readFixed32_end(this.buf, this.pos += 4), readFixed32_end(this.buf, this.pos += 4));\n}\n\n/* eslint-enable no-invalid-this */\n\n/**\n * Reads fixed 64 bits.\n * @name Reader#fixed64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads zig-zag encoded fixed 64 bits.\n * @name Reader#sfixed64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a float (32 bit) as a number.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.float = function read_float() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    var value = util.float.readFloatLE(this.buf, this.pos);\n    this.pos += 4;\n    return value;\n};\n\n/**\n * Reads a double (64 bit float) as a number.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.double = function read_double() {\n\n    /* istanbul ignore if */\n    if (this.pos + 8 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    var value = util.float.readDoubleLE(this.buf, this.pos);\n    this.pos += 8;\n    return value;\n};\n\n/**\n * Reads a sequence of bytes preceeded by its length as a varint.\n * @returns {Uint8Array} Value read\n */\nReader.prototype.bytes = function read_bytes() {\n    var length = this.uint32(),\n        start  = this.pos,\n        end    = this.pos + length;\n\n    /* istanbul ignore if */\n    if (end > this.len)\n        throw indexOutOfRange(this, length);\n\n    this.pos += length;\n    if (Array.isArray(this.buf)) // plain array\n        return this.buf.slice(start, end);\n    return start === end // fix for IE 10/Win8 and others' subarray returning array of size 1\n        ? new this.buf.constructor(0)\n        : this._slice.call(this.buf, start, end);\n};\n\n/**\n * Reads a string preceeded by its byte length as a varint.\n * @returns {string} Value read\n */\nReader.prototype.string = function read_string() {\n    var bytes = this.bytes();\n    return utf8.read(bytes, 0, bytes.length);\n};\n\n/**\n * Skips the specified number of bytes if specified, otherwise skips a varint.\n * @param {number} [length] Length if known, otherwise a varint is assumed\n * @returns {Reader} `this`\n */\nReader.prototype.skip = function skip(length) {\n    if (typeof length === \"number\") {\n        /* istanbul ignore if */\n        if (this.pos + length > this.len)\n            throw indexOutOfRange(this, length);\n        this.pos += length;\n    } else {\n        do {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n        } while (this.buf[this.pos++] & 128);\n    }\n    return this;\n};\n\n/**\n * Skips the next element of the specified wire type.\n * @param {number} wireType Wire type received\n * @returns {Reader} `this`\n */\nReader.prototype.skipType = function(wireType) {\n    switch (wireType) {\n        case 0:\n            this.skip();\n            break;\n        case 1:\n            this.skip(8);\n            break;\n        case 2:\n            this.skip(this.uint32());\n            break;\n        case 3:\n            while ((wireType = this.uint32() & 7) !== 4) {\n                this.skipType(wireType);\n            }\n            break;\n        case 5:\n            this.skip(4);\n            break;\n\n        /* istanbul ignore next */\n        default:\n            throw Error(\"invalid wire type \" + wireType + \" at offset \" + this.pos);\n    }\n    return this;\n};\n\nReader._configure = function(BufferReader_) {\n    BufferReader = BufferReader_;\n    Reader.create = create();\n    BufferReader._configure();\n\n    var fn = util.Long ? \"toLong\" : /* istanbul ignore next */ \"toNumber\";\n    util.merge(Reader.prototype, {\n\n        int64: function read_int64() {\n            return readLongVarint.call(this)[fn](false);\n        },\n\n        uint64: function read_uint64() {\n            return readLongVarint.call(this)[fn](true);\n        },\n\n        sint64: function read_sint64() {\n            return readLongVarint.call(this).zzDecode()[fn](false);\n        },\n\n        fixed64: function read_fixed64() {\n            return readFixed64.call(this)[fn](true);\n        },\n\n        sfixed64: function read_sfixed64() {\n            return readFixed64.call(this)[fn](false);\n        }\n\n    });\n};\n","\"use strict\";\nmodule.exports = BufferReader;\n\n// extends Reader\nvar Reader = require(\"./reader\");\n(BufferReader.prototype = Object.create(Reader.prototype)).constructor = BufferReader;\n\nvar util = require(\"./util/minimal\");\n\n/**\n * Constructs a new buffer reader instance.\n * @classdesc Wire format reader using node buffers.\n * @extends Reader\n * @constructor\n * @param {Buffer} buffer Buffer to read from\n */\nfunction BufferReader(buffer) {\n    Reader.call(this, buffer);\n\n    /**\n     * Read buffer.\n     * @name BufferReader#buf\n     * @type {Buffer}\n     */\n}\n\nBufferReader._configure = function () {\n    /* istanbul ignore else */\n    if (util.Buffer)\n        BufferReader.prototype._slice = util.Buffer.prototype.slice;\n};\n\n\n/**\n * @override\n */\nBufferReader.prototype.string = function read_string_buffer() {\n    var len = this.uint32(); // modifies pos\n    return this.buf.utf8Slice\n        ? this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + len, this.len))\n        : this.buf.toString(\"utf-8\", this.pos, this.pos = Math.min(this.pos + len, this.len));\n};\n\n/**\n * Reads a sequence of bytes preceeded by its length as a varint.\n * @name BufferReader#bytes\n * @function\n * @returns {Buffer} Value read\n */\n\nBufferReader._configure();\n","\"use strict\";\nmodule.exports = Root;\n\n// extends Namespace\nvar Namespace = require(\"./namespace\");\n((Root.prototype = Object.create(Namespace.prototype)).constructor = Root).className = \"Root\";\n\nvar Field   = require(\"./field\"),\n    Enum    = require(\"./enum\"),\n    OneOf   = require(\"./oneof\"),\n    util    = require(\"./util\");\n\nvar Type,   // cyclic\n    parse,  // might be excluded\n    common; // \"\n\n/**\n * Constructs a new root namespace instance.\n * @classdesc Root namespace wrapping all types, enums, services, sub-namespaces etc. that belong together.\n * @extends NamespaceBase\n * @constructor\n * @param {Object.<string,*>} [options] Top level options\n */\nfunction Root(options) {\n    Namespace.call(this, \"\", options);\n\n    /**\n     * Deferred extension fields.\n     * @type {Field[]}\n     */\n    this.deferred = [];\n\n    /**\n     * Resolved file names of loaded files.\n     * @type {string[]}\n     */\n    this.files = [];\n}\n\n/**\n * Loads a namespace descriptor into a root namespace.\n * @param {INamespace} json Nameespace descriptor\n * @param {Root} [root] Root namespace, defaults to create a new one if omitted\n * @returns {Root} Root namespace\n */\nRoot.fromJSON = function fromJSON(json, root) {\n    if (!root)\n        root = new Root();\n    if (json.options)\n        root.setOptions(json.options);\n    return root.addJSON(json.nested);\n};\n\n/**\n * Resolves the path of an imported file, relative to the importing origin.\n * This method exists so you can override it with your own logic in case your imports are scattered over multiple directories.\n * @function\n * @param {string} origin The file name of the importing file\n * @param {string} target The file name being imported\n * @returns {string|null} Resolved path to `target` or `null` to skip the file\n */\nRoot.prototype.resolvePath = util.path.resolve;\n\n/**\n * Fetch content from file path or url\n * This method exists so you can override it with your own logic.\n * @function\n * @param {string} path File path or url\n * @param {FetchCallback} callback Callback function\n * @returns {undefined}\n */\nRoot.prototype.fetch = util.fetch;\n\n// A symbol-like function to safely signal synchronous loading\n/* istanbul ignore next */\nfunction SYNC() {} // eslint-disable-line no-empty-function\n\n/**\n * Loads one or multiple .proto or preprocessed .json files into this root namespace and calls the callback.\n * @param {string|string[]} filename Names of one or multiple files to load\n * @param {IParseOptions} options Parse options\n * @param {LoadCallback} callback Callback function\n * @returns {undefined}\n */\nRoot.prototype.load = function load(filename, options, callback) {\n    if (typeof options === \"function\") {\n        callback = options;\n        options = undefined;\n    }\n    var self = this;\n    if (!callback)\n        return util.asPromise(load, self, filename, options);\n\n    var sync = callback === SYNC; // undocumented\n\n    // Finishes loading by calling the callback (exactly once)\n    function finish(err, root) {\n        /* istanbul ignore if */\n        if (!callback)\n            return;\n        var cb = callback;\n        callback = null;\n        if (sync)\n            throw err;\n        cb(err, root);\n    }\n\n    // Bundled definition existence checking\n    function getBundledFileName(filename) {\n        var idx = filename.lastIndexOf(\"google/protobuf/\");\n        if (idx > -1) {\n            var altname = filename.substring(idx);\n            if (altname in common) return altname;\n        }\n        return null;\n    }\n\n    // Processes a single file\n    function process(filename, source) {\n        try {\n            if (util.isString(source) && source.charAt(0) === \"{\")\n                source = JSON.parse(source);\n            if (!util.isString(source))\n                self.setOptions(source.options).addJSON(source.nested);\n            else {\n                parse.filename = filename;\n                var parsed = parse(source, self, options),\n                    resolved,\n                    i = 0;\n                if (parsed.imports)\n                    for (; i < parsed.imports.length; ++i)\n                        if (resolved = getBundledFileName(parsed.imports[i]) || self.resolvePath(filename, parsed.imports[i]))\n                            fetch(resolved);\n                if (parsed.weakImports)\n                    for (i = 0; i < parsed.weakImports.length; ++i)\n                        if (resolved = getBundledFileName(parsed.weakImports[i]) || self.resolvePath(filename, parsed.weakImports[i]))\n                            fetch(resolved, true);\n            }\n        } catch (err) {\n            finish(err);\n        }\n        if (!sync && !queued)\n            finish(null, self); // only once anyway\n    }\n\n    // Fetches a single file\n    function fetch(filename, weak) {\n        filename = getBundledFileName(filename) || filename;\n\n        // Skip if already loaded / attempted\n        if (self.files.indexOf(filename) > -1)\n            return;\n        self.files.push(filename);\n\n        // Shortcut bundled definitions\n        if (filename in common) {\n            if (sync)\n                process(filename, common[filename]);\n            else {\n                ++queued;\n                setTimeout(function() {\n                    --queued;\n                    process(filename, common[filename]);\n                });\n            }\n            return;\n        }\n\n        // Otherwise fetch from disk or network\n        if (sync) {\n            var source;\n            try {\n                source = util.fs.readFileSync(filename).toString(\"utf8\");\n            } catch (err) {\n                if (!weak)\n                    finish(err);\n                return;\n            }\n            process(filename, source);\n        } else {\n            ++queued;\n            self.fetch(filename, function(err, source) {\n                --queued;\n                /* istanbul ignore if */\n                if (!callback)\n                    return; // terminated meanwhile\n                if (err) {\n                    /* istanbul ignore else */\n                    if (!weak)\n                        finish(err);\n                    else if (!queued) // can't be covered reliably\n                        finish(null, self);\n                    return;\n                }\n                process(filename, source);\n            });\n        }\n    }\n    var queued = 0;\n\n    // Assembling the root namespace doesn't require working type\n    // references anymore, so we can load everything in parallel\n    if (util.isString(filename))\n        filename = [ filename ];\n    for (var i = 0, resolved; i < filename.length; ++i)\n        if (resolved = self.resolvePath(\"\", filename[i]))\n            fetch(resolved);\n\n    if (sync)\n        return self;\n    if (!queued)\n        finish(null, self);\n    return undefined;\n};\n// function load(filename:string, options:IParseOptions, callback:LoadCallback):undefined\n\n/**\n * Loads one or multiple .proto or preprocessed .json files into this root namespace and calls the callback.\n * @function Root#load\n * @param {string|string[]} filename Names of one or multiple files to load\n * @param {LoadCallback} callback Callback function\n * @returns {undefined}\n * @variation 2\n */\n// function load(filename:string, callback:LoadCallback):undefined\n\n/**\n * Loads one or multiple .proto or preprocessed .json files into this root namespace and returns a promise.\n * @function Root#load\n * @param {string|string[]} filename Names of one or multiple files to load\n * @param {IParseOptions} [options] Parse options. Defaults to {@link parse.defaults} when omitted.\n * @returns {Promise<Root>} Promise\n * @variation 3\n */\n// function load(filename:string, [options:IParseOptions]):Promise<Root>\n\n/**\n * Synchronously loads one or multiple .proto or preprocessed .json files into this root namespace (node only).\n * @function Root#loadSync\n * @param {string|string[]} filename Names of one or multiple files to load\n * @param {IParseOptions} [options] Parse options. Defaults to {@link parse.defaults} when omitted.\n * @returns {Root} Root namespace\n * @throws {Error} If synchronous fetching is not supported (i.e. in browsers) or if a file's syntax is invalid\n */\nRoot.prototype.loadSync = function loadSync(filename, options) {\n    if (!util.isNode)\n        throw Error(\"not supported\");\n    return this.load(filename, options, SYNC);\n};\n\n/**\n * @override\n */\nRoot.prototype.resolveAll = function resolveAll() {\n    if (this.deferred.length)\n        throw Error(\"unresolvable extensions: \" + this.deferred.map(function(field) {\n            return \"'extend \" + field.extend + \"' in \" + field.parent.fullName;\n        }).join(\", \"));\n    return Namespace.prototype.resolveAll.call(this);\n};\n\n// only uppercased (and thus conflict-free) children are exposed, see below\nvar exposeRe = /^[A-Z]/;\n\n/**\n * Handles a deferred declaring extension field by creating a sister field to represent it within its extended type.\n * @param {Root} root Root instance\n * @param {Field} field Declaring extension field witin the declaring type\n * @returns {boolean} `true` if successfully added to the extended type, `false` otherwise\n * @inner\n * @ignore\n */\nfunction tryHandleExtension(root, field) {\n    var extendedType = field.parent.lookup(field.extend);\n    if (extendedType) {\n        var sisterField = new Field(field.fullName, field.id, field.type, field.rule, undefined, field.options);\n        //do not allow to extend same field twice to prevent the error\n        if (extendedType.get(sisterField.name)) {\n            return true;\n        }\n        sisterField.declaringField = field;\n        field.extensionField = sisterField;\n        extendedType.add(sisterField);\n        return true;\n    }\n    return false;\n}\n\n/**\n * Called when any object is added to this root or its sub-namespaces.\n * @param {ReflectionObject} object Object added\n * @returns {undefined}\n * @private\n */\nRoot.prototype._handleAdd = function _handleAdd(object) {\n    if (object instanceof Field) {\n\n        if (/* an extension field (implies not part of a oneof) */ object.extend !== undefined && /* not already handled */ !object.extensionField)\n            if (!tryHandleExtension(this, object))\n                this.deferred.push(object);\n\n    } else if (object instanceof Enum) {\n\n        if (exposeRe.test(object.name))\n            object.parent[object.name] = object.values; // expose enum values as property of its parent\n\n    } else if (!(object instanceof OneOf)) /* everything else is a namespace */ {\n\n        if (object instanceof Type) // Try to handle any deferred extensions\n            for (var i = 0; i < this.deferred.length;)\n                if (tryHandleExtension(this, this.deferred[i]))\n                    this.deferred.splice(i, 1);\n                else\n                    ++i;\n        for (var j = 0; j < /* initializes */ object.nestedArray.length; ++j) // recurse into the namespace\n            this._handleAdd(object._nestedArray[j]);\n        if (exposeRe.test(object.name))\n            object.parent[object.name] = object; // expose namespace as property of its parent\n    }\n\n    // The above also adds uppercased (and thus conflict-free) nested types, services and enums as\n    // properties of namespaces just like static code does. This allows using a .d.ts generated for\n    // a static module with reflection-based solutions where the condition is met.\n};\n\n/**\n * Called when any object is removed from this root or its sub-namespaces.\n * @param {ReflectionObject} object Object removed\n * @returns {undefined}\n * @private\n */\nRoot.prototype._handleRemove = function _handleRemove(object) {\n    if (object instanceof Field) {\n\n        if (/* an extension field */ object.extend !== undefined) {\n            if (/* already handled */ object.extensionField) { // remove its sister field\n                object.extensionField.parent.remove(object.extensionField);\n                object.extensionField = null;\n            } else { // cancel the extension\n                var index = this.deferred.indexOf(object);\n                /* istanbul ignore else */\n                if (index > -1)\n                    this.deferred.splice(index, 1);\n            }\n        }\n\n    } else if (object instanceof Enum) {\n\n        if (exposeRe.test(object.name))\n            delete object.parent[object.name]; // unexpose enum values\n\n    } else if (object instanceof Namespace) {\n\n        for (var i = 0; i < /* initializes */ object.nestedArray.length; ++i) // recurse into the namespace\n            this._handleRemove(object._nestedArray[i]);\n\n        if (exposeRe.test(object.name))\n            delete object.parent[object.name]; // unexpose namespaces\n\n    }\n};\n\n// Sets up cyclic dependencies (called in index-light)\nRoot._configure = function(Type_, parse_, common_) {\n    Type   = Type_;\n    parse  = parse_;\n    common = common_;\n};\n","\"use strict\";\nmodule.exports = {};\n\n/**\n * Named roots.\n * This is where pbjs stores generated structures (the option `-r, --root` specifies a name).\n * Can also be used manually to make roots available across modules.\n * @name roots\n * @type {Object.<string,Root>}\n * @example\n * // pbjs -r myroot -o compiled.js ...\n *\n * // in another module:\n * require(\"./compiled.js\");\n *\n * // in any subsequent module:\n * var root = protobuf.roots[\"myroot\"];\n */\n","\"use strict\";\n\n/**\n * Streaming RPC helpers.\n * @namespace\n */\nvar rpc = exports;\n\n/**\n * RPC implementation passed to {@link Service#create} performing a service request on network level, i.e. by utilizing http requests or websockets.\n * @typedef RPCImpl\n * @type {function}\n * @param {Method|rpc.ServiceMethod<Message<{}>,Message<{}>>} method Reflected or static method being called\n * @param {Uint8Array} requestData Request data\n * @param {RPCImplCallback} callback Callback function\n * @returns {undefined}\n * @example\n * function rpcImpl(method, requestData, callback) {\n *     if (protobuf.util.lcFirst(method.name) !== \"myMethod\") // compatible with static code\n *         throw Error(\"no such method\");\n *     asynchronouslyObtainAResponse(requestData, function(err, responseData) {\n *         callback(err, responseData);\n *     });\n * }\n */\n\n/**\n * Node-style callback as used by {@link RPCImpl}.\n * @typedef RPCImplCallback\n * @type {function}\n * @param {Error|null} error Error, if any, otherwise `null`\n * @param {Uint8Array|null} [response] Response data or `null` to signal end of stream, if there hasn't been an error\n * @returns {undefined}\n */\n\nrpc.Service = require(\"./rpc/service\");\n","\"use strict\";\nmodule.exports = Service;\n\nvar util = require(\"../util/minimal\");\n\n// Extends EventEmitter\n(Service.prototype = Object.create(util.EventEmitter.prototype)).constructor = Service;\n\n/**\n * A service method callback as used by {@link rpc.ServiceMethod|ServiceMethod}.\n *\n * Differs from {@link RPCImplCallback} in that it is an actual callback of a service method which may not return `response = null`.\n * @typedef rpc.ServiceMethodCallback\n * @template TRes extends Message<TRes>\n * @type {function}\n * @param {Error|null} error Error, if any\n * @param {TRes} [response] Response message\n * @returns {undefined}\n */\n\n/**\n * A service method part of a {@link rpc.Service} as created by {@link Service.create}.\n * @typedef rpc.ServiceMethod\n * @template TReq extends Message<TReq>\n * @template TRes extends Message<TRes>\n * @type {function}\n * @param {TReq|Properties<TReq>} request Request message or plain object\n * @param {rpc.ServiceMethodCallback<TRes>} [callback] Node-style callback called with the error, if any, and the response message\n * @returns {Promise<Message<TRes>>} Promise if `callback` has been omitted, otherwise `undefined`\n */\n\n/**\n * Constructs a new RPC service instance.\n * @classdesc An RPC service as returned by {@link Service#create}.\n * @exports rpc.Service\n * @extends util.EventEmitter\n * @constructor\n * @param {RPCImpl} rpcImpl RPC implementation\n * @param {boolean} [requestDelimited=false] Whether requests are length-delimited\n * @param {boolean} [responseDelimited=false] Whether responses are length-delimited\n */\nfunction Service(rpcImpl, requestDelimited, responseDelimited) {\n\n    if (typeof rpcImpl !== \"function\")\n        throw TypeError(\"rpcImpl must be a function\");\n\n    util.EventEmitter.call(this);\n\n    /**\n     * RPC implementation. Becomes `null` once the service is ended.\n     * @type {RPCImpl|null}\n     */\n    this.rpcImpl = rpcImpl;\n\n    /**\n     * Whether requests are length-delimited.\n     * @type {boolean}\n     */\n    this.requestDelimited = Boolean(requestDelimited);\n\n    /**\n     * Whether responses are length-delimited.\n     * @type {boolean}\n     */\n    this.responseDelimited = Boolean(responseDelimited);\n}\n\n/**\n * Calls a service method through {@link rpc.Service#rpcImpl|rpcImpl}.\n * @param {Method|rpc.ServiceMethod<TReq,TRes>} method Reflected or static method\n * @param {Constructor<TReq>} requestCtor Request constructor\n * @param {Constructor<TRes>} responseCtor Response constructor\n * @param {TReq|Properties<TReq>} request Request message or plain object\n * @param {rpc.ServiceMethodCallback<TRes>} callback Service callback\n * @returns {undefined}\n * @template TReq extends Message<TReq>\n * @template TRes extends Message<TRes>\n */\nService.prototype.rpcCall = function rpcCall(method, requestCtor, responseCtor, request, callback) {\n\n    if (!request)\n        throw TypeError(\"request must be specified\");\n\n    var self = this;\n    if (!callback)\n        return util.asPromise(rpcCall, self, method, requestCtor, responseCtor, request);\n\n    if (!self.rpcImpl) {\n        setTimeout(function() { callback(Error(\"already ended\")); }, 0);\n        return undefined;\n    }\n\n    try {\n        return self.rpcImpl(\n            method,\n            requestCtor[self.requestDelimited ? \"encodeDelimited\" : \"encode\"](request).finish(),\n            function rpcCallback(err, response) {\n\n                if (err) {\n                    self.emit(\"error\", err, method);\n                    return callback(err);\n                }\n\n                if (response === null) {\n                    self.end(/* endedByRPC */ true);\n                    return undefined;\n                }\n\n                if (!(response instanceof responseCtor)) {\n                    try {\n                        response = responseCtor[self.responseDelimited ? \"decodeDelimited\" : \"decode\"](response);\n                    } catch (err) {\n                        self.emit(\"error\", err, method);\n                        return callback(err);\n                    }\n                }\n\n                self.emit(\"data\", response, method);\n                return callback(null, response);\n            }\n        );\n    } catch (err) {\n        self.emit(\"error\", err, method);\n        setTimeout(function() { callback(err); }, 0);\n        return undefined;\n    }\n};\n\n/**\n * Ends this service and emits the `end` event.\n * @param {boolean} [endedByRPC=false] Whether the service has been ended by the RPC implementation.\n * @returns {rpc.Service} `this`\n */\nService.prototype.end = function end(endedByRPC) {\n    if (this.rpcImpl) {\n        if (!endedByRPC) // signal end to rpcImpl\n            this.rpcImpl(null, null, null);\n        this.rpcImpl = null;\n        this.emit(\"end\").off();\n    }\n    return this;\n};\n","\"use strict\";\nmodule.exports = Service;\n\n// extends Namespace\nvar Namespace = require(\"./namespace\");\n((Service.prototype = Object.create(Namespace.prototype)).constructor = Service).className = \"Service\";\n\nvar Method = require(\"./method\"),\n    util   = require(\"./util\"),\n    rpc    = require(\"./rpc\");\n\n/**\n * Constructs a new service instance.\n * @classdesc Reflected service.\n * @extends NamespaceBase\n * @constructor\n * @param {string} name Service name\n * @param {Object.<string,*>} [options] Service options\n * @throws {TypeError} If arguments are invalid\n */\nfunction Service(name, options) {\n    Namespace.call(this, name, options);\n\n    /**\n     * Service methods.\n     * @type {Object.<string,Method>}\n     */\n    this.methods = {}; // toJSON, marker\n\n    /**\n     * Cached methods as an array.\n     * @type {Method[]|null}\n     * @private\n     */\n    this._methodsArray = null;\n}\n\n/**\n * Service descriptor.\n * @interface IService\n * @extends INamespace\n * @property {Object.<string,IMethod>} methods Method descriptors\n */\n\n/**\n * Constructs a service from a service descriptor.\n * @param {string} name Service name\n * @param {IService} json Service descriptor\n * @returns {Service} Created service\n * @throws {TypeError} If arguments are invalid\n */\nService.fromJSON = function fromJSON(name, json) {\n    var service = new Service(name, json.options);\n    /* istanbul ignore else */\n    if (json.methods)\n        for (var names = Object.keys(json.methods), i = 0; i < names.length; ++i)\n            service.add(Method.fromJSON(names[i], json.methods[names[i]]));\n    if (json.nested)\n        service.addJSON(json.nested);\n    service.comment = json.comment;\n    return service;\n};\n\n/**\n * Converts this service to a service descriptor.\n * @param {IToJSONOptions} [toJSONOptions] JSON conversion options\n * @returns {IService} Service descriptor\n */\nService.prototype.toJSON = function toJSON(toJSONOptions) {\n    var inherited = Namespace.prototype.toJSON.call(this, toJSONOptions);\n    var keepComments = toJSONOptions ? Boolean(toJSONOptions.keepComments) : false;\n    return util.toObject([\n        \"options\" , inherited && inherited.options || undefined,\n        \"methods\" , Namespace.arrayToJSON(this.methodsArray, toJSONOptions) || /* istanbul ignore next */ {},\n        \"nested\"  , inherited && inherited.nested || undefined,\n        \"comment\" , keepComments ? this.comment : undefined\n    ]);\n};\n\n/**\n * Methods of this service as an array for iteration.\n * @name Service#methodsArray\n * @type {Method[]}\n * @readonly\n */\nObject.defineProperty(Service.prototype, \"methodsArray\", {\n    get: function() {\n        return this._methodsArray || (this._methodsArray = util.toArray(this.methods));\n    }\n});\n\nfunction clearCache(service) {\n    service._methodsArray = null;\n    return service;\n}\n\n/**\n * @override\n */\nService.prototype.get = function get(name) {\n    return this.methods[name]\n        || Namespace.prototype.get.call(this, name);\n};\n\n/**\n * @override\n */\nService.prototype.resolveAll = function resolveAll() {\n    var methods = this.methodsArray;\n    for (var i = 0; i < methods.length; ++i)\n        methods[i].resolve();\n    return Namespace.prototype.resolve.call(this);\n};\n\n/**\n * @override\n */\nService.prototype.add = function add(object) {\n\n    /* istanbul ignore if */\n    if (this.get(object.name))\n        throw Error(\"duplicate name '\" + object.name + \"' in \" + this);\n\n    if (object instanceof Method) {\n        this.methods[object.name] = object;\n        object.parent = this;\n        return clearCache(this);\n    }\n    return Namespace.prototype.add.call(this, object);\n};\n\n/**\n * @override\n */\nService.prototype.remove = function remove(object) {\n    if (object instanceof Method) {\n\n        /* istanbul ignore if */\n        if (this.methods[object.name] !== object)\n            throw Error(object + \" is not a member of \" + this);\n\n        delete this.methods[object.name];\n        object.parent = null;\n        return clearCache(this);\n    }\n    return Namespace.prototype.remove.call(this, object);\n};\n\n/**\n * Creates a runtime service using the specified rpc implementation.\n * @param {RPCImpl} rpcImpl RPC implementation\n * @param {boolean} [requestDelimited=false] Whether requests are length-delimited\n * @param {boolean} [responseDelimited=false] Whether responses are length-delimited\n * @returns {rpc.Service} RPC service. Useful where requests and/or responses are streamed.\n */\nService.prototype.create = function create(rpcImpl, requestDelimited, responseDelimited) {\n    var rpcService = new rpc.Service(rpcImpl, requestDelimited, responseDelimited);\n    for (var i = 0, method; i < /* initializes */ this.methodsArray.length; ++i) {\n        var methodName = util.lcFirst((method = this._methodsArray[i]).resolve().name).replace(/[^$\\w_]/g, \"\");\n        rpcService[methodName] = util.codegen([\"r\",\"c\"], util.isReserved(methodName) ? methodName + \"_\" : methodName)(\"return this.rpcCall(m,q,s,r,c)\")({\n            m: method,\n            q: method.resolvedRequestType.ctor,\n            s: method.resolvedResponseType.ctor\n        });\n    }\n    return rpcService;\n};\n","\"use strict\";\nmodule.exports = tokenize;\n\nvar delimRe        = /[\\s{}=;:[\\],'\"()<>]/g,\n    stringDoubleRe = /(?:\"([^\"\\\\]*(?:\\\\.[^\"\\\\]*)*)\")/g,\n    stringSingleRe = /(?:'([^'\\\\]*(?:\\\\.[^'\\\\]*)*)')/g;\n\nvar setCommentRe = /^ *[*/]+ */,\n    setCommentAltRe = /^\\s*\\*?\\/*/,\n    setCommentSplitRe = /\\n/g,\n    whitespaceRe = /\\s/,\n    unescapeRe = /\\\\(.?)/g;\n\nvar unescapeMap = {\n    \"0\": \"\\0\",\n    \"r\": \"\\r\",\n    \"n\": \"\\n\",\n    \"t\": \"\\t\"\n};\n\n/**\n * Unescapes a string.\n * @param {string} str String to unescape\n * @returns {string} Unescaped string\n * @property {Object.<string,string>} map Special characters map\n * @memberof tokenize\n */\nfunction unescape(str) {\n    return str.replace(unescapeRe, function($0, $1) {\n        switch ($1) {\n            case \"\\\\\":\n            case \"\":\n                return $1;\n            default:\n                return unescapeMap[$1] || \"\";\n        }\n    });\n}\n\ntokenize.unescape = unescape;\n\n/**\n * Gets the next token and advances.\n * @typedef TokenizerHandleNext\n * @type {function}\n * @returns {string|null} Next token or `null` on eof\n */\n\n/**\n * Peeks for the next token.\n * @typedef TokenizerHandlePeek\n * @type {function}\n * @returns {string|null} Next token or `null` on eof\n */\n\n/**\n * Pushes a token back to the stack.\n * @typedef TokenizerHandlePush\n * @type {function}\n * @param {string} token Token\n * @returns {undefined}\n */\n\n/**\n * Skips the next token.\n * @typedef TokenizerHandleSkip\n * @type {function}\n * @param {string} expected Expected token\n * @param {boolean} [optional=false] If optional\n * @returns {boolean} Whether the token matched\n * @throws {Error} If the token didn't match and is not optional\n */\n\n/**\n * Gets the comment on the previous line or, alternatively, the line comment on the specified line.\n * @typedef TokenizerHandleCmnt\n * @type {function}\n * @param {number} [line] Line number\n * @returns {string|null} Comment text or `null` if none\n */\n\n/**\n * Handle object returned from {@link tokenize}.\n * @interface ITokenizerHandle\n * @property {TokenizerHandleNext} next Gets the next token and advances (`null` on eof)\n * @property {TokenizerHandlePeek} peek Peeks for the next token (`null` on eof)\n * @property {TokenizerHandlePush} push Pushes a token back to the stack\n * @property {TokenizerHandleSkip} skip Skips a token, returns its presence and advances or, if non-optional and not present, throws\n * @property {TokenizerHandleCmnt} cmnt Gets the comment on the previous line or the line comment on the specified line, if any\n * @property {number} line Current line number\n */\n\n/**\n * Tokenizes the given .proto source and returns an object with useful utility functions.\n * @param {string} source Source contents\n * @param {boolean} alternateCommentMode Whether we should activate alternate comment parsing mode.\n * @returns {ITokenizerHandle} Tokenizer handle\n */\nfunction tokenize(source, alternateCommentMode) {\n    /* eslint-disable callback-return */\n    source = source.toString();\n\n    var offset = 0,\n        length = source.length,\n        line = 1,\n        lastCommentLine = 0,\n        comments = {};\n\n    var stack = [];\n\n    var stringDelim = null;\n\n    /* istanbul ignore next */\n    /**\n     * Creates an error for illegal syntax.\n     * @param {string} subject Subject\n     * @returns {Error} Error created\n     * @inner\n     */\n    function illegal(subject) {\n        return Error(\"illegal \" + subject + \" (line \" + line + \")\");\n    }\n\n    /**\n     * Reads a string till its end.\n     * @returns {string} String read\n     * @inner\n     */\n    function readString() {\n        var re = stringDelim === \"'\" ? stringSingleRe : stringDoubleRe;\n        re.lastIndex = offset - 1;\n        var match = re.exec(source);\n        if (!match)\n            throw illegal(\"string\");\n        offset = re.lastIndex;\n        push(stringDelim);\n        stringDelim = null;\n        return unescape(match[1]);\n    }\n\n    /**\n     * Gets the character at `pos` within the source.\n     * @param {number} pos Position\n     * @returns {string} Character\n     * @inner\n     */\n    function charAt(pos) {\n        return source.charAt(pos);\n    }\n\n    /**\n     * Sets the current comment text.\n     * @param {number} start Start offset\n     * @param {number} end End offset\n     * @param {boolean} isLeading set if a leading comment\n     * @returns {undefined}\n     * @inner\n     */\n    function setComment(start, end, isLeading) {\n        var comment = {\n            type: source.charAt(start++),\n            lineEmpty: false,\n            leading: isLeading,\n        };\n        var lookback;\n        if (alternateCommentMode) {\n            lookback = 2;  // alternate comment parsing: \"//\" or \"/*\"\n        } else {\n            lookback = 3;  // \"///\" or \"/**\"\n        }\n        var commentOffset = start - lookback,\n            c;\n        do {\n            if (--commentOffset < 0 ||\n                    (c = source.charAt(commentOffset)) === \"\\n\") {\n                comment.lineEmpty = true;\n                break;\n            }\n        } while (c === \" \" || c === \"\\t\");\n        var lines = source\n            .substring(start, end)\n            .split(setCommentSplitRe);\n        for (var i = 0; i < lines.length; ++i)\n            lines[i] = lines[i]\n                .replace(alternateCommentMode ? setCommentAltRe : setCommentRe, \"\")\n                .trim();\n        comment.text = lines\n            .join(\"\\n\")\n            .trim();\n\n        comments[line] = comment;\n        lastCommentLine = line;\n    }\n\n    function isDoubleSlashCommentLine(startOffset) {\n        var endOffset = findEndOfLine(startOffset);\n\n        // see if remaining line matches comment pattern\n        var lineText = source.substring(startOffset, endOffset);\n        // look for 1 or 2 slashes since startOffset would already point past\n        // the first slash that started the comment.\n        var isComment = /^\\s*\\/{1,2}/.test(lineText);\n        return isComment;\n    }\n\n    function findEndOfLine(cursor) {\n        // find end of cursor's line\n        var endOffset = cursor;\n        while (endOffset < length && charAt(endOffset) !== \"\\n\") {\n            endOffset++;\n        }\n        return endOffset;\n    }\n\n    /**\n     * Obtains the next token.\n     * @returns {string|null} Next token or `null` on eof\n     * @inner\n     */\n    function next() {\n        if (stack.length > 0)\n            return stack.shift();\n        if (stringDelim)\n            return readString();\n        var repeat,\n            prev,\n            curr,\n            start,\n            isDoc,\n            isLeadingComment = offset === 0;\n        do {\n            if (offset === length)\n                return null;\n            repeat = false;\n            while (whitespaceRe.test(curr = charAt(offset))) {\n                if (curr === \"\\n\") {\n                    isLeadingComment = true;\n                    ++line;\n                }\n                if (++offset === length)\n                    return null;\n            }\n\n            if (charAt(offset) === \"/\") {\n                if (++offset === length) {\n                    throw illegal(\"comment\");\n                }\n                if (charAt(offset) === \"/\") { // Line\n                    if (!alternateCommentMode) {\n                        // check for triple-slash comment\n                        isDoc = charAt(start = offset + 1) === \"/\";\n\n                        while (charAt(++offset) !== \"\\n\") {\n                            if (offset === length) {\n                                return null;\n                            }\n                        }\n                        ++offset;\n                        if (isDoc) {\n                            setComment(start, offset - 1, isLeadingComment);\n                            // Trailing comment cannot not be multi-line,\n                            // so leading comment state should be reset to handle potential next comments\n                            isLeadingComment = true;\n                        }\n                        ++line;\n                        repeat = true;\n                    } else {\n                        // check for double-slash comments, consolidating consecutive lines\n                        start = offset;\n                        isDoc = false;\n                        if (isDoubleSlashCommentLine(offset)) {\n                            isDoc = true;\n                            do {\n                                offset = findEndOfLine(offset);\n                                if (offset === length) {\n                                    break;\n                                }\n                                offset++;\n                                if (!isLeadingComment) {\n                                    // Trailing comment cannot not be multi-line\n                                    break;\n                                }\n                            } while (isDoubleSlashCommentLine(offset));\n                        } else {\n                            offset = Math.min(length, findEndOfLine(offset) + 1);\n                        }\n                        if (isDoc) {\n                            setComment(start, offset, isLeadingComment);\n                            isLeadingComment = true;\n                        }\n                        line++;\n                        repeat = true;\n                    }\n                } else if ((curr = charAt(offset)) === \"*\") { /* Block */\n                    // check for /** (regular comment mode) or /* (alternate comment mode)\n                    start = offset + 1;\n                    isDoc = alternateCommentMode || charAt(start) === \"*\";\n                    do {\n                        if (curr === \"\\n\") {\n                            ++line;\n                        }\n                        if (++offset === length) {\n                            throw illegal(\"comment\");\n                        }\n                        prev = curr;\n                        curr = charAt(offset);\n                    } while (prev !== \"*\" || curr !== \"/\");\n                    ++offset;\n                    if (isDoc) {\n                        setComment(start, offset - 2, isLeadingComment);\n                        isLeadingComment = true;\n                    }\n                    repeat = true;\n                } else {\n                    return \"/\";\n                }\n            }\n        } while (repeat);\n\n        // offset !== length if we got here\n\n        var end = offset;\n        delimRe.lastIndex = 0;\n        var delim = delimRe.test(charAt(end++));\n        if (!delim)\n            while (end < length && !delimRe.test(charAt(end)))\n                ++end;\n        var token = source.substring(offset, offset = end);\n        if (token === \"\\\"\" || token === \"'\")\n            stringDelim = token;\n        return token;\n    }\n\n    /**\n     * Pushes a token back to the stack.\n     * @param {string} token Token\n     * @returns {undefined}\n     * @inner\n     */\n    function push(token) {\n        stack.push(token);\n    }\n\n    /**\n     * Peeks for the next token.\n     * @returns {string|null} Token or `null` on eof\n     * @inner\n     */\n    function peek() {\n        if (!stack.length) {\n            var token = next();\n            if (token === null)\n                return null;\n            push(token);\n        }\n        return stack[0];\n    }\n\n    /**\n     * Skips a token.\n     * @param {string} expected Expected token\n     * @param {boolean} [optional=false] Whether the token is optional\n     * @returns {boolean} `true` when skipped, `false` if not\n     * @throws {Error} When a required token is not present\n     * @inner\n     */\n    function skip(expected, optional) {\n        var actual = peek(),\n            equals = actual === expected;\n        if (equals) {\n            next();\n            return true;\n        }\n        if (!optional)\n            throw illegal(\"token '\" + actual + \"', '\" + expected + \"' expected\");\n        return false;\n    }\n\n    /**\n     * Gets a comment.\n     * @param {number} [trailingLine] Line number if looking for a trailing comment\n     * @returns {string|null} Comment text\n     * @inner\n     */\n    function cmnt(trailingLine) {\n        var ret = null;\n        var comment;\n        if (trailingLine === undefined) {\n            comment = comments[line - 1];\n            delete comments[line - 1];\n            if (comment && (alternateCommentMode || comment.type === \"*\" || comment.lineEmpty)) {\n                ret = comment.leading ? comment.text : null;\n            }\n        } else {\n            /* istanbul ignore else */\n            if (lastCommentLine < trailingLine) {\n                peek();\n            }\n            comment = comments[trailingLine];\n            delete comments[trailingLine];\n            if (comment && !comment.lineEmpty && (alternateCommentMode || comment.type === \"/\")) {\n                ret = comment.leading ? null : comment.text;\n            }\n        }\n        return ret;\n    }\n\n    return Object.defineProperty({\n        next: next,\n        peek: peek,\n        push: push,\n        skip: skip,\n        cmnt: cmnt\n    }, \"line\", {\n        get: function() { return line; }\n    });\n    /* eslint-enable callback-return */\n}\n","\"use strict\";\nmodule.exports = Type;\n\n// extends Namespace\nvar Namespace = require(\"./namespace\");\n((Type.prototype = Object.create(Namespace.prototype)).constructor = Type).className = \"Type\";\n\nvar Enum      = require(\"./enum\"),\n    OneOf     = require(\"./oneof\"),\n    Field     = require(\"./field\"),\n    MapField  = require(\"./mapfield\"),\n    Service   = require(\"./service\"),\n    Message   = require(\"./message\"),\n    Reader    = require(\"./reader\"),\n    Writer    = require(\"./writer\"),\n    util      = require(\"./util\"),\n    encoder   = require(\"./encoder\"),\n    decoder   = require(\"./decoder\"),\n    verifier  = require(\"./verifier\"),\n    converter = require(\"./converter\"),\n    wrappers  = require(\"./wrappers\");\n\n/**\n * Constructs a new reflected message type instance.\n * @classdesc Reflected message type.\n * @extends NamespaceBase\n * @constructor\n * @param {string} name Message name\n * @param {Object.<string,*>} [options] Declared options\n */\nfunction Type(name, options) {\n    Namespace.call(this, name, options);\n\n    /**\n     * Message fields.\n     * @type {Object.<string,Field>}\n     */\n    this.fields = {};  // toJSON, marker\n\n    /**\n     * Oneofs declared within this namespace, if any.\n     * @type {Object.<string,OneOf>}\n     */\n    this.oneofs = undefined; // toJSON\n\n    /**\n     * Extension ranges, if any.\n     * @type {number[][]}\n     */\n    this.extensions = undefined; // toJSON\n\n    /**\n     * Reserved ranges, if any.\n     * @type {Array.<number[]|string>}\n     */\n    this.reserved = undefined; // toJSON\n\n    /*?\n     * Whether this type is a legacy group.\n     * @type {boolean|undefined}\n     */\n    this.group = undefined; // toJSON\n\n    /**\n     * Cached fields by id.\n     * @type {Object.<number,Field>|null}\n     * @private\n     */\n    this._fieldsById = null;\n\n    /**\n     * Cached fields as an array.\n     * @type {Field[]|null}\n     * @private\n     */\n    this._fieldsArray = null;\n\n    /**\n     * Cached oneofs as an array.\n     * @type {OneOf[]|null}\n     * @private\n     */\n    this._oneofsArray = null;\n\n    /**\n     * Cached constructor.\n     * @type {Constructor<{}>}\n     * @private\n     */\n    this._ctor = null;\n}\n\nObject.defineProperties(Type.prototype, {\n\n    /**\n     * Message fields by id.\n     * @name Type#fieldsById\n     * @type {Object.<number,Field>}\n     * @readonly\n     */\n    fieldsById: {\n        get: function() {\n\n            /* istanbul ignore if */\n            if (this._fieldsById)\n                return this._fieldsById;\n\n            this._fieldsById = {};\n            for (var names = Object.keys(this.fields), i = 0; i < names.length; ++i) {\n                var field = this.fields[names[i]],\n                    id = field.id;\n\n                /* istanbul ignore if */\n                if (this._fieldsById[id])\n                    throw Error(\"duplicate id \" + id + \" in \" + this);\n\n                this._fieldsById[id] = field;\n            }\n            return this._fieldsById;\n        }\n    },\n\n    /**\n     * Fields of this message as an array for iteration.\n     * @name Type#fieldsArray\n     * @type {Field[]}\n     * @readonly\n     */\n    fieldsArray: {\n        get: function() {\n            return this._fieldsArray || (this._fieldsArray = util.toArray(this.fields));\n        }\n    },\n\n    /**\n     * Oneofs of this message as an array for iteration.\n     * @name Type#oneofsArray\n     * @type {OneOf[]}\n     * @readonly\n     */\n    oneofsArray: {\n        get: function() {\n            return this._oneofsArray || (this._oneofsArray = util.toArray(this.oneofs));\n        }\n    },\n\n    /**\n     * The registered constructor, if any registered, otherwise a generic constructor.\n     * Assigning a function replaces the internal constructor. If the function does not extend {@link Message} yet, its prototype will be setup accordingly and static methods will be populated. If it already extends {@link Message}, it will just replace the internal constructor.\n     * @name Type#ctor\n     * @type {Constructor<{}>}\n     */\n    ctor: {\n        get: function() {\n            return this._ctor || (this.ctor = Type.generateConstructor(this)());\n        },\n        set: function(ctor) {\n\n            // Ensure proper prototype\n            var prototype = ctor.prototype;\n            if (!(prototype instanceof Message)) {\n                (ctor.prototype = new Message()).constructor = ctor;\n                util.merge(ctor.prototype, prototype);\n            }\n\n            // Classes and messages reference their reflected type\n            ctor.$type = ctor.prototype.$type = this;\n\n            // Mix in static methods\n            util.merge(ctor, Message, true);\n\n            this._ctor = ctor;\n\n            // Messages have non-enumerable default values on their prototype\n            var i = 0;\n            for (; i < /* initializes */ this.fieldsArray.length; ++i)\n                this._fieldsArray[i].resolve(); // ensures a proper value\n\n            // Messages have non-enumerable getters and setters for each virtual oneof field\n            var ctorProperties = {};\n            for (i = 0; i < /* initializes */ this.oneofsArray.length; ++i)\n                ctorProperties[this._oneofsArray[i].resolve().name] = {\n                    get: util.oneOfGetter(this._oneofsArray[i].oneof),\n                    set: util.oneOfSetter(this._oneofsArray[i].oneof)\n                };\n            if (i)\n                Object.defineProperties(ctor.prototype, ctorProperties);\n        }\n    }\n});\n\n/**\n * Generates a constructor function for the specified type.\n * @param {Type} mtype Message type\n * @returns {Codegen} Codegen instance\n */\nType.generateConstructor = function generateConstructor(mtype) {\n    /* eslint-disable no-unexpected-multiline */\n    var gen = util.codegen([\"p\"], mtype.name);\n    // explicitly initialize mutable object/array fields so that these aren't just inherited from the prototype\n    for (var i = 0, field; i < mtype.fieldsArray.length; ++i)\n        if ((field = mtype._fieldsArray[i]).map) gen\n            (\"this%s={}\", util.safeProp(field.name));\n        else if (field.repeated) gen\n            (\"this%s=[]\", util.safeProp(field.name));\n    return gen\n    (\"if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)\") // omit undefined or null\n        (\"this[ks[i]]=p[ks[i]]\");\n    /* eslint-enable no-unexpected-multiline */\n};\n\nfunction clearCache(type) {\n    type._fieldsById = type._fieldsArray = type._oneofsArray = null;\n    delete type.encode;\n    delete type.decode;\n    delete type.verify;\n    return type;\n}\n\n/**\n * Message type descriptor.\n * @interface IType\n * @extends INamespace\n * @property {Object.<string,IOneOf>} [oneofs] Oneof descriptors\n * @property {Object.<string,IField>} fields Field descriptors\n * @property {number[][]} [extensions] Extension ranges\n * @property {number[][]} [reserved] Reserved ranges\n * @property {boolean} [group=false] Whether a legacy group or not\n */\n\n/**\n * Creates a message type from a message type descriptor.\n * @param {string} name Message name\n * @param {IType} json Message type descriptor\n * @returns {Type} Created message type\n */\nType.fromJSON = function fromJSON(name, json) {\n    var type = new Type(name, json.options);\n    type.extensions = json.extensions;\n    type.reserved = json.reserved;\n    var names = Object.keys(json.fields),\n        i = 0;\n    for (; i < names.length; ++i)\n        type.add(\n            ( typeof json.fields[names[i]].keyType !== \"undefined\"\n            ? MapField.fromJSON\n            : Field.fromJSON )(names[i], json.fields[names[i]])\n        );\n    if (json.oneofs)\n        for (names = Object.keys(json.oneofs), i = 0; i < names.length; ++i)\n            type.add(OneOf.fromJSON(names[i], json.oneofs[names[i]]));\n    if (json.nested)\n        for (names = Object.keys(json.nested), i = 0; i < names.length; ++i) {\n            var nested = json.nested[names[i]];\n            type.add( // most to least likely\n                ( nested.id !== undefined\n                ? Field.fromJSON\n                : nested.fields !== undefined\n                ? Type.fromJSON\n                : nested.values !== undefined\n                ? Enum.fromJSON\n                : nested.methods !== undefined\n                ? Service.fromJSON\n                : Namespace.fromJSON )(names[i], nested)\n            );\n        }\n    if (json.extensions && json.extensions.length)\n        type.extensions = json.extensions;\n    if (json.reserved && json.reserved.length)\n        type.reserved = json.reserved;\n    if (json.group)\n        type.group = true;\n    if (json.comment)\n        type.comment = json.comment;\n    return type;\n};\n\n/**\n * Converts this message type to a message type descriptor.\n * @param {IToJSONOptions} [toJSONOptions] JSON conversion options\n * @returns {IType} Message type descriptor\n */\nType.prototype.toJSON = function toJSON(toJSONOptions) {\n    var inherited = Namespace.prototype.toJSON.call(this, toJSONOptions);\n    var keepComments = toJSONOptions ? Boolean(toJSONOptions.keepComments) : false;\n    return util.toObject([\n        \"options\"    , inherited && inherited.options || undefined,\n        \"oneofs\"     , Namespace.arrayToJSON(this.oneofsArray, toJSONOptions),\n        \"fields\"     , Namespace.arrayToJSON(this.fieldsArray.filter(function(obj) { return !obj.declaringField; }), toJSONOptions) || {},\n        \"extensions\" , this.extensions && this.extensions.length ? this.extensions : undefined,\n        \"reserved\"   , this.reserved && this.reserved.length ? this.reserved : undefined,\n        \"group\"      , this.group || undefined,\n        \"nested\"     , inherited && inherited.nested || undefined,\n        \"comment\"    , keepComments ? this.comment : undefined\n    ]);\n};\n\n/**\n * @override\n */\nType.prototype.resolveAll = function resolveAll() {\n    var fields = this.fieldsArray, i = 0;\n    while (i < fields.length)\n        fields[i++].resolve();\n    var oneofs = this.oneofsArray; i = 0;\n    while (i < oneofs.length)\n        oneofs[i++].resolve();\n    return Namespace.prototype.resolveAll.call(this);\n};\n\n/**\n * @override\n */\nType.prototype.get = function get(name) {\n    return this.fields[name]\n        || this.oneofs && this.oneofs[name]\n        || this.nested && this.nested[name]\n        || null;\n};\n\n/**\n * Adds a nested object to this type.\n * @param {ReflectionObject} object Nested object to add\n * @returns {Type} `this`\n * @throws {TypeError} If arguments are invalid\n * @throws {Error} If there is already a nested object with this name or, if a field, when there is already a field with this id\n */\nType.prototype.add = function add(object) {\n\n    if (this.get(object.name))\n        throw Error(\"duplicate name '\" + object.name + \"' in \" + this);\n\n    if (object instanceof Field && object.extend === undefined) {\n        // NOTE: Extension fields aren't actual fields on the declaring type, but nested objects.\n        // The root object takes care of adding distinct sister-fields to the respective extended\n        // type instead.\n\n        // avoids calling the getter if not absolutely necessary because it's called quite frequently\n        if (this._fieldsById ? /* istanbul ignore next */ this._fieldsById[object.id] : this.fieldsById[object.id])\n            throw Error(\"duplicate id \" + object.id + \" in \" + this);\n        if (this.isReservedId(object.id))\n            throw Error(\"id \" + object.id + \" is reserved in \" + this);\n        if (this.isReservedName(object.name))\n            throw Error(\"name '\" + object.name + \"' is reserved in \" + this);\n\n        if (object.parent)\n            object.parent.remove(object);\n        this.fields[object.name] = object;\n        object.message = this;\n        object.onAdd(this);\n        return clearCache(this);\n    }\n    if (object instanceof OneOf) {\n        if (!this.oneofs)\n            this.oneofs = {};\n        this.oneofs[object.name] = object;\n        object.onAdd(this);\n        return clearCache(this);\n    }\n    return Namespace.prototype.add.call(this, object);\n};\n\n/**\n * Removes a nested object from this type.\n * @param {ReflectionObject} object Nested object to remove\n * @returns {Type} `this`\n * @throws {TypeError} If arguments are invalid\n * @throws {Error} If `object` is not a member of this type\n */\nType.prototype.remove = function remove(object) {\n    if (object instanceof Field && object.extend === undefined) {\n        // See Type#add for the reason why extension fields are excluded here.\n\n        /* istanbul ignore if */\n        if (!this.fields || this.fields[object.name] !== object)\n            throw Error(object + \" is not a member of \" + this);\n\n        delete this.fields[object.name];\n        object.parent = null;\n        object.onRemove(this);\n        return clearCache(this);\n    }\n    if (object instanceof OneOf) {\n\n        /* istanbul ignore if */\n        if (!this.oneofs || this.oneofs[object.name] !== object)\n            throw Error(object + \" is not a member of \" + this);\n\n        delete this.oneofs[object.name];\n        object.parent = null;\n        object.onRemove(this);\n        return clearCache(this);\n    }\n    return Namespace.prototype.remove.call(this, object);\n};\n\n/**\n * Tests if the specified id is reserved.\n * @param {number} id Id to test\n * @returns {boolean} `true` if reserved, otherwise `false`\n */\nType.prototype.isReservedId = function isReservedId(id) {\n    return Namespace.isReservedId(this.reserved, id);\n};\n\n/**\n * Tests if the specified name is reserved.\n * @param {string} name Name to test\n * @returns {boolean} `true` if reserved, otherwise `false`\n */\nType.prototype.isReservedName = function isReservedName(name) {\n    return Namespace.isReservedName(this.reserved, name);\n};\n\n/**\n * Creates a new message of this type using the specified properties.\n * @param {Object.<string,*>} [properties] Properties to set\n * @returns {Message<{}>} Message instance\n */\nType.prototype.create = function create(properties) {\n    return new this.ctor(properties);\n};\n\n/**\n * Sets up {@link Type#encode|encode}, {@link Type#decode|decode} and {@link Type#verify|verify}.\n * @returns {Type} `this`\n */\nType.prototype.setup = function setup() {\n    // Sets up everything at once so that the prototype chain does not have to be re-evaluated\n    // multiple times (V8, soft-deopt prototype-check).\n\n    var fullName = this.fullName,\n        types    = [];\n    for (var i = 0; i < /* initializes */ this.fieldsArray.length; ++i)\n        types.push(this._fieldsArray[i].resolve().resolvedType);\n\n    // Replace setup methods with type-specific generated functions\n    this.encode = encoder(this)({\n        Writer : Writer,\n        types  : types,\n        util   : util\n    });\n    this.decode = decoder(this)({\n        Reader : Reader,\n        types  : types,\n        util   : util\n    });\n    this.verify = verifier(this)({\n        types : types,\n        util  : util\n    });\n    this.fromObject = converter.fromObject(this)({\n        types : types,\n        util  : util\n    });\n    this.toObject = converter.toObject(this)({\n        types : types,\n        util  : util\n    });\n\n    // Inject custom wrappers for common types\n    var wrapper = wrappers[fullName];\n    if (wrapper) {\n        var originalThis = Object.create(this);\n        // if (wrapper.fromObject) {\n            originalThis.fromObject = this.fromObject;\n            this.fromObject = wrapper.fromObject.bind(originalThis);\n        // }\n        // if (wrapper.toObject) {\n            originalThis.toObject = this.toObject;\n            this.toObject = wrapper.toObject.bind(originalThis);\n        // }\n    }\n\n    return this;\n};\n\n/**\n * Encodes a message of this type. Does not implicitly {@link Type#verify|verify} messages.\n * @param {Message<{}>|Object.<string,*>} message Message instance or plain object\n * @param {Writer} [writer] Writer to encode to\n * @returns {Writer} writer\n */\nType.prototype.encode = function encode_setup(message, writer) {\n    return this.setup().encode(message, writer); // overrides this method\n};\n\n/**\n * Encodes a message of this type preceeded by its byte length as a varint. Does not implicitly {@link Type#verify|verify} messages.\n * @param {Message<{}>|Object.<string,*>} message Message instance or plain object\n * @param {Writer} [writer] Writer to encode to\n * @returns {Writer} writer\n */\nType.prototype.encodeDelimited = function encodeDelimited(message, writer) {\n    return this.encode(message, writer && writer.len ? writer.fork() : writer).ldelim();\n};\n\n/**\n * Decodes a message of this type.\n * @param {Reader|Uint8Array} reader Reader or buffer to decode from\n * @param {number} [length] Length of the message, if known beforehand\n * @returns {Message<{}>} Decoded message\n * @throws {Error} If the payload is not a reader or valid buffer\n * @throws {util.ProtocolError<{}>} If required fields are missing\n */\nType.prototype.decode = function decode_setup(reader, length) {\n    return this.setup().decode(reader, length); // overrides this method\n};\n\n/**\n * Decodes a message of this type preceeded by its byte length as a varint.\n * @param {Reader|Uint8Array} reader Reader or buffer to decode from\n * @returns {Message<{}>} Decoded message\n * @throws {Error} If the payload is not a reader or valid buffer\n * @throws {util.ProtocolError} If required fields are missing\n */\nType.prototype.decodeDelimited = function decodeDelimited(reader) {\n    if (!(reader instanceof Reader))\n        reader = Reader.create(reader);\n    return this.decode(reader, reader.uint32());\n};\n\n/**\n * Verifies that field values are valid and that required fields are present.\n * @param {Object.<string,*>} message Plain object to verify\n * @returns {null|string} `null` if valid, otherwise the reason why it is not\n */\nType.prototype.verify = function verify_setup(message) {\n    return this.setup().verify(message); // overrides this method\n};\n\n/**\n * Creates a new message of this type from a plain object. Also converts values to their respective internal types.\n * @param {Object.<string,*>} object Plain object to convert\n * @returns {Message<{}>} Message instance\n */\nType.prototype.fromObject = function fromObject(object) {\n    return this.setup().fromObject(object);\n};\n\n/**\n * Conversion options as used by {@link Type#toObject} and {@link Message.toObject}.\n * @interface IConversionOptions\n * @property {Function} [longs] Long conversion type.\n * Valid values are `String` and `Number` (the global types).\n * Defaults to copy the present value, which is a possibly unsafe number without and a {@link Long} with a long library.\n * @property {Function} [enums] Enum value conversion type.\n * Only valid value is `String` (the global type).\n * Defaults to copy the present value, which is the numeric id.\n * @property {Function} [bytes] Bytes value conversion type.\n * Valid values are `Array` and (a base64 encoded) `String` (the global types).\n * Defaults to copy the present value, which usually is a Buffer under node and an Uint8Array in the browser.\n * @property {boolean} [defaults=false] Also sets default values on the resulting object\n * @property {boolean} [arrays=false] Sets empty arrays for missing repeated fields even if `defaults=false`\n * @property {boolean} [objects=false] Sets empty objects for missing map fields even if `defaults=false`\n * @property {boolean} [oneofs=false] Includes virtual oneof properties set to the present field's name, if any\n * @property {boolean} [json=false] Performs additional JSON compatibility conversions, i.e. NaN and Infinity to strings\n */\n\n/**\n * Creates a plain object from a message of this type. Also converts values to other types if specified.\n * @param {Message<{}>} message Message instance\n * @param {IConversionOptions} [options] Conversion options\n * @returns {Object.<string,*>} Plain object\n */\nType.prototype.toObject = function toObject(message, options) {\n    return this.setup().toObject(message, options);\n};\n\n/**\n * Decorator function as returned by {@link Type.d} (TypeScript).\n * @typedef TypeDecorator\n * @type {function}\n * @param {Constructor<T>} target Target constructor\n * @returns {undefined}\n * @template T extends Message<T>\n */\n\n/**\n * Type decorator (TypeScript).\n * @param {string} [typeName] Type name, defaults to the constructor's name\n * @returns {TypeDecorator<T>} Decorator function\n * @template T extends Message<T>\n */\nType.d = function decorateType(typeName) {\n    return function typeDecorator(target) {\n        util.decorateType(target, typeName);\n    };\n};\n","\"use strict\";\n\n/**\n * Common type constants.\n * @namespace\n */\nvar types = exports;\n\nvar util = require(\"./util\");\n\nvar s = [\n    \"double\",   // 0\n    \"float\",    // 1\n    \"int32\",    // 2\n    \"uint32\",   // 3\n    \"sint32\",   // 4\n    \"fixed32\",  // 5\n    \"sfixed32\", // 6\n    \"int64\",    // 7\n    \"uint64\",   // 8\n    \"sint64\",   // 9\n    \"fixed64\",  // 10\n    \"sfixed64\", // 11\n    \"bool\",     // 12\n    \"string\",   // 13\n    \"bytes\"     // 14\n];\n\nfunction bake(values, offset) {\n    var i = 0, o = {};\n    offset |= 0;\n    while (i < values.length) o[s[i + offset]] = values[i++];\n    return o;\n}\n\n/**\n * Basic type wire types.\n * @type {Object.<string,number>}\n * @const\n * @property {number} double=1 Fixed64 wire type\n * @property {number} float=5 Fixed32 wire type\n * @property {number} int32=0 Varint wire type\n * @property {number} uint32=0 Varint wire type\n * @property {number} sint32=0 Varint wire type\n * @property {number} fixed32=5 Fixed32 wire type\n * @property {number} sfixed32=5 Fixed32 wire type\n * @property {number} int64=0 Varint wire type\n * @property {number} uint64=0 Varint wire type\n * @property {number} sint64=0 Varint wire type\n * @property {number} fixed64=1 Fixed64 wire type\n * @property {number} sfixed64=1 Fixed64 wire type\n * @property {number} bool=0 Varint wire type\n * @property {number} string=2 Ldelim wire type\n * @property {number} bytes=2 Ldelim wire type\n */\ntypes.basic = bake([\n    /* double   */ 1,\n    /* float    */ 5,\n    /* int32    */ 0,\n    /* uint32   */ 0,\n    /* sint32   */ 0,\n    /* fixed32  */ 5,\n    /* sfixed32 */ 5,\n    /* int64    */ 0,\n    /* uint64   */ 0,\n    /* sint64   */ 0,\n    /* fixed64  */ 1,\n    /* sfixed64 */ 1,\n    /* bool     */ 0,\n    /* string   */ 2,\n    /* bytes    */ 2\n]);\n\n/**\n * Basic type defaults.\n * @type {Object.<string,*>}\n * @const\n * @property {number} double=0 Double default\n * @property {number} float=0 Float default\n * @property {number} int32=0 Int32 default\n * @property {number} uint32=0 Uint32 default\n * @property {number} sint32=0 Sint32 default\n * @property {number} fixed32=0 Fixed32 default\n * @property {number} sfixed32=0 Sfixed32 default\n * @property {number} int64=0 Int64 default\n * @property {number} uint64=0 Uint64 default\n * @property {number} sint64=0 Sint32 default\n * @property {number} fixed64=0 Fixed64 default\n * @property {number} sfixed64=0 Sfixed64 default\n * @property {boolean} bool=false Bool default\n * @property {string} string=\"\" String default\n * @property {Array.<number>} bytes=Array(0) Bytes default\n * @property {null} message=null Message default\n */\ntypes.defaults = bake([\n    /* double   */ 0,\n    /* float    */ 0,\n    /* int32    */ 0,\n    /* uint32   */ 0,\n    /* sint32   */ 0,\n    /* fixed32  */ 0,\n    /* sfixed32 */ 0,\n    /* int64    */ 0,\n    /* uint64   */ 0,\n    /* sint64   */ 0,\n    /* fixed64  */ 0,\n    /* sfixed64 */ 0,\n    /* bool     */ false,\n    /* string   */ \"\",\n    /* bytes    */ util.emptyArray,\n    /* message  */ null\n]);\n\n/**\n * Basic long type wire types.\n * @type {Object.<string,number>}\n * @const\n * @property {number} int64=0 Varint wire type\n * @property {number} uint64=0 Varint wire type\n * @property {number} sint64=0 Varint wire type\n * @property {number} fixed64=1 Fixed64 wire type\n * @property {number} sfixed64=1 Fixed64 wire type\n */\ntypes.long = bake([\n    /* int64    */ 0,\n    /* uint64   */ 0,\n    /* sint64   */ 0,\n    /* fixed64  */ 1,\n    /* sfixed64 */ 1\n], 7);\n\n/**\n * Allowed types for map keys with their associated wire type.\n * @type {Object.<string,number>}\n * @const\n * @property {number} int32=0 Varint wire type\n * @property {number} uint32=0 Varint wire type\n * @property {number} sint32=0 Varint wire type\n * @property {number} fixed32=5 Fixed32 wire type\n * @property {number} sfixed32=5 Fixed32 wire type\n * @property {number} int64=0 Varint wire type\n * @property {number} uint64=0 Varint wire type\n * @property {number} sint64=0 Varint wire type\n * @property {number} fixed64=1 Fixed64 wire type\n * @property {number} sfixed64=1 Fixed64 wire type\n * @property {number} bool=0 Varint wire type\n * @property {number} string=2 Ldelim wire type\n */\ntypes.mapKey = bake([\n    /* int32    */ 0,\n    /* uint32   */ 0,\n    /* sint32   */ 0,\n    /* fixed32  */ 5,\n    /* sfixed32 */ 5,\n    /* int64    */ 0,\n    /* uint64   */ 0,\n    /* sint64   */ 0,\n    /* fixed64  */ 1,\n    /* sfixed64 */ 1,\n    /* bool     */ 0,\n    /* string   */ 2\n], 2);\n\n/**\n * Allowed types for packed repeated fields with their associated wire type.\n * @type {Object.<string,number>}\n * @const\n * @property {number} double=1 Fixed64 wire type\n * @property {number} float=5 Fixed32 wire type\n * @property {number} int32=0 Varint wire type\n * @property {number} uint32=0 Varint wire type\n * @property {number} sint32=0 Varint wire type\n * @property {number} fixed32=5 Fixed32 wire type\n * @property {number} sfixed32=5 Fixed32 wire type\n * @property {number} int64=0 Varint wire type\n * @property {number} uint64=0 Varint wire type\n * @property {number} sint64=0 Varint wire type\n * @property {number} fixed64=1 Fixed64 wire type\n * @property {number} sfixed64=1 Fixed64 wire type\n * @property {number} bool=0 Varint wire type\n */\ntypes.packed = bake([\n    /* double   */ 1,\n    /* float    */ 5,\n    /* int32    */ 0,\n    /* uint32   */ 0,\n    /* sint32   */ 0,\n    /* fixed32  */ 5,\n    /* sfixed32 */ 5,\n    /* int64    */ 0,\n    /* uint64   */ 0,\n    /* sint64   */ 0,\n    /* fixed64  */ 1,\n    /* sfixed64 */ 1,\n    /* bool     */ 0\n]);\n","\"use strict\";\n\n/**\n * Various utility functions.\n * @namespace\n */\nvar util = module.exports = require(\"./util/minimal\");\n\nvar roots = require(\"./roots\");\n\nvar Type, // cyclic\n    Enum;\n\nutil.codegen = require(\"@protobufjs/codegen\");\nutil.fetch   = require(\"@protobufjs/fetch\");\nutil.path    = require(\"@protobufjs/path\");\n\n/**\n * Node's fs module if available.\n * @type {Object.<string,*>}\n */\nutil.fs = util.inquire(\"fs\");\n\n/**\n * Converts an object's values to an array.\n * @param {Object.<string,*>} object Object to convert\n * @returns {Array.<*>} Converted array\n */\nutil.toArray = function toArray(object) {\n    if (object) {\n        var keys  = Object.keys(object),\n            array = new Array(keys.length),\n            index = 0;\n        while (index < keys.length)\n            array[index] = object[keys[index++]];\n        return array;\n    }\n    return [];\n};\n\n/**\n * Converts an array of keys immediately followed by their respective value to an object, omitting undefined values.\n * @param {Array.<*>} array Array to convert\n * @returns {Object.<string,*>} Converted object\n */\nutil.toObject = function toObject(array) {\n    var object = {},\n        index  = 0;\n    while (index < array.length) {\n        var key = array[index++],\n            val = array[index++];\n        if (val !== undefined)\n            object[key] = val;\n    }\n    return object;\n};\n\nvar safePropBackslashRe = /\\\\/g,\n    safePropQuoteRe     = /\"/g;\n\n/**\n * Tests whether the specified name is a reserved word in JS.\n * @param {string} name Name to test\n * @returns {boolean} `true` if reserved, otherwise `false`\n */\nutil.isReserved = function isReserved(name) {\n    return /^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(name);\n};\n\n/**\n * Returns a safe property accessor for the specified property name.\n * @param {string} prop Property name\n * @returns {string} Safe accessor\n */\nutil.safeProp = function safeProp(prop) {\n    if (!/^[$\\w_]+$/.test(prop) || util.isReserved(prop))\n        return \"[\\\"\" + prop.replace(safePropBackslashRe, \"\\\\\\\\\").replace(safePropQuoteRe, \"\\\\\\\"\") + \"\\\"]\";\n    return \".\" + prop;\n};\n\n/**\n * Converts the first character of a string to upper case.\n * @param {string} str String to convert\n * @returns {string} Converted string\n */\nutil.ucFirst = function ucFirst(str) {\n    return str.charAt(0).toUpperCase() + str.substring(1);\n};\n\nvar camelCaseRe = /_([a-z])/g;\n\n/**\n * Converts a string to camel case.\n * @param {string} str String to convert\n * @returns {string} Converted string\n */\nutil.camelCase = function camelCase(str) {\n    return str.substring(0, 1)\n         + str.substring(1)\n               .replace(camelCaseRe, function($0, $1) { return $1.toUpperCase(); });\n};\n\n/**\n * Compares reflected fields by id.\n * @param {Field} a First field\n * @param {Field} b Second field\n * @returns {number} Comparison value\n */\nutil.compareFieldsById = function compareFieldsById(a, b) {\n    return a.id - b.id;\n};\n\n/**\n * Decorator helper for types (TypeScript).\n * @param {Constructor<T>} ctor Constructor function\n * @param {string} [typeName] Type name, defaults to the constructor's name\n * @returns {Type} Reflected type\n * @template T extends Message<T>\n * @property {Root} root Decorators root\n */\nutil.decorateType = function decorateType(ctor, typeName) {\n\n    /* istanbul ignore if */\n    if (ctor.$type) {\n        if (typeName && ctor.$type.name !== typeName) {\n            util.decorateRoot.remove(ctor.$type);\n            ctor.$type.name = typeName;\n            util.decorateRoot.add(ctor.$type);\n        }\n        return ctor.$type;\n    }\n\n    /* istanbul ignore next */\n    if (!Type)\n        Type = require(\"./type\");\n\n    var type = new Type(typeName || ctor.name);\n    util.decorateRoot.add(type);\n    type.ctor = ctor; // sets up .encode, .decode etc.\n    Object.defineProperty(ctor, \"$type\", { value: type, enumerable: false });\n    Object.defineProperty(ctor.prototype, \"$type\", { value: type, enumerable: false });\n    return type;\n};\n\nvar decorateEnumIndex = 0;\n\n/**\n * Decorator helper for enums (TypeScript).\n * @param {Object} object Enum object\n * @returns {Enum} Reflected enum\n */\nutil.decorateEnum = function decorateEnum(object) {\n\n    /* istanbul ignore if */\n    if (object.$type)\n        return object.$type;\n\n    /* istanbul ignore next */\n    if (!Enum)\n        Enum = require(\"./enum\");\n\n    var enm = new Enum(\"Enum\" + decorateEnumIndex++, object);\n    util.decorateRoot.add(enm);\n    Object.defineProperty(object, \"$type\", { value: enm, enumerable: false });\n    return enm;\n};\n\n\n/**\n * Sets the value of a property by property path. If a value already exists, it is turned to an array\n * @param {Object.<string,*>} dst Destination object\n * @param {string} path dot '.' delimited path of the property to set\n * @param {Object} value the value to set\n * @returns {Object.<string,*>} Destination object\n */\nutil.setProperty = function setProperty(dst, path, value) {\n    function setProp(dst, path, value) {\n        var part = path.shift();\n        if (part === \"__proto__\") {\n          return dst;\n        }\n        if (path.length > 0) {\n            dst[part] = setProp(dst[part] || {}, path, value);\n        } else {\n            var prevValue = dst[part];\n            if (prevValue)\n                value = [].concat(prevValue).concat(value);\n            dst[part] = value;\n        }\n        return dst;\n    }\n\n    if (typeof dst !== \"object\")\n        throw TypeError(\"dst must be an object\");\n    if (!path)\n        throw TypeError(\"path must be specified\");\n\n    path = path.split(\".\");\n    return setProp(dst, path, value);\n};\n\n/**\n * Decorator root (TypeScript).\n * @name util.decorateRoot\n * @type {Root}\n * @readonly\n */\nObject.defineProperty(util, \"decorateRoot\", {\n    get: function() {\n        return roots[\"decorated\"] || (roots[\"decorated\"] = new (require(\"./root\"))());\n    }\n});\n","\"use strict\";\nmodule.exports = LongBits;\n\nvar util = require(\"../util/minimal\");\n\n/**\n * Constructs new long bits.\n * @classdesc Helper class for working with the low and high bits of a 64 bit value.\n * @memberof util\n * @constructor\n * @param {number} lo Low 32 bits, unsigned\n * @param {number} hi High 32 bits, unsigned\n */\nfunction LongBits(lo, hi) {\n\n    // note that the casts below are theoretically unnecessary as of today, but older statically\n    // generated converter code might still call the ctor with signed 32bits. kept for compat.\n\n    /**\n     * Low bits.\n     * @type {number}\n     */\n    this.lo = lo >>> 0;\n\n    /**\n     * High bits.\n     * @type {number}\n     */\n    this.hi = hi >>> 0;\n}\n\n/**\n * Zero bits.\n * @memberof util.LongBits\n * @type {util.LongBits}\n */\nvar zero = LongBits.zero = new LongBits(0, 0);\n\nzero.toNumber = function() { return 0; };\nzero.zzEncode = zero.zzDecode = function() { return this; };\nzero.length = function() { return 1; };\n\n/**\n * Zero hash.\n * @memberof util.LongBits\n * @type {string}\n */\nvar zeroHash = LongBits.zeroHash = \"\\0\\0\\0\\0\\0\\0\\0\\0\";\n\n/**\n * Constructs new long bits from the specified number.\n * @param {number} value Value\n * @returns {util.LongBits} Instance\n */\nLongBits.fromNumber = function fromNumber(value) {\n    if (value === 0)\n        return zero;\n    var sign = value < 0;\n    if (sign)\n        value = -value;\n    var lo = value >>> 0,\n        hi = (value - lo) / 4294967296 >>> 0;\n    if (sign) {\n        hi = ~hi >>> 0;\n        lo = ~lo >>> 0;\n        if (++lo > 4294967295) {\n            lo = 0;\n            if (++hi > 4294967295)\n                hi = 0;\n        }\n    }\n    return new LongBits(lo, hi);\n};\n\n/**\n * Constructs new long bits from a number, long or string.\n * @param {Long|number|string} value Value\n * @returns {util.LongBits} Instance\n */\nLongBits.from = function from(value) {\n    if (typeof value === \"number\")\n        return LongBits.fromNumber(value);\n    if (util.isString(value)) {\n        /* istanbul ignore else */\n        if (util.Long)\n            value = util.Long.fromString(value);\n        else\n            return LongBits.fromNumber(parseInt(value, 10));\n    }\n    return value.low || value.high ? new LongBits(value.low >>> 0, value.high >>> 0) : zero;\n};\n\n/**\n * Converts this long bits to a possibly unsafe JavaScript number.\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {number} Possibly unsafe number\n */\nLongBits.prototype.toNumber = function toNumber(unsigned) {\n    if (!unsigned && this.hi >>> 31) {\n        var lo = ~this.lo + 1 >>> 0,\n            hi = ~this.hi     >>> 0;\n        if (!lo)\n            hi = hi + 1 >>> 0;\n        return -(lo + hi * 4294967296);\n    }\n    return this.lo + this.hi * 4294967296;\n};\n\n/**\n * Converts this long bits to a long.\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {Long} Long\n */\nLongBits.prototype.toLong = function toLong(unsigned) {\n    return util.Long\n        ? new util.Long(this.lo | 0, this.hi | 0, Boolean(unsigned))\n        /* istanbul ignore next */\n        : { low: this.lo | 0, high: this.hi | 0, unsigned: Boolean(unsigned) };\n};\n\nvar charCodeAt = String.prototype.charCodeAt;\n\n/**\n * Constructs new long bits from the specified 8 characters long hash.\n * @param {string} hash Hash\n * @returns {util.LongBits} Bits\n */\nLongBits.fromHash = function fromHash(hash) {\n    if (hash === zeroHash)\n        return zero;\n    return new LongBits(\n        ( charCodeAt.call(hash, 0)\n        | charCodeAt.call(hash, 1) << 8\n        | charCodeAt.call(hash, 2) << 16\n        | charCodeAt.call(hash, 3) << 24) >>> 0\n    ,\n        ( charCodeAt.call(hash, 4)\n        | charCodeAt.call(hash, 5) << 8\n        | charCodeAt.call(hash, 6) << 16\n        | charCodeAt.call(hash, 7) << 24) >>> 0\n    );\n};\n\n/**\n * Converts this long bits to a 8 characters long hash.\n * @returns {string} Hash\n */\nLongBits.prototype.toHash = function toHash() {\n    return String.fromCharCode(\n        this.lo        & 255,\n        this.lo >>> 8  & 255,\n        this.lo >>> 16 & 255,\n        this.lo >>> 24      ,\n        this.hi        & 255,\n        this.hi >>> 8  & 255,\n        this.hi >>> 16 & 255,\n        this.hi >>> 24\n    );\n};\n\n/**\n * Zig-zag encodes this long bits.\n * @returns {util.LongBits} `this`\n */\nLongBits.prototype.zzEncode = function zzEncode() {\n    var mask =   this.hi >> 31;\n    this.hi  = ((this.hi << 1 | this.lo >>> 31) ^ mask) >>> 0;\n    this.lo  = ( this.lo << 1                   ^ mask) >>> 0;\n    return this;\n};\n\n/**\n * Zig-zag decodes this long bits.\n * @returns {util.LongBits} `this`\n */\nLongBits.prototype.zzDecode = function zzDecode() {\n    var mask = -(this.lo & 1);\n    this.lo  = ((this.lo >>> 1 | this.hi << 31) ^ mask) >>> 0;\n    this.hi  = ( this.hi >>> 1                  ^ mask) >>> 0;\n    return this;\n};\n\n/**\n * Calculates the length of this longbits when encoded as a varint.\n * @returns {number} Length\n */\nLongBits.prototype.length = function length() {\n    var part0 =  this.lo,\n        part1 = (this.lo >>> 28 | this.hi << 4) >>> 0,\n        part2 =  this.hi >>> 24;\n    return part2 === 0\n         ? part1 === 0\n           ? part0 < 16384\n             ? part0 < 128 ? 1 : 2\n             : part0 < 2097152 ? 3 : 4\n           : part1 < 16384\n             ? part1 < 128 ? 5 : 6\n             : part1 < 2097152 ? 7 : 8\n         : part2 < 128 ? 9 : 10;\n};\n","\"use strict\";\nvar util = exports;\n\n// used to return a Promise where callback is omitted\nutil.asPromise = require(\"@protobufjs/aspromise\");\n\n// converts to / from base64 encoded strings\nutil.base64 = require(\"@protobufjs/base64\");\n\n// base class of rpc.Service\nutil.EventEmitter = require(\"@protobufjs/eventemitter\");\n\n// float handling accross browsers\nutil.float = require(\"@protobufjs/float\");\n\n// requires modules optionally and hides the call from bundlers\nutil.inquire = require(\"@protobufjs/inquire\");\n\n// converts to / from utf8 encoded strings\nutil.utf8 = require(\"@protobufjs/utf8\");\n\n// provides a node-like buffer pool in the browser\nutil.pool = require(\"@protobufjs/pool\");\n\n// utility to work with the low and high bits of a 64 bit value\nutil.LongBits = require(\"./longbits\");\n\n/**\n * Whether running within node or not.\n * @memberof util\n * @type {boolean}\n */\nutil.isNode = Boolean(typeof global !== \"undefined\"\n                   && global\n                   && global.process\n                   && global.process.versions\n                   && global.process.versions.node);\n\n/**\n * Global object reference.\n * @memberof util\n * @type {Object}\n */\nutil.global = util.isNode && global\n           || typeof window !== \"undefined\" && window\n           || typeof self   !== \"undefined\" && self\n           || this; // eslint-disable-line no-invalid-this\n\n/**\n * An immuable empty array.\n * @memberof util\n * @type {Array.<*>}\n * @const\n */\nutil.emptyArray = Object.freeze ? Object.freeze([]) : /* istanbul ignore next */ []; // used on prototypes\n\n/**\n * An immutable empty object.\n * @type {Object}\n * @const\n */\nutil.emptyObject = Object.freeze ? Object.freeze({}) : /* istanbul ignore next */ {}; // used on prototypes\n\n/**\n * Tests if the specified value is an integer.\n * @function\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is an integer\n */\nutil.isInteger = Number.isInteger || /* istanbul ignore next */ function isInteger(value) {\n    return typeof value === \"number\" && isFinite(value) && Math.floor(value) === value;\n};\n\n/**\n * Tests if the specified value is a string.\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is a string\n */\nutil.isString = function isString(value) {\n    return typeof value === \"string\" || value instanceof String;\n};\n\n/**\n * Tests if the specified value is a non-null object.\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is a non-null object\n */\nutil.isObject = function isObject(value) {\n    return value && typeof value === \"object\";\n};\n\n/**\n * Checks if a property on a message is considered to be present.\n * This is an alias of {@link util.isSet}.\n * @function\n * @param {Object} obj Plain object or message instance\n * @param {string} prop Property name\n * @returns {boolean} `true` if considered to be present, otherwise `false`\n */\nutil.isset =\n\n/**\n * Checks if a property on a message is considered to be present.\n * @param {Object} obj Plain object or message instance\n * @param {string} prop Property name\n * @returns {boolean} `true` if considered to be present, otherwise `false`\n */\nutil.isSet = function isSet(obj, prop) {\n    var value = obj[prop];\n    if (value != null && obj.hasOwnProperty(prop)) // eslint-disable-line eqeqeq, no-prototype-builtins\n        return typeof value !== \"object\" || (Array.isArray(value) ? value.length : Object.keys(value).length) > 0;\n    return false;\n};\n\n/**\n * Any compatible Buffer instance.\n * This is a minimal stand-alone definition of a Buffer instance. The actual type is that exported by node's typings.\n * @interface Buffer\n * @extends Uint8Array\n */\n\n/**\n * Node's Buffer class if available.\n * @type {Constructor<Buffer>}\n */\nutil.Buffer = (function() {\n    try {\n        var Buffer = util.inquire(\"buffer\").Buffer;\n        // refuse to use non-node buffers if not explicitly assigned (perf reasons):\n        return Buffer.prototype.utf8Write ? Buffer : /* istanbul ignore next */ null;\n    } catch (e) {\n        /* istanbul ignore next */\n        return null;\n    }\n})();\n\n// Internal alias of or polyfull for Buffer.from.\nutil._Buffer_from = null;\n\n// Internal alias of or polyfill for Buffer.allocUnsafe.\nutil._Buffer_allocUnsafe = null;\n\n/**\n * Creates a new buffer of whatever type supported by the environment.\n * @param {number|number[]} [sizeOrArray=0] Buffer size or number array\n * @returns {Uint8Array|Buffer} Buffer\n */\nutil.newBuffer = function newBuffer(sizeOrArray) {\n    /* istanbul ignore next */\n    return typeof sizeOrArray === \"number\"\n        ? util.Buffer\n            ? util._Buffer_allocUnsafe(sizeOrArray)\n            : new util.Array(sizeOrArray)\n        : util.Buffer\n            ? util._Buffer_from(sizeOrArray)\n            : typeof Uint8Array === \"undefined\"\n                ? sizeOrArray\n                : new Uint8Array(sizeOrArray);\n};\n\n/**\n * Array implementation used in the browser. `Uint8Array` if supported, otherwise `Array`.\n * @type {Constructor<Uint8Array>}\n */\nutil.Array = typeof Uint8Array !== \"undefined\" ? Uint8Array /* istanbul ignore next */ : Array;\n\n/**\n * Any compatible Long instance.\n * This is a minimal stand-alone definition of a Long instance. The actual type is that exported by long.js.\n * @interface Long\n * @property {number} low Low bits\n * @property {number} high High bits\n * @property {boolean} unsigned Whether unsigned or not\n */\n\n/**\n * Long.js's Long class if available.\n * @type {Constructor<Long>}\n */\nutil.Long = /* istanbul ignore next */ util.global.dcodeIO && /* istanbul ignore next */ util.global.dcodeIO.Long\n         || /* istanbul ignore next */ util.global.Long\n         || util.inquire(\"long\");\n\n/**\n * Regular expression used to verify 2 bit (`bool`) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key2Re = /^true|false|0|1$/;\n\n/**\n * Regular expression used to verify 32 bit (`int32` etc.) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key32Re = /^-?(?:0|[1-9][0-9]*)$/;\n\n/**\n * Regular expression used to verify 64 bit (`int64` etc.) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key64Re = /^(?:[\\\\x00-\\\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;\n\n/**\n * Converts a number or long to an 8 characters long hash string.\n * @param {Long|number} value Value to convert\n * @returns {string} Hash\n */\nutil.longToHash = function longToHash(value) {\n    return value\n        ? util.LongBits.from(value).toHash()\n        : util.LongBits.zeroHash;\n};\n\n/**\n * Converts an 8 characters long hash string to a long or number.\n * @param {string} hash Hash\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {Long|number} Original value\n */\nutil.longFromHash = function longFromHash(hash, unsigned) {\n    var bits = util.LongBits.fromHash(hash);\n    if (util.Long)\n        return util.Long.fromBits(bits.lo, bits.hi, unsigned);\n    return bits.toNumber(Boolean(unsigned));\n};\n\n/**\n * Merges the properties of the source object into the destination object.\n * @memberof util\n * @param {Object.<string,*>} dst Destination object\n * @param {Object.<string,*>} src Source object\n * @param {boolean} [ifNotSet=false] Merges only if the key is not already set\n * @returns {Object.<string,*>} Destination object\n */\nfunction merge(dst, src, ifNotSet) { // used by converters\n    for (var keys = Object.keys(src), i = 0; i < keys.length; ++i)\n        if (dst[keys[i]] === undefined || !ifNotSet)\n            dst[keys[i]] = src[keys[i]];\n    return dst;\n}\n\nutil.merge = merge;\n\n/**\n * Converts the first character of a string to lower case.\n * @param {string} str String to convert\n * @returns {string} Converted string\n */\nutil.lcFirst = function lcFirst(str) {\n    return str.charAt(0).toLowerCase() + str.substring(1);\n};\n\n/**\n * Creates a custom error constructor.\n * @memberof util\n * @param {string} name Error name\n * @returns {Constructor<Error>} Custom error constructor\n */\nfunction newError(name) {\n\n    function CustomError(message, properties) {\n\n        if (!(this instanceof CustomError))\n            return new CustomError(message, properties);\n\n        // Error.call(this, message);\n        // ^ just returns a new error instance because the ctor can be called as a function\n\n        Object.defineProperty(this, \"message\", { get: function() { return message; } });\n\n        /* istanbul ignore next */\n        if (Error.captureStackTrace) // node\n            Error.captureStackTrace(this, CustomError);\n        else\n            Object.defineProperty(this, \"stack\", { value: new Error().stack || \"\" });\n\n        if (properties)\n            merge(this, properties);\n    }\n\n    CustomError.prototype = Object.create(Error.prototype, {\n        constructor: {\n            value: CustomError,\n            writable: true,\n            enumerable: false,\n            configurable: true,\n        },\n        name: {\n            get: function get() { return name; },\n            set: undefined,\n            enumerable: false,\n            // configurable: false would accurately preserve the behavior of\n            // the original, but I'm guessing that was not intentional.\n            // For an actual error subclass, this property would\n            // be configurable.\n            configurable: true,\n        },\n        toString: {\n            value: function value() { return this.name + \": \" + this.message; },\n            writable: true,\n            enumerable: false,\n            configurable: true,\n        },\n    });\n\n    return CustomError;\n}\n\nutil.newError = newError;\n\n/**\n * Constructs a new protocol error.\n * @classdesc Error subclass indicating a protocol specifc error.\n * @memberof util\n * @extends Error\n * @template T extends Message<T>\n * @constructor\n * @param {string} message Error message\n * @param {Object.<string,*>} [properties] Additional properties\n * @example\n * try {\n *     MyMessage.decode(someBuffer); // throws if required fields are missing\n * } catch (e) {\n *     if (e instanceof ProtocolError && e.instance)\n *         console.log(\"decoded so far: \" + JSON.stringify(e.instance));\n * }\n */\nutil.ProtocolError = newError(\"ProtocolError\");\n\n/**\n * So far decoded message instance.\n * @name util.ProtocolError#instance\n * @type {Message<T>}\n */\n\n/**\n * A OneOf getter as returned by {@link util.oneOfGetter}.\n * @typedef OneOfGetter\n * @type {function}\n * @returns {string|undefined} Set field name, if any\n */\n\n/**\n * Builds a getter for a oneof's present field name.\n * @param {string[]} fieldNames Field names\n * @returns {OneOfGetter} Unbound getter\n */\nutil.oneOfGetter = function getOneOf(fieldNames) {\n    var fieldMap = {};\n    for (var i = 0; i < fieldNames.length; ++i)\n        fieldMap[fieldNames[i]] = 1;\n\n    /**\n     * @returns {string|undefined} Set field name, if any\n     * @this Object\n     * @ignore\n     */\n    return function() { // eslint-disable-line consistent-return\n        for (var keys = Object.keys(this), i = keys.length - 1; i > -1; --i)\n            if (fieldMap[keys[i]] === 1 && this[keys[i]] !== undefined && this[keys[i]] !== null)\n                return keys[i];\n    };\n};\n\n/**\n * A OneOf setter as returned by {@link util.oneOfSetter}.\n * @typedef OneOfSetter\n * @type {function}\n * @param {string|undefined} value Field name\n * @returns {undefined}\n */\n\n/**\n * Builds a setter for a oneof's present field name.\n * @param {string[]} fieldNames Field names\n * @returns {OneOfSetter} Unbound setter\n */\nutil.oneOfSetter = function setOneOf(fieldNames) {\n\n    /**\n     * @param {string} name Field name\n     * @returns {undefined}\n     * @this Object\n     * @ignore\n     */\n    return function(name) {\n        for (var i = 0; i < fieldNames.length; ++i)\n            if (fieldNames[i] !== name)\n                delete this[fieldNames[i]];\n    };\n};\n\n/**\n * Default conversion options used for {@link Message#toJSON} implementations.\n *\n * These options are close to proto3's JSON mapping with the exception that internal types like Any are handled just like messages. More precisely:\n *\n * - Longs become strings\n * - Enums become string keys\n * - Bytes become base64 encoded strings\n * - (Sub-)Messages become plain objects\n * - Maps become plain objects with all string keys\n * - Repeated fields become arrays\n * - NaN and Infinity for float and double fields become strings\n *\n * @type {IConversionOptions}\n * @see https://developers.google.com/protocol-buffers/docs/proto3?hl=en#json\n */\nutil.toJSONOptions = {\n    longs: String,\n    enums: String,\n    bytes: String,\n    json: true\n};\n\n// Sets up buffer utility according to the environment (called in index-minimal)\nutil._configure = function() {\n    var Buffer = util.Buffer;\n    /* istanbul ignore if */\n    if (!Buffer) {\n        util._Buffer_from = util._Buffer_allocUnsafe = null;\n        return;\n    }\n    // because node 4.x buffers are incompatible & immutable\n    // see: https://github.com/dcodeIO/protobuf.js/pull/665\n    util._Buffer_from = Buffer.from !== Uint8Array.from && Buffer.from ||\n        /* istanbul ignore next */\n        function Buffer_from(value, encoding) {\n            return new Buffer(value, encoding);\n        };\n    util._Buffer_allocUnsafe = Buffer.allocUnsafe ||\n        /* istanbul ignore next */\n        function Buffer_allocUnsafe(size) {\n            return new Buffer(size);\n        };\n};\n","\"use strict\";\nmodule.exports = verifier;\n\nvar Enum      = require(\"./enum\"),\n    util      = require(\"./util\");\n\nfunction invalid(field, expected) {\n    return field.name + \": \" + expected + (field.repeated && expected !== \"array\" ? \"[]\" : field.map && expected !== \"object\" ? \"{k:\"+field.keyType+\"}\" : \"\") + \" expected\";\n}\n\n/**\n * Generates a partial value verifier.\n * @param {Codegen} gen Codegen instance\n * @param {Field} field Reflected field\n * @param {number} fieldIndex Field index\n * @param {string} ref Variable reference\n * @returns {Codegen} Codegen instance\n * @ignore\n */\nfunction genVerifyValue(gen, field, fieldIndex, ref) {\n    /* eslint-disable no-unexpected-multiline */\n    if (field.resolvedType) {\n        if (field.resolvedType instanceof Enum) { gen\n            (\"switch(%s){\", ref)\n                (\"default:\")\n                    (\"return%j\", invalid(field, \"enum value\"));\n            for (var keys = Object.keys(field.resolvedType.values), j = 0; j < keys.length; ++j) gen\n                (\"case %i:\", field.resolvedType.values[keys[j]]);\n            gen\n                    (\"break\")\n            (\"}\");\n        } else {\n            gen\n            (\"{\")\n                (\"var e=types[%i].verify(%s);\", fieldIndex, ref)\n                (\"if(e)\")\n                    (\"return%j+e\", field.name + \".\")\n            (\"}\");\n        }\n    } else {\n        switch (field.type) {\n            case \"int32\":\n            case \"uint32\":\n            case \"sint32\":\n            case \"fixed32\":\n            case \"sfixed32\": gen\n                (\"if(!util.isInteger(%s))\", ref)\n                    (\"return%j\", invalid(field, \"integer\"));\n                break;\n            case \"int64\":\n            case \"uint64\":\n            case \"sint64\":\n            case \"fixed64\":\n            case \"sfixed64\": gen\n                (\"if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))\", ref, ref, ref, ref)\n                    (\"return%j\", invalid(field, \"integer|Long\"));\n                break;\n            case \"float\":\n            case \"double\": gen\n                (\"if(typeof %s!==\\\"number\\\")\", ref)\n                    (\"return%j\", invalid(field, \"number\"));\n                break;\n            case \"bool\": gen\n                (\"if(typeof %s!==\\\"boolean\\\")\", ref)\n                    (\"return%j\", invalid(field, \"boolean\"));\n                break;\n            case \"string\": gen\n                (\"if(!util.isString(%s))\", ref)\n                    (\"return%j\", invalid(field, \"string\"));\n                break;\n            case \"bytes\": gen\n                (\"if(!(%s&&typeof %s.length===\\\"number\\\"||util.isString(%s)))\", ref, ref, ref)\n                    (\"return%j\", invalid(field, \"buffer\"));\n                break;\n        }\n    }\n    return gen;\n    /* eslint-enable no-unexpected-multiline */\n}\n\n/**\n * Generates a partial key verifier.\n * @param {Codegen} gen Codegen instance\n * @param {Field} field Reflected field\n * @param {string} ref Variable reference\n * @returns {Codegen} Codegen instance\n * @ignore\n */\nfunction genVerifyKey(gen, field, ref) {\n    /* eslint-disable no-unexpected-multiline */\n    switch (field.keyType) {\n        case \"int32\":\n        case \"uint32\":\n        case \"sint32\":\n        case \"fixed32\":\n        case \"sfixed32\": gen\n            (\"if(!util.key32Re.test(%s))\", ref)\n                (\"return%j\", invalid(field, \"integer key\"));\n            break;\n        case \"int64\":\n        case \"uint64\":\n        case \"sint64\":\n        case \"fixed64\":\n        case \"sfixed64\": gen\n            (\"if(!util.key64Re.test(%s))\", ref) // see comment above: x is ok, d is not\n                (\"return%j\", invalid(field, \"integer|Long key\"));\n            break;\n        case \"bool\": gen\n            (\"if(!util.key2Re.test(%s))\", ref)\n                (\"return%j\", invalid(field, \"boolean key\"));\n            break;\n    }\n    return gen;\n    /* eslint-enable no-unexpected-multiline */\n}\n\n/**\n * Generates a verifier specific to the specified message type.\n * @param {Type} mtype Message type\n * @returns {Codegen} Codegen instance\n */\nfunction verifier(mtype) {\n    /* eslint-disable no-unexpected-multiline */\n\n    var gen = util.codegen([\"m\"], mtype.name + \"$verify\")\n    (\"if(typeof m!==\\\"object\\\"||m===null)\")\n        (\"return%j\", \"object expected\");\n    var oneofs = mtype.oneofsArray,\n        seenFirstField = {};\n    if (oneofs.length) gen\n    (\"var p={}\");\n\n    for (var i = 0; i < /* initializes */ mtype.fieldsArray.length; ++i) {\n        var field = mtype._fieldsArray[i].resolve(),\n            ref   = \"m\" + util.safeProp(field.name);\n\n        if (field.optional) gen\n        (\"if(%s!=null&&m.hasOwnProperty(%j)){\", ref, field.name); // !== undefined && !== null\n\n        // map fields\n        if (field.map) { gen\n            (\"if(!util.isObject(%s))\", ref)\n                (\"return%j\", invalid(field, \"object\"))\n            (\"var k=Object.keys(%s)\", ref)\n            (\"for(var i=0;i<k.length;++i){\");\n                genVerifyKey(gen, field, \"k[i]\");\n                genVerifyValue(gen, field, i, ref + \"[k[i]]\")\n            (\"}\");\n\n        // repeated fields\n        } else if (field.repeated) { gen\n            (\"if(!Array.isArray(%s))\", ref)\n                (\"return%j\", invalid(field, \"array\"))\n            (\"for(var i=0;i<%s.length;++i){\", ref);\n                genVerifyValue(gen, field, i, ref + \"[i]\")\n            (\"}\");\n\n        // required or present fields\n        } else {\n            if (field.partOf) {\n                var oneofProp = util.safeProp(field.partOf.name);\n                if (seenFirstField[field.partOf.name] === 1) gen\n            (\"if(p%s===1)\", oneofProp)\n                (\"return%j\", field.partOf.name + \": multiple values\");\n                seenFirstField[field.partOf.name] = 1;\n                gen\n            (\"p%s=1\", oneofProp);\n            }\n            genVerifyValue(gen, field, i, ref);\n        }\n        if (field.optional) gen\n        (\"}\");\n    }\n    return gen\n    (\"return null\");\n    /* eslint-enable no-unexpected-multiline */\n}","\"use strict\";\n\n/**\n * Wrappers for common types.\n * @type {Object.<string,IWrapper>}\n * @const\n */\nvar wrappers = exports;\n\nvar Message = require(\"./message\");\n\n/**\n * From object converter part of an {@link IWrapper}.\n * @typedef WrapperFromObjectConverter\n * @type {function}\n * @param {Object.<string,*>} object Plain object\n * @returns {Message<{}>} Message instance\n * @this Type\n */\n\n/**\n * To object converter part of an {@link IWrapper}.\n * @typedef WrapperToObjectConverter\n * @type {function}\n * @param {Message<{}>} message Message instance\n * @param {IConversionOptions} [options] Conversion options\n * @returns {Object.<string,*>} Plain object\n * @this Type\n */\n\n/**\n * Common type wrapper part of {@link wrappers}.\n * @interface IWrapper\n * @property {WrapperFromObjectConverter} [fromObject] From object converter\n * @property {WrapperToObjectConverter} [toObject] To object converter\n */\n\n// Custom wrapper for Any\nwrappers[\".google.protobuf.Any\"] = {\n\n    fromObject: function(object) {\n\n        // unwrap value type if mapped\n        if (object && object[\"@type\"]) {\n             // Only use fully qualified type name after the last '/'\n            var name = object[\"@type\"].substring(object[\"@type\"].lastIndexOf(\"/\") + 1);\n            var type = this.lookup(name);\n            /* istanbul ignore else */\n            if (type) {\n                // type_url does not accept leading \".\"\n                var type_url = object[\"@type\"].charAt(0) === \".\" ?\n                    object[\"@type\"].slice(1) : object[\"@type\"];\n                // type_url prefix is optional, but path seperator is required\n                if (type_url.indexOf(\"/\") === -1) {\n                    type_url = \"/\" + type_url;\n                }\n                return this.create({\n                    type_url: type_url,\n                    value: type.encode(type.fromObject(object)).finish()\n                });\n            }\n        }\n\n        return this.fromObject(object);\n    },\n\n    toObject: function(message, options) {\n\n        // Default prefix\n        var googleApi = \"type.googleapis.com/\";\n        var prefix = \"\";\n        var name = \"\";\n\n        // decode value if requested and unmapped\n        if (options && options.json && message.type_url && message.value) {\n            // Only use fully qualified type name after the last '/'\n            name = message.type_url.substring(message.type_url.lastIndexOf(\"/\") + 1);\n            // Separate the prefix used\n            prefix = message.type_url.substring(0, message.type_url.lastIndexOf(\"/\") + 1);\n            var type = this.lookup(name);\n            /* istanbul ignore else */\n            if (type)\n                message = type.decode(message.value);\n        }\n\n        // wrap value if unmapped\n        if (!(message instanceof this.ctor) && message instanceof Message) {\n            var object = message.$type.toObject(message, options);\n            var messageName = message.$type.fullName[0] === \".\" ?\n                message.$type.fullName.slice(1) : message.$type.fullName;\n            // Default to type.googleapis.com prefix if no prefix is used\n            if (prefix === \"\") {\n                prefix = googleApi;\n            }\n            name = prefix + messageName;\n            object[\"@type\"] = name;\n            return object;\n        }\n\n        return this.toObject(message, options);\n    }\n};\n","\"use strict\";\nmodule.exports = Writer;\n\nvar util      = require(\"./util/minimal\");\n\nvar BufferWriter; // cyclic\n\nvar LongBits  = util.LongBits,\n    base64    = util.base64,\n    utf8      = util.utf8;\n\n/**\n * Constructs a new writer operation instance.\n * @classdesc Scheduled writer operation.\n * @constructor\n * @param {function(*, Uint8Array, number)} fn Function to call\n * @param {number} len Value byte length\n * @param {*} val Value to write\n * @ignore\n */\nfunction Op(fn, len, val) {\n\n    /**\n     * Function to call.\n     * @type {function(Uint8Array, number, *)}\n     */\n    this.fn = fn;\n\n    /**\n     * Value byte length.\n     * @type {number}\n     */\n    this.len = len;\n\n    /**\n     * Next operation.\n     * @type {Writer.Op|undefined}\n     */\n    this.next = undefined;\n\n    /**\n     * Value to write.\n     * @type {*}\n     */\n    this.val = val; // type varies\n}\n\n/* istanbul ignore next */\nfunction noop() {} // eslint-disable-line no-empty-function\n\n/**\n * Constructs a new writer state instance.\n * @classdesc Copied writer state.\n * @memberof Writer\n * @constructor\n * @param {Writer} writer Writer to copy state from\n * @ignore\n */\nfunction State(writer) {\n\n    /**\n     * Current head.\n     * @type {Writer.Op}\n     */\n    this.head = writer.head;\n\n    /**\n     * Current tail.\n     * @type {Writer.Op}\n     */\n    this.tail = writer.tail;\n\n    /**\n     * Current buffer length.\n     * @type {number}\n     */\n    this.len = writer.len;\n\n    /**\n     * Next state.\n     * @type {State|null}\n     */\n    this.next = writer.states;\n}\n\n/**\n * Constructs a new writer instance.\n * @classdesc Wire format writer using `Uint8Array` if available, otherwise `Array`.\n * @constructor\n */\nfunction Writer() {\n\n    /**\n     * Current length.\n     * @type {number}\n     */\n    this.len = 0;\n\n    /**\n     * Operations head.\n     * @type {Object}\n     */\n    this.head = new Op(noop, 0, 0);\n\n    /**\n     * Operations tail\n     * @type {Object}\n     */\n    this.tail = this.head;\n\n    /**\n     * Linked forked states.\n     * @type {Object|null}\n     */\n    this.states = null;\n\n    // When a value is written, the writer calculates its byte length and puts it into a linked\n    // list of operations to perform when finish() is called. This both allows us to allocate\n    // buffers of the exact required size and reduces the amount of work we have to do compared\n    // to first calculating over objects and then encoding over objects. In our case, the encoding\n    // part is just a linked list walk calling operations with already prepared values.\n}\n\nvar create = function create() {\n    return util.Buffer\n        ? function create_buffer_setup() {\n            return (Writer.create = function create_buffer() {\n                return new BufferWriter();\n            })();\n        }\n        /* istanbul ignore next */\n        : function create_array() {\n            return new Writer();\n        };\n};\n\n/**\n * Creates a new writer.\n * @function\n * @returns {BufferWriter|Writer} A {@link BufferWriter} when Buffers are supported, otherwise a {@link Writer}\n */\nWriter.create = create();\n\n/**\n * Allocates a buffer of the specified size.\n * @param {number} size Buffer size\n * @returns {Uint8Array} Buffer\n */\nWriter.alloc = function alloc(size) {\n    return new util.Array(size);\n};\n\n// Use Uint8Array buffer pool in the browser, just like node does with buffers\n/* istanbul ignore else */\nif (util.Array !== Array)\n    Writer.alloc = util.pool(Writer.alloc, util.Array.prototype.subarray);\n\n/**\n * Pushes a new operation to the queue.\n * @param {function(Uint8Array, number, *)} fn Function to call\n * @param {number} len Value byte length\n * @param {number} val Value to write\n * @returns {Writer} `this`\n * @private\n */\nWriter.prototype._push = function push(fn, len, val) {\n    this.tail = this.tail.next = new Op(fn, len, val);\n    this.len += len;\n    return this;\n};\n\nfunction writeByte(val, buf, pos) {\n    buf[pos] = val & 255;\n}\n\nfunction writeVarint32(val, buf, pos) {\n    while (val > 127) {\n        buf[pos++] = val & 127 | 128;\n        val >>>= 7;\n    }\n    buf[pos] = val;\n}\n\n/**\n * Constructs a new varint writer operation instance.\n * @classdesc Scheduled varint writer operation.\n * @extends Op\n * @constructor\n * @param {number} len Value byte length\n * @param {number} val Value to write\n * @ignore\n */\nfunction VarintOp(len, val) {\n    this.len = len;\n    this.next = undefined;\n    this.val = val;\n}\n\nVarintOp.prototype = Object.create(Op.prototype);\nVarintOp.prototype.fn = writeVarint32;\n\n/**\n * Writes an unsigned 32 bit value as a varint.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.uint32 = function write_uint32(value) {\n    // here, the call to this.push has been inlined and a varint specific Op subclass is used.\n    // uint32 is by far the most frequently used operation and benefits significantly from this.\n    this.len += (this.tail = this.tail.next = new VarintOp(\n        (value = value >>> 0)\n                < 128       ? 1\n        : value < 16384     ? 2\n        : value < 2097152   ? 3\n        : value < 268435456 ? 4\n        :                     5,\n    value)).len;\n    return this;\n};\n\n/**\n * Writes a signed 32 bit value as a varint.\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.int32 = function write_int32(value) {\n    return value < 0\n        ? this._push(writeVarint64, 10, LongBits.fromNumber(value)) // 10 bytes per spec\n        : this.uint32(value);\n};\n\n/**\n * Writes a 32 bit value as a varint, zig-zag encoded.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.sint32 = function write_sint32(value) {\n    return this.uint32((value << 1 ^ value >> 31) >>> 0);\n};\n\nfunction writeVarint64(val, buf, pos) {\n    while (val.hi) {\n        buf[pos++] = val.lo & 127 | 128;\n        val.lo = (val.lo >>> 7 | val.hi << 25) >>> 0;\n        val.hi >>>= 7;\n    }\n    while (val.lo > 127) {\n        buf[pos++] = val.lo & 127 | 128;\n        val.lo = val.lo >>> 7;\n    }\n    buf[pos++] = val.lo;\n}\n\n/**\n * Writes an unsigned 64 bit value as a varint.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.uint64 = function write_uint64(value) {\n    var bits = LongBits.from(value);\n    return this._push(writeVarint64, bits.length(), bits);\n};\n\n/**\n * Writes a signed 64 bit value as a varint.\n * @function\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.int64 = Writer.prototype.uint64;\n\n/**\n * Writes a signed 64 bit value as a varint, zig-zag encoded.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.sint64 = function write_sint64(value) {\n    var bits = LongBits.from(value).zzEncode();\n    return this._push(writeVarint64, bits.length(), bits);\n};\n\n/**\n * Writes a boolish value as a varint.\n * @param {boolean} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.bool = function write_bool(value) {\n    return this._push(writeByte, 1, value ? 1 : 0);\n};\n\nfunction writeFixed32(val, buf, pos) {\n    buf[pos    ] =  val         & 255;\n    buf[pos + 1] =  val >>> 8   & 255;\n    buf[pos + 2] =  val >>> 16  & 255;\n    buf[pos + 3] =  val >>> 24;\n}\n\n/**\n * Writes an unsigned 32 bit value as fixed 32 bits.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.fixed32 = function write_fixed32(value) {\n    return this._push(writeFixed32, 4, value >>> 0);\n};\n\n/**\n * Writes a signed 32 bit value as fixed 32 bits.\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.sfixed32 = Writer.prototype.fixed32;\n\n/**\n * Writes an unsigned 64 bit value as fixed 64 bits.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.fixed64 = function write_fixed64(value) {\n    var bits = LongBits.from(value);\n    return this._push(writeFixed32, 4, bits.lo)._push(writeFixed32, 4, bits.hi);\n};\n\n/**\n * Writes a signed 64 bit value as fixed 64 bits.\n * @function\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.sfixed64 = Writer.prototype.fixed64;\n\n/**\n * Writes a float (32 bit).\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.float = function write_float(value) {\n    return this._push(util.float.writeFloatLE, 4, value);\n};\n\n/**\n * Writes a double (64 bit float).\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.double = function write_double(value) {\n    return this._push(util.float.writeDoubleLE, 8, value);\n};\n\nvar writeBytes = util.Array.prototype.set\n    ? function writeBytes_set(val, buf, pos) {\n        buf.set(val, pos); // also works for plain array values\n    }\n    /* istanbul ignore next */\n    : function writeBytes_for(val, buf, pos) {\n        for (var i = 0; i < val.length; ++i)\n            buf[pos + i] = val[i];\n    };\n\n/**\n * Writes a sequence of bytes.\n * @param {Uint8Array|string} value Buffer or base64 encoded string to write\n * @returns {Writer} `this`\n */\nWriter.prototype.bytes = function write_bytes(value) {\n    var len = value.length >>> 0;\n    if (!len)\n        return this._push(writeByte, 1, 0);\n    if (util.isString(value)) {\n        var buf = Writer.alloc(len = base64.length(value));\n        base64.decode(value, buf, 0);\n        value = buf;\n    }\n    return this.uint32(len)._push(writeBytes, len, value);\n};\n\n/**\n * Writes a string.\n * @param {string} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.string = function write_string(value) {\n    var len = utf8.length(value);\n    return len\n        ? this.uint32(len)._push(utf8.write, len, value)\n        : this._push(writeByte, 1, 0);\n};\n\n/**\n * Forks this writer's state by pushing it to a stack.\n * Calling {@link Writer#reset|reset} or {@link Writer#ldelim|ldelim} resets the writer to the previous state.\n * @returns {Writer} `this`\n */\nWriter.prototype.fork = function fork() {\n    this.states = new State(this);\n    this.head = this.tail = new Op(noop, 0, 0);\n    this.len = 0;\n    return this;\n};\n\n/**\n * Resets this instance to the last state.\n * @returns {Writer} `this`\n */\nWriter.prototype.reset = function reset() {\n    if (this.states) {\n        this.head   = this.states.head;\n        this.tail   = this.states.tail;\n        this.len    = this.states.len;\n        this.states = this.states.next;\n    } else {\n        this.head = this.tail = new Op(noop, 0, 0);\n        this.len  = 0;\n    }\n    return this;\n};\n\n/**\n * Resets to the last state and appends the fork state's current write length as a varint followed by its operations.\n * @returns {Writer} `this`\n */\nWriter.prototype.ldelim = function ldelim() {\n    var head = this.head,\n        tail = this.tail,\n        len  = this.len;\n    this.reset().uint32(len);\n    if (len) {\n        this.tail.next = head.next; // skip noop\n        this.tail = tail;\n        this.len += len;\n    }\n    return this;\n};\n\n/**\n * Finishes the write operation.\n * @returns {Uint8Array} Finished buffer\n */\nWriter.prototype.finish = function finish() {\n    var head = this.head.next, // skip noop\n        buf  = this.constructor.alloc(this.len),\n        pos  = 0;\n    while (head) {\n        head.fn(head.val, buf, pos);\n        pos += head.len;\n        head = head.next;\n    }\n    // this.head = this.tail = null;\n    return buf;\n};\n\nWriter._configure = function(BufferWriter_) {\n    BufferWriter = BufferWriter_;\n    Writer.create = create();\n    BufferWriter._configure();\n};\n","\"use strict\";\nmodule.exports = BufferWriter;\n\n// extends Writer\nvar Writer = require(\"./writer\");\n(BufferWriter.prototype = Object.create(Writer.prototype)).constructor = BufferWriter;\n\nvar util = require(\"./util/minimal\");\n\n/**\n * Constructs a new buffer writer instance.\n * @classdesc Wire format writer using node buffers.\n * @extends Writer\n * @constructor\n */\nfunction BufferWriter() {\n    Writer.call(this);\n}\n\nBufferWriter._configure = function () {\n    /**\n     * Allocates a buffer of the specified size.\n     * @function\n     * @param {number} size Buffer size\n     * @returns {Buffer} Buffer\n     */\n    BufferWriter.alloc = util._Buffer_allocUnsafe;\n\n    BufferWriter.writeBytesBuffer = util.Buffer && util.Buffer.prototype instanceof Uint8Array && util.Buffer.prototype.set.name === \"set\"\n        ? function writeBytesBuffer_set(val, buf, pos) {\n          buf.set(val, pos); // faster than copy (requires node >= 4 where Buffers extend Uint8Array and set is properly inherited)\n          // also works for plain array values\n        }\n        /* istanbul ignore next */\n        : function writeBytesBuffer_copy(val, buf, pos) {\n          if (val.copy) // Buffer values\n            val.copy(buf, pos, 0, val.length);\n          else for (var i = 0; i < val.length;) // plain array values\n            buf[pos++] = val[i++];\n        };\n};\n\n\n/**\n * @override\n */\nBufferWriter.prototype.bytes = function write_bytes_buffer(value) {\n    if (util.isString(value))\n        value = util._Buffer_from(value, \"base64\");\n    var len = value.length >>> 0;\n    this.uint32(len);\n    if (len)\n        this._push(BufferWriter.writeBytesBuffer, len, value);\n    return this;\n};\n\nfunction writeStringBuffer(val, buf, pos) {\n    if (val.length < 40) // plain js is faster for short strings (probably due to redundant assertions)\n        util.utf8.write(val, buf, pos);\n    else if (buf.utf8Write)\n        buf.utf8Write(val, pos);\n    else\n        buf.write(val, pos);\n}\n\n/**\n * @override\n */\nBufferWriter.prototype.string = function write_string_buffer(value) {\n    var len = util.Buffer.byteLength(value);\n    this.uint32(len);\n    if (len)\n        this._push(writeStringBuffer, len, value);\n    return this;\n};\n\n\n/**\n * Finishes the write operation.\n * @name BufferWriter#finish\n * @function\n * @returns {Buffer} Finished buffer\n */\n\nBufferWriter._configure();\n","export class ExtendableError extends Error {\n  constructor(...params) {\n    super(...params);\n    var message =\n      params.length > 0 && typeof params[0] === \"string\" ? params[0] : \"\";\n\n    // Replace Error with ClassName of the constructor, if it has not been overwritten already\n    if (this.name === undefined || this.name === \"Error\") {\n      Object.defineProperty(this, \"name\", {\n        configurable: true,\n        enumerable: false,\n        value: this.constructor.name,\n        writable: true,\n      });\n    }\n\n    Object.defineProperty(this, \"message\", {\n      configurable: true,\n      enumerable: false,\n      value: message,\n      writable: true,\n    });\n\n    Object.defineProperty(this, \"stack\", {\n      configurable: true,\n      enumerable: false,\n      value: \"\",\n      writable: true,\n    });\n\n    // Maintains proper stack trace for where our error was thrown (only available on V8)\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor);\n    } else if (this.stack === \"\") {\n      this.stack = new Error(message).stack;\n    }\n  }\n}\n\nexport default ExtendableError;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Gitpod. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexport function timeout(millis: number): Promise<void> {\n\treturn new Promise((resolve) => setTimeout(resolve, millis));\n}\n\nexport interface ITask<T> {\n\t(): T;\n}\n\nexport async function retry<T>(task: ITask<Promise<T>>, delay: number, retries: number): Promise<T> {\n\tlet lastError: Error | undefined;\n\n\tfor (let i = 0; i < retries; i++) {\n\t\ttry {\n\t\t\treturn await task();\n\t\t} catch (error) {\n\t\t\tlastError = error;\n\n\t\t\tawait timeout(delay);\n\t\t}\n\t}\n\n\tthrow lastError;\n}\n\nexport async function retryWithStop<T>(task: (stop: () => void) => Promise<T>, delay: number, retries: number): Promise<T> {\n\tlet lastError: Error | undefined;\n\tlet stopped = false;\n\tconst stop = () => {\n\t\tstopped = true;\n\t};\n\tfor (let i = 0; i < retries; i++) {\n\t\ttry {\n\t\t\treturn await task(stop);\n\t\t} catch (error) {\n\t\t\tlastError = error;\n\t\t\tif (stopped) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tawait timeout(delay);\n\t\t}\n\t}\n\tthrow lastError;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Gitpod. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { WriteStream, createWriteStream } from 'fs';\nimport { inspect } from 'util';\nimport { ILogService } from '../services/logService';\n\nexport class NopeLogger implements ILogService {\n    trace(_message: string, ..._args: any[]): void { }\n    debug(_message: string, ..._args: any[]): void { }\n    info(_message: string, ..._args: any[]): void { }\n    warn(_message: string, ..._args: any[]): void { }\n    error(_error: string | Error, ..._args: any[]): void { }\n    show(): void { }\n}\n\nexport class DebugLogger implements ILogService {\n    private readonly stream?: WriteStream;\n\n    constructor() {\n        try {\n            // no need to consider target file for different platform\n            // since we use in only for debug local ssh proxy\n            this.stream = createWriteStream('/tmp/lssh.log');\n        } catch (_e) { }\n    }\n\n    private parseArgs(...args: any[]) {\n        return args.map(e => inspect(e)).join(' ');\n    }\n\n    trace(message: string, ...args: any[]): void {\n        this.stream?.write(`${new Date()}TRACE: ${message} ${this.parseArgs(...args)}\\n`);\n    }\n\n    debug(message: string, ...args: any[]): void {\n        this.stream?.write(`${new Date()}DEBUG: ${message} ${this.parseArgs(...args)}\\n`);\n    }\n\n    info(message: string, ...args: any[]): void {\n        this.stream?.write(`${new Date()}INFO: ${message} ${this.parseArgs(...args)}\\n`);\n    }\n\n    warn(message: string, ...args: any[]): void {\n        this.stream?.write(`${new Date()}WARN: ${message} ${this.parseArgs(...args)}\\n`);\n    }\n\n    error(error: string | Error, ...args: any[]): void {\n        if (error instanceof Error) {\n            this.stream?.write(`${new Date()}ERROR: ${error.toString()}\\n${error.stack}\\n${this.parseArgs(...args)}\\n`);\n        } else {\n            this.stream?.write(`${new Date()}ERROR: ${error.toString()} ${this.parseArgs(...args)}\\n`);\n        }\n    }\n\n    show(): void { }\n}","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Gitpod. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { SshClient } from '@microsoft/dev-tunnels-ssh-tcp';\nimport { ChannelOpenMessage, NodeStream, SshClientCredentials, SshClientSession, SshDataWriter, SshDisconnectReason, SshServerSession, SshSessionConfiguration, SshStream, Stream, WebSocketStream } from '@microsoft/dev-tunnels-ssh';\nimport { importKey, importKeyBytes } from '@microsoft/dev-tunnels-ssh-keys';\nimport { ExtensionServiceDefinition, GetWorkspaceAuthInfoResponse, SendErrorReportRequest, SendLocalSSHUserFlowStatusRequest_Code, SendLocalSSHUserFlowStatusRequest_ConnType, SendLocalSSHUserFlowStatusRequest_Status } from '../proto/typescript/ipc/v1/ipc';\nimport { Client, ClientError, Status, createChannel, createClient } from 'nice-grpc';\nimport { retryWithStop } from '../common/async';\nimport { TunnelPortRequest } from '@gitpod/supervisor-api-grpc/lib/port_pb';\nimport { WebSocket } from 'ws';\nimport * as stream from 'stream';\nimport { ILogService } from '../services/logService';\n\n// This public key is safe to be public since we only use it to verify local-ssh connections.\nconst HOST_KEY = 'LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JR0hBZ0VBTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEJHMHdhd0lCQVFRZ1QwcXg1eEJUVmc4TUVJbUUKZmN4RXRZN1dmQVVsM0JYQURBK2JYREsyaDZlaFJBTkNBQVJlQXo0RDVVZXpqZ0l1SXVOWXpVL3BCWDdlOXoxeApvZUN6UklqcGdCUHozS0dWRzZLYXV5TU5YUm95a21YSS9BNFpWaW9nd2Vjb0FUUjRUQ2FtWm1ScAotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg==';\n// const HOST_PUBLIC_FP = 'AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBF4DPgPlR7OOAi4i41jNT+kFft73PXGh4LNEiOmAE/PcoZUbopq7Iw1dGjKSZcj8DhlWKiDB5ygBNHhMJqZmZGk=';\n\nfunction getHostKey(): Buffer {\n    return Buffer.from(HOST_KEY, 'base64');\n}\n\nfunction getDaemonVersion() {\n    return process.env.DAEMON_VERSION ?? '0.0.1';\n}\n\ninterface ClientOptions {\n    host: string;\n    extIpcPort: number;\n}\n\nfunction getClientOptions(): ClientOptions {\n    const args = process.argv.slice(2);\n    return {\n        host: args[0],\n        extIpcPort: Number.parseInt(args[1], 10),\n    };\n}\n\nclass NoRunningInstanceError extends Error {\n    constructor() {\n        super('Workspace not running.');\n        this.name = 'NoRunningInstanceError';\n    }\n}\nclass FailedToGetAuthInfoError extends Error {\n    constructor() {\n        super('Cannot get workspace credentials.');\n        this.name = 'FailedToGetAuthInfoError';\n    }\n}\nclass AuthenticationError extends Error {\n    constructor() {\n        super('Authentication failed.');\n        this.name = 'AuthenticationError';\n    }\n}\n\nclass SupervisorPortTunnelMessage extends ChannelOpenMessage {\n    constructor(private clientId: string, private remotePort: number, channelType: string) {\n        super();\n        this.channelType = channelType;\n    }\n\n    override onWrite(writer: SshDataWriter): void {\n        super.onWrite(writer);\n        const req = new TunnelPortRequest();\n        req.setClientId(this.clientId);\n        req.setTargetPort(this.remotePort);\n        req.setPort(this.remotePort);\n\n        let bytes = req.serializeBinary();\n        writer.write(Buffer.from(bytes));\n    }\n\n    override toString() {\n        return `${super.toString()}`;\n    }\n}\n\n// TODO(local-ssh): Remove me after direct ssh works with @microsft/dev-tunnels-ssh\nconst FORCE_TUNNEL = true;\n\nclass WebSocketSSHProxy {\n\n    private extensionIpc: Client<ExtensionServiceDefinition>;\n\n    constructor(private logService: ILogService, private options: ClientOptions) {\n        this.onExit();\n        this.onException();\n        this.extensionIpc = createClient(ExtensionServiceDefinition, createChannel('127.0.0.1:' + this.options.extIpcPort));\n    }\n\n    private onExit() {\n        const exitHandler = (_signal?: NodeJS.Signals) => {\n            process.exit(0);\n        };\n        process.on('SIGINT', exitHandler);\n        process.on('SIGTERM', exitHandler);\n    }\n\n    private onException() {\n        process.on('uncaughtException', (err) => {\n            this.logService.error(err, 'uncaught exception');\n        });\n        process.on('unhandledRejection', (err) => {\n            this.logService.error(err as any, 'unhandled rejection');\n        });\n    }\n\n    async start() {\n        // Create as Duplex from stdin and stdout as passing them separately to NodeStream\n        // will result in an unhandled exception as NodeStream does not properly add\n        // an error handler to the writable stream\n        const sshStream = stream.Duplex.from({ readable: process.stdin, writable: process.stdout });\n        sshStream.on('error', e => {\n            if ((e as any).code === 'EPIPE') {\n                // HACK:\n                // Seems there's a bug in the ssh library that could hang forever when the stream gets closed\n                // so the below `await pipePromise` will never return and the node process will never exit.\n                // So let's just force kill here\n                setTimeout(() => process.exit(0), 50);\n            }\n        });\n\n        // This is expected to never throw as key is harcoded\n        const keys = await importKeyBytes(getHostKey());\n        const config = new SshSessionConfiguration();\n        config.maxClientAuthenticationAttempts = 1;\n        const session = new SshServerSession(config);\n        session.credentials.publicKeys.push(keys);\n\n        let pipePromise: Promise<void> | undefined;\n        session.onAuthenticating((e) => {\n            e.authenticationPromise = this.authenticateClient(e.username ?? '')\n                .then(pipeSession => {\n                    pipePromise = session.pipe(pipeSession);\n                    return {};\n                }).catch(async error => {\n                    this.logService.error(error, 'failed to authenticate client with username: ' + e.username);\n                    await session.close(SshDisconnectReason.byApplication, error.toString(), error instanceof Error ? error : undefined);\n                    return null;\n                });\n        });\n        try {\n            await session.connect(new NodeStream(sshStream));\n\n            await pipePromise;\n        } catch (e) {\n            if (session.isClosed) {\n                return;\n            }\n            this.logService.error(e, 'failed to connect to client');\n            await session.close(SshDisconnectReason.byApplication, e.toString(), e instanceof Error ? e : undefined);\n        }\n    }\n\n    private async authenticateClient(username: string) {\n        const workspaceInfo = await this.retryGetWorkspaceInfo(username);\n        if (FORCE_TUNNEL) {\n            return this.getTunnelSSHConfig(workspaceInfo);\n        }\n        const session = await this.tryDirectSSH(workspaceInfo);\n        if (!session) {\n            return this.getTunnelSSHConfig(workspaceInfo);\n        }\n        return session;\n    }\n\n    private async tryDirectSSH(workspaceInfo: GetWorkspaceAuthInfoResponse): Promise<SshClientSession | undefined> {\n        try {\n            const connConfig = {\n                host: `${workspaceInfo.workspaceId}.ssh.${workspaceInfo.workspaceHost}`,\n                port: 22,\n                username: workspaceInfo.workspaceId,\n                password: workspaceInfo.ownerToken,\n            };\n            const config = new SshSessionConfiguration();\n            const client = new SshClient(config);\n            const session = await client.openSession(connConfig.host, connConfig.port);\n            session.onAuthenticating((e) => e.authenticationPromise = Promise.resolve({}));\n            const credentials: SshClientCredentials = { username: connConfig.username, password: connConfig.password };\n            const authenticated = await session.authenticate(credentials);\n            if (!authenticated) {\n                throw new AuthenticationError();\n            }\n            return session;\n        } catch (e) {\n            this.logService.error(e, 'failed to connect with direct ssh');\n            this.sendErrorReport(workspaceInfo.gitpodHost, workspaceInfo.userId, workspaceInfo.workspaceId, workspaceInfo.instanceId, e, 'failed to connect with direct ssh');\n            this.extensionIpc.sendLocalSSHUserFlowStatus({\n                gitpodHost: workspaceInfo.gitpodHost,\n                userId: workspaceInfo.userId,\n                status: SendLocalSSHUserFlowStatusRequest_Status.STATUS_FAILURE,\n                workspaceId: workspaceInfo.workspaceId,\n                instanceId: workspaceInfo.instanceId,\n                failureCode: SendLocalSSHUserFlowStatusRequest_Code.CODE_SSH_CANNOT_CONNECT,\n                daemonVersion: getDaemonVersion(),\n                connType: SendLocalSSHUserFlowStatusRequest_ConnType.CONN_TYPE_SSH,\n            });\n        }\n        return;\n    }\n\n    private async getTunnelSSHConfig(workspaceInfo: GetWorkspaceAuthInfoResponse): Promise<SshClientSession> {\n        try {\n            const connConfig = await this.establishTunnel(workspaceInfo);\n            const config = new SshSessionConfiguration();\n            const session = new SshClientSession(config);\n            session.onAuthenticating((e) => e.authenticationPromise = Promise.resolve({}));\n            await session.connect(new NodeStream(connConfig.sock));\n            const ok = await session.authenticate({ username: connConfig.username, publicKeys: [await importKey(workspaceInfo.sshkey)] });\n            if (!ok) {\n                throw new AuthenticationError();\n            }\n            return session;\n        } catch (e) {\n            this.logService.error(e, 'failed to connect with tunnel ssh');\n            this.sendErrorReport(workspaceInfo.gitpodHost, workspaceInfo.userId, workspaceInfo.workspaceId, workspaceInfo.instanceId, e, 'failed to connect with tunnel ssh');\n            this.extensionIpc.sendLocalSSHUserFlowStatus({\n                gitpodHost: workspaceInfo.gitpodHost,\n                userId: workspaceInfo.userId,\n                status: SendLocalSSHUserFlowStatusRequest_Status.STATUS_FAILURE,\n                workspaceId: workspaceInfo.workspaceId,\n                instanceId: workspaceInfo.instanceId,\n                failureCode: SendLocalSSHUserFlowStatusRequest_Code.CODE_TUNNEL_NO_ESTABLISHED_CONNECTION,\n                daemonVersion: getDaemonVersion(),\n                connType: SendLocalSSHUserFlowStatusRequest_ConnType.CONN_TYPE_TUNNEL,\n            });\n            throw e;\n        }\n    }\n\n    async retryGetWorkspaceInfo(username: string) {\n        return retryWithStop(async (stop) => {\n            return this.extensionIpc.getWorkspaceAuthInfo({ workspaceId: username, gitpodHost: this.options.host }).catch(e => {\n                this.logService.error(e, 'failed to get workspace info');\n                if (e instanceof ClientError) {\n                    if (e.code === Status.UNAVAILABLE && e.details.startsWith('workspace is not running')) {\n                        stop();\n                        throw new NoRunningInstanceError();\n                    }\n                }\n                throw new FailedToGetAuthInfoError();\n            });\n        }, 200, 50);\n    }\n\n    async establishTunnel(workspaceInfo: GetWorkspaceAuthInfoResponse) {\n        const workspaceWSUrl = `wss://${workspaceInfo.workspaceId}.${workspaceInfo.workspaceHost}`;\n        const socket = new WebSocket(workspaceWSUrl + '/_supervisor/tunnel', undefined, {\n            headers: {\n                'x-gitpod-owner-token': workspaceInfo.ownerToken\n            }\n        });\n\n        socket.binaryType = 'arraybuffer';\n        const stream = await new Promise<Stream>((resolve, reject) => {\n            socket.onopen = () => {\n                resolve(new WebSocketStream(socket as any));\n            };\n            socket.onerror = (e) => {\n                this.extensionIpc.sendLocalSSHUserFlowStatus({\n                    gitpodHost: workspaceInfo.gitpodHost,\n                    userId: workspaceInfo.userId,\n                    status: SendLocalSSHUserFlowStatusRequest_Status.STATUS_FAILURE,\n                    workspaceId: workspaceInfo.workspaceId,\n                    instanceId: workspaceInfo.instanceId,\n                    failureCode: SendLocalSSHUserFlowStatusRequest_Code.CODE_TUNNEL_CANNOT_CREATE_WEBSOCKET,\n                    daemonVersion: getDaemonVersion(),\n                    connType: SendLocalSSHUserFlowStatusRequest_ConnType.CONN_TYPE_TUNNEL,\n                });\n                reject(e);\n            };\n        });\n\n        const config = new SshSessionConfiguration();\n        const session = new SshClientSession(config);\n        session.onAuthenticating((e) => e.authenticationPromise = Promise.resolve({}));\n        await session.connect(stream);\n\n        const credentials: SshClientCredentials = { username: 'gitpodlocal' };\n        const authenticated = await session.authenticate(credentials);\n        if (!authenticated) {\n            throw new AuthenticationError();\n        }\n        const clientID = 'tunnel_' + Math.random().toString(36).slice(2);\n        const msg = new SupervisorPortTunnelMessage(clientID, 23001, 'tunnel');\n        const channel = await session.openChannel(msg).catch(e => {\n            this.logService.error(e, 'failed to open channel');\n            this.extensionIpc.sendLocalSSHUserFlowStatus({\n                gitpodHost: workspaceInfo.gitpodHost,\n                userId: workspaceInfo.userId,\n                status: SendLocalSSHUserFlowStatusRequest_Status.STATUS_FAILURE,\n                workspaceId: workspaceInfo.workspaceId,\n                instanceId: workspaceInfo.instanceId,\n                failureCode: SendLocalSSHUserFlowStatusRequest_Code.CODE_TUNNEL_FAILED_FORWARD_SSH_PORT,\n                daemonVersion: getDaemonVersion(),\n                connType: SendLocalSSHUserFlowStatusRequest_ConnType.CONN_TYPE_TUNNEL,\n            });\n            throw e;\n        });\n        return { sock: new SshStream(channel), username: 'gitpod' };\n    }\n\n    async sendErrorReport(gitpodHost: string, userId: string, workspaceId: string | undefined, instanceId: string | undefined, err: Error | any, message: string) {\n        const request: Partial<SendErrorReportRequest> = {\n            gitpodHost,\n            userId,\n            workspaceId: workspaceId ?? '',\n            instanceId: instanceId ?? '',\n            errorName: '',\n            errorMessage: '',\n            errorStack: '',\n            daemonVersion: getDaemonVersion(),\n        };\n        if (err instanceof Error) {\n            request.errorName = err.name;\n            request.errorMessage = message + ': ' + err.message;\n            request.errorStack = err.stack ?? '';\n        } else {\n            request.errorName = '';\n            request.errorMessage = message + ': ' + err.toString();\n            request.errorStack = '';\n        }\n        try {\n            await this.extensionIpc.sendErrorReport(request);\n        } catch (e) {\n            this.logService.error(e, 'failed to send error report');\n        }\n    }\n}\n\nconst options = getClientOptions();\nif (!options) {\n    process.exit(1);\n}\n\nimport { NopeLogger } from './logger';\nconst logService = new NopeLogger();\n\n// DO NOT PUSH CHANGES BELOW TO PRODUCTION\n// import { DebugLogger } from './logger';\n// const logService = new DebugLogger();\n\nconst proxy = new WebSocketSSHProxy(logService, options);\nproxy.start().catch((e) => {\n    logService.error(e, 'failed to start proxy');\n});\n","/* eslint-disable */\nimport type { CallContext, CallOptions } from \"nice-grpc-common\";\nimport * as _m0 from \"protobufjs/minimal\";\n\nexport const protobufPackage = \"ipc.v1\";\n\nexport interface SendErrorReportRequest {\n  workspaceId: string;\n  instanceId: string;\n  errorName: string;\n  errorMessage: string;\n  errorStack: string;\n  daemonVersion: string;\n  extensionVersion: string;\n  gitpodHost: string;\n  userId: string;\n}\n\nexport interface SendErrorReportResponse {\n}\n\nexport interface SendLocalSSHUserFlowStatusRequest {\n  status: SendLocalSSHUserFlowStatusRequest_Status;\n  workspaceId: string;\n  instanceId: string;\n  failureCode: SendLocalSSHUserFlowStatusRequest_Code;\n  daemonVersion: string;\n  connType: SendLocalSSHUserFlowStatusRequest_ConnType;\n  gitpodHost: string;\n  userId: string;\n}\n\nexport enum SendLocalSSHUserFlowStatusRequest_ConnType {\n  CONN_TYPE_UNSPECIFIED = 0,\n  CONN_TYPE_SSH = 1,\n  CONN_TYPE_TUNNEL = 2,\n  UNRECOGNIZED = -1,\n}\n\nexport function sendLocalSSHUserFlowStatusRequest_ConnTypeFromJSON(\n  object: any,\n): SendLocalSSHUserFlowStatusRequest_ConnType {\n  switch (object) {\n    case 0:\n    case \"CONN_TYPE_UNSPECIFIED\":\n      return SendLocalSSHUserFlowStatusRequest_ConnType.CONN_TYPE_UNSPECIFIED;\n    case 1:\n    case \"CONN_TYPE_SSH\":\n      return SendLocalSSHUserFlowStatusRequest_ConnType.CONN_TYPE_SSH;\n    case 2:\n    case \"CONN_TYPE_TUNNEL\":\n      return SendLocalSSHUserFlowStatusRequest_ConnType.CONN_TYPE_TUNNEL;\n    case -1:\n    case \"UNRECOGNIZED\":\n    default:\n      return SendLocalSSHUserFlowStatusRequest_ConnType.UNRECOGNIZED;\n  }\n}\n\nexport function sendLocalSSHUserFlowStatusRequest_ConnTypeToJSON(\n  object: SendLocalSSHUserFlowStatusRequest_ConnType,\n): string {\n  switch (object) {\n    case SendLocalSSHUserFlowStatusRequest_ConnType.CONN_TYPE_UNSPECIFIED:\n      return \"CONN_TYPE_UNSPECIFIED\";\n    case SendLocalSSHUserFlowStatusRequest_ConnType.CONN_TYPE_SSH:\n      return \"CONN_TYPE_SSH\";\n    case SendLocalSSHUserFlowStatusRequest_ConnType.CONN_TYPE_TUNNEL:\n      return \"CONN_TYPE_TUNNEL\";\n    case SendLocalSSHUserFlowStatusRequest_ConnType.UNRECOGNIZED:\n    default:\n      return \"UNRECOGNIZED\";\n  }\n}\n\nexport enum SendLocalSSHUserFlowStatusRequest_Status {\n  STATUS_UNSPECIFIED = 0,\n  STATUS_SUCCESS = 1,\n  STATUS_FAILURE = 2,\n  UNRECOGNIZED = -1,\n}\n\nexport function sendLocalSSHUserFlowStatusRequest_StatusFromJSON(\n  object: any,\n): SendLocalSSHUserFlowStatusRequest_Status {\n  switch (object) {\n    case 0:\n    case \"STATUS_UNSPECIFIED\":\n      return SendLocalSSHUserFlowStatusRequest_Status.STATUS_UNSPECIFIED;\n    case 1:\n    case \"STATUS_SUCCESS\":\n      return SendLocalSSHUserFlowStatusRequest_Status.STATUS_SUCCESS;\n    case 2:\n    case \"STATUS_FAILURE\":\n      return SendLocalSSHUserFlowStatusRequest_Status.STATUS_FAILURE;\n    case -1:\n    case \"UNRECOGNIZED\":\n    default:\n      return SendLocalSSHUserFlowStatusRequest_Status.UNRECOGNIZED;\n  }\n}\n\nexport function sendLocalSSHUserFlowStatusRequest_StatusToJSON(\n  object: SendLocalSSHUserFlowStatusRequest_Status,\n): string {\n  switch (object) {\n    case SendLocalSSHUserFlowStatusRequest_Status.STATUS_UNSPECIFIED:\n      return \"STATUS_UNSPECIFIED\";\n    case SendLocalSSHUserFlowStatusRequest_Status.STATUS_SUCCESS:\n      return \"STATUS_SUCCESS\";\n    case SendLocalSSHUserFlowStatusRequest_Status.STATUS_FAILURE:\n      return \"STATUS_FAILURE\";\n    case SendLocalSSHUserFlowStatusRequest_Status.UNRECOGNIZED:\n    default:\n      return \"UNRECOGNIZED\";\n  }\n}\n\nexport enum SendLocalSSHUserFlowStatusRequest_Code {\n  CODE_UNSPECIFIED = 0,\n  /** CODE_NO_WORKSPACE_AUTO_INFO - CODE_NO_WORKSPACE_AUTO_INFO is used if failed to get workspace auto info */\n  CODE_NO_WORKSPACE_AUTO_INFO = 1,\n  /** CODE_TUNNEL_CANNOT_CREATE_WEBSOCKET - CODE_TUNNEL_CANNOT_CREATE_WEBSOCKET is used if failed to create websocket to supervisor */\n  CODE_TUNNEL_CANNOT_CREATE_WEBSOCKET = 2,\n  /** CODE_TUNNEL_FAILED_FORWARD_SSH_PORT - CODE_TUNNEL_FAILED_FORWARD_SSH_PORT is used if failed to forward ssh port in supervisor */\n  CODE_TUNNEL_FAILED_FORWARD_SSH_PORT = 3,\n  /** CODE_TUNNEL_NO_PRIVATEKEY - CODE_TUNNEL_NO_PRIVATEKEY when failed to create private key in supervisor */\n  CODE_TUNNEL_NO_PRIVATEKEY = 4,\n  /** CODE_TUNNEL_NO_ESTABLISHED_CONNECTION - CODE_TUNNEL_NO_ESTABLISHED_CONNECTION is used if the tunnel is not established */\n  CODE_TUNNEL_NO_ESTABLISHED_CONNECTION = 5,\n  /** CODE_SSH_CANNOT_CONNECT - CODE_SSH_CANNOT_CONNECT is used if failed to direct connect to ssh gateway */\n  CODE_SSH_CANNOT_CONNECT = 6,\n  UNRECOGNIZED = -1,\n}\n\nexport function sendLocalSSHUserFlowStatusRequest_CodeFromJSON(object: any): SendLocalSSHUserFlowStatusRequest_Code {\n  switch (object) {\n    case 0:\n    case \"CODE_UNSPECIFIED\":\n      return SendLocalSSHUserFlowStatusRequest_Code.CODE_UNSPECIFIED;\n    case 1:\n    case \"CODE_NO_WORKSPACE_AUTO_INFO\":\n      return SendLocalSSHUserFlowStatusRequest_Code.CODE_NO_WORKSPACE_AUTO_INFO;\n    case 2:\n    case \"CODE_TUNNEL_CANNOT_CREATE_WEBSOCKET\":\n      return SendLocalSSHUserFlowStatusRequest_Code.CODE_TUNNEL_CANNOT_CREATE_WEBSOCKET;\n    case 3:\n    case \"CODE_TUNNEL_FAILED_FORWARD_SSH_PORT\":\n      return SendLocalSSHUserFlowStatusRequest_Code.CODE_TUNNEL_FAILED_FORWARD_SSH_PORT;\n    case 4:\n    case \"CODE_TUNNEL_NO_PRIVATEKEY\":\n      return SendLocalSSHUserFlowStatusRequest_Code.CODE_TUNNEL_NO_PRIVATEKEY;\n    case 5:\n    case \"CODE_TUNNEL_NO_ESTABLISHED_CONNECTION\":\n      return SendLocalSSHUserFlowStatusRequest_Code.CODE_TUNNEL_NO_ESTABLISHED_CONNECTION;\n    case 6:\n    case \"CODE_SSH_CANNOT_CONNECT\":\n      return SendLocalSSHUserFlowStatusRequest_Code.CODE_SSH_CANNOT_CONNECT;\n    case -1:\n    case \"UNRECOGNIZED\":\n    default:\n      return SendLocalSSHUserFlowStatusRequest_Code.UNRECOGNIZED;\n  }\n}\n\nexport function sendLocalSSHUserFlowStatusRequest_CodeToJSON(object: SendLocalSSHUserFlowStatusRequest_Code): string {\n  switch (object) {\n    case SendLocalSSHUserFlowStatusRequest_Code.CODE_UNSPECIFIED:\n      return \"CODE_UNSPECIFIED\";\n    case SendLocalSSHUserFlowStatusRequest_Code.CODE_NO_WORKSPACE_AUTO_INFO:\n      return \"CODE_NO_WORKSPACE_AUTO_INFO\";\n    case SendLocalSSHUserFlowStatusRequest_Code.CODE_TUNNEL_CANNOT_CREATE_WEBSOCKET:\n      return \"CODE_TUNNEL_CANNOT_CREATE_WEBSOCKET\";\n    case SendLocalSSHUserFlowStatusRequest_Code.CODE_TUNNEL_FAILED_FORWARD_SSH_PORT:\n      return \"CODE_TUNNEL_FAILED_FORWARD_SSH_PORT\";\n    case SendLocalSSHUserFlowStatusRequest_Code.CODE_TUNNEL_NO_PRIVATEKEY:\n      return \"CODE_TUNNEL_NO_PRIVATEKEY\";\n    case SendLocalSSHUserFlowStatusRequest_Code.CODE_TUNNEL_NO_ESTABLISHED_CONNECTION:\n      return \"CODE_TUNNEL_NO_ESTABLISHED_CONNECTION\";\n    case SendLocalSSHUserFlowStatusRequest_Code.CODE_SSH_CANNOT_CONNECT:\n      return \"CODE_SSH_CANNOT_CONNECT\";\n    case SendLocalSSHUserFlowStatusRequest_Code.UNRECOGNIZED:\n    default:\n      return \"UNRECOGNIZED\";\n  }\n}\n\nexport interface SendLocalSSHUserFlowStatusResponse {\n}\n\nexport interface GetWorkspaceAuthInfoRequest {\n  workspaceId: string;\n  gitpodHost: string;\n}\n\nexport interface GetWorkspaceAuthInfoResponse {\n  workspaceId: string;\n  instanceId: string;\n  workspaceHost: string;\n  ownerToken: string;\n  gitpodHost: string;\n  userId: string;\n  sshkey: string;\n}\n\nfunction createBaseSendErrorReportRequest(): SendErrorReportRequest {\n  return {\n    workspaceId: \"\",\n    instanceId: \"\",\n    errorName: \"\",\n    errorMessage: \"\",\n    errorStack: \"\",\n    daemonVersion: \"\",\n    extensionVersion: \"\",\n    gitpodHost: \"\",\n    userId: \"\",\n  };\n}\n\nexport const SendErrorReportRequest = {\n  encode(message: SendErrorReportRequest, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\n    if (message.workspaceId !== \"\") {\n      writer.uint32(10).string(message.workspaceId);\n    }\n    if (message.instanceId !== \"\") {\n      writer.uint32(18).string(message.instanceId);\n    }\n    if (message.errorName !== \"\") {\n      writer.uint32(26).string(message.errorName);\n    }\n    if (message.errorMessage !== \"\") {\n      writer.uint32(34).string(message.errorMessage);\n    }\n    if (message.errorStack !== \"\") {\n      writer.uint32(42).string(message.errorStack);\n    }\n    if (message.daemonVersion !== \"\") {\n      writer.uint32(50).string(message.daemonVersion);\n    }\n    if (message.extensionVersion !== \"\") {\n      writer.uint32(58).string(message.extensionVersion);\n    }\n    if (message.gitpodHost !== \"\") {\n      writer.uint32(66).string(message.gitpodHost);\n    }\n    if (message.userId !== \"\") {\n      writer.uint32(74).string(message.userId);\n    }\n    return writer;\n  },\n\n  decode(input: _m0.Reader | Uint8Array, length?: number): SendErrorReportRequest {\n    const reader = input instanceof _m0.Reader ? input : new _m0.Reader(input);\n    let end = length === undefined ? reader.len : reader.pos + length;\n    const message = createBaseSendErrorReportRequest();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          message.workspaceId = reader.string();\n          break;\n        case 2:\n          message.instanceId = reader.string();\n          break;\n        case 3:\n          message.errorName = reader.string();\n          break;\n        case 4:\n          message.errorMessage = reader.string();\n          break;\n        case 5:\n          message.errorStack = reader.string();\n          break;\n        case 6:\n          message.daemonVersion = reader.string();\n          break;\n        case 7:\n          message.extensionVersion = reader.string();\n          break;\n        case 8:\n          message.gitpodHost = reader.string();\n          break;\n        case 9:\n          message.userId = reader.string();\n          break;\n        default:\n          reader.skipType(tag & 7);\n          break;\n      }\n    }\n    return message;\n  },\n\n  fromJSON(object: any): SendErrorReportRequest {\n    return {\n      workspaceId: isSet(object.workspaceId) ? String(object.workspaceId) : \"\",\n      instanceId: isSet(object.instanceId) ? String(object.instanceId) : \"\",\n      errorName: isSet(object.errorName) ? String(object.errorName) : \"\",\n      errorMessage: isSet(object.errorMessage) ? String(object.errorMessage) : \"\",\n      errorStack: isSet(object.errorStack) ? String(object.errorStack) : \"\",\n      daemonVersion: isSet(object.daemonVersion) ? String(object.daemonVersion) : \"\",\n      extensionVersion: isSet(object.extensionVersion) ? String(object.extensionVersion) : \"\",\n      gitpodHost: isSet(object.gitpodHost) ? String(object.gitpodHost) : \"\",\n      userId: isSet(object.userId) ? String(object.userId) : \"\",\n    };\n  },\n\n  toJSON(message: SendErrorReportRequest): unknown {\n    const obj: any = {};\n    message.workspaceId !== undefined && (obj.workspaceId = message.workspaceId);\n    message.instanceId !== undefined && (obj.instanceId = message.instanceId);\n    message.errorName !== undefined && (obj.errorName = message.errorName);\n    message.errorMessage !== undefined && (obj.errorMessage = message.errorMessage);\n    message.errorStack !== undefined && (obj.errorStack = message.errorStack);\n    message.daemonVersion !== undefined && (obj.daemonVersion = message.daemonVersion);\n    message.extensionVersion !== undefined && (obj.extensionVersion = message.extensionVersion);\n    message.gitpodHost !== undefined && (obj.gitpodHost = message.gitpodHost);\n    message.userId !== undefined && (obj.userId = message.userId);\n    return obj;\n  },\n\n  create(base?: DeepPartial<SendErrorReportRequest>): SendErrorReportRequest {\n    return SendErrorReportRequest.fromPartial(base ?? {});\n  },\n\n  fromPartial(object: DeepPartial<SendErrorReportRequest>): SendErrorReportRequest {\n    const message = createBaseSendErrorReportRequest();\n    message.workspaceId = object.workspaceId ?? \"\";\n    message.instanceId = object.instanceId ?? \"\";\n    message.errorName = object.errorName ?? \"\";\n    message.errorMessage = object.errorMessage ?? \"\";\n    message.errorStack = object.errorStack ?? \"\";\n    message.daemonVersion = object.daemonVersion ?? \"\";\n    message.extensionVersion = object.extensionVersion ?? \"\";\n    message.gitpodHost = object.gitpodHost ?? \"\";\n    message.userId = object.userId ?? \"\";\n    return message;\n  },\n};\n\nfunction createBaseSendErrorReportResponse(): SendErrorReportResponse {\n  return {};\n}\n\nexport const SendErrorReportResponse = {\n  encode(_: SendErrorReportResponse, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\n    return writer;\n  },\n\n  decode(input: _m0.Reader | Uint8Array, length?: number): SendErrorReportResponse {\n    const reader = input instanceof _m0.Reader ? input : new _m0.Reader(input);\n    let end = length === undefined ? reader.len : reader.pos + length;\n    const message = createBaseSendErrorReportResponse();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        default:\n          reader.skipType(tag & 7);\n          break;\n      }\n    }\n    return message;\n  },\n\n  fromJSON(_: any): SendErrorReportResponse {\n    return {};\n  },\n\n  toJSON(_: SendErrorReportResponse): unknown {\n    const obj: any = {};\n    return obj;\n  },\n\n  create(base?: DeepPartial<SendErrorReportResponse>): SendErrorReportResponse {\n    return SendErrorReportResponse.fromPartial(base ?? {});\n  },\n\n  fromPartial(_: DeepPartial<SendErrorReportResponse>): SendErrorReportResponse {\n    const message = createBaseSendErrorReportResponse();\n    return message;\n  },\n};\n\nfunction createBaseSendLocalSSHUserFlowStatusRequest(): SendLocalSSHUserFlowStatusRequest {\n  return {\n    status: 0,\n    workspaceId: \"\",\n    instanceId: \"\",\n    failureCode: 0,\n    daemonVersion: \"\",\n    connType: 0,\n    gitpodHost: \"\",\n    userId: \"\",\n  };\n}\n\nexport const SendLocalSSHUserFlowStatusRequest = {\n  encode(message: SendLocalSSHUserFlowStatusRequest, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\n    if (message.status !== 0) {\n      writer.uint32(8).int32(message.status);\n    }\n    if (message.workspaceId !== \"\") {\n      writer.uint32(18).string(message.workspaceId);\n    }\n    if (message.instanceId !== \"\") {\n      writer.uint32(26).string(message.instanceId);\n    }\n    if (message.failureCode !== 0) {\n      writer.uint32(40).int32(message.failureCode);\n    }\n    if (message.daemonVersion !== \"\") {\n      writer.uint32(58).string(message.daemonVersion);\n    }\n    if (message.connType !== 0) {\n      writer.uint32(72).int32(message.connType);\n    }\n    if (message.gitpodHost !== \"\") {\n      writer.uint32(82).string(message.gitpodHost);\n    }\n    if (message.userId !== \"\") {\n      writer.uint32(90).string(message.userId);\n    }\n    return writer;\n  },\n\n  decode(input: _m0.Reader | Uint8Array, length?: number): SendLocalSSHUserFlowStatusRequest {\n    const reader = input instanceof _m0.Reader ? input : new _m0.Reader(input);\n    let end = length === undefined ? reader.len : reader.pos + length;\n    const message = createBaseSendLocalSSHUserFlowStatusRequest();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          message.status = reader.int32() as any;\n          break;\n        case 2:\n          message.workspaceId = reader.string();\n          break;\n        case 3:\n          message.instanceId = reader.string();\n          break;\n        case 5:\n          message.failureCode = reader.int32() as any;\n          break;\n        case 7:\n          message.daemonVersion = reader.string();\n          break;\n        case 9:\n          message.connType = reader.int32() as any;\n          break;\n        case 10:\n          message.gitpodHost = reader.string();\n          break;\n        case 11:\n          message.userId = reader.string();\n          break;\n        default:\n          reader.skipType(tag & 7);\n          break;\n      }\n    }\n    return message;\n  },\n\n  fromJSON(object: any): SendLocalSSHUserFlowStatusRequest {\n    return {\n      status: isSet(object.status) ? sendLocalSSHUserFlowStatusRequest_StatusFromJSON(object.status) : 0,\n      workspaceId: isSet(object.workspaceId) ? String(object.workspaceId) : \"\",\n      instanceId: isSet(object.instanceId) ? String(object.instanceId) : \"\",\n      failureCode: isSet(object.failureCode) ? sendLocalSSHUserFlowStatusRequest_CodeFromJSON(object.failureCode) : 0,\n      daemonVersion: isSet(object.daemonVersion) ? String(object.daemonVersion) : \"\",\n      connType: isSet(object.connType) ? sendLocalSSHUserFlowStatusRequest_ConnTypeFromJSON(object.connType) : 0,\n      gitpodHost: isSet(object.gitpodHost) ? String(object.gitpodHost) : \"\",\n      userId: isSet(object.userId) ? String(object.userId) : \"\",\n    };\n  },\n\n  toJSON(message: SendLocalSSHUserFlowStatusRequest): unknown {\n    const obj: any = {};\n    message.status !== undefined && (obj.status = sendLocalSSHUserFlowStatusRequest_StatusToJSON(message.status));\n    message.workspaceId !== undefined && (obj.workspaceId = message.workspaceId);\n    message.instanceId !== undefined && (obj.instanceId = message.instanceId);\n    message.failureCode !== undefined &&\n      (obj.failureCode = sendLocalSSHUserFlowStatusRequest_CodeToJSON(message.failureCode));\n    message.daemonVersion !== undefined && (obj.daemonVersion = message.daemonVersion);\n    message.connType !== undefined &&\n      (obj.connType = sendLocalSSHUserFlowStatusRequest_ConnTypeToJSON(message.connType));\n    message.gitpodHost !== undefined && (obj.gitpodHost = message.gitpodHost);\n    message.userId !== undefined && (obj.userId = message.userId);\n    return obj;\n  },\n\n  create(base?: DeepPartial<SendLocalSSHUserFlowStatusRequest>): SendLocalSSHUserFlowStatusRequest {\n    return SendLocalSSHUserFlowStatusRequest.fromPartial(base ?? {});\n  },\n\n  fromPartial(object: DeepPartial<SendLocalSSHUserFlowStatusRequest>): SendLocalSSHUserFlowStatusRequest {\n    const message = createBaseSendLocalSSHUserFlowStatusRequest();\n    message.status = object.status ?? 0;\n    message.workspaceId = object.workspaceId ?? \"\";\n    message.instanceId = object.instanceId ?? \"\";\n    message.failureCode = object.failureCode ?? 0;\n    message.daemonVersion = object.daemonVersion ?? \"\";\n    message.connType = object.connType ?? 0;\n    message.gitpodHost = object.gitpodHost ?? \"\";\n    message.userId = object.userId ?? \"\";\n    return message;\n  },\n};\n\nfunction createBaseSendLocalSSHUserFlowStatusResponse(): SendLocalSSHUserFlowStatusResponse {\n  return {};\n}\n\nexport const SendLocalSSHUserFlowStatusResponse = {\n  encode(_: SendLocalSSHUserFlowStatusResponse, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\n    return writer;\n  },\n\n  decode(input: _m0.Reader | Uint8Array, length?: number): SendLocalSSHUserFlowStatusResponse {\n    const reader = input instanceof _m0.Reader ? input : new _m0.Reader(input);\n    let end = length === undefined ? reader.len : reader.pos + length;\n    const message = createBaseSendLocalSSHUserFlowStatusResponse();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        default:\n          reader.skipType(tag & 7);\n          break;\n      }\n    }\n    return message;\n  },\n\n  fromJSON(_: any): SendLocalSSHUserFlowStatusResponse {\n    return {};\n  },\n\n  toJSON(_: SendLocalSSHUserFlowStatusResponse): unknown {\n    const obj: any = {};\n    return obj;\n  },\n\n  create(base?: DeepPartial<SendLocalSSHUserFlowStatusResponse>): SendLocalSSHUserFlowStatusResponse {\n    return SendLocalSSHUserFlowStatusResponse.fromPartial(base ?? {});\n  },\n\n  fromPartial(_: DeepPartial<SendLocalSSHUserFlowStatusResponse>): SendLocalSSHUserFlowStatusResponse {\n    const message = createBaseSendLocalSSHUserFlowStatusResponse();\n    return message;\n  },\n};\n\nfunction createBaseGetWorkspaceAuthInfoRequest(): GetWorkspaceAuthInfoRequest {\n  return { workspaceId: \"\", gitpodHost: \"\" };\n}\n\nexport const GetWorkspaceAuthInfoRequest = {\n  encode(message: GetWorkspaceAuthInfoRequest, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\n    if (message.workspaceId !== \"\") {\n      writer.uint32(10).string(message.workspaceId);\n    }\n    if (message.gitpodHost !== \"\") {\n      writer.uint32(18).string(message.gitpodHost);\n    }\n    return writer;\n  },\n\n  decode(input: _m0.Reader | Uint8Array, length?: number): GetWorkspaceAuthInfoRequest {\n    const reader = input instanceof _m0.Reader ? input : new _m0.Reader(input);\n    let end = length === undefined ? reader.len : reader.pos + length;\n    const message = createBaseGetWorkspaceAuthInfoRequest();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          message.workspaceId = reader.string();\n          break;\n        case 2:\n          message.gitpodHost = reader.string();\n          break;\n        default:\n          reader.skipType(tag & 7);\n          break;\n      }\n    }\n    return message;\n  },\n\n  fromJSON(object: any): GetWorkspaceAuthInfoRequest {\n    return {\n      workspaceId: isSet(object.workspaceId) ? String(object.workspaceId) : \"\",\n      gitpodHost: isSet(object.gitpodHost) ? String(object.gitpodHost) : \"\",\n    };\n  },\n\n  toJSON(message: GetWorkspaceAuthInfoRequest): unknown {\n    const obj: any = {};\n    message.workspaceId !== undefined && (obj.workspaceId = message.workspaceId);\n    message.gitpodHost !== undefined && (obj.gitpodHost = message.gitpodHost);\n    return obj;\n  },\n\n  create(base?: DeepPartial<GetWorkspaceAuthInfoRequest>): GetWorkspaceAuthInfoRequest {\n    return GetWorkspaceAuthInfoRequest.fromPartial(base ?? {});\n  },\n\n  fromPartial(object: DeepPartial<GetWorkspaceAuthInfoRequest>): GetWorkspaceAuthInfoRequest {\n    const message = createBaseGetWorkspaceAuthInfoRequest();\n    message.workspaceId = object.workspaceId ?? \"\";\n    message.gitpodHost = object.gitpodHost ?? \"\";\n    return message;\n  },\n};\n\nfunction createBaseGetWorkspaceAuthInfoResponse(): GetWorkspaceAuthInfoResponse {\n  return { workspaceId: \"\", instanceId: \"\", workspaceHost: \"\", ownerToken: \"\", gitpodHost: \"\", userId: \"\", sshkey: \"\" };\n}\n\nexport const GetWorkspaceAuthInfoResponse = {\n  encode(message: GetWorkspaceAuthInfoResponse, writer: _m0.Writer = _m0.Writer.create()): _m0.Writer {\n    if (message.workspaceId !== \"\") {\n      writer.uint32(10).string(message.workspaceId);\n    }\n    if (message.instanceId !== \"\") {\n      writer.uint32(18).string(message.instanceId);\n    }\n    if (message.workspaceHost !== \"\") {\n      writer.uint32(26).string(message.workspaceHost);\n    }\n    if (message.ownerToken !== \"\") {\n      writer.uint32(34).string(message.ownerToken);\n    }\n    if (message.gitpodHost !== \"\") {\n      writer.uint32(42).string(message.gitpodHost);\n    }\n    if (message.userId !== \"\") {\n      writer.uint32(50).string(message.userId);\n    }\n    if (message.sshkey !== \"\") {\n      writer.uint32(58).string(message.sshkey);\n    }\n    return writer;\n  },\n\n  decode(input: _m0.Reader | Uint8Array, length?: number): GetWorkspaceAuthInfoResponse {\n    const reader = input instanceof _m0.Reader ? input : new _m0.Reader(input);\n    let end = length === undefined ? reader.len : reader.pos + length;\n    const message = createBaseGetWorkspaceAuthInfoResponse();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1:\n          message.workspaceId = reader.string();\n          break;\n        case 2:\n          message.instanceId = reader.string();\n          break;\n        case 3:\n          message.workspaceHost = reader.string();\n          break;\n        case 4:\n          message.ownerToken = reader.string();\n          break;\n        case 5:\n          message.gitpodHost = reader.string();\n          break;\n        case 6:\n          message.userId = reader.string();\n          break;\n        case 7:\n          message.sshkey = reader.string();\n          break;\n        default:\n          reader.skipType(tag & 7);\n          break;\n      }\n    }\n    return message;\n  },\n\n  fromJSON(object: any): GetWorkspaceAuthInfoResponse {\n    return {\n      workspaceId: isSet(object.workspaceId) ? String(object.workspaceId) : \"\",\n      instanceId: isSet(object.instanceId) ? String(object.instanceId) : \"\",\n      workspaceHost: isSet(object.workspaceHost) ? String(object.workspaceHost) : \"\",\n      ownerToken: isSet(object.ownerToken) ? String(object.ownerToken) : \"\",\n      gitpodHost: isSet(object.gitpodHost) ? String(object.gitpodHost) : \"\",\n      userId: isSet(object.userId) ? String(object.userId) : \"\",\n      sshkey: isSet(object.sshkey) ? String(object.sshkey) : \"\",\n    };\n  },\n\n  toJSON(message: GetWorkspaceAuthInfoResponse): unknown {\n    const obj: any = {};\n    message.workspaceId !== undefined && (obj.workspaceId = message.workspaceId);\n    message.instanceId !== undefined && (obj.instanceId = message.instanceId);\n    message.workspaceHost !== undefined && (obj.workspaceHost = message.workspaceHost);\n    message.ownerToken !== undefined && (obj.ownerToken = message.ownerToken);\n    message.gitpodHost !== undefined && (obj.gitpodHost = message.gitpodHost);\n    message.userId !== undefined && (obj.userId = message.userId);\n    message.sshkey !== undefined && (obj.sshkey = message.sshkey);\n    return obj;\n  },\n\n  create(base?: DeepPartial<GetWorkspaceAuthInfoResponse>): GetWorkspaceAuthInfoResponse {\n    return GetWorkspaceAuthInfoResponse.fromPartial(base ?? {});\n  },\n\n  fromPartial(object: DeepPartial<GetWorkspaceAuthInfoResponse>): GetWorkspaceAuthInfoResponse {\n    const message = createBaseGetWorkspaceAuthInfoResponse();\n    message.workspaceId = object.workspaceId ?? \"\";\n    message.instanceId = object.instanceId ?? \"\";\n    message.workspaceHost = object.workspaceHost ?? \"\";\n    message.ownerToken = object.ownerToken ?? \"\";\n    message.gitpodHost = object.gitpodHost ?? \"\";\n    message.userId = object.userId ?? \"\";\n    message.sshkey = object.sshkey ?? \"\";\n    return message;\n  },\n};\n\nexport type ExtensionServiceDefinition = typeof ExtensionServiceDefinition;\nexport const ExtensionServiceDefinition = {\n  name: \"ExtensionService\",\n  fullName: \"ipc.v1.ExtensionService\",\n  methods: {\n    getWorkspaceAuthInfo: {\n      name: \"GetWorkspaceAuthInfo\",\n      requestType: GetWorkspaceAuthInfoRequest,\n      requestStream: false,\n      responseType: GetWorkspaceAuthInfoResponse,\n      responseStream: false,\n      options: {},\n    },\n    sendLocalSSHUserFlowStatus: {\n      name: \"SendLocalSSHUserFlowStatus\",\n      requestType: SendLocalSSHUserFlowStatusRequest,\n      requestStream: false,\n      responseType: SendLocalSSHUserFlowStatusResponse,\n      responseStream: false,\n      options: {},\n    },\n    sendErrorReport: {\n      name: \"SendErrorReport\",\n      requestType: SendErrorReportRequest,\n      requestStream: false,\n      responseType: SendErrorReportResponse,\n      responseStream: false,\n      options: {},\n    },\n  },\n} as const;\n\nexport interface ExtensionServiceImplementation<CallContextExt = {}> {\n  getWorkspaceAuthInfo(\n    request: GetWorkspaceAuthInfoRequest,\n    context: CallContext & CallContextExt,\n  ): Promise<DeepPartial<GetWorkspaceAuthInfoResponse>>;\n  sendLocalSSHUserFlowStatus(\n    request: SendLocalSSHUserFlowStatusRequest,\n    context: CallContext & CallContextExt,\n  ): Promise<DeepPartial<SendLocalSSHUserFlowStatusResponse>>;\n  sendErrorReport(\n    request: SendErrorReportRequest,\n    context: CallContext & CallContextExt,\n  ): Promise<DeepPartial<SendErrorReportResponse>>;\n}\n\nexport interface ExtensionServiceClient<CallOptionsExt = {}> {\n  getWorkspaceAuthInfo(\n    request: DeepPartial<GetWorkspaceAuthInfoRequest>,\n    options?: CallOptions & CallOptionsExt,\n  ): Promise<GetWorkspaceAuthInfoResponse>;\n  sendLocalSSHUserFlowStatus(\n    request: DeepPartial<SendLocalSSHUserFlowStatusRequest>,\n    options?: CallOptions & CallOptionsExt,\n  ): Promise<SendLocalSSHUserFlowStatusResponse>;\n  sendErrorReport(\n    request: DeepPartial<SendErrorReportRequest>,\n    options?: CallOptions & CallOptionsExt,\n  ): Promise<SendErrorReportResponse>;\n}\n\ntype Builtin = Date | Function | Uint8Array | string | number | boolean | undefined;\n\nexport type DeepPartial<T> = T extends Builtin ? T\n  : T extends Array<infer U> ? Array<DeepPartial<U>> : T extends ReadonlyArray<infer U> ? ReadonlyArray<DeepPartial<U>>\n  : T extends {} ? { [K in keyof T]?: DeepPartial<T[K]> }\n  : Partial<T>;\n\nfunction isSet(value: any): boolean {\n  return value !== null && value !== undefined;\n}\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nvar CancellationToken;\r\n(function (CancellationToken) {\r\n    CancellationToken.None = Object.freeze({\r\n        isCancellationRequested: false,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    CancellationToken.Cancelled = Object.freeze({\r\n        isCancellationRequested: true,\r\n        onCancellationRequested: events_1.Event.None\r\n    });\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && (candidate === CancellationToken.None\r\n            || candidate === CancellationToken.Cancelled\r\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\r\n    }\r\n    CancellationToken.is = is;\r\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\r\nconst shortcutEvent = Object.freeze(function (callback, context) {\r\n    let handle = setTimeout(callback.bind(context), 0);\r\n    return { dispose() { clearTimeout(handle); } };\r\n});\r\nclass MutableToken {\r\n    constructor() {\r\n        this._isCancelled = false;\r\n    }\r\n    cancel() {\r\n        if (!this._isCancelled) {\r\n            this._isCancelled = true;\r\n            if (this._emitter) {\r\n                this._emitter.fire(undefined);\r\n                this.dispose();\r\n            }\r\n        }\r\n    }\r\n    get isCancellationRequested() {\r\n        return this._isCancelled;\r\n    }\r\n    get onCancellationRequested() {\r\n        if (this._isCancelled) {\r\n            return shortcutEvent;\r\n        }\r\n        if (!this._emitter) {\r\n            this._emitter = new events_1.Emitter();\r\n        }\r\n        return this._emitter.event;\r\n    }\r\n    dispose() {\r\n        if (this._emitter) {\r\n            this._emitter.dispose();\r\n            this._emitter = undefined;\r\n        }\r\n    }\r\n}\r\nclass CancellationTokenSource {\r\n    get token() {\r\n        if (!this._token) {\r\n            // be lazy and create the token only when\r\n            // actually needed\r\n            this._token = new MutableToken();\r\n        }\r\n        return this._token;\r\n    }\r\n    cancel() {\r\n        if (!this._token) {\r\n            // save an object by returning the default\r\n            // cancelled token when cancellation happens\r\n            // before someone asks for the token\r\n            this._token = CancellationToken.Cancelled;\r\n        }\r\n        else {\r\n            this._token.cancel();\r\n        }\r\n    }\r\n    dispose() {\r\n        if (!this._token) {\r\n            // ensure to initialize with an empty token if we had none\r\n            this._token = CancellationToken.None;\r\n        }\r\n        else if (this._token instanceof MutableToken) {\r\n            // actually dispose\r\n            this._token.dispose();\r\n        }\r\n    }\r\n}\r\nexports.CancellationTokenSource = CancellationTokenSource;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Disposable;\r\n(function (Disposable) {\r\n    function create(func) {\r\n        return {\r\n            dispose: func\r\n        };\r\n    }\r\n    Disposable.create = create;\r\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\r\nvar Event;\r\n(function (Event) {\r\n    const _disposable = { dispose() { } };\r\n    Event.None = function () { return _disposable; };\r\n})(Event = exports.Event || (exports.Event = {}));\r\nclass CallbackList {\r\n    add(callback, context = null, bucket) {\r\n        if (!this._callbacks) {\r\n            this._callbacks = [];\r\n            this._contexts = [];\r\n        }\r\n        this._callbacks.push(callback);\r\n        this._contexts.push(context);\r\n        if (Array.isArray(bucket)) {\r\n            bucket.push({ dispose: () => this.remove(callback, context) });\r\n        }\r\n    }\r\n    remove(callback, context = null) {\r\n        if (!this._callbacks) {\r\n            return;\r\n        }\r\n        var foundCallbackWithDifferentContext = false;\r\n        for (var i = 0, len = this._callbacks.length; i < len; i++) {\r\n            if (this._callbacks[i] === callback) {\r\n                if (this._contexts[i] === context) {\r\n                    // callback & context match => remove it\r\n                    this._callbacks.splice(i, 1);\r\n                    this._contexts.splice(i, 1);\r\n                    return;\r\n                }\r\n                else {\r\n                    foundCallbackWithDifferentContext = true;\r\n                }\r\n            }\r\n        }\r\n        if (foundCallbackWithDifferentContext) {\r\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\r\n        }\r\n    }\r\n    invoke(...args) {\r\n        if (!this._callbacks) {\r\n            return [];\r\n        }\r\n        var ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\r\n        for (var i = 0, len = callbacks.length; i < len; i++) {\r\n            try {\r\n                ret.push(callbacks[i].apply(contexts[i], args));\r\n            }\r\n            catch (e) {\r\n                // eslint-disable-next-line no-console\r\n                console.error(e);\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    isEmpty() {\r\n        return !this._callbacks || this._callbacks.length === 0;\r\n    }\r\n    dispose() {\r\n        this._callbacks = undefined;\r\n        this._contexts = undefined;\r\n    }\r\n}\r\nclass Emitter {\r\n    constructor(_options) {\r\n        this._options = _options;\r\n    }\r\n    /**\r\n     * For the public to allow to subscribe\r\n     * to events from this Emitter\r\n     */\r\n    get event() {\r\n        if (!this._event) {\r\n            this._event = (listener, thisArgs, disposables) => {\r\n                if (!this._callbacks) {\r\n                    this._callbacks = new CallbackList();\r\n                }\r\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\r\n                    this._options.onFirstListenerAdd(this);\r\n                }\r\n                this._callbacks.add(listener, thisArgs);\r\n                let result;\r\n                result = {\r\n                    dispose: () => {\r\n                        this._callbacks.remove(listener, thisArgs);\r\n                        result.dispose = Emitter._noop;\r\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\r\n                            this._options.onLastListenerRemove(this);\r\n                        }\r\n                    }\r\n                };\r\n                if (Array.isArray(disposables)) {\r\n                    disposables.push(result);\r\n                }\r\n                return result;\r\n            };\r\n        }\r\n        return this._event;\r\n    }\r\n    /**\r\n     * To be kept private to fire an event to\r\n     * subscribers\r\n     */\r\n    fire(event) {\r\n        if (this._callbacks) {\r\n            this._callbacks.invoke.call(this._callbacks, event);\r\n        }\r\n    }\r\n    dispose() {\r\n        if (this._callbacks) {\r\n            this._callbacks.dispose();\r\n            this._callbacks = undefined;\r\n        }\r\n    }\r\n}\r\nexports.Emitter = Emitter;\r\nEmitter._noop = function () { };\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction boolean(value) {\r\n    return value === true || value === false;\r\n}\r\nexports.boolean = boolean;\r\nfunction string(value) {\r\n    return typeof value === 'string' || value instanceof String;\r\n}\r\nexports.string = string;\r\nfunction number(value) {\r\n    return typeof value === 'number' || value instanceof Number;\r\n}\r\nexports.number = number;\r\nfunction error(value) {\r\n    return value instanceof Error;\r\n}\r\nexports.error = error;\r\nfunction func(value) {\r\n    return typeof value === 'function';\r\n}\r\nexports.func = func;\r\nfunction array(value) {\r\n    return Array.isArray(value);\r\n}\r\nexports.array = array;\r\nfunction stringArray(value) {\r\n    return array(value) && value.every(elem => string(elem));\r\n}\r\nexports.stringArray = stringArray;\r\n","\"use strict\";\r\n/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Touch;\r\n(function (Touch) {\r\n    Touch.None = 0;\r\n    Touch.First = 1;\r\n    Touch.Last = 2;\r\n})(Touch = exports.Touch || (exports.Touch = {}));\r\nclass LinkedMap {\r\n    constructor() {\r\n        this._map = new Map();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    clear() {\r\n        this._map.clear();\r\n        this._head = undefined;\r\n        this._tail = undefined;\r\n        this._size = 0;\r\n    }\r\n    isEmpty() {\r\n        return !this._head && !this._tail;\r\n    }\r\n    get size() {\r\n        return this._size;\r\n    }\r\n    has(key) {\r\n        return this._map.has(key);\r\n    }\r\n    get(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return undefined;\r\n        }\r\n        return item.value;\r\n    }\r\n    set(key, value, touch = Touch.None) {\r\n        let item = this._map.get(key);\r\n        if (item) {\r\n            item.value = value;\r\n            if (touch !== Touch.None) {\r\n                this.touch(item, touch);\r\n            }\r\n        }\r\n        else {\r\n            item = { key, value, next: undefined, previous: undefined };\r\n            switch (touch) {\r\n                case Touch.None:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                case Touch.First:\r\n                    this.addItemFirst(item);\r\n                    break;\r\n                case Touch.Last:\r\n                    this.addItemLast(item);\r\n                    break;\r\n                default:\r\n                    this.addItemLast(item);\r\n                    break;\r\n            }\r\n            this._map.set(key, item);\r\n            this._size++;\r\n        }\r\n    }\r\n    delete(key) {\r\n        const item = this._map.get(key);\r\n        if (!item) {\r\n            return false;\r\n        }\r\n        this._map.delete(key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return true;\r\n    }\r\n    shift() {\r\n        if (!this._head && !this._tail) {\r\n            return undefined;\r\n        }\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        const item = this._head;\r\n        this._map.delete(item.key);\r\n        this.removeItem(item);\r\n        this._size--;\r\n        return item.value;\r\n    }\r\n    forEach(callbackfn, thisArg) {\r\n        let current = this._head;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.next;\r\n        }\r\n    }\r\n    forEachReverse(callbackfn, thisArg) {\r\n        let current = this._tail;\r\n        while (current) {\r\n            if (thisArg) {\r\n                callbackfn.bind(thisArg)(current.value, current.key, this);\r\n            }\r\n            else {\r\n                callbackfn(current.value, current.key, this);\r\n            }\r\n            current = current.previous;\r\n        }\r\n    }\r\n    values() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.value);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    keys() {\r\n        let result = [];\r\n        let current = this._head;\r\n        while (current) {\r\n            result.push(current.key);\r\n            current = current.next;\r\n        }\r\n        return result;\r\n    }\r\n    /* JSON RPC run on es5 which has no Symbol.iterator\r\n    public keys(): IterableIterator<K> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<K> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<K> {\r\n                if (current) {\r\n                    let result = { value: current.key, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n\r\n    public values(): IterableIterator<V> {\r\n        let current = this._head;\r\n        let iterator: IterableIterator<V> = {\r\n            [Symbol.iterator]() {\r\n                return iterator;\r\n            },\r\n            next():IteratorResult<V> {\r\n                if (current) {\r\n                    let result = { value: current.value, done: false };\r\n                    current = current.next;\r\n                    return result;\r\n                } else {\r\n                    return { value: undefined, done: true };\r\n                }\r\n            }\r\n        };\r\n        return iterator;\r\n    }\r\n    */\r\n    addItemFirst(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._tail = item;\r\n        }\r\n        else if (!this._head) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n        }\r\n        this._head = item;\r\n    }\r\n    addItemLast(item) {\r\n        // First time Insert\r\n        if (!this._head && !this._tail) {\r\n            this._head = item;\r\n        }\r\n        else if (!this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        else {\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n        }\r\n        this._tail = item;\r\n    }\r\n    removeItem(item) {\r\n        if (item === this._head && item === this._tail) {\r\n            this._head = undefined;\r\n            this._tail = undefined;\r\n        }\r\n        else if (item === this._head) {\r\n            this._head = item.next;\r\n        }\r\n        else if (item === this._tail) {\r\n            this._tail = item.previous;\r\n        }\r\n        else {\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            if (!next || !previous) {\r\n                throw new Error('Invalid list');\r\n            }\r\n            next.previous = previous;\r\n            previous.next = next;\r\n        }\r\n    }\r\n    touch(item, touch) {\r\n        if (!this._head || !this._tail) {\r\n            throw new Error('Invalid list');\r\n        }\r\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\r\n            return;\r\n        }\r\n        if (touch === Touch.First) {\r\n            if (item === this._head) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item\r\n            if (item === this._tail) {\r\n                // previous must be defined since item was not head but is tail\r\n                // So there are more than on item in the map\r\n                previous.next = undefined;\r\n                this._tail = previous;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            // Insert the node at head\r\n            item.previous = undefined;\r\n            item.next = this._head;\r\n            this._head.previous = item;\r\n            this._head = item;\r\n        }\r\n        else if (touch === Touch.Last) {\r\n            if (item === this._tail) {\r\n                return;\r\n            }\r\n            const next = item.next;\r\n            const previous = item.previous;\r\n            // Unlink the item.\r\n            if (item === this._head) {\r\n                // next must be defined since item was not tail but is head\r\n                // So there are more than on item in the map\r\n                next.previous = undefined;\r\n                this._head = next;\r\n            }\r\n            else {\r\n                // Both next and previous are not undefined since item was neither head nor tail.\r\n                next.previous = previous;\r\n                previous.next = next;\r\n            }\r\n            item.next = undefined;\r\n            item.previous = this._tail;\r\n            this._tail.next = item;\r\n            this._tail = item;\r\n        }\r\n    }\r\n}\r\nexports.LinkedMap = LinkedMap;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n/// <reference path=\"../typings/thenable.d.ts\" />\r\n'use strict';\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Is = require(\"./is\");\r\nconst messages_1 = require(\"./messages\");\r\nexports.RequestType = messages_1.RequestType;\r\nexports.RequestType0 = messages_1.RequestType0;\r\nexports.RequestType1 = messages_1.RequestType1;\r\nexports.RequestType2 = messages_1.RequestType2;\r\nexports.RequestType3 = messages_1.RequestType3;\r\nexports.RequestType4 = messages_1.RequestType4;\r\nexports.RequestType5 = messages_1.RequestType5;\r\nexports.RequestType6 = messages_1.RequestType6;\r\nexports.RequestType7 = messages_1.RequestType7;\r\nexports.RequestType8 = messages_1.RequestType8;\r\nexports.RequestType9 = messages_1.RequestType9;\r\nexports.ResponseError = messages_1.ResponseError;\r\nexports.ErrorCodes = messages_1.ErrorCodes;\r\nexports.NotificationType = messages_1.NotificationType;\r\nexports.NotificationType0 = messages_1.NotificationType0;\r\nexports.NotificationType1 = messages_1.NotificationType1;\r\nexports.NotificationType2 = messages_1.NotificationType2;\r\nexports.NotificationType3 = messages_1.NotificationType3;\r\nexports.NotificationType4 = messages_1.NotificationType4;\r\nexports.NotificationType5 = messages_1.NotificationType5;\r\nexports.NotificationType6 = messages_1.NotificationType6;\r\nexports.NotificationType7 = messages_1.NotificationType7;\r\nexports.NotificationType8 = messages_1.NotificationType8;\r\nexports.NotificationType9 = messages_1.NotificationType9;\r\nconst messageReader_1 = require(\"./messageReader\");\r\nexports.MessageReader = messageReader_1.MessageReader;\r\nexports.StreamMessageReader = messageReader_1.StreamMessageReader;\r\nexports.IPCMessageReader = messageReader_1.IPCMessageReader;\r\nexports.SocketMessageReader = messageReader_1.SocketMessageReader;\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nexports.MessageWriter = messageWriter_1.MessageWriter;\r\nexports.StreamMessageWriter = messageWriter_1.StreamMessageWriter;\r\nexports.IPCMessageWriter = messageWriter_1.IPCMessageWriter;\r\nexports.SocketMessageWriter = messageWriter_1.SocketMessageWriter;\r\nconst events_1 = require(\"./events\");\r\nexports.Disposable = events_1.Disposable;\r\nexports.Event = events_1.Event;\r\nexports.Emitter = events_1.Emitter;\r\nconst cancellation_1 = require(\"./cancellation\");\r\nexports.CancellationTokenSource = cancellation_1.CancellationTokenSource;\r\nexports.CancellationToken = cancellation_1.CancellationToken;\r\nconst linkedMap_1 = require(\"./linkedMap\");\r\n__export(require(\"./pipeSupport\"));\r\n__export(require(\"./socketSupport\"));\r\nvar CancelNotification;\r\n(function (CancelNotification) {\r\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\r\n})(CancelNotification || (CancelNotification = {}));\r\nvar ProgressNotification;\r\n(function (ProgressNotification) {\r\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\r\n})(ProgressNotification || (ProgressNotification = {}));\r\nclass ProgressType {\r\n    constructor() {\r\n    }\r\n}\r\nexports.ProgressType = ProgressType;\r\nexports.NullLogger = Object.freeze({\r\n    error: () => { },\r\n    warn: () => { },\r\n    info: () => { },\r\n    log: () => { }\r\n});\r\nvar Trace;\r\n(function (Trace) {\r\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\r\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\r\n    Trace[Trace[\"Verbose\"] = 2] = \"Verbose\";\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\n(function (Trace) {\r\n    function fromString(value) {\r\n        if (!Is.string(value)) {\r\n            return Trace.Off;\r\n        }\r\n        value = value.toLowerCase();\r\n        switch (value) {\r\n            case 'off':\r\n                return Trace.Off;\r\n            case 'messages':\r\n                return Trace.Messages;\r\n            case 'verbose':\r\n                return Trace.Verbose;\r\n            default:\r\n                return Trace.Off;\r\n        }\r\n    }\r\n    Trace.fromString = fromString;\r\n    function toString(value) {\r\n        switch (value) {\r\n            case Trace.Off:\r\n                return 'off';\r\n            case Trace.Messages:\r\n                return 'messages';\r\n            case Trace.Verbose:\r\n                return 'verbose';\r\n            default:\r\n                return 'off';\r\n        }\r\n    }\r\n    Trace.toString = toString;\r\n})(Trace = exports.Trace || (exports.Trace = {}));\r\nvar TraceFormat;\r\n(function (TraceFormat) {\r\n    TraceFormat[\"Text\"] = \"text\";\r\n    TraceFormat[\"JSON\"] = \"json\";\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\n(function (TraceFormat) {\r\n    function fromString(value) {\r\n        value = value.toLowerCase();\r\n        if (value === 'json') {\r\n            return TraceFormat.JSON;\r\n        }\r\n        else {\r\n            return TraceFormat.Text;\r\n        }\r\n    }\r\n    TraceFormat.fromString = fromString;\r\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\r\nvar SetTraceNotification;\r\n(function (SetTraceNotification) {\r\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTraceNotification');\r\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\r\nvar LogTraceNotification;\r\n(function (LogTraceNotification) {\r\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTraceNotification');\r\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\r\nvar ConnectionErrors;\r\n(function (ConnectionErrors) {\r\n    /**\r\n     * The connection is closed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\r\n    /**\r\n     * The connection got disposed.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\r\n    /**\r\n     * The connection is already in listening mode.\r\n     */\r\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\r\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\r\nclass ConnectionError extends Error {\r\n    constructor(code, message) {\r\n        super(message);\r\n        this.code = code;\r\n        Object.setPrototypeOf(this, ConnectionError.prototype);\r\n    }\r\n}\r\nexports.ConnectionError = ConnectionError;\r\nvar ConnectionStrategy;\r\n(function (ConnectionStrategy) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.cancelUndispatched);\r\n    }\r\n    ConnectionStrategy.is = is;\r\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\r\nvar ConnectionState;\r\n(function (ConnectionState) {\r\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\r\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\r\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\r\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\r\n})(ConnectionState || (ConnectionState = {}));\r\nfunction _createMessageConnection(messageReader, messageWriter, logger, strategy) {\r\n    let sequenceNumber = 0;\r\n    let notificationSquenceNumber = 0;\r\n    let unknownResponseSquenceNumber = 0;\r\n    const version = '2.0';\r\n    let starRequestHandler = undefined;\r\n    let requestHandlers = Object.create(null);\r\n    let starNotificationHandler = undefined;\r\n    let notificationHandlers = Object.create(null);\r\n    let progressHandlers = new Map();\r\n    let timer;\r\n    let messageQueue = new linkedMap_1.LinkedMap();\r\n    let responsePromises = Object.create(null);\r\n    let requestTokens = Object.create(null);\r\n    let trace = Trace.Off;\r\n    let traceFormat = TraceFormat.Text;\r\n    let tracer;\r\n    let state = ConnectionState.New;\r\n    let errorEmitter = new events_1.Emitter();\r\n    let closeEmitter = new events_1.Emitter();\r\n    let unhandledNotificationEmitter = new events_1.Emitter();\r\n    let unhandledProgressEmitter = new events_1.Emitter();\r\n    let disposeEmitter = new events_1.Emitter();\r\n    function createRequestQueueKey(id) {\r\n        return 'req-' + id.toString();\r\n    }\r\n    function createResponseQueueKey(id) {\r\n        if (id === null) {\r\n            return 'res-unknown-' + (++unknownResponseSquenceNumber).toString();\r\n        }\r\n        else {\r\n            return 'res-' + id.toString();\r\n        }\r\n    }\r\n    function createNotificationQueueKey() {\r\n        return 'not-' + (++notificationSquenceNumber).toString();\r\n    }\r\n    function addMessageToQueue(queue, message) {\r\n        if (messages_1.isRequestMessage(message)) {\r\n            queue.set(createRequestQueueKey(message.id), message);\r\n        }\r\n        else if (messages_1.isResponseMessage(message)) {\r\n            queue.set(createResponseQueueKey(message.id), message);\r\n        }\r\n        else {\r\n            queue.set(createNotificationQueueKey(), message);\r\n        }\r\n    }\r\n    function cancelUndispatched(_message) {\r\n        return undefined;\r\n    }\r\n    function isListening() {\r\n        return state === ConnectionState.Listening;\r\n    }\r\n    function isClosed() {\r\n        return state === ConnectionState.Closed;\r\n    }\r\n    function isDisposed() {\r\n        return state === ConnectionState.Disposed;\r\n    }\r\n    function closeHandler() {\r\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\r\n            state = ConnectionState.Closed;\r\n            closeEmitter.fire(undefined);\r\n        }\r\n        // If the connection is disposed don't sent close events.\r\n    }\r\n    function readErrorHandler(error) {\r\n        errorEmitter.fire([error, undefined, undefined]);\r\n    }\r\n    function writeErrorHandler(data) {\r\n        errorEmitter.fire(data);\r\n    }\r\n    messageReader.onClose(closeHandler);\r\n    messageReader.onError(readErrorHandler);\r\n    messageWriter.onClose(closeHandler);\r\n    messageWriter.onError(writeErrorHandler);\r\n    function triggerMessageQueue() {\r\n        if (timer || messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        timer = setImmediate(() => {\r\n            timer = undefined;\r\n            processMessageQueue();\r\n        });\r\n    }\r\n    function processMessageQueue() {\r\n        if (messageQueue.size === 0) {\r\n            return;\r\n        }\r\n        let message = messageQueue.shift();\r\n        try {\r\n            if (messages_1.isRequestMessage(message)) {\r\n                handleRequest(message);\r\n            }\r\n            else if (messages_1.isNotificationMessage(message)) {\r\n                handleNotification(message);\r\n            }\r\n            else if (messages_1.isResponseMessage(message)) {\r\n                handleResponse(message);\r\n            }\r\n            else {\r\n                handleInvalidMessage(message);\r\n            }\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    }\r\n    let callback = (message) => {\r\n        try {\r\n            // We have received a cancellation message. Check if the message is still in the queue\r\n            // and cancel it if allowed to do so.\r\n            if (messages_1.isNotificationMessage(message) && message.method === CancelNotification.type.method) {\r\n                let key = createRequestQueueKey(message.params.id);\r\n                let toCancel = messageQueue.get(key);\r\n                if (messages_1.isRequestMessage(toCancel)) {\r\n                    let response = strategy && strategy.cancelUndispatched ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\r\n                    if (response && (response.error !== void 0 || response.result !== void 0)) {\r\n                        messageQueue.delete(key);\r\n                        response.id = toCancel.id;\r\n                        traceSendingResponse(response, message.method, Date.now());\r\n                        messageWriter.write(response);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            addMessageToQueue(messageQueue, message);\r\n        }\r\n        finally {\r\n            triggerMessageQueue();\r\n        }\r\n    };\r\n    function handleRequest(requestMessage) {\r\n        if (isDisposed()) {\r\n            // we return here silently since we fired an event when the\r\n            // connection got disposed.\r\n            return;\r\n        }\r\n        function reply(resultOrError, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id\r\n            };\r\n            if (resultOrError instanceof messages_1.ResponseError) {\r\n                message.error = resultOrError.toJson();\r\n            }\r\n            else {\r\n                message.result = resultOrError === void 0 ? null : resultOrError;\r\n            }\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replyError(error, method, startTime) {\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                error: error.toJson()\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        function replySuccess(result, method, startTime) {\r\n            // The JSON RPC defines that a response must either have a result or an error\r\n            // So we can't treat undefined as a valid response result.\r\n            if (result === void 0) {\r\n                result = null;\r\n            }\r\n            let message = {\r\n                jsonrpc: version,\r\n                id: requestMessage.id,\r\n                result: result\r\n            };\r\n            traceSendingResponse(message, method, startTime);\r\n            messageWriter.write(message);\r\n        }\r\n        traceReceivedRequest(requestMessage);\r\n        let element = requestHandlers[requestMessage.method];\r\n        let type;\r\n        let requestHandler;\r\n        if (element) {\r\n            type = element.type;\r\n            requestHandler = element.handler;\r\n        }\r\n        let startTime = Date.now();\r\n        if (requestHandler || starRequestHandler) {\r\n            let cancellationSource = new cancellation_1.CancellationTokenSource();\r\n            let tokenKey = String(requestMessage.id);\r\n            requestTokens[tokenKey] = cancellationSource;\r\n            try {\r\n                let handlerResult;\r\n                if (requestMessage.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, cancellationSource.token);\r\n                }\r\n                else if (Is.array(requestMessage.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(...requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, ...requestMessage.params, cancellationSource.token);\r\n                }\r\n                else {\r\n                    handlerResult = requestHandler\r\n                        ? requestHandler(requestMessage.params, cancellationSource.token)\r\n                        : starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\r\n                }\r\n                let promise = handlerResult;\r\n                if (!handlerResult) {\r\n                    delete requestTokens[tokenKey];\r\n                    replySuccess(handlerResult, requestMessage.method, startTime);\r\n                }\r\n                else if (promise.then) {\r\n                    promise.then((resultOrError) => {\r\n                        delete requestTokens[tokenKey];\r\n                        reply(resultOrError, requestMessage.method, startTime);\r\n                    }, error => {\r\n                        delete requestTokens[tokenKey];\r\n                        if (error instanceof messages_1.ResponseError) {\r\n                            replyError(error, requestMessage.method, startTime);\r\n                        }\r\n                        else if (error && Is.string(error.message)) {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                        }\r\n                        else {\r\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    delete requestTokens[tokenKey];\r\n                    reply(handlerResult, requestMessage.method, startTime);\r\n                }\r\n            }\r\n            catch (error) {\r\n                delete requestTokens[tokenKey];\r\n                if (error instanceof messages_1.ResponseError) {\r\n                    reply(error, requestMessage.method, startTime);\r\n                }\r\n                else if (error && Is.string(error.message)) {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\r\n                }\r\n                else {\r\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\r\n        }\r\n    }\r\n    function handleResponse(responseMessage) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        if (responseMessage.id === null) {\r\n            if (responseMessage.error) {\r\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\r\n            }\r\n            else {\r\n                logger.error(`Received response message without id. No further error information provided.`);\r\n            }\r\n        }\r\n        else {\r\n            let key = String(responseMessage.id);\r\n            let responsePromise = responsePromises[key];\r\n            traceReceivedResponse(responseMessage, responsePromise);\r\n            if (responsePromise) {\r\n                delete responsePromises[key];\r\n                try {\r\n                    if (responseMessage.error) {\r\n                        let error = responseMessage.error;\r\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\r\n                    }\r\n                    else if (responseMessage.result !== void 0) {\r\n                        responsePromise.resolve(responseMessage.result);\r\n                    }\r\n                    else {\r\n                        throw new Error('Should never happen.');\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    if (error.message) {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\r\n                    }\r\n                    else {\r\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function handleNotification(message) {\r\n        if (isDisposed()) {\r\n            // See handle request.\r\n            return;\r\n        }\r\n        let type = undefined;\r\n        let notificationHandler;\r\n        if (message.method === CancelNotification.type.method) {\r\n            notificationHandler = (params) => {\r\n                let id = params.id;\r\n                let source = requestTokens[String(id)];\r\n                if (source) {\r\n                    source.cancel();\r\n                }\r\n            };\r\n        }\r\n        else {\r\n            let element = notificationHandlers[message.method];\r\n            if (element) {\r\n                notificationHandler = element.handler;\r\n                type = element.type;\r\n            }\r\n        }\r\n        if (notificationHandler || starNotificationHandler) {\r\n            try {\r\n                traceReceivedNotification(message);\r\n                if (message.params === void 0 || (type !== void 0 && type.numberOfParams === 0)) {\r\n                    notificationHandler ? notificationHandler() : starNotificationHandler(message.method);\r\n                }\r\n                else if (Is.array(message.params) && (type === void 0 || type.numberOfParams > 1)) {\r\n                    notificationHandler ? notificationHandler(...message.params) : starNotificationHandler(message.method, ...message.params);\r\n                }\r\n                else {\r\n                    notificationHandler ? notificationHandler(message.params) : starNotificationHandler(message.method, message.params);\r\n                }\r\n            }\r\n            catch (error) {\r\n                if (error.message) {\r\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\r\n                }\r\n                else {\r\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            unhandledNotificationEmitter.fire(message);\r\n        }\r\n    }\r\n    function handleInvalidMessage(message) {\r\n        if (!message) {\r\n            logger.error('Received empty message.');\r\n            return;\r\n        }\r\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\r\n        // Test whether we find an id to reject the promise\r\n        let responseMessage = message;\r\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\r\n            let key = String(responseMessage.id);\r\n            let responseHandler = responsePromises[key];\r\n            if (responseHandler) {\r\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\r\n            }\r\n        }\r\n    }\r\n    function traceSendingRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-request', message);\r\n        }\r\n    }\r\n    function traceSendingNotification(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Sending notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-notification', message);\r\n        }\r\n    }\r\n    function traceSendingResponse(message, method, startTime) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('send-response', message);\r\n        }\r\n    }\r\n    function traceReceivedRequest(message) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose && message.params) {\r\n                data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n            }\r\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-request', message);\r\n        }\r\n    }\r\n    function traceReceivedNotification(message) {\r\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.params) {\r\n                    data = `Params: ${JSON.stringify(message.params, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    data = 'No parameters provided.\\n\\n';\r\n                }\r\n            }\r\n            tracer.log(`Received notification '${message.method}'.`, data);\r\n        }\r\n        else {\r\n            logLSPMessage('receive-notification', message);\r\n        }\r\n    }\r\n    function traceReceivedResponse(message, responsePromise) {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        if (traceFormat === TraceFormat.Text) {\r\n            let data = undefined;\r\n            if (trace === Trace.Verbose) {\r\n                if (message.error && message.error.data) {\r\n                    data = `Error data: ${JSON.stringify(message.error.data, null, 4)}\\n\\n`;\r\n                }\r\n                else {\r\n                    if (message.result) {\r\n                        data = `Result: ${JSON.stringify(message.result, null, 4)}\\n\\n`;\r\n                    }\r\n                    else if (message.error === void 0) {\r\n                        data = 'No result returned.\\n\\n';\r\n                    }\r\n                }\r\n            }\r\n            if (responsePromise) {\r\n                let error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\r\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\r\n            }\r\n            else {\r\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\r\n            }\r\n        }\r\n        else {\r\n            logLSPMessage('receive-response', message);\r\n        }\r\n    }\r\n    function logLSPMessage(type, message) {\r\n        if (!tracer || trace === Trace.Off) {\r\n            return;\r\n        }\r\n        const lspMessage = {\r\n            isLSPMessage: true,\r\n            type,\r\n            message,\r\n            timestamp: Date.now()\r\n        };\r\n        tracer.log(lspMessage);\r\n    }\r\n    function throwIfClosedOrDisposed() {\r\n        if (isClosed()) {\r\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\r\n        }\r\n        if (isDisposed()) {\r\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\r\n        }\r\n    }\r\n    function throwIfListening() {\r\n        if (isListening()) {\r\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\r\n        }\r\n    }\r\n    function throwIfNotListening() {\r\n        if (!isListening()) {\r\n            throw new Error('Call listen() first.');\r\n        }\r\n    }\r\n    function undefinedToNull(param) {\r\n        if (param === void 0) {\r\n            return null;\r\n        }\r\n        else {\r\n            return param;\r\n        }\r\n    }\r\n    function computeMessageParams(type, params) {\r\n        let result;\r\n        let numberOfParams = type.numberOfParams;\r\n        switch (numberOfParams) {\r\n            case 0:\r\n                result = null;\r\n                break;\r\n            case 1:\r\n                result = undefinedToNull(params[0]);\r\n                break;\r\n            default:\r\n                result = [];\r\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\r\n                    result.push(undefinedToNull(params[i]));\r\n                }\r\n                if (params.length < numberOfParams) {\r\n                    for (let i = params.length; i < numberOfParams; i++) {\r\n                        result.push(null);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        return result;\r\n    }\r\n    let connection = {\r\n        sendNotification: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            let method;\r\n            let messageParams;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        messageParams = params[0];\r\n                        break;\r\n                    default:\r\n                        messageParams = params;\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n            }\r\n            let notificationMessage = {\r\n                jsonrpc: version,\r\n                method: method,\r\n                params: messageParams\r\n            };\r\n            traceSendingNotification(notificationMessage);\r\n            messageWriter.write(notificationMessage);\r\n        },\r\n        onNotification: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starNotificationHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    notificationHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    notificationHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        onProgress: (_type, token, handler) => {\r\n            if (progressHandlers.has(token)) {\r\n                throw new Error(`Progress handler for token ${token} already registered`);\r\n            }\r\n            progressHandlers.set(token, handler);\r\n            return {\r\n                dispose: () => {\r\n                    progressHandlers.delete(token);\r\n                }\r\n            };\r\n        },\r\n        sendProgress: (_type, token, value) => {\r\n            connection.sendNotification(ProgressNotification.type, { token, value });\r\n        },\r\n        onUnhandledProgress: unhandledProgressEmitter.event,\r\n        sendRequest: (type, ...params) => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfNotListening();\r\n            let method;\r\n            let messageParams;\r\n            let token = undefined;\r\n            if (Is.string(type)) {\r\n                method = type;\r\n                switch (params.length) {\r\n                    case 0:\r\n                        messageParams = null;\r\n                        break;\r\n                    case 1:\r\n                        // The cancellation token is optional so it can also be undefined.\r\n                        if (cancellation_1.CancellationToken.is(params[0])) {\r\n                            messageParams = null;\r\n                            token = params[0];\r\n                        }\r\n                        else {\r\n                            messageParams = undefinedToNull(params[0]);\r\n                        }\r\n                        break;\r\n                    default:\r\n                        const last = params.length - 1;\r\n                        if (cancellation_1.CancellationToken.is(params[last])) {\r\n                            token = params[last];\r\n                            if (params.length === 2) {\r\n                                messageParams = undefinedToNull(params[0]);\r\n                            }\r\n                            else {\r\n                                messageParams = params.slice(0, last).map(value => undefinedToNull(value));\r\n                            }\r\n                        }\r\n                        else {\r\n                            messageParams = params.map(value => undefinedToNull(value));\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                method = type.method;\r\n                messageParams = computeMessageParams(type, params);\r\n                let numberOfParams = type.numberOfParams;\r\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\r\n            }\r\n            let id = sequenceNumber++;\r\n            let result = new Promise((resolve, reject) => {\r\n                let requestMessage = {\r\n                    jsonrpc: version,\r\n                    id: id,\r\n                    method: method,\r\n                    params: messageParams\r\n                };\r\n                let responsePromise = { method: method, timerStart: Date.now(), resolve, reject };\r\n                traceSendingRequest(requestMessage);\r\n                try {\r\n                    messageWriter.write(requestMessage);\r\n                }\r\n                catch (e) {\r\n                    // Writing the message failed. So we need to reject the promise.\r\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\r\n                    responsePromise = null;\r\n                }\r\n                if (responsePromise) {\r\n                    responsePromises[String(id)] = responsePromise;\r\n                }\r\n            });\r\n            if (token) {\r\n                token.onCancellationRequested(() => {\r\n                    connection.sendNotification(CancelNotification.type, { id });\r\n                });\r\n            }\r\n            return result;\r\n        },\r\n        onRequest: (type, handler) => {\r\n            throwIfClosedOrDisposed();\r\n            if (Is.func(type)) {\r\n                starRequestHandler = type;\r\n            }\r\n            else if (handler) {\r\n                if (Is.string(type)) {\r\n                    requestHandlers[type] = { type: undefined, handler };\r\n                }\r\n                else {\r\n                    requestHandlers[type.method] = { type, handler };\r\n                }\r\n            }\r\n        },\r\n        trace: (_value, _tracer, sendNotificationOrTraceOptions) => {\r\n            let _sendNotification = false;\r\n            let _traceFormat = TraceFormat.Text;\r\n            if (sendNotificationOrTraceOptions !== void 0) {\r\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\r\n                    _sendNotification = sendNotificationOrTraceOptions;\r\n                }\r\n                else {\r\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\r\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\r\n                }\r\n            }\r\n            trace = _value;\r\n            traceFormat = _traceFormat;\r\n            if (trace === Trace.Off) {\r\n                tracer = undefined;\r\n            }\r\n            else {\r\n                tracer = _tracer;\r\n            }\r\n            if (_sendNotification && !isClosed() && !isDisposed()) {\r\n                connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\r\n            }\r\n        },\r\n        onError: errorEmitter.event,\r\n        onClose: closeEmitter.event,\r\n        onUnhandledNotification: unhandledNotificationEmitter.event,\r\n        onDispose: disposeEmitter.event,\r\n        dispose: () => {\r\n            if (isDisposed()) {\r\n                return;\r\n            }\r\n            state = ConnectionState.Disposed;\r\n            disposeEmitter.fire(undefined);\r\n            let error = new Error('Connection got disposed.');\r\n            Object.keys(responsePromises).forEach((key) => {\r\n                responsePromises[key].reject(error);\r\n            });\r\n            responsePromises = Object.create(null);\r\n            requestTokens = Object.create(null);\r\n            messageQueue = new linkedMap_1.LinkedMap();\r\n            // Test for backwards compatibility\r\n            if (Is.func(messageWriter.dispose)) {\r\n                messageWriter.dispose();\r\n            }\r\n            if (Is.func(messageReader.dispose)) {\r\n                messageReader.dispose();\r\n            }\r\n        },\r\n        listen: () => {\r\n            throwIfClosedOrDisposed();\r\n            throwIfListening();\r\n            state = ConnectionState.Listening;\r\n            messageReader.listen(callback);\r\n        },\r\n        inspect: () => {\r\n            // eslint-disable-next-line no-console\r\n            console.log('inspect');\r\n        }\r\n    };\r\n    connection.onNotification(LogTraceNotification.type, (params) => {\r\n        if (trace === Trace.Off || !tracer) {\r\n            return;\r\n        }\r\n        tracer.log(params.message, trace === Trace.Verbose ? params.verbose : undefined);\r\n    });\r\n    connection.onNotification(ProgressNotification.type, (params) => {\r\n        const handler = progressHandlers.get(params.token);\r\n        if (handler) {\r\n            handler(params.value);\r\n        }\r\n        else {\r\n            unhandledProgressEmitter.fire(params);\r\n        }\r\n    });\r\n    return connection;\r\n}\r\nfunction isMessageReader(value) {\r\n    return value.listen !== void 0 && value.read === void 0;\r\n}\r\nfunction isMessageWriter(value) {\r\n    return value.write !== void 0 && value.end === void 0;\r\n}\r\nfunction createMessageConnection(input, output, logger, strategy) {\r\n    if (!logger) {\r\n        logger = exports.NullLogger;\r\n    }\r\n    let reader = isMessageReader(input) ? input : new messageReader_1.StreamMessageReader(input);\r\n    let writer = isMessageWriter(output) ? output : new messageWriter_1.StreamMessageWriter(output);\r\n    return _createMessageConnection(reader, writer, logger, strategy);\r\n}\r\nexports.createMessageConnection = createMessageConnection;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet DefaultSize = 8192;\r\nlet CR = Buffer.from('\\r', 'ascii')[0];\r\nlet LF = Buffer.from('\\n', 'ascii')[0];\r\nlet CRLF = '\\r\\n';\r\nclass MessageBuffer {\r\n    constructor(encoding = 'utf8') {\r\n        this.encoding = encoding;\r\n        this.index = 0;\r\n        this.buffer = Buffer.allocUnsafe(DefaultSize);\r\n    }\r\n    append(chunk) {\r\n        var toAppend = chunk;\r\n        if (typeof (chunk) === 'string') {\r\n            var str = chunk;\r\n            var bufferLen = Buffer.byteLength(str, this.encoding);\r\n            toAppend = Buffer.allocUnsafe(bufferLen);\r\n            toAppend.write(str, 0, bufferLen, this.encoding);\r\n        }\r\n        if (this.buffer.length - this.index >= toAppend.length) {\r\n            toAppend.copy(this.buffer, this.index, 0, toAppend.length);\r\n        }\r\n        else {\r\n            var newSize = (Math.ceil((this.index + toAppend.length) / DefaultSize) + 1) * DefaultSize;\r\n            if (this.index === 0) {\r\n                this.buffer = Buffer.allocUnsafe(newSize);\r\n                toAppend.copy(this.buffer, 0, 0, toAppend.length);\r\n            }\r\n            else {\r\n                this.buffer = Buffer.concat([this.buffer.slice(0, this.index), toAppend], newSize);\r\n            }\r\n        }\r\n        this.index += toAppend.length;\r\n    }\r\n    tryReadHeaders() {\r\n        let result = undefined;\r\n        let current = 0;\r\n        while (current + 3 < this.index && (this.buffer[current] !== CR || this.buffer[current + 1] !== LF || this.buffer[current + 2] !== CR || this.buffer[current + 3] !== LF)) {\r\n            current++;\r\n        }\r\n        // No header / body separator found (e.g CRLFCRLF)\r\n        if (current + 3 >= this.index) {\r\n            return result;\r\n        }\r\n        result = Object.create(null);\r\n        let headers = this.buffer.toString('ascii', 0, current).split(CRLF);\r\n        headers.forEach((header) => {\r\n            let index = header.indexOf(':');\r\n            if (index === -1) {\r\n                throw new Error('Message header must separate key and value using :');\r\n            }\r\n            let key = header.substr(0, index);\r\n            let value = header.substr(index + 1).trim();\r\n            result[key] = value;\r\n        });\r\n        let nextStart = current + 4;\r\n        this.buffer = this.buffer.slice(nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    tryReadContent(length) {\r\n        if (this.index < length) {\r\n            return null;\r\n        }\r\n        let result = this.buffer.toString(this.encoding, 0, length);\r\n        let nextStart = length;\r\n        this.buffer.copy(this.buffer, 0, nextStart);\r\n        this.index = this.index - nextStart;\r\n        return result;\r\n    }\r\n    get numberOfBytes() {\r\n        return this.index;\r\n    }\r\n}\r\nvar MessageReader;\r\n(function (MessageReader) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\r\n    }\r\n    MessageReader.is = is;\r\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\r\nclass AbstractMessageReader {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n        this.partialMessageEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error) {\r\n        this.errorEmitter.fire(this.asError(error));\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    get onPartialMessage() {\r\n        return this.partialMessageEmitter.event;\r\n    }\r\n    firePartialMessage(info) {\r\n        this.partialMessageEmitter.fire(info);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageReader = AbstractMessageReader;\r\nclass StreamMessageReader extends AbstractMessageReader {\r\n    constructor(readable, encoding = 'utf8') {\r\n        super();\r\n        this.readable = readable;\r\n        this.buffer = new MessageBuffer(encoding);\r\n        this._partialMessageTimeout = 10000;\r\n    }\r\n    set partialMessageTimeout(timeout) {\r\n        this._partialMessageTimeout = timeout;\r\n    }\r\n    get partialMessageTimeout() {\r\n        return this._partialMessageTimeout;\r\n    }\r\n    listen(callback) {\r\n        this.nextMessageLength = -1;\r\n        this.messageToken = 0;\r\n        this.partialMessageTimer = undefined;\r\n        this.callback = callback;\r\n        this.readable.on('data', (data) => {\r\n            this.onData(data);\r\n        });\r\n        this.readable.on('error', (error) => this.fireError(error));\r\n        this.readable.on('close', () => this.fireClose());\r\n    }\r\n    onData(data) {\r\n        this.buffer.append(data);\r\n        while (true) {\r\n            if (this.nextMessageLength === -1) {\r\n                let headers = this.buffer.tryReadHeaders();\r\n                if (!headers) {\r\n                    return;\r\n                }\r\n                let contentLength = headers['Content-Length'];\r\n                if (!contentLength) {\r\n                    throw new Error('Header must provide a Content-Length property.');\r\n                }\r\n                let length = parseInt(contentLength);\r\n                if (isNaN(length)) {\r\n                    throw new Error('Content-Length value must be a number.');\r\n                }\r\n                this.nextMessageLength = length;\r\n                // Take the encoding form the header. For compatibility\r\n                // treat both utf-8 and utf8 as node utf8\r\n            }\r\n            var msg = this.buffer.tryReadContent(this.nextMessageLength);\r\n            if (msg === null) {\r\n                /** We haven't received the full message yet. */\r\n                this.setPartialMessageTimer();\r\n                return;\r\n            }\r\n            this.clearPartialMessageTimer();\r\n            this.nextMessageLength = -1;\r\n            this.messageToken++;\r\n            var json = JSON.parse(msg);\r\n            this.callback(json);\r\n        }\r\n    }\r\n    clearPartialMessageTimer() {\r\n        if (this.partialMessageTimer) {\r\n            clearTimeout(this.partialMessageTimer);\r\n            this.partialMessageTimer = undefined;\r\n        }\r\n    }\r\n    setPartialMessageTimer() {\r\n        this.clearPartialMessageTimer();\r\n        if (this._partialMessageTimeout <= 0) {\r\n            return;\r\n        }\r\n        this.partialMessageTimer = setTimeout((token, timeout) => {\r\n            this.partialMessageTimer = undefined;\r\n            if (token === this.messageToken) {\r\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\r\n                this.setPartialMessageTimer();\r\n            }\r\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\r\n    }\r\n}\r\nexports.StreamMessageReader = StreamMessageReader;\r\nclass IPCMessageReader extends AbstractMessageReader {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose());\r\n    }\r\n    listen(callback) {\r\n        this.process.on('message', callback);\r\n    }\r\n}\r\nexports.IPCMessageReader = IPCMessageReader;\r\nclass SocketMessageReader extends StreamMessageReader {\r\n    constructor(socket, encoding = 'utf-8') {\r\n        super(socket, encoding);\r\n    }\r\n}\r\nexports.SocketMessageReader = SocketMessageReader;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"./events\");\r\nconst Is = require(\"./is\");\r\nlet ContentLength = 'Content-Length: ';\r\nlet CRLF = '\\r\\n';\r\nvar MessageWriter;\r\n(function (MessageWriter) {\r\n    function is(value) {\r\n        let candidate = value;\r\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\r\n            Is.func(candidate.onError) && Is.func(candidate.write);\r\n    }\r\n    MessageWriter.is = is;\r\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\r\nclass AbstractMessageWriter {\r\n    constructor() {\r\n        this.errorEmitter = new events_1.Emitter();\r\n        this.closeEmitter = new events_1.Emitter();\r\n    }\r\n    dispose() {\r\n        this.errorEmitter.dispose();\r\n        this.closeEmitter.dispose();\r\n    }\r\n    get onError() {\r\n        return this.errorEmitter.event;\r\n    }\r\n    fireError(error, message, count) {\r\n        this.errorEmitter.fire([this.asError(error), message, count]);\r\n    }\r\n    get onClose() {\r\n        return this.closeEmitter.event;\r\n    }\r\n    fireClose() {\r\n        this.closeEmitter.fire(undefined);\r\n    }\r\n    asError(error) {\r\n        if (error instanceof Error) {\r\n            return error;\r\n        }\r\n        else {\r\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\r\n        }\r\n    }\r\n}\r\nexports.AbstractMessageWriter = AbstractMessageWriter;\r\nclass StreamMessageWriter extends AbstractMessageWriter {\r\n    constructor(writable, encoding = 'utf8') {\r\n        super();\r\n        this.writable = writable;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.writable.on('error', (error) => this.fireError(error));\r\n        this.writable.on('close', () => this.fireClose());\r\n    }\r\n    write(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.writable.write(headers.join(''), 'ascii');\r\n            // Now write the content. This can be written in any encoding\r\n            this.writable.write(json, this.encoding);\r\n            this.errorCount = 0;\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.StreamMessageWriter = StreamMessageWriter;\r\nclass IPCMessageWriter extends AbstractMessageWriter {\r\n    constructor(process) {\r\n        super();\r\n        this.process = process;\r\n        this.errorCount = 0;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        let eventEmitter = this.process;\r\n        eventEmitter.on('error', (error) => this.fireError(error));\r\n        eventEmitter.on('close', () => this.fireClose);\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        try {\r\n            if (this.process.send) {\r\n                this.sending = true;\r\n                this.process.send(msg, undefined, undefined, (error) => {\r\n                    this.sending = false;\r\n                    if (error) {\r\n                        this.errorCount++;\r\n                        this.fireError(error, msg, this.errorCount);\r\n                    }\r\n                    else {\r\n                        this.errorCount = 0;\r\n                    }\r\n                    if (this.queue.length > 0) {\r\n                        this.doWriteMessage(this.queue.shift());\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        catch (error) {\r\n            this.errorCount++;\r\n            this.fireError(error, msg, this.errorCount);\r\n        }\r\n    }\r\n}\r\nexports.IPCMessageWriter = IPCMessageWriter;\r\nclass SocketMessageWriter extends AbstractMessageWriter {\r\n    constructor(socket, encoding = 'utf8') {\r\n        super();\r\n        this.socket = socket;\r\n        this.queue = [];\r\n        this.sending = false;\r\n        this.encoding = encoding;\r\n        this.errorCount = 0;\r\n        this.socket.on('error', (error) => this.fireError(error));\r\n        this.socket.on('close', () => this.fireClose());\r\n    }\r\n    dispose() {\r\n        super.dispose();\r\n        this.socket.destroy();\r\n    }\r\n    write(msg) {\r\n        if (!this.sending && this.queue.length === 0) {\r\n            // See https://github.com/nodejs/node/issues/7657\r\n            this.doWriteMessage(msg);\r\n        }\r\n        else {\r\n            this.queue.push(msg);\r\n        }\r\n    }\r\n    doWriteMessage(msg) {\r\n        let json = JSON.stringify(msg);\r\n        let contentLength = Buffer.byteLength(json, this.encoding);\r\n        let headers = [\r\n            ContentLength, contentLength.toString(), CRLF,\r\n            CRLF\r\n        ];\r\n        try {\r\n            // Header must be written in ASCII encoding\r\n            this.sending = true;\r\n            this.socket.write(headers.join(''), 'ascii', (error) => {\r\n                if (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n                try {\r\n                    // Now write the content. This can be written in any encoding\r\n                    this.socket.write(json, this.encoding, (error) => {\r\n                        this.sending = false;\r\n                        if (error) {\r\n                            this.handleError(error, msg);\r\n                        }\r\n                        else {\r\n                            this.errorCount = 0;\r\n                        }\r\n                        if (this.queue.length > 0) {\r\n                            this.doWriteMessage(this.queue.shift());\r\n                        }\r\n                    });\r\n                }\r\n                catch (error) {\r\n                    this.handleError(error, msg);\r\n                }\r\n            });\r\n        }\r\n        catch (error) {\r\n            this.handleError(error, msg);\r\n        }\r\n    }\r\n    handleError(error, msg) {\r\n        this.errorCount++;\r\n        this.fireError(error, msg, this.errorCount);\r\n    }\r\n}\r\nexports.SocketMessageWriter = SocketMessageWriter;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst is = require(\"./is\");\r\n/**\r\n * Predefined error codes.\r\n */\r\nvar ErrorCodes;\r\n(function (ErrorCodes) {\r\n    // Defined by JSON RPC\r\n    ErrorCodes.ParseError = -32700;\r\n    ErrorCodes.InvalidRequest = -32600;\r\n    ErrorCodes.MethodNotFound = -32601;\r\n    ErrorCodes.InvalidParams = -32602;\r\n    ErrorCodes.InternalError = -32603;\r\n    ErrorCodes.serverErrorStart = -32099;\r\n    ErrorCodes.serverErrorEnd = -32000;\r\n    ErrorCodes.ServerNotInitialized = -32002;\r\n    ErrorCodes.UnknownErrorCode = -32001;\r\n    // Defined by the protocol.\r\n    ErrorCodes.RequestCancelled = -32800;\r\n    ErrorCodes.ContentModified = -32801;\r\n    // Defined by VSCode library.\r\n    ErrorCodes.MessageWriteError = 1;\r\n    ErrorCodes.MessageReadError = 2;\r\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\r\n/**\r\n * An error object return in a response in case a request\r\n * has failed.\r\n */\r\nclass ResponseError extends Error {\r\n    constructor(code, message, data) {\r\n        super(message);\r\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\r\n        this.data = data;\r\n        Object.setPrototypeOf(this, ResponseError.prototype);\r\n    }\r\n    toJson() {\r\n        return {\r\n            code: this.code,\r\n            message: this.message,\r\n            data: this.data,\r\n        };\r\n    }\r\n}\r\nexports.ResponseError = ResponseError;\r\n/**\r\n * An abstract implementation of a MessageType.\r\n */\r\nclass AbstractMessageType {\r\n    constructor(_method, _numberOfParams) {\r\n        this._method = _method;\r\n        this._numberOfParams = _numberOfParams;\r\n    }\r\n    get method() {\r\n        return this._method;\r\n    }\r\n    get numberOfParams() {\r\n        return this._numberOfParams;\r\n    }\r\n}\r\nexports.AbstractMessageType = AbstractMessageType;\r\n/**\r\n * Classes to type request response pairs\r\n *\r\n * The type parameter RO will be removed in the next major version\r\n * of the JSON RPC library since it is a LSP concept and doesn't\r\n * belong here. For now it is tagged as default never.\r\n */\r\nclass RequestType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n    }\r\n}\r\nexports.RequestType0 = RequestType0;\r\nclass RequestType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n    }\r\n}\r\nexports.RequestType = RequestType;\r\nclass RequestType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n    }\r\n}\r\nexports.RequestType1 = RequestType1;\r\nclass RequestType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n    }\r\n}\r\nexports.RequestType2 = RequestType2;\r\nclass RequestType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n    }\r\n}\r\nexports.RequestType3 = RequestType3;\r\nclass RequestType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n    }\r\n}\r\nexports.RequestType4 = RequestType4;\r\nclass RequestType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n    }\r\n}\r\nexports.RequestType5 = RequestType5;\r\nclass RequestType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n    }\r\n}\r\nexports.RequestType6 = RequestType6;\r\nclass RequestType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n    }\r\n}\r\nexports.RequestType7 = RequestType7;\r\nclass RequestType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n    }\r\n}\r\nexports.RequestType8 = RequestType8;\r\nclass RequestType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n    }\r\n}\r\nexports.RequestType9 = RequestType9;\r\n/**\r\n * The type parameter RO will be removed in the next major version\r\n * of the JSON RPC library since it is a LSP concept and doesn't\r\n * belong here. For now it is tagged as default never.\r\n */\r\nclass NotificationType extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n        this._ = undefined;\r\n    }\r\n}\r\nexports.NotificationType = NotificationType;\r\nclass NotificationType0 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 0);\r\n    }\r\n}\r\nexports.NotificationType0 = NotificationType0;\r\nclass NotificationType1 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 1);\r\n    }\r\n}\r\nexports.NotificationType1 = NotificationType1;\r\nclass NotificationType2 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 2);\r\n    }\r\n}\r\nexports.NotificationType2 = NotificationType2;\r\nclass NotificationType3 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 3);\r\n    }\r\n}\r\nexports.NotificationType3 = NotificationType3;\r\nclass NotificationType4 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 4);\r\n    }\r\n}\r\nexports.NotificationType4 = NotificationType4;\r\nclass NotificationType5 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 5);\r\n    }\r\n}\r\nexports.NotificationType5 = NotificationType5;\r\nclass NotificationType6 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 6);\r\n    }\r\n}\r\nexports.NotificationType6 = NotificationType6;\r\nclass NotificationType7 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 7);\r\n    }\r\n}\r\nexports.NotificationType7 = NotificationType7;\r\nclass NotificationType8 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 8);\r\n    }\r\n}\r\nexports.NotificationType8 = NotificationType8;\r\nclass NotificationType9 extends AbstractMessageType {\r\n    constructor(method) {\r\n        super(method, 9);\r\n    }\r\n}\r\nexports.NotificationType9 = NotificationType9;\r\n/**\r\n * Tests if the given message is a request message\r\n */\r\nfunction isRequestMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\r\n}\r\nexports.isRequestMessage = isRequestMessage;\r\n/**\r\n * Tests if the given message is a notification message\r\n */\r\nfunction isNotificationMessage(message) {\r\n    let candidate = message;\r\n    return candidate && is.string(candidate.method) && message.id === void 0;\r\n}\r\nexports.isNotificationMessage = isNotificationMessage;\r\n/**\r\n * Tests if the given message is a response message\r\n */\r\nfunction isResponseMessage(message) {\r\n    let candidate = message;\r\n    return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\r\n}\r\nexports.isResponseMessage = isResponseMessage;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst path_1 = require(\"path\");\r\nconst os_1 = require(\"os\");\r\nconst crypto_1 = require(\"crypto\");\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction generateRandomPipeName() {\r\n    const randomSuffix = crypto_1.randomBytes(21).toString('hex');\r\n    if (process.platform === 'win32') {\r\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\r\n    }\r\n    else {\r\n        // Mac/Unix: use socket file\r\n        return path_1.join(os_1.tmpdir(), `vscode-${randomSuffix}.sock`);\r\n    }\r\n}\r\nexports.generateRandomPipeName = generateRandomPipeName;\r\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(pipeName, () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientPipeTransport = createClientPipeTransport;\r\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(pipeName);\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerPipeTransport = createServerPipeTransport;\r\n","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst net_1 = require(\"net\");\r\nconst messageReader_1 = require(\"./messageReader\");\r\nconst messageWriter_1 = require(\"./messageWriter\");\r\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\r\n    let connectResolve;\r\n    let connected = new Promise((resolve, _reject) => {\r\n        connectResolve = resolve;\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n        let server = net_1.createServer((socket) => {\r\n            server.close();\r\n            connectResolve([\r\n                new messageReader_1.SocketMessageReader(socket, encoding),\r\n                new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n            ]);\r\n        });\r\n        server.on('error', reject);\r\n        server.listen(port, '127.0.0.1', () => {\r\n            server.removeListener('error', reject);\r\n            resolve({\r\n                onConnected: () => { return connected; }\r\n            });\r\n        });\r\n    });\r\n}\r\nexports.createClientSocketTransport = createClientSocketTransport;\r\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\r\n    const socket = net_1.createConnection(port, '127.0.0.1');\r\n    return [\r\n        new messageReader_1.SocketMessageReader(socket, encoding),\r\n        new messageWriter_1.SocketMessageWriter(socket, encoding)\r\n    ];\r\n}\r\nexports.createServerSocketTransport = createServerSocketTransport;\r\n","'use strict';\n\nconst WebSocket = require('./lib/websocket');\n\nWebSocket.createWebSocketStream = require('./lib/stream');\nWebSocket.Server = require('./lib/websocket-server');\nWebSocket.Receiver = require('./lib/receiver');\nWebSocket.Sender = require('./lib/sender');\n\nWebSocket.WebSocket = WebSocket;\nWebSocket.WebSocketServer = WebSocket.Server;\n\nmodule.exports = WebSocket;\n","'use strict';\n\nconst { EMPTY_BUFFER } = require('./constants');\n\nconst FastBuffer = Buffer[Symbol.species];\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nfunction concat(list, totalLength) {\n  if (list.length === 0) return EMPTY_BUFFER;\n  if (list.length === 1) return list[0];\n\n  const target = Buffer.allocUnsafe(totalLength);\n  let offset = 0;\n\n  for (let i = 0; i < list.length; i++) {\n    const buf = list[i];\n    target.set(buf, offset);\n    offset += buf.length;\n  }\n\n  if (offset < totalLength) {\n    return new FastBuffer(target.buffer, target.byteOffset, offset);\n  }\n\n  return target;\n}\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nfunction _mask(source, mask, output, offset, length) {\n  for (let i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n}\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nfunction _unmask(buffer, mask) {\n  for (let i = 0; i < buffer.length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} buf The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n * @public\n */\nfunction toArrayBuffer(buf) {\n  if (buf.length === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.length);\n}\n\n/**\n * Converts `data` to a `Buffer`.\n *\n * @param {*} data The data to convert\n * @return {Buffer} The buffer\n * @throws {TypeError}\n * @public\n */\nfunction toBuffer(data) {\n  toBuffer.readOnly = true;\n\n  if (Buffer.isBuffer(data)) return data;\n\n  let buf;\n\n  if (data instanceof ArrayBuffer) {\n    buf = new FastBuffer(data);\n  } else if (ArrayBuffer.isView(data)) {\n    buf = new FastBuffer(data.buffer, data.byteOffset, data.byteLength);\n  } else {\n    buf = Buffer.from(data);\n    toBuffer.readOnly = false;\n  }\n\n  return buf;\n}\n\nmodule.exports = {\n  concat,\n  mask: _mask,\n  toArrayBuffer,\n  toBuffer,\n  unmask: _unmask\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_BUFFER_UTIL) {\n  try {\n    const bufferUtil = require('bufferutil');\n\n    module.exports.mask = function (source, mask, output, offset, length) {\n      if (length < 48) _mask(source, mask, output, offset, length);\n      else bufferUtil.mask(source, mask, output, offset, length);\n    };\n\n    module.exports.unmask = function (buffer, mask) {\n      if (buffer.length < 32) _unmask(buffer, mask);\n      else bufferUtil.unmask(buffer, mask);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","'use strict';\n\nmodule.exports = {\n  BINARY_TYPES: ['nodebuffer', 'arraybuffer', 'fragments'],\n  EMPTY_BUFFER: Buffer.alloc(0),\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n  kForOnEventAttribute: Symbol('kIsForOnEventAttribute'),\n  kListener: Symbol('kListener'),\n  kStatusCode: Symbol('status-code'),\n  kWebSocket: Symbol('websocket'),\n  NOOP: () => {}\n};\n","'use strict';\n\nconst { kForOnEventAttribute, kListener } = require('./constants');\n\nconst kCode = Symbol('kCode');\nconst kData = Symbol('kData');\nconst kError = Symbol('kError');\nconst kMessage = Symbol('kMessage');\nconst kReason = Symbol('kReason');\nconst kTarget = Symbol('kTarget');\nconst kType = Symbol('kType');\nconst kWasClean = Symbol('kWasClean');\n\n/**\n * Class representing an event.\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @throws {TypeError} If the `type` argument is not specified\n   */\n  constructor(type) {\n    this[kTarget] = null;\n    this[kType] = type;\n  }\n\n  /**\n   * @type {*}\n   */\n  get target() {\n    return this[kTarget];\n  }\n\n  /**\n   * @type {String}\n   */\n  get type() {\n    return this[kType];\n  }\n}\n\nObject.defineProperty(Event.prototype, 'target', { enumerable: true });\nObject.defineProperty(Event.prototype, 'type', { enumerable: true });\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {Number} [options.code=0] The status code explaining why the\n   *     connection was closed\n   * @param {String} [options.reason=''] A human-readable string explaining why\n   *     the connection was closed\n   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\n   *     connection was cleanly closed\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kCode] = options.code === undefined ? 0 : options.code;\n    this[kReason] = options.reason === undefined ? '' : options.reason;\n    this[kWasClean] = options.wasClean === undefined ? false : options.wasClean;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get code() {\n    return this[kCode];\n  }\n\n  /**\n   * @type {String}\n   */\n  get reason() {\n    return this[kReason];\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get wasClean() {\n    return this[kWasClean];\n  }\n}\n\nObject.defineProperty(CloseEvent.prototype, 'code', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'reason', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'wasClean', { enumerable: true });\n\n/**\n * Class representing an error event.\n *\n * @extends Event\n */\nclass ErrorEvent extends Event {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.error=null] The error that generated this event\n   * @param {String} [options.message=''] The error message\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kError] = options.error === undefined ? null : options.error;\n    this[kMessage] = options.message === undefined ? '' : options.message;\n  }\n\n  /**\n   * @type {*}\n   */\n  get error() {\n    return this[kError];\n  }\n\n  /**\n   * @type {String}\n   */\n  get message() {\n    return this[kMessage];\n  }\n}\n\nObject.defineProperty(ErrorEvent.prototype, 'error', { enumerable: true });\nObject.defineProperty(ErrorEvent.prototype, 'message', { enumerable: true });\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.data=null] The message content\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kData] = options.data === undefined ? null : options.data;\n  }\n\n  /**\n   * @type {*}\n   */\n  get data() {\n    return this[kData];\n  }\n}\n\nObject.defineProperty(MessageEvent.prototype, 'data', { enumerable: true });\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} type A string representing the event type to listen for\n   * @param {(Function|Object)} handler The listener to add\n   * @param {Object} [options] An options object specifies characteristics about\n   *     the event listener\n   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\n   *     listener should be invoked at most once after being added. If `true`,\n   *     the listener would be automatically removed when invoked.\n   * @public\n   */\n  addEventListener(type, handler, options = {}) {\n    for (const listener of this.listeners(type)) {\n      if (\n        !options[kForOnEventAttribute] &&\n        listener[kListener] === handler &&\n        !listener[kForOnEventAttribute]\n      ) {\n        return;\n      }\n    }\n\n    let wrapper;\n\n    if (type === 'message') {\n      wrapper = function onMessage(data, isBinary) {\n        const event = new MessageEvent('message', {\n          data: isBinary ? data : data.toString()\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'close') {\n      wrapper = function onClose(code, message) {\n        const event = new CloseEvent('close', {\n          code,\n          reason: message.toString(),\n          wasClean: this._closeFrameReceived && this._closeFrameSent\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'error') {\n      wrapper = function onError(error) {\n        const event = new ErrorEvent('error', {\n          error,\n          message: error.message\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'open') {\n      wrapper = function onOpen() {\n        const event = new Event('open');\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else {\n      return;\n    }\n\n    wrapper[kForOnEventAttribute] = !!options[kForOnEventAttribute];\n    wrapper[kListener] = handler;\n\n    if (options.once) {\n      this.once(type, wrapper);\n    } else {\n      this.on(type, wrapper);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} type A string representing the event type to remove\n   * @param {(Function|Object)} handler The listener to remove\n   * @public\n   */\n  removeEventListener(type, handler) {\n    for (const listener of this.listeners(type)) {\n      if (listener[kListener] === handler && !listener[kForOnEventAttribute]) {\n        this.removeListener(type, listener);\n        break;\n      }\n    }\n  }\n};\n\nmodule.exports = {\n  CloseEvent,\n  ErrorEvent,\n  Event,\n  EventTarget,\n  MessageEvent\n};\n\n/**\n * Call an event listener\n *\n * @param {(Function|Object)} listener The listener to call\n * @param {*} thisArg The value to use as `this`` when calling the listener\n * @param {Event} event The event to pass to the listener\n * @private\n */\nfunction callListener(listener, thisArg, event) {\n  if (typeof listener === 'object' && listener.handleEvent) {\n    listener.handleEvent.call(listener, event);\n  } else {\n    listener.call(thisArg, event);\n  }\n}\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push(dest, name, elem) {\n  if (dest[name] === undefined) dest[name] = [elem];\n  else dest[name].push(elem);\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse(header) {\n  const offers = Object.create(null);\n  let params = Object.create(null);\n  let mustUnescape = false;\n  let isEscaping = false;\n  let inQuotes = false;\n  let extensionName;\n  let paramName;\n  let start = -1;\n  let code = -1;\n  let end = -1;\n  let i = 0;\n\n  for (; i < header.length; i++) {\n    code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (\n        i !== 0 &&\n        (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n      ) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = Object.create(null);\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c /* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        let value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes || code === 0x20 || code === 0x09) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, params);\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Builds the `Sec-WebSocket-Extensions` header field value.\n *\n * @param {Object} extensions The map of extensions and parameters to format\n * @return {String} A string representing the given object\n * @public\n */\nfunction format(extensions) {\n  return Object.keys(extensions)\n    .map((extension) => {\n      let configurations = extensions[extension];\n      if (!Array.isArray(configurations)) configurations = [configurations];\n      return configurations\n        .map((params) => {\n          return [extension]\n            .concat(\n              Object.keys(params).map((k) => {\n                let values = params[k];\n                if (!Array.isArray(values)) values = [values];\n                return values\n                  .map((v) => (v === true ? k : `${k}=${v}`))\n                  .join('; ');\n              })\n            )\n            .join('; ');\n        })\n        .join(', ');\n    })\n    .join(', ');\n}\n\nmodule.exports = { format, parse };\n","'use strict';\n\nconst kDone = Symbol('kDone');\nconst kRun = Symbol('kRun');\n\n/**\n * A very simple job queue with adjustable concurrency. Adapted from\n * https://github.com/STRML/async-limiter\n */\nclass Limiter {\n  /**\n   * Creates a new `Limiter`.\n   *\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n   *     to run concurrently\n   */\n  constructor(concurrency) {\n    this[kDone] = () => {\n      this.pending--;\n      this[kRun]();\n    };\n    this.concurrency = concurrency || Infinity;\n    this.jobs = [];\n    this.pending = 0;\n  }\n\n  /**\n   * Adds a job to the queue.\n   *\n   * @param {Function} job The job to run\n   * @public\n   */\n  add(job) {\n    this.jobs.push(job);\n    this[kRun]();\n  }\n\n  /**\n   * Removes a job from the queue and runs it if possible.\n   *\n   * @private\n   */\n  [kRun]() {\n    if (this.pending === this.concurrency) return;\n\n    if (this.jobs.length) {\n      const job = this.jobs.shift();\n\n      this.pending++;\n      job(this[kDone]);\n    }\n  }\n}\n\nmodule.exports = Limiter;\n","'use strict';\n\nconst zlib = require('zlib');\n\nconst bufferUtil = require('./buffer-util');\nconst Limiter = require('./limiter');\nconst { kStatusCode } = require('./constants');\n\nconst FastBuffer = Buffer[Symbol.species];\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed if context takeover is disabled\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold =\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency =\n        this._options.concurrencyLimit !== undefined\n          ? this._options.concurrencyLimit\n          : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate) {\n      this._inflate.close();\n      this._inflate = null;\n    }\n\n    if (this._deflate) {\n      const callback = this._deflate[kCallback];\n\n      this._deflate.close();\n      this._deflate = null;\n\n      if (callback) {\n        callback(\n          new Error(\n            'The deflate stream was closed while data was being processed'\n          )\n        );\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        let value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits\n      });\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (this._inflate._readableState.endEmitted) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n          this._inflate.reset();\n        }\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(data, fin, callback) {\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kCallback] = callback;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      if (!this._deflate) {\n        //\n        // The deflate stream was closed while data was being processed.\n        //\n        return;\n      }\n\n      let data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) {\n        data = new FastBuffer(data.buffer, data.byteOffset, data.length - 4);\n      }\n\n      //\n      // Ensure that the callback will not be called again in\n      // `PerMessageDeflate#cleanup()`.\n      //\n      this._deflate[kCallback] = null;\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n        this._deflate.reset();\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError(err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}\n","'use strict';\n\nconst { Writable } = require('stream');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  kStatusCode,\n  kWebSocket\n} = require('./constants');\nconst { concat, toArrayBuffer, unmask } = require('./buffer-util');\nconst { isValidStatusCode, isValidUTF8 } = require('./validation');\n\nconst FastBuffer = Buffer[Symbol.species];\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\n\n/**\n * HyBi Receiver implementation.\n *\n * @extends Writable\n */\nclass Receiver extends Writable {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {Object} [options] Options object\n   * @param {String} [options.binaryType=nodebuffer] The type for binary data\n   * @param {Object} [options.extensions] An object containing the negotiated\n   *     extensions\n   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\n   *     client or server mode\n   * @param {Number} [options.maxPayload=0] The maximum allowed message length\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   */\n  constructor(options = {}) {\n    super();\n\n    this._binaryType = options.binaryType || BINARY_TYPES[0];\n    this._extensions = options.extensions || {};\n    this._isServer = !!options.isServer;\n    this._maxPayload = options.maxPayload | 0;\n    this._skipUTF8Validation = !!options.skipUTF8Validation;\n    this[kWebSocket] = undefined;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._mask = undefined;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._state = GET_INFO;\n    this._loop = false;\n  }\n\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   * @private\n   */\n  _write(chunk, encoding, cb) {\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\n\n    this._bufferedBytes += chunk.length;\n    this._buffers.push(chunk);\n    this.startLoop(cb);\n  }\n\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume(n) {\n    this._bufferedBytes -= n;\n\n    if (n === this._buffers[0].length) return this._buffers.shift();\n\n    if (n < this._buffers[0].length) {\n      const buf = this._buffers[0];\n      this._buffers[0] = new FastBuffer(\n        buf.buffer,\n        buf.byteOffset + n,\n        buf.length - n\n      );\n\n      return new FastBuffer(buf.buffer, buf.byteOffset, n);\n    }\n\n    const dst = Buffer.allocUnsafe(n);\n\n    do {\n      const buf = this._buffers[0];\n      const offset = dst.length - n;\n\n      if (n >= buf.length) {\n        dst.set(this._buffers.shift(), offset);\n      } else {\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\n        this._buffers[0] = new FastBuffer(\n          buf.buffer,\n          buf.byteOffset + n,\n          buf.length - n\n        );\n      }\n\n      n -= buf.length;\n    } while (n > 0);\n\n    return dst;\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop(cb) {\n    let err;\n    this._loop = true;\n\n    do {\n      switch (this._state) {\n        case GET_INFO:\n          err = this.getInfo();\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          err = this.getPayloadLength16();\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          err = this.getPayloadLength64();\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          err = this.getData(cb);\n          break;\n        default:\n          // `INFLATING`\n          this._loop = false;\n          return;\n      }\n    } while (this._loop);\n\n    cb(err);\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getInfo() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV2 and RSV3 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_2_3'\n      );\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV1 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_1'\n      );\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (!this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'invalid opcode 0',\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid opcode ${this._opcode}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'FIN must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_FIN'\n        );\n      }\n\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (\n        this._payloadLength > 0x7d ||\n        (this._opcode === 0x08 && this._payloadLength === 1)\n      ) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      }\n    } else {\n      this._loop = false;\n      return error(\n        RangeError,\n        `invalid opcode ${this._opcode}`,\n        true,\n        1002,\n        'WS_ERR_INVALID_OPCODE'\n      );\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._isServer) {\n      if (!this._masked) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'MASK must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_MASK'\n        );\n      }\n    } else if (this._masked) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'MASK must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_MASK'\n      );\n    }\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength16() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    this._payloadLength = this.consume(2).readUInt16BE(0);\n    return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength64() {\n    if (this._bufferedBytes < 8) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(8);\n    const num = buf.readUInt32BE(0);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n        false,\n        1009,\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\n      );\n    }\n\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n    return this.haveLength();\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  haveLength() {\n    if (this._payloadLength && this._opcode < 0x08) {\n      this._totalPayloadLength += this._payloadLength;\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'Max payload size exceeded',\n          false,\n          1009,\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n        );\n      }\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask() {\n    if (this._bufferedBytes < 4) {\n      this._loop = false;\n      return;\n    }\n\n    this._mask = this.consume(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  getData(cb) {\n    let data = EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = false;\n        return;\n      }\n\n      data = this.consume(this._payloadLength);\n\n      if (\n        this._masked &&\n        (this._mask[0] | this._mask[1] | this._mask[2] | this._mask[3]) !== 0\n      ) {\n        unmask(data, this._mask);\n      }\n    }\n\n    if (this._opcode > 0x07) return this.controlMessage(data);\n\n    if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data, cb);\n      return;\n    }\n\n    if (data.length) {\n      //\n      // This message is not compressed so its length is the sum of the payload\n      // length of all fragments.\n      //\n      this._messageLength = this._totalPayloadLength;\n      this._fragments.push(data);\n    }\n\n    return this.dataMessage();\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress(data, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) return cb(err);\n\n      if (buf.length) {\n        this._messageLength += buf.length;\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n          return cb(\n            error(\n              RangeError,\n              'Max payload size exceeded',\n              false,\n              1009,\n              'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n            )\n          );\n        }\n\n        this._fragments.push(buf);\n      }\n\n      const er = this.dataMessage();\n      if (er) return cb(er);\n\n      this.startLoop(cb);\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @return {(Error|undefined)} A possible error\n   * @private\n   */\n  dataMessage() {\n    if (this._fin) {\n      const messageLength = this._messageLength;\n      const fragments = this._fragments;\n\n      this._totalPayloadLength = 0;\n      this._messageLength = 0;\n      this._fragmented = 0;\n      this._fragments = [];\n\n      if (this._opcode === 2) {\n        let data;\n\n        if (this._binaryType === 'nodebuffer') {\n          data = concat(fragments, messageLength);\n        } else if (this._binaryType === 'arraybuffer') {\n          data = toArrayBuffer(concat(fragments, messageLength));\n        } else {\n          data = fragments;\n        }\n\n        this.emit('message', data, true);\n      } else {\n        const buf = concat(fragments, messageLength);\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          this._loop = false;\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('message', buf, false);\n      }\n    }\n\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage(data) {\n    if (this._opcode === 0x08) {\n      this._loop = false;\n\n      if (data.length === 0) {\n        this.emit('conclude', 1005, EMPTY_BUFFER);\n        this.end();\n      } else {\n        const code = data.readUInt16BE(0);\n\n        if (!isValidStatusCode(code)) {\n          return error(\n            RangeError,\n            `invalid status code ${code}`,\n            true,\n            1002,\n            'WS_ERR_INVALID_CLOSE_CODE'\n          );\n        }\n\n        const buf = new FastBuffer(\n          data.buffer,\n          data.byteOffset + 2,\n          data.length - 2\n        );\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('conclude', code, buf);\n        this.end();\n      }\n    } else if (this._opcode === 0x09) {\n      this.emit('ping', data);\n    } else {\n      this.emit('pong', data);\n    }\n\n    this._state = GET_INFO;\n  }\n}\n\nmodule.exports = Receiver;\n\n/**\n * Builds an error object.\n *\n * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\n * @param {String} message The error message\n * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n *     `message`\n * @param {Number} statusCode The status code\n * @param {String} errorCode The exposed error code\n * @return {(Error|RangeError)} The error\n * @private\n */\nfunction error(ErrorCtor, message, prefix, statusCode, errorCode) {\n  const err = new ErrorCtor(\n    prefix ? `Invalid WebSocket frame: ${message}` : message\n  );\n\n  Error.captureStackTrace(err, error);\n  err.code = errorCode;\n  err[kStatusCode] = statusCode;\n  return err;\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls$\" }] */\n\n'use strict';\n\nconst net = require('net');\nconst tls = require('tls');\nconst { randomFillSync } = require('crypto');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst { EMPTY_BUFFER } = require('./constants');\nconst { isValidStatusCode } = require('./validation');\nconst { mask: applyMask, toBuffer } = require('./buffer-util');\n\nconst kByteLength = Symbol('kByteLength');\nconst maskBuffer = Buffer.alloc(4);\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The connection socket\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   * @param {Function} [generateMask] The function used to generate the masking\n   *     key\n   */\n  constructor(socket, extensions, generateMask) {\n    this._extensions = extensions || {};\n\n    if (generateMask) {\n      this._generateMask = generateMask;\n      this._maskBuffer = Buffer.alloc(4);\n    }\n\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._deflating = false;\n    this._queue = [];\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {(Buffer|String)} data The data to frame\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @return {(Buffer|String)[]} The framed data\n   * @public\n   */\n  static frame(data, options) {\n    let mask;\n    let merge = false;\n    let offset = 2;\n    let skipMasking = false;\n\n    if (options.mask) {\n      mask = options.maskBuffer || maskBuffer;\n\n      if (options.generateMask) {\n        options.generateMask(mask);\n      } else {\n        randomFillSync(mask, 0, 4);\n      }\n\n      skipMasking = (mask[0] | mask[1] | mask[2] | mask[3]) === 0;\n      offset = 6;\n    }\n\n    let dataLength;\n\n    if (typeof data === 'string') {\n      if (\n        (!options.mask || skipMasking) &&\n        options[kByteLength] !== undefined\n      ) {\n        dataLength = options[kByteLength];\n      } else {\n        data = Buffer.from(data);\n        dataLength = data.length;\n      }\n    } else {\n      dataLength = data.length;\n      merge = options.mask && options.readOnly && !skipMasking;\n    }\n\n    let payloadLength = dataLength;\n\n    if (dataLength >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (dataLength > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? dataLength + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    target[1] = payloadLength;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(dataLength, 2);\n    } else if (payloadLength === 127) {\n      target[2] = target[3] = 0;\n      target.writeUIntBE(dataLength, 4, 6);\n    }\n\n    if (!options.mask) return [target, data];\n\n    target[1] |= 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (skipMasking) return [target, data];\n\n    if (merge) {\n      applyMask(data, mask, target, offset, dataLength);\n      return [target];\n    }\n\n    applyMask(data, mask, data, 0, dataLength);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {Number} [code] The status code component of the body\n   * @param {(String|Buffer)} [data] The message component of the body\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(code, data, mask, cb) {\n    let buf;\n\n    if (code === undefined) {\n      buf = EMPTY_BUFFER;\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\n      throw new TypeError('First argument must be a valid error code number');\n    } else if (data === undefined || !data.length) {\n      buf = Buffer.allocUnsafe(2);\n      buf.writeUInt16BE(code, 0);\n    } else {\n      const length = Buffer.byteLength(data);\n\n      if (length > 123) {\n        throw new RangeError('The message must not be greater than 123 bytes');\n      }\n\n      buf = Buffer.allocUnsafe(2 + length);\n      buf.writeUInt16BE(code, 0);\n\n      if (typeof data === 'string') {\n        buf.write(data, 2);\n      } else {\n        buf.set(data, 2);\n      }\n    }\n\n    const options = {\n      [kByteLength]: buf.length,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x08,\n      readOnly: false,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, buf, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(buf, options), cb);\n    }\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  ping(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x09,\n      readOnly,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  pong(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x0a,\n      readOnly,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n   *     or text\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\n   *     compress `data`\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  send(data, options, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n    let opcode = options.binary ? 2 : 1;\n    let rsv1 = options.compress;\n\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (\n        rsv1 &&\n        perMessageDeflate &&\n        perMessageDeflate.params[\n          perMessageDeflate._isServer\n            ? 'server_no_context_takeover'\n            : 'client_no_context_takeover'\n        ]\n      ) {\n        rsv1 = byteLength >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    if (perMessageDeflate) {\n      const opts = {\n        [kByteLength]: byteLength,\n        fin: options.fin,\n        generateMask: this._generateMask,\n        mask: options.mask,\n        maskBuffer: this._maskBuffer,\n        opcode,\n        readOnly,\n        rsv1\n      };\n\n      if (this._deflating) {\n        this.enqueue([this.dispatch, data, this._compress, opts, cb]);\n      } else {\n        this.dispatch(data, this._compress, opts, cb);\n      }\n    } else {\n      this.sendFrame(\n        Sender.frame(data, {\n          [kByteLength]: byteLength,\n          fin: options.fin,\n          generateMask: this._generateMask,\n          mask: options.mask,\n          maskBuffer: this._maskBuffer,\n          opcode,\n          readOnly,\n          rsv1: false\n        }),\n        cb\n      );\n    }\n  }\n\n  /**\n   * Dispatches a message.\n   *\n   * @param {(Buffer|String)} data The message to send\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     `data`\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  dispatch(data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._bufferedBytes += options[kByteLength];\n    this._deflating = true;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      if (this._socket.destroyed) {\n        const err = new Error(\n          'The socket was closed while data was being compressed'\n        );\n\n        if (typeof cb === 'function') cb(err);\n\n        for (let i = 0; i < this._queue.length; i++) {\n          const params = this._queue[i];\n          const callback = params[params.length - 1];\n\n          if (typeof callback === 'function') callback(err);\n        }\n\n        return;\n      }\n\n      this._bufferedBytes -= options[kByteLength];\n      this._deflating = false;\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue() {\n    while (!this._deflating && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[3][kByteLength];\n      Reflect.apply(params[0], this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue(params) {\n    this._bufferedBytes += params[3][kByteLength];\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {Buffer[]} list The frame to send\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  sendFrame(list, cb) {\n    if (list.length === 2) {\n      this._socket.cork();\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n      this._socket.uncork();\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n","'use strict';\n\nconst { Duplex } = require('stream');\n\n/**\n * Emits the `'close'` event on a stream.\n *\n * @param {Duplex} stream The stream.\n * @private\n */\nfunction emitClose(stream) {\n  stream.emit('close');\n}\n\n/**\n * The listener of the `'end'` event.\n *\n * @private\n */\nfunction duplexOnEnd() {\n  if (!this.destroyed && this._writableState.finished) {\n    this.destroy();\n  }\n}\n\n/**\n * The listener of the `'error'` event.\n *\n * @param {Error} err The error\n * @private\n */\nfunction duplexOnError(err) {\n  this.removeListener('error', duplexOnError);\n  this.destroy();\n  if (this.listenerCount('error') === 0) {\n    // Do not suppress the throwing behavior.\n    this.emit('error', err);\n  }\n}\n\n/**\n * Wraps a `WebSocket` in a duplex stream.\n *\n * @param {WebSocket} ws The `WebSocket` to wrap\n * @param {Object} [options] The options for the `Duplex` constructor\n * @return {Duplex} The duplex stream\n * @public\n */\nfunction createWebSocketStream(ws, options) {\n  let terminateOnDestroy = true;\n\n  const duplex = new Duplex({\n    ...options,\n    autoDestroy: false,\n    emitClose: false,\n    objectMode: false,\n    writableObjectMode: false\n  });\n\n  ws.on('message', function message(msg, isBinary) {\n    const data =\n      !isBinary && duplex._readableState.objectMode ? msg.toString() : msg;\n\n    if (!duplex.push(data)) ws.pause();\n  });\n\n  ws.once('error', function error(err) {\n    if (duplex.destroyed) return;\n\n    // Prevent `ws.terminate()` from being called by `duplex._destroy()`.\n    //\n    // - If the `'error'` event is emitted before the `'open'` event, then\n    //   `ws.terminate()` is a noop as no socket is assigned.\n    // - Otherwise, the error is re-emitted by the listener of the `'error'`\n    //   event of the `Receiver` object. The listener already closes the\n    //   connection by calling `ws.close()`. This allows a close frame to be\n    //   sent to the other peer. If `ws.terminate()` is called right after this,\n    //   then the close frame might not be sent.\n    terminateOnDestroy = false;\n    duplex.destroy(err);\n  });\n\n  ws.once('close', function close() {\n    if (duplex.destroyed) return;\n\n    duplex.push(null);\n  });\n\n  duplex._destroy = function (err, callback) {\n    if (ws.readyState === ws.CLOSED) {\n      callback(err);\n      process.nextTick(emitClose, duplex);\n      return;\n    }\n\n    let called = false;\n\n    ws.once('error', function error(err) {\n      called = true;\n      callback(err);\n    });\n\n    ws.once('close', function close() {\n      if (!called) callback(err);\n      process.nextTick(emitClose, duplex);\n    });\n\n    if (terminateOnDestroy) ws.terminate();\n  };\n\n  duplex._final = function (callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._final(callback);\n      });\n      return;\n    }\n\n    // If the value of the `_socket` property is `null` it means that `ws` is a\n    // client websocket and the handshake failed. In fact, when this happens, a\n    // socket is never assigned to the websocket. Wait for the `'error'` event\n    // that will be emitted by the websocket.\n    if (ws._socket === null) return;\n\n    if (ws._socket._writableState.finished) {\n      callback();\n      if (duplex._readableState.endEmitted) duplex.destroy();\n    } else {\n      ws._socket.once('finish', function finish() {\n        // `duplex` is not destroyed here because the `'end'` event will be\n        // emitted on `duplex` after this `'finish'` event. The EOF signaling\n        // `null` chunk is, in fact, pushed when the websocket emits `'close'`.\n        callback();\n      });\n      ws.close();\n    }\n  };\n\n  duplex._read = function () {\n    if (ws.isPaused) ws.resume();\n  };\n\n  duplex._write = function (chunk, encoding, callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._write(chunk, encoding, callback);\n      });\n      return;\n    }\n\n    ws.send(chunk, callback);\n  };\n\n  duplex.on('end', duplexOnEnd);\n  duplex.on('error', duplexOnError);\n  return duplex;\n}\n\nmodule.exports = createWebSocketStream;\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Parses the `Sec-WebSocket-Protocol` header into a set of subprotocol names.\n *\n * @param {String} header The field value of the header\n * @return {Set} The subprotocol names\n * @public\n */\nfunction parse(header) {\n  const protocols = new Set();\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (i; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (end === -1 && tokenChars[code] === 1) {\n      if (start === -1) start = i;\n    } else if (\n      i !== 0 &&\n      (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n    ) {\n      if (end === -1 && start !== -1) end = i;\n    } else if (code === 0x2c /* ',' */) {\n      if (start === -1) {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n\n      if (end === -1) end = i;\n\n      const protocol = header.slice(start, end);\n\n      if (protocols.has(protocol)) {\n        throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n      }\n\n      protocols.add(protocol);\n      start = end = -1;\n    } else {\n      throw new SyntaxError(`Unexpected character at index ${i}`);\n    }\n  }\n\n  if (start === -1 || end !== -1) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  const protocol = header.slice(start, i);\n\n  if (protocols.has(protocol)) {\n    throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n  }\n\n  protocols.add(protocol);\n  return protocols;\n}\n\nmodule.exports = { parse };\n","'use strict';\n\nconst { isUtf8 } = require('buffer');\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\n// prettier-ignore\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Checks if a status code is allowed in a close frame.\n *\n * @param {Number} code The status code\n * @return {Boolean} `true` if the status code is valid, else `false`\n * @public\n */\nfunction isValidStatusCode(code) {\n  return (\n    (code >= 1000 &&\n      code <= 1014 &&\n      code !== 1004 &&\n      code !== 1005 &&\n      code !== 1006) ||\n    (code >= 3000 && code <= 4999)\n  );\n}\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction _isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0) {\n      // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {\n      // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0 // Overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {\n      // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\n        buf[i] > 0xf4 // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = {\n  isValidStatusCode,\n  isValidUTF8: _isValidUTF8,\n  tokenChars\n};\n\nif (isUtf8) {\n  module.exports.isValidUTF8 = function (buf) {\n    return buf.length < 24 ? _isValidUTF8(buf) : isUtf8(buf);\n  };\n} /* istanbul ignore else  */ else if (!process.env.WS_NO_UTF_8_VALIDATE) {\n  try {\n    const isValidUTF8 = require('utf-8-validate');\n\n    module.exports.isValidUTF8 = function (buf) {\n      return buf.length < 32 ? _isValidUTF8(buf) : isValidUTF8(buf);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls|https$\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst http = require('http');\nconst https = require('https');\nconst net = require('net');\nconst tls = require('tls');\nconst { createHash } = require('crypto');\n\nconst extension = require('./extension');\nconst PerMessageDeflate = require('./permessage-deflate');\nconst subprotocol = require('./subprotocol');\nconst WebSocket = require('./websocket');\nconst { GUID, kWebSocket } = require('./constants');\n\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\n\nconst RUNNING = 0;\nconst CLOSING = 1;\nconst CLOSED = 2;\n\n/**\n * Class representing a WebSocket server.\n *\n * @extends EventEmitter\n */\nclass WebSocketServer extends EventEmitter {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\n   *     pending connections\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\n   *     track clients\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\n   * @param {String} [options.host] The hostname where to bind the server\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n   *     size\n   * @param {Boolean} [options.noServer=false] Enable no server mode\n   * @param {String} [options.path] Accept only connections matching this path\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\n   *     permessage-deflate\n   * @param {Number} [options.port] The port where to bind the server\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\n   *     server to use\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @param {Function} [options.verifyClient] A hook to reject connections\n   * @param {Function} [options.WebSocket=WebSocket] Specifies the `WebSocket`\n   *     class to use. It must be the `WebSocket` class or class that extends it\n   * @param {Function} [callback] A listener for the `listening` event\n   */\n  constructor(options, callback) {\n    super();\n\n    options = {\n      maxPayload: 100 * 1024 * 1024,\n      skipUTF8Validation: false,\n      perMessageDeflate: false,\n      handleProtocols: null,\n      clientTracking: true,\n      verifyClient: null,\n      noServer: false,\n      backlog: null, // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null,\n      WebSocket,\n      ...options\n    };\n\n    if (\n      (options.port == null && !options.server && !options.noServer) ||\n      (options.port != null && (options.server || options.noServer)) ||\n      (options.server && options.noServer)\n    ) {\n      throw new TypeError(\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\n          'must be specified'\n      );\n    }\n\n    if (options.port != null) {\n      this._server = http.createServer((req, res) => {\n        const body = http.STATUS_CODES[426];\n\n        res.writeHead(426, {\n          'Content-Length': body.length,\n          'Content-Type': 'text/plain'\n        });\n        res.end(body);\n      });\n      this._server.listen(\n        options.port,\n        options.host,\n        options.backlog,\n        callback\n      );\n    } else if (options.server) {\n      this._server = options.server;\n    }\n\n    if (this._server) {\n      const emitConnection = this.emit.bind(this, 'connection');\n\n      this._removeListeners = addListeners(this._server, {\n        listening: this.emit.bind(this, 'listening'),\n        error: this.emit.bind(this, 'error'),\n        upgrade: (req, socket, head) => {\n          this.handleUpgrade(req, socket, head, emitConnection);\n        }\n      });\n    }\n\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n    if (options.clientTracking) {\n      this.clients = new Set();\n      this._shouldEmitClose = false;\n    }\n\n    this.options = options;\n    this._state = RUNNING;\n  }\n\n  /**\n   * Returns the bound address, the address family name, and port of the server\n   * as reported by the operating system if listening on an IP socket.\n   * If the server is listening on a pipe or UNIX domain socket, the name is\n   * returned as a string.\n   *\n   * @return {(Object|String|null)} The address of the server\n   * @public\n   */\n  address() {\n    if (this.options.noServer) {\n      throw new Error('The server is operating in \"noServer\" mode');\n    }\n\n    if (!this._server) return null;\n    return this._server.address();\n  }\n\n  /**\n   * Stop the server from accepting new connections and emit the `'close'` event\n   * when all existing connections are closed.\n   *\n   * @param {Function} [cb] A one-time listener for the `'close'` event\n   * @public\n   */\n  close(cb) {\n    if (this._state === CLOSED) {\n      if (cb) {\n        this.once('close', () => {\n          cb(new Error('The server is not running'));\n        });\n      }\n\n      process.nextTick(emitClose, this);\n      return;\n    }\n\n    if (cb) this.once('close', cb);\n\n    if (this._state === CLOSING) return;\n    this._state = CLOSING;\n\n    if (this.options.noServer || this.options.server) {\n      if (this._server) {\n        this._removeListeners();\n        this._removeListeners = this._server = null;\n      }\n\n      if (this.clients) {\n        if (!this.clients.size) {\n          process.nextTick(emitClose, this);\n        } else {\n          this._shouldEmitClose = true;\n        }\n      } else {\n        process.nextTick(emitClose, this);\n      }\n    } else {\n      const server = this._server;\n\n      this._removeListeners();\n      this._removeListeners = this._server = null;\n\n      //\n      // The HTTP/S server was created internally. Close it, and rely on its\n      // `'close'` event.\n      //\n      server.close(() => {\n        emitClose(this);\n      });\n    }\n  }\n\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle(req) {\n    if (this.options.path) {\n      const index = req.url.indexOf('?');\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\n\n      if (pathname !== this.options.path) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade(req, socket, head, cb) {\n    socket.on('error', socketOnError);\n\n    const key = req.headers['sec-websocket-key'];\n    const version = +req.headers['sec-websocket-version'];\n\n    if (req.method !== 'GET') {\n      const message = 'Invalid HTTP method';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 405, message);\n      return;\n    }\n\n    if (req.headers.upgrade.toLowerCase() !== 'websocket') {\n      const message = 'Invalid Upgrade header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (!key || !keyRegex.test(key)) {\n      const message = 'Missing or invalid Sec-WebSocket-Key header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (version !== 8 && version !== 13) {\n      const message = 'Missing or invalid Sec-WebSocket-Version header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (!this.shouldHandle(req)) {\n      abortHandshake(socket, 400);\n      return;\n    }\n\n    const secWebSocketProtocol = req.headers['sec-websocket-protocol'];\n    let protocols = new Set();\n\n    if (secWebSocketProtocol !== undefined) {\n      try {\n        protocols = subprotocol.parse(secWebSocketProtocol);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Protocol header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    const secWebSocketExtensions = req.headers['sec-websocket-extensions'];\n    const extensions = {};\n\n    if (\n      this.options.perMessageDeflate &&\n      secWebSocketExtensions !== undefined\n    ) {\n      const perMessageDeflate = new PerMessageDeflate(\n        this.options.perMessageDeflate,\n        true,\n        this.options.maxPayload\n      );\n\n      try {\n        const offers = extension.parse(secWebSocketExtensions);\n\n        if (offers[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        const message =\n          'Invalid or unacceptable Sec-WebSocket-Extensions header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    //\n    // Optionally call external client verification handler.\n    //\n    if (this.options.verifyClient) {\n      const info = {\n        origin:\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n        secure: !!(req.socket.authorized || req.socket.encrypted),\n        req\n      };\n\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(info, (verified, code, message, headers) => {\n          if (!verified) {\n            return abortHandshake(socket, code || 401, message, headers);\n          }\n\n          this.completeUpgrade(\n            extensions,\n            key,\n            protocols,\n            req,\n            socket,\n            head,\n            cb\n          );\n        });\n        return;\n      }\n\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\n    }\n\n    this.completeUpgrade(extensions, key, protocols, req, socket, head, cb);\n  }\n\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {Object} extensions The accepted extensions\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\n   * @param {Set} protocols The subprotocols\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @throws {Error} If called more than once with the same socket\n   * @private\n   */\n  completeUpgrade(extensions, key, protocols, req, socket, head, cb) {\n    //\n    // Destroy the socket if the client has already sent a FIN packet.\n    //\n    if (!socket.readable || !socket.writable) return socket.destroy();\n\n    if (socket[kWebSocket]) {\n      throw new Error(\n        'server.handleUpgrade() was called more than once with the same ' +\n          'socket, possibly due to a misconfiguration'\n      );\n    }\n\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    const headers = [\n      'HTTP/1.1 101 Switching Protocols',\n      'Upgrade: websocket',\n      'Connection: Upgrade',\n      `Sec-WebSocket-Accept: ${digest}`\n    ];\n\n    const ws = new this.options.WebSocket(null);\n\n    if (protocols.size) {\n      //\n      // Optionally call external protocol selection handler.\n      //\n      const protocol = this.options.handleProtocols\n        ? this.options.handleProtocols(protocols, req)\n        : protocols.values().next().value;\n\n      if (protocol) {\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n        ws._protocol = protocol;\n      }\n    }\n\n    if (extensions[PerMessageDeflate.extensionName]) {\n      const params = extensions[PerMessageDeflate.extensionName].params;\n      const value = extension.format({\n        [PerMessageDeflate.extensionName]: [params]\n      });\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n      ws._extensions = extensions;\n    }\n\n    //\n    // Allow external modification/inspection of handshake headers.\n    //\n    this.emit('headers', headers, req);\n\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n    socket.removeListener('error', socketOnError);\n\n    ws.setSocket(socket, head, {\n      maxPayload: this.options.maxPayload,\n      skipUTF8Validation: this.options.skipUTF8Validation\n    });\n\n    if (this.clients) {\n      this.clients.add(ws);\n      ws.on('close', () => {\n        this.clients.delete(ws);\n\n        if (this._shouldEmitClose && !this.clients.size) {\n          process.nextTick(emitClose, this);\n        }\n      });\n    }\n\n    cb(ws, req);\n  }\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\n * pairs.\n *\n * @param {EventEmitter} server The event emitter\n * @param {Object.<String, Function>} map The listeners to add\n * @return {Function} A function that will remove the added listeners when\n *     called\n * @private\n */\nfunction addListeners(server, map) {\n  for (const event of Object.keys(map)) server.on(event, map[event]);\n\n  return function removeListeners() {\n    for (const event of Object.keys(map)) {\n      server.removeListener(event, map[event]);\n    }\n  };\n}\n\n/**\n * Emit a `'close'` event on an `EventEmitter`.\n *\n * @param {EventEmitter} server The event emitter\n * @private\n */\nfunction emitClose(server) {\n  server._state = CLOSED;\n  server.emit('close');\n}\n\n/**\n * Handle socket errors.\n *\n * @private\n */\nfunction socketOnError() {\n  this.destroy();\n}\n\n/**\n * Close the connection when preconditions are not fulfilled.\n *\n * @param {(net.Socket|tls.Socket)} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} [message] The HTTP response body\n * @param {Object} [headers] Additional HTTP response headers\n * @private\n */\nfunction abortHandshake(socket, code, message, headers) {\n  //\n  // The socket is writable unless the user destroyed or ended it before calling\n  // `server.handleUpgrade()` or in the `verifyClient` function, which is a user\n  // error. Handling this does not make much sense as the worst that can happen\n  // is that some of the data written by the user might be discarded due to the\n  // call to `socket.end()` below, which triggers an `'error'` event that in\n  // turn causes the socket to be destroyed.\n  //\n  message = message || http.STATUS_CODES[code];\n  headers = {\n    Connection: 'close',\n    'Content-Type': 'text/html',\n    'Content-Length': Buffer.byteLength(message),\n    ...headers\n  };\n\n  socket.once('finish', socket.destroy);\n\n  socket.end(\n    `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n      Object.keys(headers)\n        .map((h) => `${h}: ${headers[h]}`)\n        .join('\\r\\n') +\n      '\\r\\n\\r\\n' +\n      message\n  );\n}\n\n/**\n * Emit a `'wsClientError'` event on a `WebSocketServer` if there is at least\n * one listener for it, otherwise call `abortHandshake()`.\n *\n * @param {WebSocketServer} server The WebSocket server\n * @param {http.IncomingMessage} req The request object\n * @param {(net.Socket|tls.Socket)} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} message The HTTP response body\n * @private\n */\nfunction abortHandshakeOrEmitwsClientError(server, req, socket, code, message) {\n  if (server.listenerCount('wsClientError')) {\n    const err = new Error(message);\n    Error.captureStackTrace(err, abortHandshakeOrEmitwsClientError);\n\n    server.emit('wsClientError', err, socket, req);\n  } else {\n    abortHandshake(socket, code, message);\n  }\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Readable$\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst https = require('https');\nconst http = require('http');\nconst net = require('net');\nconst tls = require('tls');\nconst { randomBytes, createHash } = require('crypto');\nconst { Readable } = require('stream');\nconst { URL } = require('url');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst Receiver = require('./receiver');\nconst Sender = require('./sender');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  GUID,\n  kForOnEventAttribute,\n  kListener,\n  kStatusCode,\n  kWebSocket,\n  NOOP\n} = require('./constants');\nconst {\n  EventTarget: { addEventListener, removeEventListener }\n} = require('./event-target');\nconst { format, parse } = require('./extension');\nconst { toBuffer } = require('./buffer-util');\n\nconst closeTimeout = 30 * 1000;\nconst kAborted = Symbol('kAborted');\nconst protocolVersions = [8, 13];\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\nconst subprotocolRegex = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|URL)} address The URL to which to connect\n   * @param {(String|String[])} [protocols] The subprotocols\n   * @param {Object} [options] Connection options\n   */\n  constructor(address, protocols, options) {\n    super();\n\n    this._binaryType = BINARY_TYPES[0];\n    this._closeCode = 1006;\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = EMPTY_BUFFER;\n    this._closeTimer = null;\n    this._extensions = {};\n    this._paused = false;\n    this._protocol = '';\n    this._readyState = WebSocket.CONNECTING;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n\n    if (address !== null) {\n      this._bufferedAmount = 0;\n      this._isServer = false;\n      this._redirects = 0;\n\n      if (protocols === undefined) {\n        protocols = [];\n      } else if (!Array.isArray(protocols)) {\n        if (typeof protocols === 'object' && protocols !== null) {\n          options = protocols;\n          protocols = [];\n        } else {\n          protocols = [protocols];\n        }\n      }\n\n      initAsClient(this, address, protocols, options);\n    } else {\n      this._isServer = true;\n    }\n  }\n\n  /**\n   * This deviates from the WHATWG interface since ws doesn't support the\n   * required default \"blob\" type (instead we define a custom \"nodebuffer\"\n   * type).\n   *\n   * @type {String}\n   */\n  get binaryType() {\n    return this._binaryType;\n  }\n\n  set binaryType(type) {\n    if (!BINARY_TYPES.includes(type)) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount() {\n    if (!this._socket) return this._bufferedAmount;\n\n    return this._socket._writableState.length + this._sender._bufferedBytes;\n  }\n\n  /**\n   * @type {String}\n   */\n  get extensions() {\n    return Object.keys(this._extensions).join();\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get isPaused() {\n    return this._paused;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onclose() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onerror() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onopen() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onmessage() {\n    return null;\n  }\n\n  /**\n   * @type {String}\n   */\n  get protocol() {\n    return this._protocol;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get readyState() {\n    return this._readyState;\n  }\n\n  /**\n   * @type {String}\n   */\n  get url() {\n    return this._url;\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Object} options Options object\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Number} [options.maxPayload=0] The maximum allowed message size\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @private\n   */\n  setSocket(socket, head, options) {\n    const receiver = new Receiver({\n      binaryType: this.binaryType,\n      extensions: this._extensions,\n      isServer: this._isServer,\n      maxPayload: options.maxPayload,\n      skipUTF8Validation: options.skipUTF8Validation\n    });\n\n    this._sender = new Sender(socket, this._extensions, options.generateMask);\n    this._receiver = receiver;\n    this._socket = socket;\n\n    receiver[kWebSocket] = this;\n    socket[kWebSocket] = this;\n\n    receiver.on('conclude', receiverOnConclude);\n    receiver.on('drain', receiverOnDrain);\n    receiver.on('error', receiverOnError);\n    receiver.on('message', receiverOnMessage);\n    receiver.on('ping', receiverOnPing);\n    receiver.on('pong', receiverOnPong);\n\n    socket.setTimeout(0);\n    socket.setNoDelay();\n\n    if (head.length > 0) socket.unshift(head);\n\n    socket.on('close', socketOnClose);\n    socket.on('data', socketOnData);\n    socket.on('end', socketOnEnd);\n    socket.on('error', socketOnError);\n\n    this._readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose() {\n    if (!this._socket) {\n      this._readyState = WebSocket.CLOSED;\n      this.emit('close', this._closeCode, this._closeMessage);\n      return;\n    }\n\n    if (this._extensions[PerMessageDeflate.extensionName]) {\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this._receiver.removeAllListeners();\n    this._readyState = WebSocket.CLOSED;\n    this.emit('close', this._closeCode, this._closeMessage);\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} [code] Status code explaining why the connection is closing\n   * @param {(String|Buffer)} [data] The reason why the connection is\n   *     closing\n   * @public\n   */\n  close(code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      abortHandshake(this, this._req, msg);\n      return;\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (\n        this._closeFrameSent &&\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\n      ) {\n        this._socket.end();\n      }\n\n      return;\n    }\n\n    this._readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (\n        this._closeFrameReceived ||\n        this._receiver._writableState.errorEmitted\n      ) {\n        this._socket.end();\n      }\n    });\n\n    //\n    // Specify a timeout for the closing handshake to complete.\n    //\n    this._closeTimer = setTimeout(\n      this._socket.destroy.bind(this._socket),\n      closeTimeout\n    );\n  }\n\n  /**\n   * Pause the socket.\n   *\n   * @public\n   */\n  pause() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = true;\n    this._socket.pause();\n  }\n\n  /**\n   * Send a ping.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the ping is sent\n   * @public\n   */\n  ping(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a pong.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the pong is sent\n   * @public\n   */\n  pong(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Resume the socket.\n   *\n   * @public\n   */\n  resume() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = false;\n    if (!this._receiver._writableState.needDrain) this._socket.resume();\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n   *     text\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\n   *     `data`\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when data is written out\n   * @public\n   */\n  send(data, options, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    const opts = {\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true,\n      ...options\n    };\n\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate() {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      abortHandshake(this, this._req, msg);\n      return;\n    }\n\n    if (this._socket) {\n      this._readyState = WebSocket.CLOSING;\n      this._socket.destroy();\n    }\n  }\n}\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n[\n  'binaryType',\n  'bufferedAmount',\n  'extensions',\n  'isPaused',\n  'protocol',\n  'readyState',\n  'url'\n].forEach((property) => {\n  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\n});\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    enumerable: true,\n    get() {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) return listener[kListener];\n      }\n\n      return null;\n    },\n    set(handler) {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) {\n          this.removeListener(method, listener);\n          break;\n        }\n      }\n\n      if (typeof handler !== 'function') return;\n\n      this.addEventListener(method, handler, {\n        [kForOnEventAttribute]: true\n      });\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = addEventListener;\nWebSocket.prototype.removeEventListener = removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {WebSocket} websocket The client to initialize\n * @param {(String|URL)} address The URL to which to connect\n * @param {Array} protocols The subprotocols\n * @param {Object} [options] Connection options\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\n *     redirects\n * @param {Function} [options.generateMask] The function used to generate the\n *     masking key\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\n *     handshake request\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n *     size\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\n *     allowed\n * @param {String} [options.origin] Value of the `Origin` or\n *     `Sec-WebSocket-Origin` header\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\n *     permessage-deflate\n * @param {Number} [options.protocolVersion=13] Value of the\n *     `Sec-WebSocket-Version` header\n * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n *     not to skip UTF-8 validation for text and close messages\n * @private\n */\nfunction initAsClient(websocket, address, protocols, options) {\n  const opts = {\n    protocolVersion: protocolVersions[1],\n    maxPayload: 100 * 1024 * 1024,\n    skipUTF8Validation: false,\n    perMessageDeflate: true,\n    followRedirects: false,\n    maxRedirects: 10,\n    ...options,\n    createConnection: undefined,\n    socketPath: undefined,\n    hostname: undefined,\n    protocol: undefined,\n    timeout: undefined,\n    method: 'GET',\n    host: undefined,\n    path: undefined,\n    port: undefined\n  };\n\n  if (!protocolVersions.includes(opts.protocolVersion)) {\n    throw new RangeError(\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\n        `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  let parsedUrl;\n\n  if (address instanceof URL) {\n    parsedUrl = address;\n    websocket._url = address.href;\n  } else {\n    try {\n      parsedUrl = new URL(address);\n    } catch (e) {\n      throw new SyntaxError(`Invalid URL: ${address}`);\n    }\n\n    websocket._url = address;\n  }\n\n  const isSecure = parsedUrl.protocol === 'wss:';\n  const isIpcUrl = parsedUrl.protocol === 'ws+unix:';\n  let invalidUrlMessage;\n\n  if (parsedUrl.protocol !== 'ws:' && !isSecure && !isIpcUrl) {\n    invalidUrlMessage =\n      'The URL\\'s protocol must be one of \"ws:\", \"wss:\", or \"ws+unix:\"';\n  } else if (isIpcUrl && !parsedUrl.pathname) {\n    invalidUrlMessage = \"The URL's pathname is empty\";\n  } else if (parsedUrl.hash) {\n    invalidUrlMessage = 'The URL contains a fragment identifier';\n  }\n\n  if (invalidUrlMessage) {\n    const err = new SyntaxError(invalidUrlMessage);\n\n    if (websocket._redirects === 0) {\n      throw err;\n    } else {\n      emitErrorAndClose(websocket, err);\n      return;\n    }\n  }\n\n  const defaultPort = isSecure ? 443 : 80;\n  const key = randomBytes(16).toString('base64');\n  const request = isSecure ? https.request : http.request;\n  const protocolSet = new Set();\n  let perMessageDeflate;\n\n  opts.createConnection = isSecure ? tlsConnect : netConnect;\n  opts.defaultPort = opts.defaultPort || defaultPort;\n  opts.port = parsedUrl.port || defaultPort;\n  opts.host = parsedUrl.hostname.startsWith('[')\n    ? parsedUrl.hostname.slice(1, -1)\n    : parsedUrl.hostname;\n  opts.headers = {\n    ...opts.headers,\n    'Sec-WebSocket-Version': opts.protocolVersion,\n    'Sec-WebSocket-Key': key,\n    Connection: 'Upgrade',\n    Upgrade: 'websocket'\n  };\n  opts.path = parsedUrl.pathname + parsedUrl.search;\n  opts.timeout = opts.handshakeTimeout;\n\n  if (opts.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\n      false,\n      opts.maxPayload\n    );\n    opts.headers['Sec-WebSocket-Extensions'] = format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (protocols.length) {\n    for (const protocol of protocols) {\n      if (\n        typeof protocol !== 'string' ||\n        !subprotocolRegex.test(protocol) ||\n        protocolSet.has(protocol)\n      ) {\n        throw new SyntaxError(\n          'An invalid or duplicated subprotocol was specified'\n        );\n      }\n\n      protocolSet.add(protocol);\n    }\n\n    opts.headers['Sec-WebSocket-Protocol'] = protocols.join(',');\n  }\n  if (opts.origin) {\n    if (opts.protocolVersion < 13) {\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\n    } else {\n      opts.headers.Origin = opts.origin;\n    }\n  }\n  if (parsedUrl.username || parsedUrl.password) {\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n  }\n\n  if (isIpcUrl) {\n    const parts = opts.path.split(':');\n\n    opts.socketPath = parts[0];\n    opts.path = parts[1];\n  }\n\n  let req;\n\n  if (opts.followRedirects) {\n    if (websocket._redirects === 0) {\n      websocket._originalIpc = isIpcUrl;\n      websocket._originalSecure = isSecure;\n      websocket._originalHostOrSocketPath = isIpcUrl\n        ? opts.socketPath\n        : parsedUrl.host;\n\n      const headers = options && options.headers;\n\n      //\n      // Shallow copy the user provided options so that headers can be changed\n      // without mutating the original object.\n      //\n      options = { ...options, headers: {} };\n\n      if (headers) {\n        for (const [key, value] of Object.entries(headers)) {\n          options.headers[key.toLowerCase()] = value;\n        }\n      }\n    } else if (websocket.listenerCount('redirect') === 0) {\n      const isSameHost = isIpcUrl\n        ? websocket._originalIpc\n          ? opts.socketPath === websocket._originalHostOrSocketPath\n          : false\n        : websocket._originalIpc\n        ? false\n        : parsedUrl.host === websocket._originalHostOrSocketPath;\n\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\n        //\n        // Match curl 7.77.0 behavior and drop the following headers. These\n        // headers are also dropped when following a redirect to a subdomain.\n        //\n        delete opts.headers.authorization;\n        delete opts.headers.cookie;\n\n        if (!isSameHost) delete opts.headers.host;\n\n        opts.auth = undefined;\n      }\n    }\n\n    //\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\n    // If the `Authorization` header is set, then there is nothing to do as it\n    // will take precedence.\n    //\n    if (opts.auth && !options.headers.authorization) {\n      options.headers.authorization =\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\n    }\n\n    req = websocket._req = request(opts);\n\n    if (websocket._redirects) {\n      //\n      // Unlike what is done for the `'upgrade'` event, no early exit is\n      // triggered here if the user calls `websocket.close()` or\n      // `websocket.terminate()` from a listener of the `'redirect'` event. This\n      // is because the user can also call `request.destroy()` with an error\n      // before calling `websocket.close()` or `websocket.terminate()` and this\n      // would result in an error being emitted on the `request` object with no\n      // `'error'` event listeners attached.\n      //\n      websocket.emit('redirect', websocket.url, req);\n    }\n  } else {\n    req = websocket._req = request(opts);\n  }\n\n  if (opts.timeout) {\n    req.on('timeout', () => {\n      abortHandshake(websocket, req, 'Opening handshake has timed out');\n    });\n  }\n\n  req.on('error', (err) => {\n    if (req === null || req[kAborted]) return;\n\n    req = websocket._req = null;\n    emitErrorAndClose(websocket, err);\n  });\n\n  req.on('response', (res) => {\n    const location = res.headers.location;\n    const statusCode = res.statusCode;\n\n    if (\n      location &&\n      opts.followRedirects &&\n      statusCode >= 300 &&\n      statusCode < 400\n    ) {\n      if (++websocket._redirects > opts.maxRedirects) {\n        abortHandshake(websocket, req, 'Maximum redirects exceeded');\n        return;\n      }\n\n      req.abort();\n\n      let addr;\n\n      try {\n        addr = new URL(location, address);\n      } catch (e) {\n        const err = new SyntaxError(`Invalid URL: ${location}`);\n        emitErrorAndClose(websocket, err);\n        return;\n      }\n\n      initAsClient(websocket, addr, protocols, options);\n    } else if (!websocket.emit('unexpected-response', req, res)) {\n      abortHandshake(\n        websocket,\n        req,\n        `Unexpected server response: ${res.statusCode}`\n      );\n    }\n  });\n\n  req.on('upgrade', (res, socket, head) => {\n    websocket.emit('upgrade', res);\n\n    //\n    // The user may have closed the connection from a listener of the\n    // `'upgrade'` event.\n    //\n    if (websocket.readyState !== WebSocket.CONNECTING) return;\n\n    req = websocket._req = null;\n\n    if (res.headers.upgrade.toLowerCase() !== 'websocket') {\n      abortHandshake(websocket, socket, 'Invalid Upgrade header');\n      return;\n    }\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\n      return;\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    let protError;\n\n    if (serverProt !== undefined) {\n      if (!protocolSet.size) {\n        protError = 'Server sent a subprotocol but none was requested';\n      } else if (!protocolSet.has(serverProt)) {\n        protError = 'Server sent an invalid subprotocol';\n      }\n    } else if (protocolSet.size) {\n      protError = 'Server sent no subprotocol';\n    }\n\n    if (protError) {\n      abortHandshake(websocket, socket, protError);\n      return;\n    }\n\n    if (serverProt) websocket._protocol = serverProt;\n\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\n\n    if (secWebSocketExtensions !== undefined) {\n      if (!perMessageDeflate) {\n        const message =\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\n          'was requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      let extensions;\n\n      try {\n        extensions = parse(secWebSocketExtensions);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      const extensionNames = Object.keys(extensions);\n\n      if (\n        extensionNames.length !== 1 ||\n        extensionNames[0] !== PerMessageDeflate.extensionName\n      ) {\n        const message = 'Server indicated an extension that was not requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      try {\n        perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      websocket._extensions[PerMessageDeflate.extensionName] =\n        perMessageDeflate;\n    }\n\n    websocket.setSocket(socket, head, {\n      generateMask: opts.generateMask,\n      maxPayload: opts.maxPayload,\n      skipUTF8Validation: opts.skipUTF8Validation\n    });\n  });\n\n  if (opts.finishRequest) {\n    opts.finishRequest(req, websocket);\n  } else {\n    req.end();\n  }\n}\n\n/**\n * Emit the `'error'` and `'close'` events.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {Error} The error to emit\n * @private\n */\nfunction emitErrorAndClose(websocket, err) {\n  websocket._readyState = WebSocket.CLOSING;\n  websocket.emit('error', err);\n  websocket.emitClose();\n}\n\n/**\n * Create a `net.Socket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {net.Socket} The newly created socket used to start the connection\n * @private\n */\nfunction netConnect(options) {\n  options.path = options.socketPath;\n  return net.connect(options);\n}\n\n/**\n * Create a `tls.TLSSocket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {tls.TLSSocket} The newly created socket used to start the connection\n * @private\n */\nfunction tlsConnect(options) {\n  options.path = undefined;\n\n  if (!options.servername && options.servername !== '') {\n    options.servername = net.isIP(options.host) ? '' : options.host;\n  }\n\n  return tls.connect(options);\n}\n\n/**\n * Abort the handshake and emit an error.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\n *     abort or the socket to destroy\n * @param {String} message The error message\n * @private\n */\nfunction abortHandshake(websocket, stream, message) {\n  websocket._readyState = WebSocket.CLOSING;\n\n  const err = new Error(message);\n  Error.captureStackTrace(err, abortHandshake);\n\n  if (stream.setHeader) {\n    stream[kAborted] = true;\n    stream.abort();\n\n    if (stream.socket && !stream.socket.destroyed) {\n      //\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\n      // called after the request completed. See\n      // https://github.com/websockets/ws/issues/1869.\n      //\n      stream.socket.destroy();\n    }\n\n    process.nextTick(emitErrorAndClose, websocket, err);\n  } else {\n    stream.destroy(err);\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\n    stream.once('close', websocket.emitClose.bind(websocket));\n  }\n}\n\n/**\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {*} [data] The data to send\n * @param {Function} [cb] Callback\n * @private\n */\nfunction sendAfterClose(websocket, data, cb) {\n  if (data) {\n    const length = toBuffer(data).length;\n\n    //\n    // The `_bufferedAmount` property is used only when the peer is a client and\n    // the opening handshake fails. Under these circumstances, in fact, the\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\n    // properties are set to `null`.\n    //\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\n    else websocket._bufferedAmount += length;\n  }\n\n  if (cb) {\n    const err = new Error(\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\n        `(${readyStates[websocket.readyState]})`\n    );\n    process.nextTick(cb, err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'conclude'` event.\n *\n * @param {Number} code The status code\n * @param {Buffer} reason The reason for closing\n * @private\n */\nfunction receiverOnConclude(code, reason) {\n  const websocket = this[kWebSocket];\n\n  websocket._closeFrameReceived = true;\n  websocket._closeMessage = reason;\n  websocket._closeCode = code;\n\n  if (websocket._socket[kWebSocket] === undefined) return;\n\n  websocket._socket.removeListener('data', socketOnData);\n  process.nextTick(resume, websocket._socket);\n\n  if (code === 1005) websocket.close();\n  else websocket.close(code, reason);\n}\n\n/**\n * The listener of the `Receiver` `'drain'` event.\n *\n * @private\n */\nfunction receiverOnDrain() {\n  const websocket = this[kWebSocket];\n\n  if (!websocket.isPaused) websocket._socket.resume();\n}\n\n/**\n * The listener of the `Receiver` `'error'` event.\n *\n * @param {(RangeError|Error)} err The emitted error\n * @private\n */\nfunction receiverOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._socket[kWebSocket] !== undefined) {\n    websocket._socket.removeListener('data', socketOnData);\n\n    //\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\n    // https://github.com/websockets/ws/issues/1940.\n    //\n    process.nextTick(resume, websocket._socket);\n\n    websocket.close(err[kStatusCode]);\n  }\n\n  websocket.emit('error', err);\n}\n\n/**\n * The listener of the `Receiver` `'finish'` event.\n *\n * @private\n */\nfunction receiverOnFinish() {\n  this[kWebSocket].emitClose();\n}\n\n/**\n * The listener of the `Receiver` `'message'` event.\n *\n * @param {Buffer|ArrayBuffer|Buffer[])} data The message\n * @param {Boolean} isBinary Specifies whether the message is binary or not\n * @private\n */\nfunction receiverOnMessage(data, isBinary) {\n  this[kWebSocket].emit('message', data, isBinary);\n}\n\n/**\n * The listener of the `Receiver` `'ping'` event.\n *\n * @param {Buffer} data The data included in the ping frame\n * @private\n */\nfunction receiverOnPing(data) {\n  const websocket = this[kWebSocket];\n\n  websocket.pong(data, !websocket._isServer, NOOP);\n  websocket.emit('ping', data);\n}\n\n/**\n * The listener of the `Receiver` `'pong'` event.\n *\n * @param {Buffer} data The data included in the pong frame\n * @private\n */\nfunction receiverOnPong(data) {\n  this[kWebSocket].emit('pong', data);\n}\n\n/**\n * Resume a readable stream\n *\n * @param {Readable} stream The readable stream\n * @private\n */\nfunction resume(stream) {\n  stream.resume();\n}\n\n/**\n * The listener of the `net.Socket` `'close'` event.\n *\n * @private\n */\nfunction socketOnClose() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('close', socketOnClose);\n  this.removeListener('data', socketOnData);\n  this.removeListener('end', socketOnEnd);\n\n  websocket._readyState = WebSocket.CLOSING;\n\n  let chunk;\n\n  //\n  // The close frame might not have been received or the `'end'` event emitted,\n  // for example, if the socket was destroyed due to an error. Ensure that the\n  // `receiver` stream is closed after writing any remaining buffered data to\n  // it. If the readable side of the socket is in flowing mode then there is no\n  // buffered data as everything has been already written and `readable.read()`\n  // will return `null`. If instead, the socket is paused, any possible buffered\n  // data will be read as a single chunk.\n  //\n  if (\n    !this._readableState.endEmitted &&\n    !websocket._closeFrameReceived &&\n    !websocket._receiver._writableState.errorEmitted &&\n    (chunk = websocket._socket.read()) !== null\n  ) {\n    websocket._receiver.write(chunk);\n  }\n\n  websocket._receiver.end();\n\n  this[kWebSocket] = undefined;\n\n  clearTimeout(websocket._closeTimer);\n\n  if (\n    websocket._receiver._writableState.finished ||\n    websocket._receiver._writableState.errorEmitted\n  ) {\n    websocket.emitClose();\n  } else {\n    websocket._receiver.on('error', receiverOnFinish);\n    websocket._receiver.on('finish', receiverOnFinish);\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction socketOnData(chunk) {\n  if (!this[kWebSocket]._receiver.write(chunk)) {\n    this.pause();\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'end'` event.\n *\n * @private\n */\nfunction socketOnEnd() {\n  const websocket = this[kWebSocket];\n\n  websocket._readyState = WebSocket.CLOSING;\n  websocket._receiver.end();\n  this.end();\n}\n\n/**\n * The listener of the `net.Socket` `'error'` event.\n *\n * @private\n */\nfunction socketOnError() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('error', socketOnError);\n  this.on('error', NOOP);\n\n  if (websocket) {\n    websocket._readyState = WebSocket.CLOSING;\n    this.destroy();\n  }\n}\n","module.exports = require(\"bufferutil\");","module.exports = require(\"node-rsa\");","module.exports = require(\"utf-8-validate\");","module.exports = require(\"buffer\");","module.exports = require(\"crypto\");","module.exports = require(\"dns\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"http2\");","module.exports = require(\"https\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"stream\");","module.exports = require(\"tls\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"zlib\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(19090);\n"],"names":["jspb","goog","global","this","window","self","Function","call","exportSymbol","proto","supervisor","TunnelPortRequest","opt_data","Message","initialize","inherits","DEBUG","COMPILED","displayName","TunnelPortResponse","CloseTunnelRequest","CloseTunnelResponse","EstablishTunnelRequest","oneofGroups_","EstablishTunnelResponse","AutoTunnelRequest","AutoTunnelResponse","RetryAutoExposeRequest","RetryAutoExposeResponse","GENERATE_TO_OBJECT","prototype","toObject","opt_includeInstance","includeInstance","msg","obj","port","getFieldWithDefault","targetPort","visibility","clientId","$jspbMessageInstance","deserializeBinary","bytes","reader","BinaryReader","deserializeBinaryFromReader","nextField","isEndGroup","getFieldNumber","value","readUint32","setPort","setTargetPort","readEnum","setVisibility","readString","setClientId","skipField","serializeBinary","writer","BinaryWriter","serializeBinaryToWriter","getResultBuffer","message","f","undefined","getPort","writeUint32","getTargetPort","getVisibility","writeEnum","getClientId","length","writeString","setProto3IntField","setProto3EnumField","setProto3StringField","OutputCase","OUTPUT_NOT_SET","DESC","DATA","getOutputCase","computeOneofCase","desc","getDesc","data","getData_asB64","readMessage","setDesc","readBytes","setData","writeMessage","getField","writeBytes","getWrapperField","setOneofWrapperField","clearDesc","hasDesc","getData","bytesAsB64","getData_asU8","bytesAsU8","setOneofField","clearData","hasData","setProto3BytesField","enabled","getBooleanFieldWithDefault","readBool","setEnabled","getEnabled","writeBool","setProto3BooleanField","TunnelVisiblity","NONE","HOST","NETWORK","object","extend","exports","camelCase","Protobuf","descriptor","util_1","descriptorOptions","longs","String","enums","defaults","oneofs","json","getAllHandledReflectionObjects","parentName","objName","baseName","name","Service","Type","Enum","isHandledReflectionObject","Namespace","Root","isNamespaceBase","nested","Object","keys","map","reduce","accumulator","currentValue","concat","createDeserializer","cls","options","argBuf","decode","createSerializer","arg","Array","isArray","Error","fromObject","encode","finish","createMethodDefinition","method","serviceName","fileDescriptors","requestType","resolvedRequestType","responseType","resolvedResponseType","path","requestStream","responseStream","requestSerialize","requestDeserialize","responseSerialize","responseDeserialize","originalName","createMessageDefinition","messageDescriptor","toDescriptor","format","type","$type","fileDescriptorProtos","createDefinition","service","def","methodsArray","createServiceDefinition","enumType","enumDescriptor","createEnumDefinition","createPackageDefinition","root","resolveAll","bufferList","file","Buffer","from","FileDescriptorProto","filename","loadProtosWithOptionsSync","addCommonProtos","defineProperty","loadProtosWithOptions","fs","addIncludePathResolver","includePaths","originalResolvePath","resolvePath","origin","target","isAbsolute","directory","fullPath","join","accessSync","constants","R_OK","err","process","emitWarning","async","includeDirs","Promise","reject","loadedRoot","load","loadSync","apiDescriptor","descriptorDescriptor","sourceContextDescriptor","typeDescriptor","common","google","protobuf","module","Long","wasm","WebAssembly","Instance","Module","Uint8Array","e","low","high","unsigned","isLong","__isLong__","INT_CACHE","UINT_CACHE","fromInt","cachedObj","cache","fromBits","fromNumber","isNaN","UZERO","ZERO","TWO_PWR_64_DBL","MAX_UNSIGNED_VALUE","TWO_PWR_63_DBL","MIN_VALUE","MAX_VALUE","neg","TWO_PWR_32_DBL","lowBits","highBits","pow_dbl","Math","pow","fromString","str","radix","RangeError","p","indexOf","substring","radixToPower","result","i","size","min","parseInt","power","mul","add","fromValue","val","TWO_PWR_16_DBL","TWO_PWR_24","ONE","UONE","NEG_ONE","LongPrototype","toInt","toNumber","toString","isZero","isNegative","eq","radixLong","div","rem1","sub","rem","remDiv","digits","getHighBits","getHighBitsUnsigned","getLowBits","getLowBitsUnsigned","getNumBitsAbs","bit","eqz","isPositive","isOdd","isEven","equals","other","notEquals","neq","ne","lessThan","comp","lt","lessThanOrEqual","lte","le","greaterThan","gt","greaterThanOrEqual","gte","ge","compare","thisNeg","otherNeg","negate","not","addend","a48","a32","a16","a00","b48","b32","b16","c48","c32","c16","c00","subtract","subtrahend","multiply","multiplier","get_high","b00","divide","divisor","approx","res","div_u","div_s","toUnsigned","shru","shr","shl","max","floor","log2","ceil","log","LN2","delta","approxRes","approxRem","modulo","rem_u","rem_s","mod","and","or","xor","shiftLeft","numBits","shiftRight","shiftRightUnsigned","shr_u","toSigned","toBytes","toBytesLE","toBytesBE","hi","lo","fromBytes","fromBytesLE","fromBytesBE","DefaultKeyFormatter","importExport_1","export","keyPair","includePrivate","encrypt","keyData","passphrase","keyFormat","keyFormatter","keyFormatters","import","decryptedKeyData","decrypt","_a","importKeyBytes","importKeyFile","importKey","exportPrivateKeyBytes","exportPrivateKeyFile","exportPrivateKey","exportPublicKeyBytes","exportPublicKeyFile","exportPublicKey","buffer_1","dev_tunnels_ssh_1","defaultKeyFormatter_1","publicKeyFormatter_1","pkcs1KeyFormatter_1","sec1KeyFormatter_1","pkcs8KeyFormatter_1","jsonWebKeyFormatter_1","keyData_1","Map","set","PublicKeyFormatter","Pkcs1KeyFormatter","Sec1KeyFormatter","Pkcs8KeyFormatter","JsonWebKeyFormatter","enableFileIO","versions","node","keyEncoding","exportKeyBytes","keyBytes","TypeError","KeyData","tryDecodePemBytes","keyType","comment","JSON","parse","keyString","lines","split","filter","line","parts","trimRight","encodedLengthWithoutPadding","endsWith","decodedLength","decoded","headers","formatter","get","hasPrivateKey","ECDsa","KeyPair","Rsa","encodeSshPublicKeyBytes","encodePemBytes","then","keyFile","enumerable","_b","keyJson","jwk","kty","parameters","parseRsa","SshAlgorithms","publicKey","rsaWithSha512","createKeyPair","importParameters","parseEC","exportParameters","formatRsa","constructor","formatEC","stringify","static","rsa","formatBigInt","d","q","dp","dq","qi","n","modulus","exponent","parseBigInt","ec","curve","curves","find","c","oid","keySizeInBytes","keySize","crv","x","y","curveOid","base64UrlEncode","BigInt","replace","alloc","input","splice","beginMatch","match","beginRegex","endMatch","endRegex","includes","headerMatch","headerRegex","substr","base64Data","slice","hyphen","charCodeAt","inputString","tryDecodePem","encodePem","s","dataBase64","offset","encodeSshPublicKey","getKeyEncryptionAlgorithm","algorithm","toUpperCase","Encryption","keyFormatter_1","DerReader","readInteger","available","privateKeyType","publicKeyType","parseRsaPublic","parseRsaPrivate","hasPublicKey","formatRsaPrivate","formatRsaPublic","decryptPrivate","DerWriter","writeInteger","toBuffer","fromInt32","decryptionInfo","decryptionInfoParts","cipherName","ivHex","iv","encryption","key","deriveDecryptionKey","keyLength","delete","decipher","createCipher","transform","passphraseBytes","crypto","subtle","nodeCrypto","salt","md5","createHash","update","digest","importers","exporters","random","importRsaKey","importECKey","keyAlgorithmName","exportRsaKey","ecdsaSha2Nistp256","exportECKey","ecdsaSha2Nistp384","ecdsaSha2Nistp521","peek","importPublic","importPrivate","encryptedPrivateKeyType","exportPrivate","exportPublic","encryptPrivate","oidReader","readSequence","keyAlgorithm","readObjectIdentifier","readBitString","importer","version","toInt32","readOctetString","keyReader","publicKeyBytes","privateKeyBytes","publicKeyReader","tryReadTagged","dataFormat","exporter","oidWriter","writeSequence","writeBitString","writeOctetString","writeObjectIdentifier","writeNull","keyWriter","publicKeyData","copy","publicKeyWriter","writeTagged","innerReader","privateKeyData","kdfReader","algReader","iterations","readNull","algorithmOid","pbkdf2","dispose","getBytes","blockLength","paddingLength","paddedData","cipher","pbeWriter","kdfAndAlgWriter","kdfWriter","kdfParamsWriter","hmacWriter","algWriter","passphraseKey","deriveBits","hash","resolve","derivedKey","SshDataReader","setPublicKeyBytes","getPublicKeyBytes","importECPrivate","exportECPrivate","curveWriter","curveReader","curveName","xy","ForwardedPort","localPort","remotePort","isRemote","arrow","ForwardedPortConnectingEventArgs","ForwardedPortChannelEventArgs","ForwardedPortEventArgs","channel","super","isIncoming","stream","cancellation","ForwardedPortsCollection","vscode_jsonrpc_1","forwardedPortEventArgs_1","portChannelMap","portAddedEmitter","Emitter","onPortAdded","event","portRemovedEmitter","onPortRemoved","portChannelAddedEmitter","onPortChannelAdded","portChannelRemovedEmitter","onPortChannelRemoved","has","channels","values","Symbol","iterator","forEach","callbackfn","thisArg","apply","getChannels","portAndChannels","predicate","addPort","fire","removePort","addChannel","portChannels","channelId","push","onClosed","tryRemoveChannel","index","findIndex","PortForwardChannelOpenMessage","PortForwardSuccessMessage","PortForwardRequestMessage","RemotePortStreamer","RemotePortForwarder","LocalPortForwarder","PortForwardingService","SshServer","SshClient","sshClient_1","sshServer_1","portForwardingService_1","localPortForwarder_1","remotePortForwarder_1","remotePortStreamer_1","portForwardRequestMessage_1","portForwardSuccessMessage_1","portForwardChannelOpenMessage_1","forwardedPort_1","forwardedPortsCollection_1","IPAddressConversions","address","ipAddress","ChannelOpenMessage","arguments","host","originatorIPAddress","originatorPort","onRead","readUInt32","onWrite","validateField","writeUInt32","SessionRequestMessage","addressToBind","portForwardRequestType","wantReply","SessionRequestSuccessMessage","DefaultPortForwardMessageFactory","createRequestMessageAsync","createSuccessMessageAsync","createChannelOpenMessageAsync","streamForwarder_1","SshService","pfs","session","channelType","localIPAddress","remoteHost","listenAddress","tcpListener","tcpListenerFactory","createTcpListener","serverAddress","close","tcpListener2","code","trace","TraceLevel","Warning","SshTraceEventIds","portForwardServerListenFailed","on","acceptConnection","bind","Info","portForwardServerListening","socket","_c","_d","_e","portForwardConnectionAccepted","remoteAddress","openChannel","destroy","forwardedStream","forwardedPortConnecting","SshStream","forwarder","StreamForwarder","streamForwarders","PortForwardingService_1","__decorate","decorators","r","getOwnPropertyDescriptor","Reflect","decorate","ipAddressConversions_1","tcpListenerFactory_1","portForwardMessageFactory_1","localForwarders","remoteConnectors","acceptLocalConnectionsForForwardedPorts","forwardConnectionsToLocalPorts","acceptRemoteConnectionsForNonForwardedPorts","localForwardedPorts","remoteForwardedPorts","DefaultTcpListenerFactory","messageFactory","forwardedPortConnectingEmitter","onForwardedPortConnecting","args","transformPromise","portForwardConnectionFailed","remoteIPAddress","localHostOrCancellation","localHost","Number","isInteger","request","forwardedPort","onDisposed","remoteHostOrCancellation","reversePortForwardChannelType","startForwarding","streamer","portForwardChannelType","catch","SshChannelError","waitCompletion","PromiseCompletionSource","cancellationRegistration","portAddedRegistration","sessionClosedRegistration","onCancellationRequested","CancellationError","ObjectDisposedError","promise","cancelPortForwardRequestType","portForwardRequest","convertTo","fromSshAddress","portForwardRequestInvalid","isAuthorized","SshRequestEventArgs","principal","response","onSessionRequest","portResponse","cancelForwarding","responsePromise","SessionRequestFailureMessage","failureReason","SshChannelOpenFailureReason","unknownChannelType","remoteConnector","portForwardMessage","isRemoteRequest","remoteEndPoint","connectFailed","failureDescription","errorMessage","portForwardChannelOpenFailed","administrativelyProhibited","SshChannelOpeningEventArgs","onChannelOpening","openingPromise","none","onPortChannelOpening","forwardChannel","openMessage","portForwardChannelOpened","disposables","clear","disposable","serviceActivation","sessionRequest","RemotePortConnector","forwarding","requestResponse","net","remotePortConnector_1","createConnection","connectCompletion","once","isCancellationRequested","streamForwarder","portForwardConnectionOpened","streamOpenedEmitter","onStreamOpened","net_1","localStream","remoteStream","disposed","pipe","abort","Socket","end","portForwardChannelClosed","unknownError","config","sessions","level","eventId","serverHost","serverPort","openConnection","SshClientSession","connect","defaultServerPort","NodeStream","reconnect","shift","errorEmitter","onError","sessionOpenedEmitter","onSessionOpened","credentials","publicKeys","protocolExtensions","SshProtocolExtensionNames","sessionReconnect","reconnectableSessions","localAddress","portPrefix","serverListenFailed","addListener","acceptSession","serverListening","setNoDelay","serverClientConnected","SshServerSession","sessionIndex","SshConnectionError","reason","SshDisconnectReason","connectionLost","protocolError","canChangePort","listener","createServer","listen","ipv6Only","isIPv6","exclusive","shortName","EncryptionAlgorithm","HmacAlgorithm","algorithmName","digestLength","KeyExchangeAlgorithm","keySizeInBits","hashAlgorithmName","hashDigestLength","parsePem","formatPem","bigInt_1","derData_1","ecdsaCurves_1","keyBase64","oidsWriter","ecPublicKeyOid","oidsReader","keyTypeOid","publicKeyAlgorithm_1","sshData_1","keyFormatters_1","nodeVersionParts","v","nodeGenerateKeyPairSupport","nodeKeyObjectSupport","NodeECDsaKeyPair","privateKey","generate","generateNodeKeyPairObjects","generateNodeKeyPairBuffers","generateExternalKeyPair","keyGenParams","namedCurve","generateKeyPair","publicKeyEncoding","privateKeyEncoding","readAlgorithmName","readBinary","derKeyBytes","formatECPublic","createPublicKey","parseECPublic","SshDataWriter","xBytes","yBytes","writeByte","write","formatECPrivate","createPrivateKey","parseECPrivate","NodeECDsa","PublicKeyAlgorithm","ecdsaKey","createSigner","NodeECDsaSignerVerifier","convertHashAlgorithmName","createVerifier","getSignatureLength","signer","createSign","signature","sign","signatureReader","signatureWriter","writeBinary","readBigInt","verifier","createVerify","verify","encryptionAlgorithm_1","NodeEncryption","cipherMode","blockSizeInBits","getBlockSize","isEncryption","NodeAesCipher","NodeAesGcmCipher","nodeAlgorithm","createCipheriv","createDecipheriv","setAutoPadding","tag","nonce","associatedData","authenticatedEncryption","packetLength","setAAD","setAuthTag","final","getAuthTag","k","NodeHmac","hmacAlgorithm_1","encryptThenMac","getHashKeyLength","getHashDigestLength","NodeSignerVerifier","getNodeHashAlgorithmName","createSecretKey","createHmac","keyExchangeAlgorithm_1","nodeHmac_1","NodeDiffieHellman","createKeyExchange","NodeDiffieHellmanKex","bitLength","dh","getDiffieHellman","startKeyExchange","exchangeValueKeys","generateKeys","exchangeValue","decryptKeyExchange","computeSecret","sharedSecret","NodeECDiffieHellman","NodeECDiffieHellmanKex","ecdh","createECDH","sharedSecretBytes","buffer","randomBytes","NodeRsaKeyPair","NodeRsa","defaultKeySize","modulusLength","b","exportKey","rsaWithSha256","keyBuffer","writeBigInt","rsaKey","NodeRsaSignerVerifier","readSignatureData","signatureData","createSignatureData","algorithmNames","useWebCrypto","webKeyExchange_1","webRsa_1","webECDsa_1","webEncryption_1","webHmac_1","webRandom_1","DiffieHellman","WebDiffieHellman","ECDiffieHellman","WebECDiffieHellman","WebRsa","WebECDsa","WebEncryption","Hmac","WebHmac","Random","WebRandom","keyExchange","dhGroup14Sha256","dhGroup16Sha512","ecdhNistp256Sha256","ecdhNistp384Sha384","ecdhNistp521Sha512","aes256Ctr","aes256Gcm","hmac","hmacSha256","hmacSha512","hmacSha256Etm","hmacSha512Etm","compression","list","a","WebECDsaKeyPair","generateKey","importParams","hashAlgorithm","WebECDsaSignerVerifier","WebCipher","init","aesCtr","aesCbc","aesGcm","decryptBuffer","counter","incrementCount","additionalData","tagLength","inputLength","newLength","WebSignerVerifier","isSigning","diffie_hellman_1","WebDiffieHellmanKex","getWebHashAlgorithmName","hashBuffer","WebECDiffieHellmanKex","otherPublicKey","assign","public","getRandomValues","WebRsaKeyPair","publicExponent","alg","key_ops","privateJwk","publicJwk","WebRsaSignerVerifier","convertKeyHashAlgorithm","SshReconnectError","objectOrMessage","SshAuthenticatingEventArgs","SshAuthenticationType","authenticationType","username","password","clientHostname","clientUsername","validate","usernameRequired","passwordRequired","publicKeyRequired","clientHostnameRequired","clientUsernameRequired","valid","clientNone","clientHostBased","clientPassword","clientPublicKeyQuery","clientPublicKey","serverPublicKey","cancellationValue","CancellationToken","None","SshChannelClosedEventArgs","exitStatusOrSignalOrError","exitStatus","exitSignal","error","connectionMessages_1","SshSessionClosedEventArgs","transportMessages_1","formatBuffer","CommandRequestMessage","ChannelRequestType","ChannelRequestMessage","ChannelOpenConfirmationMessage","ChannelOpenFailureMessage","ChannelMessage","SshReconnectFailureReason","DebugMessage","SshMessage","SshRpcMessageStream","WebSocketStream","BaseStream","SshChannel","SshSession","SshVersionInfo","SshSessionConfiguration","SecureStream","MultiChannelStream","SessionContour","ChannelMetrics","SessionMetrics","Queue","Semaphore","CancellationTokenSource","sshSessionConfiguration_1","sshVersionInfo_1","sshSession_1","sshClientSession_1","sshServerSession_1","sshChannel_1","sshStream_1","streams_1","sshRpcMessageStream_1","sshService_1","serviceActivation_1","sshAuthenticatingEventArgs_1","sshRequestEventArgs_1","sshChannelOpeningEventArgs_1","sshSessionClosedEventArgs_1","sshChannelClosedEventArgs_1","sshMessage_1","sshAlgorithms_1","errors_1","cancellation_1","promiseCompletionSource_1","semaphore_1","queue_1","sessionMetrics_1","channelMetrics_1","sessionContour_1","multiChannelStream_1","secureStream_1","trace_1","highByte","zero","isBuffer","highBit","prependZeroCount","skipZeroCount","newBytes","padded","copyTo","dataType","position","readType","readLength","readByte","expected","first","trunc","next","start","tagId","expectedType","lengthBytes","getLength","ensureCapacity","integerBytes","pop","lengthBuffer","j","capacity","newBuffer","read","encoding","readList","stringList","readBoolean","value0","value1","value2","value3","readUInt64","value4","value5","value6","value7","crcTable","mpintZero","writeList","writeBoolean","writeUInt64","writeRandom","randomBuffer","skip","formatData","table","makeCrcTable","crc","crc32","lineOffset","SshProtocol","kexMessages_1","SequencedMessage","sequence","metrics","sessionSemaphore","inboundPacketSequence","outboundPacketSequence","inboundFlow","outboundFlow","recentSentMessages","sendWriter","receiveWriter","traceChannelData","extensions","kexService","algorithms","outgoingMessagesHaveLatencyInfo","incomingMessagesHaveLatencyInfo","outgoingMessagesHaveReconnectInfo","incomingMessagesHaveReconnectInfo","lastIncomingSequence","getSentMessages","startingSequenceNumber","messagesToRetransmit","sequencedMessage","KeyExchangeMessage","DisconnectMessage","addMessageSent","lineCount","byteBuffer","carriageReturn","lineFeed","startsWith","addMessageReceived","wait","finishKeyExchange","release","bytesRead","isDisposed","streamReadError","streamWriteError","initial","kexMessage","kexGuessMessage","exchanging","keyRotationThreshold","sendMessage","payload","seq","mac","macBuffer","verifyHmac","macError","compressor","messageSigner","blockSize","payloadOffset","packetLengthSize","paddingLengthSize","timeSinceLastReceivedMessage","round","time","lastIncomingTimestamp","compress","packetWithoutLength","computeHmac","ChannelDataMessage","Verbose","sendingChannelData","sendingMessage","sentTime","enqueue","packet","considerReExchange","messageVerifier","decompressor","isLengthEncrypted","firstBlockSize","firstBlock","maxPacketLength","packetBufferSize","receiveBuffer","packetBuffer","followingBlocks","readAndVerifyHmac","decompress","lastSequenceSeenByRemote","remoteTimeSinceLastReceived","oldestSequenceMessage","roundTripLatency","updateLatency","dequeue","messageType","create","unimplementedMessage","UnimplementedMessage","sequenceNumber","unimplementedMessageType","receivingChannelData","receivingMessage","streamCloseError","AuthenticationSuccessMessage","AuthenticationFailureMessage","PasswordRequestMessage","PublicKeyOKMessage","PublicKeyRequestMessage","AuthenticationRequestMessage","AuthenticationMessage","methodName","hasSignature","payloadWithoutSignature","rawBytes","partialSuccess","methodNames","ChannelFailureMessage","ChannelSuccessMessage","ChannelSignalMessage","ChannelCloseMessage","ChannelEofMessage","ChannelWindowAdjustMessage","ConnectionMessage","recipientChannel","recipientChannelValue","senderChannel","senderChannelValue","maxWindowSize","maxPacketSize","defaultMaxWindowSize","defaultMaxPacketSize","reasonCode","description","language","bytesToAdd","command","signal","signalValue","errorMessageValue","statusValue","NewKeysMessage","KeyExchangeDhReplyMessage","KeyExchangeDhInitMessage","KeyExchangeInitMessage","cookie","keyExchangeAlgorithms","serverHostKeyAlgorithms","encryptionAlgorithmsClientToServer","encryptionAlgorithmsServerToClient","macAlgorithmsClientToServer","macAlgorithmsServerToClient","compressionAlgorithmsClientToServer","compressionAlgorithmsServerToClient","languagesClientToServer","languagesServerToClient","firstKexPacketFollows","reserved","noneArray","emptyArray","allowsNone","includesNone","CreateNone","hostKey","number","rewrite","messageClass","messages","otherMessage","SessionReconnectFailureMessage","SessionReconnectResponseMessage","SessionReconnectRequestMessage","SessionChannelRequestMessage","ExtensionInfoMessage","ServiceAcceptMessage","ServiceRequestMessage","IgnoreMessage","alwaysDisplay","extensionInfo","count","extensionInfoDetails","entries","serverIndicator","clientIndicator","clientReconnectToken","lastReceivedSequenceNumber","serverReconnectToken","bytesSentSum","bytesReceivedSum","bytesSent","bytesReceived","addBytesSent","addBytesReceived","maxIntervals","intervalMs","initialInterval","updateQueue","updateSemaphore","intervalBytesSent","intervalBytesReceived","intervalLatencyMin","intervalLatencyMax","intervalLatencySum","intervalLatencyCount","intervalLatencyAvg","fill","intervalCount","interval","latencyMinMs","latencyMaxMs","latencyAverageMs","onMessageSent","tryRelease","onMessageReceived","onLatencyUpdated","onSessionClosed","sessionMetrics","eventRegistrations","intervalIndex","updateInterval","latency","eventRegistration","expandIntervals","combineLatency","halfMaxIntervals","iA","iB","countSum","getScale","applyReverseScale","scale","timeScale","SessionMetric","latencyMin","latencyMax","latencyAverage","contourBase64","metricsPerInterval","sessionContour","scales","m","ids","startTime","messagesSentCount","messagesReceivedCount","reconnectionsCount","currentLatency","minLatency","maxLatency","latencySum","latencyCount","messageSentEmitter","messageReceivedEmitter","latencyUpdatedEmitter","sessionClosedEmitter","performance","now","browserTime","hrtime","nodejsTime","Date","ns","messagesSent","messagesReceived","reconnections","latencyCurrentMs","addReconnection","latencyMs","precision","transportStream","channelMaxWindowSize","closedEmitter","channelOpeningEmitter","noSecurityConfig","onSessionChannelOpening","isClosed","acceptChannel","createStream","sessionChannelType","sessionClosedPromise","unsubscribe","events_1","Is","freeze","Event","Cancelled","is","candidate","boolean","shortcutEvent","callback","context","handle","setTimeout","clearTimeout","MutableToken","_isCancelled","cancel","_emitter","token","_token","Disposable","func","_disposable","CallbackList","bucket","_callbacks","_contexts","remove","foundCallbackWithDifferentContext","len","invoke","ret","callbacks","contexts","console","isEmpty","_options","_event","thisArgs","onFirstListenerAdd","_noop","onLastListenerRemove","string","array","stringArray","every","elem","Touch","First","Last","LinkedMap","_map","_head","_tail","_size","item","touch","previous","addItemLast","addItemFirst","removeItem","current","forEachReverse","__export","hasOwnProperty","messages_1","RequestType","RequestType0","RequestType1","RequestType2","RequestType3","RequestType4","RequestType5","RequestType6","RequestType7","RequestType8","RequestType9","ResponseError","ErrorCodes","NotificationType","NotificationType0","NotificationType1","NotificationType2","NotificationType3","NotificationType4","NotificationType5","NotificationType6","NotificationType7","NotificationType8","NotificationType9","messageReader_1","MessageReader","StreamMessageReader","IPCMessageReader","SocketMessageReader","messageWriter_1","MessageWriter","StreamMessageWriter","IPCMessageWriter","SocketMessageWriter","linkedMap_1","CancelNotification","Trace","TraceFormat","SetTraceNotification","LogTraceNotification","ConnectionErrors","ConnectionState","NullLogger","warn","info","toLowerCase","Off","Messages","Text","ConnectionError","setPrototypeOf","_createMessageConnection","messageReader","messageWriter","logger","strategy","notificationSquenceNumber","unknownResponseSquenceNumber","starRequestHandler","starNotificationHandler","timer","tracer","requestHandlers","notificationHandlers","messageQueue","responsePromises","requestTokens","traceFormat","state","New","closeEmitter","unhandledNotificationEmitter","disposeEmitter","createRequestQueueKey","id","cancelUndispatched","_message","isListening","Listening","Closed","Disposed","closeHandler","triggerMessageQueue","setImmediate","isRequestMessage","requestMessage","reply","resultOrError","jsonrpc","toJson","traceSendingResponse","replyError","params","logLSPMessage","traceReceivedRequest","requestHandler","element","handler","cancellationSource","tokenKey","handlerResult","numberOfParams","InternalError","replySuccess","MethodNotFound","handleRequest","isNotificationMessage","notificationHandler","source","traceReceivedNotification","handleNotification","isResponseMessage","responseMessage","timerStart","traceReceivedResponse","handleResponse","responseHandler","handleInvalidMessage","processMessageQueue","onClose","toCancel","queue","addMessageToQueue","lspMessage","isLSPMessage","timestamp","throwIfClosedOrDisposed","undefinedToNull","param","computeMessageParams","connection","sendNotification","messageParams","notificationMessage","traceSendingNotification","onNotification","sendRequest","throwIfNotListening","last","traceSendingRequest","MessageWriteError","onRequest","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","onUnhandledNotification","onDispose","AlreadyListening","throwIfListening","inspect","verbose","ConnectionStrategy","createMessageConnection","output","isMessageWriter","DefaultSize","CR","LF","MessageBuffer","allocUnsafe","append","chunk","toAppend","bufferLen","byteLength","newSize","tryReadHeaders","header","trim","nextStart","tryReadContent","numberOfBytes","onPartialMessage","AbstractMessageReader","partialMessageEmitter","fireError","asError","fireClose","firePartialMessage","readable","_partialMessageTimeout","partialMessageTimeout","timeout","nextMessageLength","messageToken","partialMessageTimer","onData","contentLength","setPartialMessageTimer","clearPartialMessageTimer","waitingTime","eventEmitter","ContentLength","CRLF","AbstractMessageWriter","writable","errorCount","sending","doWriteMessage","send","handleError","ParseError","InvalidRequest","InvalidParams","serverErrorStart","serverErrorEnd","ServerNotInitialized","UnknownErrorCode","RequestCancelled","MessageReadError","AbstractMessageType","_method","_numberOfParams","_","path_1","os_1","crypto_1","generateRandomPipeName","randomSuffix","platform","tmpdir","createClientPipeTransport","pipeName","connectResolve","connected","_reject","server","removeListener","onConnected","createServerPipeTransport","createClientSocketTransport","createServerSocketTransport","PipeExtensions","toSession","endCompletion","forwardSessionRequest","forwardSessionClose","endPromise","toChannel","closed","forwardChannelRequest","onDataReceived","forwardData","forwardChannelClose","endTask","pipeChannel","failureMessage","remoteChannelId","adjustWindow","stream_1","Duplex","cb","_write","writev","chunks","_writev","_final","_read","clientCredentials","serverCredentials","sessionConfig","onAuthenticating","clientSession","authenticateServer","hostKeyNotVerifiable","authenticateClient","noMoreAuthMethodsAvailable","emit","disconnectReason","AuthenticationService_1","AuthenticationService","authenticationMessages_1","connectionService_1","authenticationFailureCount","disposeCancellationSource","publicKeyAlgorithmName","handleMessage","handleSuccessMessage","handleFailureMessage","handleAuthenticationRequestMessage","sessionAuthenticating","handlePublicKeyRequestMessage","handlePasswordRequestMessage","handleAuthenticating","publicKeyAlg","getPublicKeyAlgorithm","sessionId","signedData","handleAuthenticationFailure","authenticatedPrincipal","raiseAuthenticatingEvent","authenticationError","publicKeyRequest","okMessage","activateService","sessionAuthenticated","handleClientAuthenticated","clientAuthenticationFailed","maxClientAuthenticationAttempts","clientAuthenticationMethods","privateKeyProvider","cancellation2","requestPublicKeyAuthentication","authCancelledByUser","passwordCredentialProvider","passwordProvider","passwordCredentialPromise","passwordCredential","requestPasswordAuthentication","requestUsernameAuthentication","firstAuthMethod","authMessage","ConnectionService","publicKeyAlgorithms","createAuthenticationSignature","onAuthenticationComplete","serviceRequest","ConnectionService_1","channelCounter","channelMap","nonAcceptedChannels","pendingChannels","pendingAcceptChannels","channelCompletions","pc","completionSource","channelCompletion","handleDataMessage","handleAdjustWindowMessage","handleEofMessage","handleOpenMessage","handleCloseMessage","handleOpenConfirmationMessage","handleOpenFailureMessage","handleRequestMessage","canAcceptRequests","channelOpenFailed","openFailureMessage","confirmationMessage","handleChannelOpening","isMaxWindowSizeLocked","openConfirmationMessage","accepted","onChannelOpenCompleted","enableSending","tryGetChannelForMessage","handleClose","pendingChannel","handleDataReceived","adjustRemoteWindow","handleEof","channelOpened","channelMessage","findChannelById","channelRequestFailed","removeChannel","KeyExchangeService_1","KeyExchangeService","sshSessionAlgorithms_1","ExchangeContext","serverExtensionInfoSignal","clientExtensionInfoSignal","isClientSession","isInitialExchange","exchangeContext","kexInitMessage","createKeyExchangeInitMessage","enableKeyExchangeGuess","createKeyExchangeGuessMessage","clientKexInitPayload","serverKexInitPayload","newAlgorithms","abortKeyExchange","extinfo","getPublicKeyAlgorithms","encryptionAlgorithms","hmacAlgorithms","compressionAlgorithms","privateKeyAlgorithms","kexAlgorithm","exchange","guess","handleInitMessage","handleDhInitMessage","handleDhReplyMessage","chooseAlgorithm","algorithmNegotiation","SshSessionAlgorithms","handleNewKeysMessage","extensionInfoSignal","clientEncryption","serverEncryption","clientHmac","serverHmac","clientCompression","serverCompression","alreadySentGuess","negotiatedKexAlgorthmIsPreferred","getKeyExchangeAlgorithm","guessResult","discardGuessedInit","sendExtensionInfo","serverSession","kexAlg","keyExchangeFailed","getEncryptionAlgorithm","getHmacAlgorithm","clientExchangeValue","serverExchangeValue","hostKeyAndCerts","exchangeHash","computeExchangeHash","clientCipherIV","serverCipherIV","clientCipherKey","serverCipherKey","clientHmacKey","serverHmacKey","computeKeys","getCompressionAlgorithm","exchangeSigner","exchangeVerifier","verified","serverAuthenticationFailed","label","localAlgorithms","remoteAlgorithms","serverAlgorithms","clientAlgorithms","negotiationDetail","client","kex","remoteVersion","localVersion","computeKey","writerOffset","letter","keyBufferIndex","currentHashLength","currentHash","findService","activation","activations","serviceConfigs","serviceType","foundActivation","disposedEmitter","raiseSessionRequest","pipeExtensions_1","connectionService","remoteMaxWindowSize","remoteMaxPacketSize","remoteClosed","localClosed","sentEof","openSendingWindowCompletionSource","requestCompletionSource","sendSemaphore","dataReceivedEmitter","eofEmitter","onEof","requestEmitter","remoteWindowSize","maxWindowSizeValue","windowSize","packetSize","channelWaitForWindowAdjust","withCancellation","sendEof","exitErrorMessage","services","channelRequest","onChannelRequest","messageLength","windowAdjustMessage","channelWindowAdjustFailed","channelEofReceived","exitStatusOrSignal","channelClosed","disposeInternal","closeWithStatus","closeWithSignal","closeDefault","closeMessage","closedMessage","raiseClosedEvent","signalMessage","closedByRemote","metricsMessage","originMessage","authenticationService_1","serviceRequests","clientAuthCompletion","callbackOrCancellation","authenticateClientWithCompletion","authService","getService","serviceRequestMessage","success","completion","channelTypeOrOpenMessageOrCancellation","initialRequestOrCancellation","handleDisconnected","reconnecting","clientSessionReconnecting","isConnected","protocol","reconnectInternal","_f","previousSessionId","previousProtocolInstance","previousHostKey","newSessionId","newHostKey","newHostPublicKey","previousHostPublicKey","clientSessionReconnectFailed","differentServerHostKey","reconnectToken","createReconnectToken","reconnectRequest","unknownServerFailure","verifyReconnectToken","invalidServerReconnectToken","messagesToResend","clientDroppedMessages","rpc","contentLengthHeaderPrefix","headersSeparator","SshRpcMessageReader","messageBuffer","headersLength","headersEnd","totalLength","messageJson","SshRpcMessageWriter","messageData","headerData","clientAuthenticatedEmitter","onClientAuthenticated","reconnectedEmitter","onReconnected","enableReconnect","serviceNotAvailable","acceptMessage","reconnectSession","reconnectableSession","serverSessionReconnectFailed","failure","sessionNotFound","serverDroppedMessages","processMessages","serverSessionReconnecting","sshProtocol_1","keyExchangeService_1","principalValue","activatedServices","blockedMessages","blockedMessagesSemaphore","authenticatingEmitter","disconnectedEmitter","onDisconnected","serviceActivatedEmitter","onServiceActivated","onConfigurationChanged","serviceTypeOrName","activatedService","connectPromise","doConnect","sessionConnecting","exchangeVersions","versionExchangePromise","writePromise","writeProtocolVersion","readPromise","readProtocolVersion","protocolVersion","remoteVersionInfo","tryParse","protocolVersionNotSupported","receiveMessage","sessionEncrypted","receiveMessageFailed","handleMessageFailed","sendMessageFailed","handleKeyExchangeMessage","handleServiceRequestMessage","handleServiceAcceptMessage","handleRequestSuccessMessage","handleRequestFailureMessage","handleExtensionInfoMessage","handleDisconnectMessage","handleUnimplementedMessage","handleDebugMessage","openChannelRequest","sessionChannelRequest","sessionLatency","sessionRequestFailed","handleNewKeys","blockedMessage","debugMessage","authPromise","authenticationPromise","successType","failureType","channelTypeOrCancellation","acceptPromise","openChannelWithInitialRequest","initialRequest","requestResult","isExtensionSupported","requestPromise","resolveService","extensionName","serverSignatureAlgorithms","Set","proposedExtension","sessionClosing","disconnectMessage","sessionDisconnected","closedError","sessionReconnectInitFailed","enableReconnectMessage","pipeSession","getLocalVersion","useSecurity","traceChannelDataValue","configurationChangedEmitter","messageNumber","addService","serviceConfig","getAlgorithm","collection","readPaused","BufferReduce","singleBuffer","singleBufferIndex","packageJson","packageName","packageVersion","versionString","secondDashIndex","firstDashIndex","test","nameAndVersion","spaceIndex","lastUnderscoreBeforeSpace","lastIndexOf","isVsSsh","isVsSshCS","isVsSshTS","handleCancellation","incomingData","pendingReads","readData","onEnd","fireOnClose","duplexOrReadStream","writeStream","readStream","websocket","binaryType","onmessage","onclose","wasClean","readyState","DOMException","baseEventId","portForwardChannelInvalid","portForwardConnectionClosed","clientSessionStartReconnecting","race","newArray","iteratorVersion","initialCount","completions","currentCount","releaseCount","previousCount","timeoutOrCancellation","millisecondsTimeout","promises","cancellationCompletion","completionIndex","fn","ctx","pending","base64","charAt","b64","s64","t","fromCharCode","invalidEncoding","codegen","functionParams","functionName","body","Codegen","formatStringOrScope","scopeKeys","scopeParams","scopeValues","scopeOffset","formatParams","formatOffset","$0","$1","functionNameOverride","EventEmitter","_listeners","evt","off","listeners","fetch","asPromise","inquire","xhr","readFile","contents","XMLHttpRequest","binary","onreadystatechange","status","responseText","overrideMimeType","open","factory","Float32Array","f32","f8b","writeFloat_f32_cpy","buf","pos","writeFloat_f32_rev","readFloat_f32_cpy","readFloat_f32_rev","writeFloatLE","writeFloatBE","readFloatLE","readFloatBE","writeFloat_ieee754","writeUint","readFloat_ieee754","readUint","uint","mantissa","NaN","Infinity","writeUintLE","writeUintBE","readUintLE","readUintBE","Float64Array","f64","writeDouble_f64_cpy","writeDouble_f64_rev","readDouble_f64_cpy","readDouble_f64_rev","writeDoubleLE","writeDoubleBE","readDoubleLE","readDoubleBE","writeDouble_ieee754","off0","off1","readDouble_ieee754","moduleName","eval","normalize","absolute","prefix","originPath","includePath","alreadyNormalized","SIZE","MAX","slab","utf8","c1","c2","AbortError","captureStackTrace","isAbortError","throwIfAborted","aborted","rethrowAbortError","catchAbortError","execute","executor","removeAbortListener","finished","callbackResult","addEventListener","removeEventListener","abortable","noop","delay","dueTime","ms","getTime","forever","waitForEvent","eventName","unlisten","isFunction","sourceObj","isJQueryStyleEventEmitter","isNodeStyleEventEmitter","innerAbortController","AbortController","abortListener","rejection","results","settledCount","settled","retry","baseMs","maxDelayMs","maxAttempts","attempt","reset","delayMs","backoff","spawn","deferredFunctions","spawnAbortController","spawnSignal","abortSpawn","tasks","abortTasks","task","fork","forkFn","taskAbortController","taskPromise","finally","defer","deferPromise","run","abortController","DiffieHellmanGroup","createDiffieHellmanGroup","createDiffieHellman","$jscomp","scope","findInternal","ASSUME_ES5","ASSUME_NO_NATIVE_MAP","ASSUME_NO_NATIVE_SET","SIMPLE_FROUND_POLYFILL","defineProperties","getGlobal","polyfill","configurable","checkStringArgs","RegExp","g","exportPath_","execScript","define","CLOSURE_UNCOMPILED_DEFINES","CLOSURE_DEFINES","nodeType","FEATURESET_YEAR","LOCALE","TRUSTED_SITE","STRICT_MODE_COMPATIBLE","DISALLOW_TEST_ONLY_CODE","ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING","provide","isInModuleLoader_","isProvided_","constructNamespace_","implicitNamespaces_","getObjectByName","getScriptNonce","getScriptNonce_","document","cspNonce_","NONCE_PATTERN_","querySelector","getAttribute","VALID_MODULE_RE_","search","isInGoogModuleLoader_","moduleLoaderState_","getInternal_","loadedModules_","ModuleType","ES6","GOOG","isInEs6ModuleLoader_","getCurrentModulePath","declareLegacyNamespace","declareModuleId","require","moduleId","setTestOnly","forwardDeclare","globalize","addDependency","DEPENDENCIES_ENABLED","debugLoader_","ENABLE_DEBUG_LOADER","logToConsole_","requested","load_","requireType","basePath","nullFunction","abstractMethod","addSingletonGetter","instance_","getInstance","instantiatedSingletons_","LOAD_MODULE_USING_EVAL","SEAL_MODULE_EXPORTS","TRANSPILE","ASSUME_ES_MODULES_TRANSPILED","TRANSPILE_TO_LANGUAGE","TRANSPILER","hasBadLetScoping","useSafari10Workaround","workaroundSafari10EvalBug","loadModule","loadModuleFromSource_","seal","normalizePath_","loadFileSync_","CLOSURE_LOAD_FILE_SYNC","transpile_","transpile","$gwtExport","typeOf","propertyIsEnumerable","isArrayLike","isDateLike","isObject","getFullYear","getUid","UID_PROPERTY_","uidCounter_","hasUid","removeUid","removeAttribute","getHashCode","removeHashCode","cloneObject","clone","bindNative_","bindJs_","unshift","partial","mixin","globalEval","evalWorksForGlobals_","_evalTest_","createElement","appendChild","createTextNode","head","removeChild","getCssName","cssNameMapping_","cssNameMappingStyle_","CLOSURE_CSS_NAME_MAP_FN","setCssNameMapping","CLOSURE_CSS_NAME_MAPPING","getMsg","html","getMsgWithFallback","exportProperty","superClass_","base","defineClass","statics","createSealingConstructor_","applyProperties_","SEAL_CLASS_INSTANCES","isUnsealable_","UNSEALABLE_CONSTRUCTOR_PROPERTY_","OBJECT_PROTOTYPE_FIELDS_","tagUnsealableClass","inHtmlDocument_","isDocumentLoading_","attachEvent","findBasePath_","CLOSURE_BASE_PATH","currentScript","getElementsByTagName","src","Transpiler","requiresTranspilation_","transpilationTarget_","createRequiresTranspilation_","h","es3","navigator","userAgent","needsTranspile","transpiler_","protectScriptTag_","DebugLoader_","dependencies_","idToPath_","written_","loadingDeps_","depsToLoad_","paused_","factory_","DependencyFactory","deferredCallbacks_","deferredQueue_","bootstrap","getPathFromDeps_","onLoad","loadClosureDeps","createDependency","loadDeps_","areDepsLoaded_","requires","setDependencyFactory","loading_","pause","resume","resume_","loaded","loaded_","setModuleState","registerEs6ModuleExports","registerGoogModuleExports","clearModuleState","defer_","areDepsLoaded","pause_","LoadController","Dependency","relativePath","provides","loadFlags","loadCallbacks_","getPathName","callbackMap_","registerCallback_","unregisterCallback_","callback_","CLOSURE_IMPORT_SCRIPT","IS_OLD_IE_","TRUSTED_TYPES_POLICY_","createHTML","setAttribute","onload","createScriptURL","Es6ModuleDependency","textContent","createScript","TransformedDependency","contents_","lazyFetch_","ensure","l","TranspiledDependency","transpiler","PreTranspiledEs6ModuleDependency","GoogModuleDependency","needsTranspile_","atob","all","lang","CLOSURE_NO_DEPS","TRUSTED_TYPES_POLICY_NAME","identity_","createTrustedTypesPolicy","trustedTypes","TrustedTypes","createPolicy","createURL","some","getCount","getAnyKey","getAnyValue","contains","containsValue","getValues","getKeys","getValueByKeys","containsKey","findKey","findValue","setIfUndefined","setWithReturnValueIfNotSet","unsafeClone","transpose","PROTOTYPE_FIELDS_","createSet","createImmutableView","isFrozen","isImmutableView","getAllPropertyNames","getOwnPropertyNames","getPrototypeOf","getSuperClass","debug","stack","reportErrorToServer","dom","NodeType","ELEMENT","ATTRIBUTE","TEXT","CDATA_SECTION","ENTITY_REFERENCE","ENTITY","PROCESSING_INSTRUCTION","COMMENT","DOCUMENT","DOCUMENT_TYPE","DOCUMENT_FRAGMENT","NOTATION","asserts","ENABLE_ASSERTS","AssertionError","subs_","messagePattern","DEFAULT_ERROR_HANDLER","errorHandler_","doAssertFailure_","setErrorHandler","assert","assertExists","fail","assertNumber","assertString","assertFunction","assertObject","assertArray","assertBoolean","assertElement","assertInstanceof","getType_","assertFinite","isFinite","assertObjectPrototypeIsIntact","BinaryConstants","ConstBinaryMessage","BinaryMessage","FieldType","INVALID","DOUBLE","FLOAT","INT64","UINT64","INT32","FIXED64","FIXED32","BOOL","STRING","GROUP","MESSAGE","BYTES","UINT32","ENUM","SFIXED32","SFIXED64","SINT32","SINT64","FHASH64","VHASH64","WireType","VARINT","DELIMITED","START_GROUP","END_GROUP","FieldTypeToWireType","INVALID_FIELD_NUMBER","FLOAT32_EPS","FLOAT32_MIN","FLOAT32_MAX","FLOAT64_EPS","FLOAT64_MIN","FLOAT64_MAX","TWO_TO_20","TWO_TO_23","TWO_TO_31","TWO_TO_32","TWO_TO_52","TWO_TO_63","TWO_TO_64","ZERO_HASH","NATIVE_ARRAY_PROTOTYPES","ASSUME_NATIVE_FUNCTIONS","forEachRight","reduceRight","findRight","findIndexRight","insert","insertAt","insertArrayAt","insertBefore","removeAt","removeLast","removeIf","removeAllIf","toArray","removeDuplicates","binarySearch","binarySearch_","defaultCompare","binarySelect","sort","stableSort","sortByKey","sortObjectsByKey","isSorted","defaultCompareEquality","compare3","inverseDefaultCompare","binaryInsert","binaryRemove","range","repeat","flatten","rotate","moveItem","zip","shuffle","copyByIndex","concatMap","crypt","stringToByteArray","byteArrayToString","byteArrayToHex","hexToByteArray","stringToUtf8ByteArray","utf8ByteArrayToString","xorByteArray","assertIsLocation","getWindow_","Location","Element","debugStringForType_","assertIsElementType_","assertIsHTMLAnchorElement","assertIsHTMLButtonElement","assertIsHTMLLinkElement","assertIsHTMLImageElement","assertIsHTMLAudioElement","assertIsHTMLVideoElement","assertIsHTMLInputElement","assertIsHTMLTextAreaElement","assertIsHTMLCanvasElement","assertIsHTMLEmbedElement","assertIsHTMLFormElement","assertIsHTMLFrameElement","assertIsHTMLIFrameElement","assertIsHTMLObjectElement","assertIsHTMLScriptElement","ownerDocument","defaultView","parentWindow","functions","constant","FALSE","TRUE","NULL","identity","lock","nth","partialRight","withReturnValue","equalTo","compose","CACHE_RETURN_VALUE","cacheReturnValue","debounce","throttle","rateLimit","HtmlElement","TagName","tagName_","A","ABBR","ACRONYM","ADDRESS","APPLET","AREA","ARTICLE","ASIDE","AUDIO","B","BASE","BASEFONT","BDI","BDO","BIG","BLOCKQUOTE","BODY","BR","BUTTON","CANVAS","CAPTION","CENTER","CITE","CODE","COL","COLGROUP","COMMAND","DATALIST","DD","DEL","DETAILS","DFN","DIALOG","DIR","DIV","DL","DT","EM","EMBED","FIELDSET","FIGCAPTION","FIGURE","FONT","FOOTER","FORM","FRAME","FRAMESET","H1","H2","H3","H4","H5","H6","HEAD","HEADER","HGROUP","HR","HTML","I","IFRAME","IMG","INPUT","INS","ISINDEX","KBD","KEYGEN","LABEL","LEGEND","LI","LINK","MAIN","MAP","MARK","MATH","MENU","MENUITEM","META","METER","NAV","NOFRAMES","NOSCRIPT","OBJECT","OL","OPTGROUP","OPTION","OUTPUT","P","PARAM","PICTURE","PRE","PROGRESS","Q","RP","RT","RTC","RUBY","S","SAMP","SCRIPT","SECTION","SELECT","SMALL","SOURCE","SPAN","STRIKE","STRONG","STYLE","SUB","SUMMARY","SUP","SVG","TABLE","TBODY","TD","TEMPLATE","TEXTAREA","TFOOT","TH","THEAD","TIME","TITLE","TR","TRACK","TT","U","UL","VAR","VIDEO","WBR","tags","VOID_TAGS_","area","br","col","embed","hr","img","keygen","link","meta","track","wbr","isVoidTag","trustedtypes","PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY","TypedString","Const","stringConstValueWithSecurityContract__googStringSecurityPrivate_","GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_","STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_","TYPE_MARKER_","implementsGoogStringTypedString","getTypedStringValue","unwrap","EMPTY","SafeScript","privateDoNotAccessOrElseSafeScriptWrappedValue_","SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_","TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_","fromConstant","createSafeScriptSecurityPrivateDoNotAccessOrElse","fromConstantAndArgs","stringify_","fromJson","unwrapTrustedScript","initSecurityPrivateDoNotAccessOrElse_","url","createObjectUrl","getUrlObject_","createObjectURL","revokeObjectUrl","revokeObjectURL","UrlObject_","findUrlObject_","URL","webkitURL","browserSupportsObjectUrls","blob","getBlob","BlobBuilder","WebKitBlobBuilder","getBlobWithProperties","Blob","endings","i18n","bidi","FORCE_RTL","IS_RTL","Format","LRE","RLE","PDF","LRM","RLM","Dir","LTR","RTL","NEUTRAL","RIGHT","LEFT","I18N_RIGHT","I18N_LEFT","toDir","ltrChars_","rtlChars_","htmlSkipReg_","stripHtmlIfNeeded_","rtlCharReg_","ltrCharReg_","hasAnyRtl","hasRtlChar","hasAnyLtr","ltrRe_","rtlRe_","isRtlChar","isLtrChar","isNeutralChar","ltrDirCheckRe_","rtlDirCheckRe_","startsWithRtl","isRtlText","startsWithLtr","isLtrText","isRequiredLtrRe_","isNeutralText","ltrExitDirCheckRe_","rtlExitDirCheckRe_","endsWithLtr","isLtrExitText","endsWithRtl","isRtlExitText","rtlLocalesRe_","isRtlLanguage","bracketGuardTextRe_","guardBracketInText","enforceRtlInHtml","enforceRtlInText","enforceLtrInHtml","enforceLtrInText","dimensionsRe_","leftRe_","rightRe_","tempRe_","mirrorCSS","doubleQuoteSubstituteRe_","singleQuoteSubstituteRe_","normalizeHebrewQuote","wordSeparatorRe_","hasNumeralsRe_","rtlDetectionThreshold_","estimateDirection","detectRtlDirectionality","setElementDirAndAlign","style","textAlign","dir","setElementDirByTextDirectionality","DirectionalString","TrustedResourceUrl","privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_","CONSTRUCTOR_TOKEN_PRIVATE_","TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_","implementsGoogI18nBidiDirectionalString","getDirection","cloneWithParams","URL_PARAM_PARSER_","exec","createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse","stringifyParams_","unwrapTrustedScriptURL","BASE_URL_","FORMAT_MARKER_","encodeURIComponent","formatWithParams","fromConstants","fromSafeScript","internal","caseInsensitiveStartsWith","caseInsensitiveCompare","caseInsensitiveEndsWith","caseInsensitiveEquals","isEmptyOrWhitespace","newLineToBr","htmlEscape","AMP_RE_","LT_RE_","GT_RE_","QUOT_RE_","SINGLE_QUOTE_RE_","NULL_RE_","ALL_RE_","whitespaceEscape","caseInsensitiveContains","compareVersions","compareElements_","SafeUrl","privateDoNotAccessOrElseSafeUrlWrappedValue_","SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_","INNOCUOUS_STRING","createSafeUrlSecurityPrivateDoNotAccessOrElse","SAFE_MIME_TYPE_PATTERN_","isSafeMimeType","fromBlob","fromMediaSource","MediaSource","DATA_URL_PATTERN_","fromDataUrl","fromTelUrl","SIP_URL_PATTERN_","fromSipUrl","decodeURIComponent","fromFacebookMessengerUrl","fromWhatsAppUrl","fromSmsUrl","isSmsUrlBodyValid_","fromSshUrl","sanitizeChromeExtensionUrl","sanitizeExtensionUrl_","sanitizeFirefoxExtensionUrl","sanitizeEdgeExtensionUrl","fromTrustedResourceUrl","SAFE_URL_PATTERN_","SAFE_URL_PATTERN","sanitize","sanitizeAssertUnchanged","ABOUT_BLANK","SafeStyle","privateDoNotAccessOrElseSafeStyleWrappedValue_","SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_","createSafeStyleSecurityPrivateDoNotAccessOrElse","sanitizePropertyValue_","sanitizePropertyValueString_","FUNCTIONS_RE_","URL_RE_","VALUE_RE_","COMMENT_RE_","hasBalancedQuotes_","hasBalancedSquareBrackets_","sanitizeUrl_","VALUE_ALLOWED_CHARS_","ALLOWED_FUNCTIONS_","SafeStyleSheet","privateDoNotAccessOrElseSafeStyleSheetWrappedValue_","SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_","createRule","hasBalancedBrackets_","createSafeStyleSheetSecurityPrivateDoNotAccessOrElse","labs","util","getNativeUserAgentString_","getNavigator_","userAgent_","setUserAgent","getUserAgent","matchUserAgent","matchUserAgentIgnoreCase","extractVersionTuples","browser","matchOpera_","matchIE_","matchEdgeHtml_","matchEdgeChromium_","matchOperaChromium_","matchFirefox_","matchSafari_","matchChrome_","matchCoast_","isSilk","matchIosWebview_","matchAndroidBrowser_","isChrome","isFirefox","isOpera","isIE","isEdge","isEdgeChromium","isOperaChromium","isSafari","isCoast","isIosWebview","isAndroidBrowser","getVersion","getIEVersion_","isVersionOrHigher","SafeHtml","privateDoNotAccessOrElseSafeHtmlWrappedValue_","SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_","dir_","ENABLE_ERROR_MESSAGES","SUPPORT_STYLE_ATTRIBUTE","unwrapTrustedHTML","createSafeHtmlSecurityPrivateDoNotAccessOrElse","htmlEscapePreservingNewlines","htmlEscapePreservingNewlinesAndSpaces","VALID_NAMES_IN_TAG_","URL_ATTRIBUTES_","action","cite","formaction","href","manifest","poster","NOT_ALLOWED_TAG_NAMES_","verifyTagName","createSafeHtmlTagSecurityPrivateDoNotAccessOrElse","createIframe","srcdoc","combineAttributes","sandbox","createSandboxIframe","canUseSandboxIframe","HTMLIFrameElement","createScriptSrc","createStyle","createMetaRefresh","content","getAttrNameAndValue_","getStyleValue_","createWithDir","concatWithDir","stringifyAttributes","DOCTYPE_HTML","uncheckedconversions","safeHtmlFromStringKnownToSatisfyTypeContract","safeScriptFromStringKnownToSatisfyTypeContract","safeStyleFromStringKnownToSatisfyTypeContract","safeStyleSheetFromStringKnownToSatisfyTypeContract","safeUrlFromStringKnownToSatisfyTypeContract","trustedResourceUrlFromStringKnownToSatisfyTypeContract","safe","InsertAdjacentHtmlPosition","AFTERBEGIN","AFTEREND","BEFOREBEGIN","BEFOREEND","insertAdjacentHtml","insertAdjacentHTML","SET_INNER_HTML_DISALLOWED_TAGS_","isInnerHtmlCleanupRecursive_","firstChild","innerHTML","parentElement","unsafeSetInnerHtmlDoNotUseOrElse","lastChild","setInnerHtml","tagName","setOuterHtml","outerHTML","setFormElementAction","setButtonFormAction","formAction","setInputFormAction","setStyle","cssText","documentWrite","setAnchorHref","setImageSrc","setAudioSrc","setVideoSrc","setEmbedSrc","setFrameSrc","setIframeSrc","setIframeSrcdoc","setLinkHrefAndRel","rel","setObjectData","setScriptSrc","setScriptContent","text","setLocationHref","assignLocation","replaceLocation","openInWindow","parseFromStringHtml","parseFromString","createImageFromBlob","Image","DETECT_DOUBLE_ESCAPING","FORCE_NON_DOM_HTML_UNESCAPING","Unicode","NBSP","subs","collapseWhitespace","isEmptyString","isEmptyOrWhitespaceSafe","makeSafe","isEmptySafe","isBreakingWhitespace","isAlpha","isNumeric","isAlphaNumeric","isSpace","isUnicodeChar","stripNewlines","canonicalizeNewlines","normalizeWhitespace","normalizeSpaces","collapseBreakingSpaces","trimLeft","numberAwareCompare_","intAwareCompare","floatAwareCompare","numerateCompare","urlEncode","urlDecode","E_RE_","unescapeEntities","unescapeEntitiesUsingDom_","unescapePureXmlEntities_","unescapeEntitiesWithDocument","HTML_ENTITY_PATTERN_","nodeValue","preserveSpaces","stripQuotes","truncate","truncateMiddle","specialEscapeChars_","jsEscapeCache_","quote","escapeChar","escapeString","countOf","removeAll","regExpEscape","replaceAll","padNumber","toFixed","buildString","getRandomString","abs","hashCode","uniqueStringCounter_","createUniqueString","isLowerCamelCase","isUpperCamelCase","toCamelCase","toSelectorCase","toTitleCase","capitalize","splitLimit","lastComponent","editDistance","engine","isPresto","isTrident","isWebKit","isGecko","getEngineTuple_","getVersionForKey_","isAndroid","isIpod","isIphone","isIpad","isIos","isMacintosh","isLinux","isWindows","isChromeOS","isChromecast","isKaiOS","reflect","objectProperty","sinkValue","canAccessProperty","ASSUME_IE","ASSUME_EDGE","ASSUME_GECKO","ASSUME_WEBKIT","ASSUME_MOBILE_WEBKIT","ASSUME_OPERA","ASSUME_ANY_VERSION","BROWSER_KNOWN_","getUserAgentString","getNavigatorTyped","getNavigator","OPERA","IE","EDGE","EDGE_OR_IE","GECKO","WEBKIT","isMobile_","MOBILE","SAFARI","determinePlatform_","PLATFORM","ASSUME_MAC","ASSUME_WINDOWS","ASSUME_LINUX","ASSUME_X11","ASSUME_ANDROID","ASSUME_IPHONE","ASSUME_IPAD","ASSUME_IPOD","ASSUME_KAIOS","PLATFORM_KNOWN_","MAC","WINDOWS","isLegacyLinux_","LINUX","isX11_","appVersion","X11","ANDROID","IPHONE","IPAD","IPOD","IOS","KAIOS","determineVersion_","getVersionRegexResult_","getDocumentMode_","parseFloat","documentMode","VERSION","isVersionOrHigherCache_","isVersion","isDocumentModeOrHigher","DOCUMENT_MODE","isDocumentMode","product","ASSUME_FIREFOX","ASSUME_CHROME","ASSUME_SAFARI","PRODUCT_KNOWN_","FIREFOX","isIphoneOrIpod_","CHROME","isSafariDesktop_","DEFAULT_ALPHABET_COMMON_","ENCODED_VALS","ENCODED_VALS_WEBSAFE","Alphabet","DEFAULT","NO_PADDING","WEBSAFE","WEBSAFE_DOT_PADDING","WEBSAFE_NO_PADDING","paddingChars_","isPadding_","byteToCharMaps_","charToByteMap_","ASSUME_NATIVE_SUPPORT_","HAS_NATIVE_ENCODE_","btoa","HAS_NATIVE_DECODE_","encodeByteArray","init_","encodeString","decodeString","decodeStringInternal_","decodeStringToByteArray","decodeStringToUint8Array","subarray","utils","split64Low","split64High","splitUint64","splitInt64","splitZigzag64","splitFloat32","splitFloat64","splitHash64","joinUint64","joinInt64","toZigzag64","joinZigzag64","fromZigzag64","joinFloat32","joinFloat64","joinHash64","DIGITS","ZERO_CHAR_CODE_","A_CHAR_CODE_","joinUnsignedDecimalString","joinSignedDecimalString","hash64ToDecimalString","hash64ArrayToDecimalStrings","decimalStringToHash64","splitDecimalString","toHexDigit_","fromHexCharCode_","hash64ToHexString","hexStringToHash64","hash64ToNumber","numberToHash64","countVarints","countVarintFields","countFixedFields_","countFixed32Fields","countFixed64Fields","countDelimitedFields","debugBytesToTextFormat","byteSourceToUint8Array","debugScalarToTextFormat","ArrayBuffer","byteOffset","BinaryDecoder","bytes_","cursor_","end_","start_","error_","setBlock","instanceCache_","free","getBuffer","getEnd","setEnd","getCursor","setCursor","advance","atEnd","pastEnd","getError","readSplitVarint64","readSplitZigzagVarint64","readSplitFixed64","skipVarint","unskipVarint","readUnsignedVarint32","readSignedVarint32","readUnsignedVarint32String","readSignedVarint32String","readZigzagVarint32","readUnsignedVarint64","readUnsignedVarint64String","readSignedVarint64","readSignedVarint64String","readZigzagVarint64","readZigzagVarintHash64","readZigzagVarint64String","readUint8","readUint16","readUint64","readUint64String","readInt8","readInt16","readInt32","readInt64","readInt64String","readFloat","readDouble","readStringWithLength","readVarintHash64","readFixedHash64","decoder_","fieldCursor_","nextField_","nextWireType_","readCallbacks_","getFieldCursor","getWireType","isDelimited","unskipHeader","skipMatchingFields","skipVarintField","skipDelimitedField","skipFixed32Field","skipFixed64Field","skipGroup","registerReadCallback","runReadCallback","readAny","readFixed64","readFixed32","readSfixed32","readSfixed64","readSint32","readSint64","readGroup","getFieldDecoder","readInt32String","readUint32String","readSint64String","readFixed64String","readSfixed32String","readSfixed64String","readSintHash64","readPackedField_","readPackedInt32","readPackedInt32String","readPackedInt64","readPackedInt64String","readPackedUint32","readPackedUint32String","readPackedUint64","readPackedUint64String","readPackedSint32","readPackedSint64","readPackedSint64String","readPackedFixed32","readPackedFixed64","readPackedFixed64String","readPackedSfixed32","readPackedSfixed64","readPackedSfixed64String","readPackedFloat","readPackedDouble","readPackedBool","readPackedEnum","readPackedVarintHash64","readPackedFixedHash64","BinaryEncoder","buffer_","writeSplitVarint64","writeSplitFixed64","writeUnsignedVarint32","writeSignedVarint32","writeUnsignedVarint64","writeSignedVarint64","writeZigzagVarint32","writeZigzagVarint64","writeZigzagVarint64String","writeZigzagVarintHash64","writeUint8","writeUint16","writeUint64","writeInt8","writeInt16","writeInt32","writeInt64","writeInt64String","writeFloat","writeDouble","writeVarintHash64","writeFixedHash64","arith","UInt64","cmp","rightShift","leftShift","msb","lsb","mul32x32","Int64","blocks_","totalLength_","encoder_","bookmarks_","appendUint8Array_","beginDelimited_","writeFieldHeader_","endDelimited_","writeSerializedMessage","maybeWriteSerializedMessage","getResultBase64String","beginSubMessage","endSubMessage","writeAny","writeFixed64","writeFixed32","writeSfixed32","writeSfixed64","writeSint32","writeSint64","writeUnsignedVarint32_","writeSignedVarint32_","writeUnsignedVarint64_","writeSignedVarint64_","writeZigzagVarint32_","writeZigzagVarint64_","writeZigzagVarint64String_","writeZigzagVarintHash64_","writeInt32String","writeUint32String","writeUint64String","writeSintHash64","writeSint64String","writeFixed64String","writeSfixed64String","writeMessageSet","writeGroup","writeSplitZigzagVarint64","writeRepeatedInt32","writeRepeatedInt32String","writeRepeatedInt64","writeRepeatedSplitFixed64","writeRepeatedSplitVarint64","writeRepeatedSplitZigzagVarint64","writeRepeatedInt64String","writeRepeatedUint32","writeRepeatedUint32String","writeRepeatedUint64","writeRepeatedUint64String","writeRepeatedSint32","writeRepeatedSint64","writeRepeatedSint64String","writeRepeatedSintHash64","writeRepeatedFixed32","writeRepeatedFixed64","writeRepeatedFixed64String","writeRepeatedSfixed32","writeRepeatedSfixed64","writeRepeatedSfixed64String","writeRepeatedFloat","writeRepeatedDouble","writeRepeatedBool","writeRepeatedEnum","writeRepeatedString","writeRepeatedBytes","writeRepeatedMessage","writeRepeatedGroup","writeRepeatedFixedHash64","writeRepeatedVarintHash64","writePackedInt32","writePackedInt32String","writePackedInt64","writePackedSplitFixed64","writePackedSplitVarint64","writePackedSplitZigzagVarint64","writePackedInt64String","writePackedUint32","writePackedUint32String","writePackedUint64","writePackedUint64String","writePackedSint32","writePackedSint64","writePackedSint64String","writePackedSintHash64","writePackedFixed32","writePackedFixed64","writePackedFixed64String","writePackedSfixed32","writePackedSfixed64","writePackedSfixed64String","writePackedFloat","writePackedDouble","writePackedBool","writePackedEnum","writePackedFixedHash64","writePackedVarintHash64","arr_","valueCtor_","map_","arrClean","loadFromArray_","Entry_","valueWrapper","stringKeys_","wrapEntry_","ArrayIteratorIterable_","idx_","done","del","getEntryList","ExtensionFieldInfo","fieldIndex","fieldName","ctor","toObjectFn","isRepeated","ExtensionFieldBinaryInfo","fieldInfo","binaryReaderFn","binaryWriterFn","binaryMessageSerializeFn","binaryMessageDeserializeFn","isPacked","isMessageType","GENERATE_FROM_OBJECT","GENERATE_TO_STRING","ASSUME_LOCAL_ARRAYS","SERIALIZE_EMPTY_TRAILING_FIELDS","SUPPORTS_UINT8ARRAY_","getJsPbMessageId","messageId_","getIndex_","arrayIndexOffset_","hiddenES6Property_","getFieldNumber_","wrappers_","initPivotAndExtensionObject_","convertedPrimitiveFields_","repeatedFields","pivot_","EMPTY_LIST_SENTINEL_","maybeInitEmptyExtensionObject_","extensionObject_","isArray_","isExtensionObject_","toObjectList","toObjectExtension","serializeBinaryExtensions","readBinaryExtension","getRepeatedField","getOptionalFloatingPointField","getBooleanField","getRepeatedFloatingPointField","getRepeatedBooleanField","bytesListAsB64","assertConsistentTypes_","bytesListAsU8","getFloatingPointFieldWithDefault","getFieldProto3","getMapField","setField","setFieldIgnoringDefault_","setProto3FloatField","setProto3StringIntField","addToRepeatedField","getRepeatedWrapperField","wrapRepeatedField_","setWrapperField","setRepeatedWrapperField","addToRepeatedWrapperField","toMap","syncMapFields_","getExtension","setExtension","difference","compareFields","compareExtensions","cloneMessage","clone_","copyInto","registerMessageType","messageId","messageSetExtensions","messageSetExtensionsBinary","Export","reAsciiWord","reLatin","rsLowerRange","rsUpperRange","rsBreakRange","rsMathOpRange","rsBreak","rsCombo","rsDigits","rsLower","rsMisc","rsFitz","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsLowerMisc","rsUpperMisc","rsOptLowerContr","rsOptUpperContr","reOptMod","rsModifier","rsOptVar","rsSeq","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","freeGlobal","freeSelf","deburrLetter","hasUnicode","objectToString","symbolProto","symbolToString","isObjectLike","isSymbol","baseToString","word","upperFirst","iteratee","initAccum","arrayReduce","pattern","guard","hasUnicodeWord","unicodeWords","asciiWords","words","deburr","strSymbols","unicodeToArray","asciiToArray","stringToArray","chr","trailing","baseSlice","normalizeKey","Metadata","metadata","getAll","Status","ClientError","ts_error_1","Status_1","ExtendableError","details","hasInstance","instance","isPrototypeOf","composeClientMiddleware","middleware1","middleware2","options2","__createBinding","o","k2","__esModule","__exportStar","ServerError","composeServerMiddleware","context1","createClient","createClientFactory","grpc_js_1","nice_grpc_common_1","service_definitions_1","createBidiStreamingMethod_1","createClientStreamingMethod_1","createServerStreamingMethod_1","createUnaryMethod_1","createClientFactoryWithMiddleware","middleware","use","newMiddleware","definition","defaultCallOptions","grpcClient","makeClientConstructor","channelOverride","methodEntries","normalizeServiceDefinition","methodDefinition","defaultOptions","createBidiStreamingMethod","createClientStreamingMethod","createServerStreamingMethod","createUnaryMethod","waitForChannelReady","createChannel","knownProtocols","knownProtocol","isSecure","_isSecure","ChannelCredentials","createSsl","createInsecure","Channel","deadline","getConnectivityState","connectivityState","READY","watchConnectivityState","abort_controller_x_1","convertMetadata_1","isAsyncIterable_1","patchClientWritableStream_1","readableToAsyncIterable_1","wrapClientError_1","grpcMethodDefinition","toGrpcJsMethodDefinition","methodDescriptor","bidiStreamingMethod","isAsyncIterable","onHeader","onTrailer","pipeAbortController","makeBidiStreamRequest","convertMetadataToGrpcJs","pipeError","patchClientWritableStream","convertMetadataFromGrpcJs","pipeRequest","readableToAsyncIterable","wrapClientError","asyncIterator","throw","return","clientStreamingMethod","makeClientStreamRequest","serverStreamingMethod","makeServerStreamRequest","unaryMethod","makeUnaryRequest","channel_1","handleBidiStreamingCall_1","handleClientStreamingCall_1","handleServerStreamingCall_1","handleUnaryCall_1","createServerWithMiddleware","createAddBuilder","with","implementation","Server","grpcImplementation","methodImplementation","createBidiStreamingMethodHandler","createClientStreamingMethodHandler","createServerStreamingMethodHandler","createUnaryMethodHandler","toGrpcJsServiceDefinition","bindAsync","ServerCredentials","tryShutdown","forceShutdown","createCallContext","trailer","cancelled","headerSent","peer","getPeer","sendHeader","sendMetadata","createErrorStatusObject","CANCELLED","UNKNOWN","createCallContext_1","createErrorStatusObject_1","bidiStreamingMethodHandler","clientStreamingMethodHandler","serverStreamingMethodHandler","unaryMethodHandler","isGrpcJsServiceDefinition","fromGrpcJsServiceDefinition","ts_proto_1","isTsProtoServiceDefinition","fromTsProtoServiceDefinition","methods","requestEncode","requestFromPartial","fromPartial","responseEncode","responseFromPartial","fullName","__setModuleDefault","__importStar","grpc","grpcMetadata","getMap","http2CallStream","origAttachHttp2Stream","attachHttp2Stream","rest","origWrite","writableEnded","nop","_readableState","errored","errorEmitted","endEmitted","closeEmitted","destroyed","addAdminServicesToServer","registerAdminService","registeredAdminServices","getServiceDefinition","getHandlers","BackoffTimeout","initialDelay","maxDelay","jitter","running","hasRef","nextDelay","timerId","runTimer","unref","runOnce","nextBackoff","jitterMagnitude","stop","newEndTime","setMilliseconds","getMilliseconds","isRunning","ref","CallCredentials","metadata_1","metadataGenerator","SingleCallCredentials","googleCredentials","createFromMetadataGenerator","getHeaders","getRequestHeaders","service_url","getRequestMetadata","EmptyCallCredentials","ComposedCallCredentials","creds","generated","cred","generateMetadata","gen","merge","_equals","InterceptingListenerImpl","isInterceptingListener","onReceiveMetadata","nextListener","processingMetadata","hasPendingMessage","processingMessage","pendingStatus","processPendingMessage","onReceiveMessage","pendingMessage","processPendingStatus","onReceiveStatus","processedStatus","getNextCallNumber","nextCallNumber","ClientDuplexStreamImpl","ClientWritableStreamImpl","ClientReadableStreamImpl","ClientUnaryCallImpl","callErrorFromStatus","constants_1","callerStack","cancelWithStatus","Readable","deserialize","objectMode","startRead","Writable","serialize","flags","sendMessageWithContext","halfClose","tls_1","call_credentials_1","tls_helpers_1","verifyIsBufferOrNull","friendlyName","callCredentials","createEmpty","_getCallCredentials","rootCerts","certChain","verifyOptions","secureContext","createSecureContext","ca","getDefaultRootsData","cert","ciphers","CIPHER_SUITES","SecureChannelCredentialsImpl","InsecureChannelCredentialsImpl","_getConnectionOptions","connectionOptions","checkServerIdentity","combinedCallCredentials","ComposedChannelCredentialsImpl","channelCredentials","callCreds","channelOptionsEqual","recognizedOptions","options1","keys1","keys2","ChannelImplementation","channel_credentials_1","internal_channel_1","internalChannel","InternalChannel","getTarget","tryToConnect","currentState","getChannelzRef","createCall","parentCall","propagateFlags","setup","getChannelzServiceDefinition","getChannelzHandlers","unregisterChannelzRef","registerChannelzSocket","registerChannelzServer","registerChannelzSubchannel","registerChannelzChannel","ChannelzCallTracker","ChannelzChildrenTracker","ChannelzTrace","connectivity_state_1","subchannel_address_1","admin_1","make_client_1","channelRefToMessage","channel_id","subchannelRefToMessage","subchannel_id","socketRefToMessage","socket_id","events","eventsLogged","creationTimestamp","addTrace","severity","child","childChannel","kind","childSubchannel","TARGET_RETAINED_TRACES","getTraceMessage","creation_timestamp","dateToProtoTimestamp","num_events_logged","channel_ref","subchannel_ref","channelChildren","subchannelChildren","socketChildren","refChild","trackedChild","unrefChild","getChildLists","subchannels","sockets","callsStarted","callsSucceeded","callsFailed","lastCallStartedTimestamp","addCallStarted","addCallSucceeded","addCallFailed","nextId","getNextId","servers","parseIPv6Chunk","addressChunk","bytePairs","section","addressSection","numberValue","parseIPv6Section","ipAddressStringToBuffer","isIPv4","segment","leftSection","rightSection","doubleColonIndex","leftBuffer","rightBuffer","middleBuffer","connectivityStateToMessage","ConnectivityState","CONNECTING","IDLE","SHUTDOWN","TRANSIENT_FAILURE","date","millisSinceEpoch","seconds","nanos","getChannelMessage","channelEntry","resolvedInfo","getInfo","calls_started","callTracker","calls_succeeded","calls_failed","last_call_started_timestamp","children","GetChannel","NOT_FOUND","GetTopChannels","maxResults","max_results","resultList","start_channel_id","getServerMessage","serverEntry","server_id","listen_socket","listenerChildren","GetServer","serverId","GetServers","start_server_id","GetSubchannel","subchannelId","subchannelEntry","subchannel","socket_ref","subchannelAddressToAddressMessage","subchannelAddress","isTcpSubchannelAddress","tcpip_address","ip_address","uds_address","GetSocket","socketId","socketEntry","securityMessage","security","model","tls","cipher_suite","cipherSuiteStandardName","standard_name","other_name","cipherSuiteOtherName","local_certificate","localCertificate","remote_certificate","remoteCertificate","local","remote","remote_name","remoteName","keep_alives_sent","keepAlivesSent","streams_started","streamsStarted","streams_succeeded","streamsSucceeded","streams_failed","streamsFailed","last_local_stream_created_timestamp","lastLocalStreamCreatedTimestamp","last_remote_stream_created_timestamp","lastRemoteStreamCreatedTimestamp","messages_received","messages_sent","last_message_received_timestamp","lastMessageReceivedTimestamp","last_message_sent_timestamp","lastMessageSentTimestamp","local_flow_control_window","localFlowControlWindow","remote_flow_control_window","remoteFlowControlWindow","GetServerSockets","startId","start_socket_id","allSockets","sessionChildren","ref1","ref2","channelzEnabled","loadedChannelzDefinition","loadedProto","loaderLoadSync","keepCase","__dirname","channelzGrpcObject","loadPackageDefinition","channelz","v1","Channelz","getInterceptingCall","InterceptingCall","RequesterBuilder","ListenerBuilder","InterceptorConfigurationError","call_interface_1","error_1","withOnReceiveMetadata","withOnReceiveMessage","withOnReceiveStatus","build","withStart","withSendMessage","withHalfClose","withCancel","defaultListener","defaultRequester","nextCall","requester","pendingMessageContext","pendingHalfClose","processPendingHalfClose","interceptingListener","fullInterceptingListener","md","finalInterceptingListener","fullListener","finalMessage","BaseInterceptingCall","serialized","INTERNAL","getErrorMessage","readError","deserialized","BaseUnaryInterceptingCall","receivedMessage","wrapperListener","BaseStreamingInterceptingCall","interceptorArgs","clientInterceptors","clientInterceptorProviders","callInterceptors","callInterceptorProviders","interceptors","provider","interceptor","interceptorOptions","method_definition","nextInterceptor","currentOptions","finalOptions","parent","propagate_flags","setCredentials","getCall","getBottomInterceptingCall","Client","call_1","client_interceptors_1","CHANNEL_SYMBOL","INTERCEPTOR_SYMBOL","INTERCEPTOR_PROVIDER_SYMBOL","CALL_INVOCATION_TRANSFORMER_SYMBOL","getErrorStackString","interceptor_providers","callInvocationTransformer","channelFactoryOverride","getChannel","waitForReady","checkState","newState","checkOptionalUnaryResponseArguments","arg1","arg2","arg3","argument","checkedArguments","callProperties","callOptions","emitter","receivedStatus","callerStackError","OK","checkMetadataAndOptions","CompressionAlgorithms","CompressionFilterFactory","CompressionFilter","zlib","compression_algorithms_1","filter_1","logging","CompressionHandler","compressMessage","writeUInt8","writeUInt32BE","compressed","readUInt8","decompressMessage","IdentityHandler","DeflateHandler","deflate","inflate","GzipHandler","gzip","unzip","UnknownHandler","compressionName","getCompressionHandler","BaseFilter","channelOptions","sharedFilterConfig","sendCompression","receiveCompression","currentCompressionAlgorithm","compressionAlgorithmKey","clientSelectedEncoding","serverSupportedEncodings","serverSupportedEncodingHeader","LogVerbosity","ERROR","receiveMetadata","receiveEncoding","serverSupportedEncodingsHeader","resolvedMessage","createFilter","Propagate","DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH","DEFAULT_MAX_SEND_MESSAGE_LENGTH","restrictControlPlaneStatusCode","INAPPROPRIATE_CONTROL_PLANE_CODES","INVALID_ARGUMENT","ALREADY_EXISTS","FAILED_PRECONDITION","ABORTED","OUT_OF_RANGE","DATA_LOSS","deadlineToString","getRelativeTimeout","getDeadlineTimeoutString","minDeadline","deadlineList","minValue","deadlineMsecs","units","timeoutMs","unit","factor","amount","toISOString","dateDeadline","isDuration","durationToMs","msToDuration","millis","duration","getErrorCode","OutlierDetectionLoadBalancingConfig","BaseSubchannelWrapper","FilterStackFactory","PickResultType","QueuePicker","UnavailablePicker","ChildLoadBalancerHandler","subchannelAddressToString","validateLoadBalancingConfig","getFirstUsableConfig","registerLoadBalancerType","createChildChannelControlHelper","uriToString","registerResolver","logging_1","resolver_1","uri_parser_1","duration_1","backoff_timeout_1","load_balancer_1","load_balancer_child_handler_1","picker_1","filter_stack_1","subchannel_interface_1","load_balancer_outlier_detection_1","FilterStack","filters","receiveTrailers","getFilters","factories","filterFactories","getProxiedConnection","mapProxyName","http","url_1","noProxyResult","extraOptions","scheme","proxyInfo","proxyUrl","proxyEnv","envVar","env","grpc_proxy","https_proxy","http_proxy","userCred","INFO","hostname","getProxyInfo","hostPort","splitHostPort","noProxyStr","no_grpc_proxy","no_proxy","getNoProxyHostList","realTarget","parsedTarget","parseUri","Host","socketPath","proxyAddressString","removeAllListeners","statusCode","targetPath","getDefaultAuthority","cts","servername","experimental","StatusBuilder","getClientChannel","setLogVerbosity","setLogger","loadObject","waitForClientReady","closeClient","makeGenericClientConstructor","propagate","logVerbosity","client_1","server_1","server_credentials_1","status_builder_1","combineChannelCredentials","acc","combineCallCredentials","additional","createFromSecureContext","createFromGoogleCredential","verbosity","setLoggerVerbosity","channelz_1","resolver_dns","resolver_uds","resolver_ip","load_balancer_pick_first","load_balancer_round_robin","load_balancer_outlier_detection","clientVersion","resolving_load_balancer_1","subchannel_pool_1","compression_filter_1","max_message_size_filter_1","http_proxy_1","load_balancing_call_1","deadline_1","resolving_call_1","call_number_1","control_plane_status_1","retrying_call_1","RETRY_THROTTLER_MAP","ChannelSubchannelWrapper","refCount","subchannelStateListener","previousState","keepaliveTime","throttleKeepalive","addConnectivityStateListener","removeConnectivityStateListener","removeWrappedSubchannel","_g","currentPicker","configSelectionQueue","pickQueue","connectivityStateWatchers","configSelector","currentResolutionError","wrappedSubchannels","childrenTracker","originalTarget","originalTargetUri","defaultSchemeMapResult","mapUriDefaultScheme","callRefTimer","setInterval","channelzTrace","channelzRef","getChannelzInfo","defaultAuthority","proxyMapResult","subchannelPool","getSubchannelPool","retryBufferTracker","MessageBufferTracker","channelControlHelper","createSubchannel","subchannelArgs","getOrCreateSubchannel","wrappedSubchannel","updateState","picker","queueCopy","callRefTimerUnref","doPick","requestReresolution","addChannelzChild","removeChannelzChild","resolvingLoadBalancer","ResolvingLoadBalancer","retryThrottling","RetryThrottler","maxTokens","tokenRatio","nextTick","localQueue","getConfig","reportResolverError","filterStackFactory","MaxMessageSizeFilterFactory","verbosityOverride","callRefTimerRef","removeConnectivityStateWatcher","watcherObject","watcherIndex","watchersCopy","newKeepaliveTime","extraPickInfo","pick","queueCallForPick","exitIdle","queueCallForConfig","createLoadBalancingCall","callConfig","callNumber","LoadBalancingCall","createRetryingCall","RetryingCall","createInnerCall","createResolvingCall","DEFAULTS","ResolvingCall","addStatusWatcher","clearInterval","unrefUnusedSubchannels","deadlineDate","currentChild","pendingChild","ChildPolicyHelper","calledByPendingChild","calledByCurrentChild","latestChild","setChild","newChild","updateAddressList","addressList","lbConfig","attributes","childToUpdate","getTypeName","getLoadBalancerName","newHelper","createLoadBalancer","resetBackoff","OutlierDetectionLoadBalancer","experimental_1","TYPE_NAME","OUTLIER_DETECTION_ENABLED","GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION","defaultSuccessRateEjectionConfig","stdev_factor","enforcement_percentage","minimum_hosts","request_volume","defaultFailurePercentageEjectionConfig","threshold","validateFieldType","objectName","validatePositiveDuration","fullFieldName","validatePercentage","baseEjectionTimeMs","maxEjectionTimeMs","maxEjectionPercent","successRateEjection","failurePercentageEjection","childPolicy","toJsonObject","base_ejection_time","max_ejection_time","max_ejection_percent","success_rate_ejection","failure_percentage_ejection","child_policy","policy","getIntervalMs","getBaseEjectionTimeMs","getMaxEjectionTimeMs","getMaxEjectionPercent","getSuccessRateEjectionConfig","getFailurePercentageEjectionConfig","getChildPolicy","copyWithChildPolicy","OutlierDetectionSubchannelWrapper","mapEntry","stateListeners","ejected","childSubchannelState","listenerIndex","subchannelWrappers","eject","uneject","getMapEntry","getWrappedSubchannel","CallCounter","activeBucket","inactiveBucket","addSuccess","addFailure","switchBuckets","getLastSuccesses","getLastFailures","OutlierDetectionPicker","wrappedPicker","countCalls","pickArgs","wrappedPick","pickResultType","COMPLETE","subchannelWrapper","onCallEnded","addressMap","latestConfig","timerStartTime","childBalancer","originalSubchannel","currentEjectionTimestamp","isCountingEnabled","ejectionTimer","getCurrentEjectionPercent","ejectionCount","runSuccessRateCheck","ejectionTimestamp","successRateConfig","targetRequestVolume","addresesWithTargetVolume","successRates","successes","failures","successRateMean","successRateDeviationSum","rate","deviation","successRateVariance","successRateStdev","sqrt","ejectionThreshold","successRate","randomNumber","runFailurePercentageCheck","failurePercentageConfig","addressesWithTargetVolume","ejectionTimeMultiplier","switchAllBuckets","startTimer","runChecks","returnTime","subchannelAddresses","remainingDelay","PickFirstLoadBalancer","PickFirstLoadBalancingConfig","PickFirstPicker","onCallStarted","latestAddressList","currentSubchannelIndex","currentPick","triedAllSubchannels","subchannelStateCounts","getRealSubchannel","startNextSubchannelConnecting","resetSubchannelList","newLBState","pickSubchannel","pickedSubchannelStateListener","connectionDelayTimeout","subchannelState","startConnecting","subchannelIndex","getAddress","resetTriedAllSubchannels","connectToAddressList","subchannelAddressEqual","registerDefaultLoadBalancerType","RoundRobinLoadBalancer","RoundRobinLoadBalancingConfig","RoundRobinPicker","subchannelList","nextIndex","pickedSubchannel","peekNextSubchannel","currentReadyPicker","calculateAndUpdateState","readySubchannels","isLoadBalancerNameRegistered","overrides","_h","_j","_k","registeredLoadBalancerTypes","defaultLoadBalancerType","typeName","loadBalancerType","loadBalancingConfigType","LoadBalancer","LoadBalancingConfig","configs","fallbackTodefault","createFromJson","http2","readPending","pendingChildStatus","ended","splitPath","serviceUrl","outputStatus","progress","finalStatus","pickResult","pickInformation","subchannelString","credsMetadata","finalMetadata","rstCode","NGHTTP2_REFUSED_STREAM","onCommitted","getCallNumber","DROP","getOptions","QUEUE","isTracerEnabled","getLogger","_logger","optionalParams","_logVerbosity","GRPC_NODE_VERBOSITY","GRPC_VERBOSITY","logFunction","tracersString","GRPC_NODE_TRACE","GRPC_TRACE","enabledTracers","disabledTracers","tracerName","allEnabled","requesterFuncs","unary","server_stream","client_stream","isPrototypePolluted","classOptions","ServiceClientImpl","attrs","methodType","methodFunc","packageDef","serviceFqn","nameComponents","MaxMessageSizeFilter","maxSendMessageSize","maxReceiveMessageSize","concreteMessage","RESOURCE_EXHAUSTED","LEGAL_KEY_REGEX","LEGAL_NON_BINARY_VALUE_REGEX","isBinaryKey","isCustomMetadata","isLegalKey","isLegalNonBinaryValue","internalRepr","existingValue","newMetadata","newInternalRepr","clonedValue","mergedValue","setOptions","toHttp2Headers","bufToString","_getCoreRepresentation","toJSON","UNAVAILABLE","loadBalancer","calledExitIdle","dns","service_config_1","constants_2","resolveTxtPromise","promisify","resolveTxt","dnsLookupPromise","lookup","DnsResolver","pendingLookupPromise","pendingTxtPromise","latestLookupResult","latestServiceConfig","latestServiceConfigError","continueResolving","isNextResolutionTimerRunning","isServiceConfigEnabled","ipResult","dnsHostname","percentage","defaultResolutionError","backoffOptions","startResolutionWithBackoff","minTimeBetweenResolutionsMs","nextResolutionTimer","startResolution","onSuccessfulResolution","stopNextResolutionTimer","ip4Addresses","addr","family","ip6Addresses","arrays","mergeArrays","allAddressesString","txtRecord","extractAndSelectServiceConfig","startNextResolutionTimer","updateResolution","registerDefaultScheme","IPV4_SCHEME","IPV6_SCHEME","IpResolver","addresses","pathList","UdsResolver","authority","createResolver","registeredResolvers","defaultScheme","resolverClass","readFilterPending","writeFilterPending","statusWatchers","deadlineTimer","filterStack","CANCELLATION","DEADLINE","getDeadline","runDeadlineTimer","handleDeadline","DEADLINE_EXCEEDED","filteredStatus","watcher","sendMessageOnChild","filteredMessage","configResult","methodConfig","configDeadline","setSeconds","getSeconds","dynamicFilterFactories","filteredMetadata","filteredMesssage","onFailedResolution","latestChildState","latestChildPicker","previousServiceConfig","defaultServiceConfig","validateServiceConfig","loadBalancingConfig","childLoadBalancer","backoffTimeout","innerResolver","serviceConfigError","workingServiceConfig","handleResolutionFailure","workingConfigList","finalServiceConfig","splitName","getDefaultConfigSelector","previousRetryThrottler","tokens","canRetryCall","totalLimit","limitPerCall","totalAllocated","allocatedPerCall","allocate","callId","currentPerCall","freeAll","PREVIONS_RPC_ATTEMPTS_METADATA_KEY","bufferTracker","retryThrottler","initialMetadata","underlyingCalls","writeBuffer","writeBufferOffset","readStarted","transparentRetryUsed","attempts","hedgingTimer","committedCallIndex","initialRetryBackoffSec","nextRetryBackoffSec","retryPolicy","initialBackoff","hedgingPolicy","reportStatus","statusObject","getBufferEntry","messageIndex","entryType","allocated","getNextBufferIndex","clearSentMessages","earliestNeededMessageIndex","nextMessageToSend","bufferEntry","commitCall","commitCallWithMostMessages","mostMessages","callWithMostMessages","childCall","isStatusCodeInList","getNextRetryBackoffMs","nextBackoffMs","maxBackoffSec","maxBackoff","backoffMultiplier","maybeRetryCall","pushback","retryDelayMs","startNewAttempt","countActiveCalls","handleProcessedStatus","callIndex","nonFatalStatusCodes","maybeStartHedgingAttempt","retryableStatusCodes","retried","getPushback","mdValue","handleChildStatus","maybeStartHedgingTimer","hedgingDelayString","hedgingDelay","hedgingDelaySec","previousAttempts","receivedMetadata","sendNextChildMessage","handleChildWriteCompleted","childIndex","writeObj","underlyingCall","halfCloseIndex","newCredentials","getMethod","getHost","Http2ServerCallStream","ServerDuplexStreamImpl","ServerWritableStreamImpl","ServerReadableStreamImpl","ServerUnaryCallImpl","stream_decoder_1","TRACER_NAME","GRPC_MESSAGE_HEADER","GRPC_STATUS_HEADER","GRPC_TIMEOUT_HEADER","DEADLINE_REGEX","deadlineUnitsToMs","H","M","u","defaultCompressionHeaders","defaultResponseHeaders","HTTP2_HEADER_STATUS","HTTP_STATUS_OK","HTTP2_HEADER_CONTENT_TYPE","defaultResponseOptions","waitForTrailers","setupSurfaceCall","responseMetadata","getPath","setupReadable","consumeUnpushedMessages","trailingMetadata","sendError","serializeMessage","sendStatus","statusSent","wantTrailers","metadataSent","canPush","isPushPending","bufferedMessages","messagesToPush","checkCancelled","getDecompressedMessage","UNIMPLEMENTED","customMetadata","custom","respond","fromHttp2Headers","timeoutHeader","handleExpiredDeadline","HTTP2_HEADER_ACCEPT_ENCODING","HTTP2_HEADER_TE","receiveUnaryMessage","receivedLength","limit","requestBytes","compressedMessageEncoding","decompressedMessage","safeDeserializeMessage","decompressed","deserializeMessage","statusObj","headersSent","trailersToSend","encodeURI","sendTrailers","endStream","decoder","StreamDecoder","readsDone","pendingMessageProcessing","pushedEnd","maybePushEnd","pushOrBufferMessage","nextMessage","messageBytes","pushMessage","UNAUTHENTICATED","InsecureServerCredentials","keyCertPairs","checkClientCertificate","pair","private_key","cert_chain","SecureServerCredentials","requestCert","_getSettings","server_call_1","UNLIMITED_CONNECTION_AGE_MS","HTTP2_HEADER_PATH","getUnimplementedStatusResponse","http2ServerList","handlers","started","serverAddressString","listenerChildrenTracker","sessionChildrenTracker","maxConnectionAgeMs","maxConnectionAgeGraceMs","keepaliveTimeMs","keepaliveTimeoutMs","getChannelzSessionInfoGetter","sessionInfo","sessionSocket","stringToSubchannelAddress","tlsInfo","encrypted","tlsSocket","cipherInfo","getCipher","certificate","getCertificate","peerCertificate","getPeerCertificate","standardName","raw","streamTracker","localWindowSize","addProtoService","serviceKeys","impl","implFn","handlerType","unimplementedStatusResponse","getDefaultHandler","register","removeService","unregister","initialPortUri","portUri","serverOptions","maxSendHeaderBlockLength","MAX_SAFE_INTEGER","maxSessionMemory","settings","maxConcurrentStreams","deferredCallback","setupServer","http2Server","secureServerOptions","createSecureServer","_setupHandlers","bindSpecificPort","portNum","boundAddress","boundSubchannelAddress","bindWildcardPort","resolverListener","bindResultPromise","bindResult","errorString","listening","channelzInfo","NGHTTP2_CANCEL","wrappedCallback","pendingChecks","maybeCallback","addHttp2Port","_verifyContentType","contentType","HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE","_retrieveHandler","_respondWithError","channelzSessionInfo","_channelzHandler","_runHandlerForCall","_streamHandler","sendUnaryMessage","handleUnary","handleClientStreaming","handleServerStreaming","handleBidiStreaming","clientAddress","connectionAgeTimer","connectionAgeGraceTimer","sessionClosedByServer","goaway","NGHTTP2_NO_ERROR","keeapliveTimeTimer","timeoutTImer","ping","validateRetryThrottling","os","DURATION_REGEX","validateName","validateMethodConfig","timeoutParts","maxRequestBytes","maxResponseBytes","validateRetryPolicy","validateHedgingPolicy","loadBalancingPolicy","seenMethodNames","seenName","validateCanaryConfig","clientLanguage","allowedFields","field","validateAndSelectCanaryConfig","validatedConfig","hostnameMatched","languageMatched","record","recordString","withCode","withDetails","withMetadata","ReadState","readState","NO_DATA","readCompressFlag","readPartialSize","readSizeRemaining","readMessageSize","readPartialMessage","readMessageRemaining","toRead","readHead","READING_SIZE","readUInt32BE","READING_MESSAGE","framedMessageBuffers","framedMessage","address1","address2","addressString","isIP","Http2SubchannelCall","http2Stream","callEventTracker","transport","isReadFilterPending","readsClosed","statusOutput","unpushedReadMessages","mappedStatusCode","internalError","headersString","PERMISSION_DENIED","NGHTTP2_FLAG_END_STREAM","handleTrailers","endCall","tryPush","maybeOutputStatus","NGHTTP2_ENHANCE_YOUR_CALM","NGHTTP2_INADEQUATE_SECURITY","NGHTTP2_INTERNAL_ERROR","errno","num","getSystemErrorName","syscall","onStreamEnd","onDisconnect","onCallEnd","destroyHttp2Stream","metadataMap","decodeURI","getStatus","getPeerName","SubchannelPool","channel_options_1","subchannel_1","transport_1","pool","cleanupTimer","allSubchannelsUnrefed","channelTarget","refedSubchannels","unrefIfOneRef","ensureCleanupTask","channelTargetUri","subchannelTarget","channelArguments","subchannelObjArray","subchannelObj","Subchannel","Http2SubchannelConnector","globalSubchannelPool","connector","continueConnecting","refcount","handleBackoffTimer","subchannelAddressString","refTrace","transitionToState","startBackoff","stopBackoff","startConnectingInternal","adjustedKeepaliveTime","addDisconnectListener","tooManyPings","oldStates","shutdown","statsTracker","GRPC_SSL_CIPHER_SUITES","DEFAULT_ROOTS_FILE_PATH","GRPC_DEFAULT_SSL_ROOTS_FILE_PATH","defaultRootsData","readFileSync","subchannel_call_1","HTTP2_HEADER_AUTHORITY","HTTP2_HEADER_METHOD","HTTP2_HEADER_USER_AGENT","tooManyPingsData","Http2Transport","keepaliveTimeoutId","keepaliveWithoutCalls","activeCalls","disconnectListeners","disconnectHandled","keepalivesSent","keepaliveIntervalId","startKeepalivePings","stopKeepalivePings","handleDisconnect","errorCode","lastStreamID","opaqueData","reportDisconnectToOwner","keepaliveTrace","flowControlTrace","internalsTrace","clearKeepaliveTimeout","sendPing","removeActiveCall","addActiveCall","subchannelCallStatsTracker","eventTracker","isShutdown","createSession","proxyConnectionResult","targetAuthority","addressScheme","sslTargetNameOverride","authorityHostname","option","ALPNProtocols","URI_REGEX","uriString","parsedUri","NUMBER_REGEX","hostEnd","portString","uri","$protobuf","fromJSON","Field","MapField","OneOf","Method","Root_toDescriptorRecursive","files","syntax","nestedArray","_nestedArray","extension","toDescriptorOptions","FileOptions","fromDescriptor","FileDescriptorSet","fileDescriptor","filePackage","opts","fromDescriptorOptions","ks","setOption","unnamedMessageIndex","DescriptorProto","MessageOptions","oneofDecl","oneofsArray","oneofIndex","nestedType","extensionRange","reservedRange","reservedName","fieldsArray","fieldDescriptor","_fieldsArray","toDescriptorType","resolvedKeyType","valueType","resolvedType","valueTypeName","shortname","FieldDescriptorProto","_oneofsArray","ExtensionRange","ReservedRange","numberRe","fieldType","fieldRule","fromDescriptorType","extendee","FieldOptions","defaultValue","packableDescriptorType","packed","ucFirst","rule","extensionField","partOf","unnamedEnumIndex","EnumDescriptorProto","EnumOptions","EnumValueDescriptorProto","unnamedOneofIndex","OneofDescriptorProto","unnamedServiceIndex","ServiceDescriptorProto","ServiceOptions","_methodsArray","unnamedMethodIndex","group","out","valuesById","fields","to","fromPath","toPath","MethodDescriptorProto","inputType","outputType","Boolean","clientStreaming","serverStreaming","MethodOptions","timeType","commonRe","Any","type_url","Duration","Timestamp","Empty","Struct","Value","oneof","nullValue","stringValue","boolValue","structValue","listValue","NullValue","NULL_VALUE","ListValue","DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue","FieldMask","paths","converter","genValuePartial_fromObject","prop","defaultAlreadyEmitted","typeDefault","repeated","isUnsigned","genValuePartial_toObject","mtype","safeProp","compareFieldsById","mapFields","normalFields","long","arrayDefault","hasKs2","types","basic","rfield","required","missing","wireType","mapKey","genTypePartial","optional","ReflectionObject","className","comments","valuesOptions","enm","toJSONOptions","keepComments","isString","isReservedId","isReservedName","allow_alias","ruleRe","declaringField","_packed","getOption","ifNotSet","resolved","lookupTypeOrEnum","proto3_optional","emptyObject","fieldId","decorateType","decorateEnum","_configure","Type_","encoder","wrappers","configure","Writer","BufferWriter","Reader","BufferReader","roots","tokenize","fieldKeyType","fieldValueType","properties","encodeDelimited","decodeDelimited","parsedOptions","lookupType","arrayToJSON","clearCache","namespace","addJSON","nestedJson","names","getEnum","prev","onAdd","onRemove","ptr","part","filterTypes","parentAlreadyChecked","found","lookupEnum","lookupService","Service_","Enum_","_handleAdd","_handleRemove","setParsedOption","propName","opt","newValue","setProperty","newOpt","Root_","fieldNames","addFieldsToParent","oneofName","oneOfGetter","oneOfSetter","base10Re","base10NegRe","base16Re","base16NegRe","base8Re","base8NegRe","nameRe","typeRefRe","fqTypeRefRe","pkg","imports","weakImports","preferTrailingComment","tn","alternateCommentMode","cmnt","isProto3","applyCase","illegal","insideTryCatch","readValue","acceptTypeRef","parseNumber","readRanges","acceptStrings","parseId","acceptNegative","parsePackage","parseImport","whichImports","parseSyntax","parseCommon","parseOption","parseType","parseEnum","ifBlock","commentText","parseMethod","parseService","reference","parseField","parseExtension","fnIf","fnElse","trailingLine","parseInlineOptions","parseMapField","parseOneOf","lcFirst","parseGroup","dummy","parseEnumValue","isCustom","parseOptionValue","objectResult","lastValue","prevValue","simpleValue","LongBits","indexOutOfRange","writeLength","create_array","readLongVarint","bits","readFixed32_end","_slice","uint32","int32","sint32","bool","fixed32","sfixed32","float","double","skipType","BufferReader_","int64","uint64","sint64","zzDecode","fixed64","sfixed64","utf8Slice","deferred","SYNC","sync","getBundledFileName","idx","altname","parsed","queued","weak","isNode","exposeRe","tryHandleExtension","extendedType","sisterField","parse_","common_","rpcImpl","requestDelimited","responseDelimited","rpcCall","requestCtor","responseCtor","endedByRPC","inherited","rpcService","isReserved","delimRe","stringDoubleRe","stringSingleRe","setCommentRe","setCommentAltRe","setCommentSplitRe","whitespaceRe","unescapeRe","unescapeMap","unescape","lastCommentLine","stringDelim","subject","setComment","isLeading","lineEmpty","leading","commentOffset","isDoubleSlashCommentLine","startOffset","endOffset","findEndOfLine","lineText","cursor","re","lastIndex","curr","isDoc","isLeadingComment","actual","_fieldsById","_ctor","fieldsById","generateConstructor","ctorProperties","wrapper","originalThis","ldelim","bake","safePropBackslashRe","safePropQuoteRe","camelCaseRe","decorateRoot","decorateEnumIndex","dst","setProp","zzEncode","zeroHash","toLong","fromHash","toHash","mask","part0","part1","part2","newError","CustomError","isset","isSet","utf8Write","_Buffer_from","_Buffer_allocUnsafe","sizeOrArray","dcodeIO","key2Re","key32Re","key64Re","longToHash","longFromHash","ProtocolError","fieldMap","seenFirstField","invalid","genVerifyKey","genVerifyValue","oneofProp","Op","State","tail","states","VarintOp","writeVarint64","_push","BufferWriter_","writeStringBuffer","writeBytesBuffer","retries","lastError","stopped","_args","_error","show","createWriteStream","parseArgs","NoRunningInstanceError","FailedToGetAuthInfoError","AuthenticationError","SupervisorPortTunnelMessage","req","argv","extIpcPort","getClientOptions","exit","logService","NopeLogger","proxy","onExit","onException","extensionIpc","ExtensionServiceDefinition","exitHandler","_signal","sshStream","stdin","stdout","pipePromise","byApplication","workspaceInfo","retryGetWorkspaceInfo","getTunnelSSHConfig","connConfig","workspaceId","workspaceHost","ownerToken","openSession","authenticate","sendErrorReport","gitpodHost","userId","instanceId","sendLocalSSHUserFlowStatus","SendLocalSSHUserFlowStatusRequest_Status","STATUS_FAILURE","failureCode","SendLocalSSHUserFlowStatusRequest_Code","CODE_SSH_CANNOT_CONNECT","daemonVersion","connType","SendLocalSSHUserFlowStatusRequest_ConnType","CONN_TYPE_SSH","establishTunnel","sock","sshkey","CODE_TUNNEL_NO_ESTABLISHED_CONNECTION","CONN_TYPE_TUNNEL","retryWithStop","getWorkspaceAuthInfo","workspaceWSUrl","WebSocket","onopen","onerror","CODE_TUNNEL_CANNOT_CREATE_WEBSOCKET","clientID","CODE_TUNNEL_FAILED_FORWARD_SSH_PORT","errorName","errorStack","sendLocalSSHUserFlowStatusRequest_ConnTypeFromJSON","CONN_TYPE_UNSPECIFIED","UNRECOGNIZED","sendLocalSSHUserFlowStatusRequest_ConnTypeToJSON","sendLocalSSHUserFlowStatusRequest_StatusFromJSON","STATUS_UNSPECIFIED","STATUS_SUCCESS","sendLocalSSHUserFlowStatusRequest_StatusToJSON","sendLocalSSHUserFlowStatusRequest_CodeFromJSON","CODE_UNSPECIFIED","CODE_NO_WORKSPACE_AUTO_INFO","CODE_TUNNEL_NO_PRIVATEKEY","sendLocalSSHUserFlowStatusRequest_CodeToJSON","protobufPackage","SendErrorReportRequest","_m0","extensionVersion","SendErrorReportResponse","SendLocalSSHUserFlowStatusRequest","SendLocalSSHUserFlowStatusResponse","GetWorkspaceAuthInfoRequest","GetWorkspaceAuthInfoResponse","ProgressNotification","ProgressType","progressHandlers","unhandledProgressEmitter","onProgress","_type","sendProgress","onUnhandledProgress","ContentModified","createWebSocketStream","Receiver","Sender","WebSocketServer","EMPTY_BUFFER","FastBuffer","species","_mask","_unmask","toArrayBuffer","readOnly","isView","unmask","WS_NO_BUFFER_UTIL","bufferUtil","BINARY_TYPES","GUID","kForOnEventAttribute","kListener","kStatusCode","kWebSocket","NOOP","kCode","kData","kError","kMessage","kReason","kTarget","kType","kWasClean","CloseEvent","ErrorEvent","MessageEvent","EventTarget","isBinary","callListener","_closeFrameReceived","_closeFrameSent","handleEvent","tokenChars","dest","configurations","offers","paramName","mustUnescape","isEscaping","inQuotes","SyntaxError","kDone","kRun","concurrency","jobs","job","Limiter","TRAILER","kPerMessageDeflate","kTotalLength","kCallback","kBuffers","zlibLimiter","deflateOnData","inflateOnData","_maxPayload","inflateOnError","_inflate","isServer","maxPayload","_threshold","_isServer","_deflate","concurrencyLimit","offer","serverNoContextTakeover","server_no_context_takeover","clientNoContextTakeover","client_no_context_takeover","serverMaxWindowBits","server_max_window_bits","clientMaxWindowBits","client_max_window_bits","accept","normalizeParams","acceptAsServer","acceptAsClient","cleanup","fin","_decompress","_compress","endpoint","windowBits","Z_DEFAULT_WINDOWBITS","createInflateRaw","zlibInflateOptions","flush","createDeflateRaw","zlibDeflateOptions","Z_SYNC_FLUSH","PerMessageDeflate","isValidStatusCode","isValidUTF8","ErrorCtor","_binaryType","_extensions","_skipUTF8Validation","skipUTF8Validation","_bufferedBytes","_buffers","_compressed","_payloadLength","_fragmented","_masked","_fin","_opcode","_totalPayloadLength","_messageLength","_fragments","_state","_loop","startLoop","consume","getPayloadLength16","getPayloadLength64","getMask","haveLength","readUInt16BE","controlMessage","dataMessage","er","fragments","randomFillSync","applyMask","kByteLength","maskBuffer","generateMask","_generateMask","_maskBuffer","_socket","_firstFragment","_deflating","_queue","dataLength","skipMasking","payloadLength","opcode","rsv1","writeUInt16BE","writeUIntBE","dispatch","sendFrame","frame","pong","perMessageDeflate","cork","uncork","emitClose","duplexOnEnd","_writableState","duplexOnError","listenerCount","ws","terminateOnDestroy","duplex","autoDestroy","writableObjectMode","_destroy","CLOSED","called","terminate","isPaused","protocols","isUtf8","_isValidUTF8","WS_NO_UTF_8_VALIDATE","subprotocol","keyRegex","socketOnError","abortHandshake","STATUS_CODES","Connection","abortHandshakeOrEmitwsClientError","handleProtocols","clientTracking","verifyClient","noServer","backlog","_server","writeHead","emitConnection","_removeListeners","addListeners","upgrade","handleUpgrade","clients","_shouldEmitClose","shouldHandle","secWebSocketProtocol","secWebSocketExtensions","secure","authorized","completeUpgrade","_protocol","setSocket","https","kAborted","protocolVersions","readyStates","subprotocolRegex","_closeCode","_closeMessage","_closeTimer","_paused","_readyState","_receiver","_sender","_bufferedAmount","_redirects","initAsClient","bufferedAmount","_url","receiver","receiverOnConclude","receiverOnDrain","receiverOnError","receiverOnMessage","receiverOnPing","receiverOnPong","socketOnClose","socketOnData","socketOnEnd","OPEN","CLOSING","_req","sendAfterClose","needDrain","followRedirects","maxRedirects","parsedUrl","isIpcUrl","invalidUrlMessage","pathname","emitErrorAndClose","defaultPort","protocolSet","tlsConnect","netConnect","Upgrade","handshakeTimeout","Origin","auth","_originalIpc","_originalSecure","_originalHostOrSocketPath","isSameHost","authorization","location","serverProt","protError","extensionNames","finishRequest","setHeader","receiverOnFinish","property","__webpack_module_cache__","__webpack_require__","cachedModule","__webpack_modules__","toStringTag","__webpack_exports__"],"sourceRoot":""}